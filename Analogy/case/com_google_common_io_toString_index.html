
<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title></title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</head>

<body>

  <!-- Page Content -->
  <div class="container" style="max-width: 1620px">
    <div class="row">
      <h1 class="col-lg-12 col-md-12 mb-12" style="margin-top: 30px;">com_google_common_io</h1>
      <br>
      <h4 class="col-lg-12 col-md-12 mb-12">toString</h4>
    </div>
    
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____android_____GradleImport_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/JetBrains_____android_____GradleImport.java

com.google.common.io.Files.toString
com.google.common.io.Files.append
com.google.common.io.Files.write

   */
  private static void copyTextFileWithEncoding(@NonNull File source, @NonNull File dest, @NonNull Charset sourceEncoding)
    throws IOException {
    if (!Charsets.UTF_8.equals(sourceEncoding)) {
      String text = Files.<mark>toString</mark>(source, sourceEncoding);
      Files.<mark>write</mark>(text, dest, Charsets.UTF_8);
    }
    else {
      // Already using the right encoding
      Files.copy(source, dest);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>TNG_____JGiven_____Attachment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/TNG_____JGiven_____Attachment.java

com.google.common.io.Files.toString

/**
     * Creates a non-binary attachment from the given file.
     * @throws IOException if an I/O error occurs
     * @throws java.lang.IllegalArgumentException if mediaType is binary
     * @deprecated use fromTextInputStream without charSet with a mediaType that has a specified charSet 
     */    @Deprecated
    public static Attachment fromTextFile( File file, MediaType mediaType, Charset charSet ) throws IOException {
        return fromText( Files.<mark>toString</mark>( file, charSet ), mediaType );
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____incubator-brooklyn_____TemplateProcessor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/apache_____incubator-brooklyn_____TemplateProcessor.java

com.google.common.io.Files.toString

/** Processes template contents according to {@link EntityAndMapTemplateModel}. */    /** As per {@link #processTemplateContents(String, Map)}, but taking a file. */
    public static String processTemplateFile(String templateFileName, Map<String, ? extends Object> substitutions) {
        String templateContents;
        try {
            templateContents = Files.<mark>toString</mark>(new File(templateFileName), Charsets.UTF_8);
        } catch (IOException e) {
            log.warn("Error loading file " + templateFileName, e);
            throw Exceptions.propagate(e);
        }
        return processTemplateContents(templateContents, substitutions);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>glowroot_____glowroot_____ConfigFileUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/glowroot_____glowroot_____ConfigFileUtil.java

com.google.common.io.Files.toString
com.google.common.io.Files.write


    public static ObjectNode getRootObjectNode(File file) {
        String content;
        try {
            content = Files.<mark>toString</mark>(file, UTF_8);
        } catch (IOException e) {
            logger.error(e.getMessage(), e);
            return mapper.createObjectNode();
        }
        ObjectNode rootObjectNode = null;
        try {
            JsonNode rootNode = mapper.readTree(content);
            if (rootNode instanceof ObjectNode) {
                rootObjectNode = (ObjectNode) rootNode;
            }
        } catch (IOException e) {
            logger.warn("error processing config file: {}", file.getAbsolutePath(), e);
            writeBackupFile(file);
        }
        return rootObjectNode == null ? mapper.createObjectNode() : rootObjectNode;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____kylin_____RocksDBLookupTableCache_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/apache_____kylin_____RocksDBLookupTableCache.java

com.google.common.io.Files.toString


    private void initSnapshotState(String tableName, File snapshotCacheFolder) {
        String snapshotID = snapshotCacheFolder.getName();
        File stateFile = getCacheStateFile(snapshotCacheFolder.getAbsolutePath());
        if (stateFile.exists()) {
            try {
                String stateStr = Files.<mark>toString</mark>(stateFile, Charsets.UTF_8);
                String resourcePath = ExtTableSnapshotInfo.getResourcePath(tableName, snapshotID);
                if (CacheState.AVAILABLE.name().equals(stateStr)) {
                    tablesCache.put(resourcePath, new CachedTableInfo(snapshotCacheFolder.getAbsolutePath()));
                }
            } catch (IOException e) {
                logger.error("error to read state file:" + stateFile.getAbsolutePath());
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Catrobat_____Catroid_____XstreamSerializer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/Catrobat_____Catroid_____XstreamSerializer.java

com.google.common.io.Files.toString


	public Project loadProject(String projectName, Context context) throws IOException, LoadingProjectException {

		cleanUpTmpCodeFile(projectName);

		File xmlFile = new File(buildProjectPath(projectName), CODE_XML_FILE_NAME);

		if (!Files.<mark>toString</mark>(xmlFile, Charsets.UTF_8).contains(SCENES_ENABLED_TAG)) {
			return loadProjectMissingScenes(projectName, context);
		}

		loadSaveLock.lock();

		try {
			Project project = (Project) xstream.getProjectFromXML(xmlFile);

			for (Scene scene : project.getSceneList()) {
				scene.setProject(project);
				scene.getDataContainer().setProjectUserData(project);
			}

			setFileReferences(project);
			return project;
		} catch (Exception e) {
			throw new LoadingProjectException("An Error occurred while parsing the xml: " + e.getMessage());
		} finally {
			loadSaveLock.unlock();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____android_____GradleImport_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/JetBrains_____android_____GradleImport.java

com.google.common.io.Files.toString


  private void exportSettingsGradle(@NonNull File file, boolean append) throws IOException {
    StringBuilder sb = new StringBuilder();
    if (append) {
      if (!file.exists()) {
        append = false;
      }
      else {
        // Ensure that the new include statements are separate code statements, not
        // for example inserted at the end of a // line comment
        String existing = Files.<mark>toString</mark>(file, UTF_8);
        if (!existing.endsWith(NL)) {
          sb.append(NL);
        }
      }
    }

    for (ImportModule module : getModulesToImport()) {
      sb.append("include '");
      sb.append(module.getModuleReference());
      sb.append("'");
      sb.append(NL);
    }

    String code = sb.<mark>toString</mark>();
    if (append) {
      Files.append(code, file, UTF_8);
    }
    else {
      Files.write(code, file, UTF_8);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bazelbuild_____bazel_____ResourceUsageAnalyzer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/bazelbuild_____bazel_____ResourceUsageAnalyzer.java

com.google.common.io.Files.toString

/** Remove public definitions of unused resources. */  /** Deletes unused resources from value XML files. */
  private void rewriteXml(Set<File> rewrite, Map<File, String> rewritten, Set<Resource> deleted)
      throws IOException, ParserConfigurationException, SAXException {
    // Delete value resources: Must rewrite the XML files
    for (File file : rewrite) {
      String xml = Files.<mark>toString</mark>(file, UTF_8);
      Document document = XmlUtils.parseDocument(xml, true);
      Element root = document.getDocumentElement();
      if (root != null && TAG_RESOURCES.equals(root.getTagName())) {
        List<Resource> removed = Lists.newArrayList();
        stripUnused(root, removed);
        deleted.addAll(removed);
        logger.fine(
            String.format(
                "Removed %d unused resources from %s:\n  %s",
                removed.size(),
                file,
                Joiner.on(", ")
                    .join(
                        Lists.transform(
                            removed,
                            new Function<Resource, String>() {
                              @Override
                              public String apply(Resource resource) {
                                return resource.getUrl();
                              }
                            }))));
        String formatted = XmlPrettyPrinter.prettyPrint(document, xml.endsWith("\n"));
        rewritten.put(file, formatted);
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>evant_____android-retrolambda-lombok_____RunForEachFileInDirRunner_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/evant_____android-retrolambda-lombok_____RunForEachFileInDirRunner.java

com.google.common.io.Files.toString

	@Override
	public void run(RunNotifier notifier) {
		if (failure != null) {
			notifier.fireTestStarted(description);
			notifier.fireTestFailure(new Failure(description, failure));
			notifier.fireTestFinished(description);
			return;
		}
		
		for (Method m : beforeClassMethods) {
			runClassMethod(m);
		}
		
		for (Map.Entry<String, RunData> entry : tests.entrySet()) {
			RunData data = entry.getValue();
			Map<Method, Description> methodList = data.getMethods();
			String content;
			Throwable error;
			
			try {
				content = entry.getKey() == null ? null : Files.<mark>toString</mark>(
						data.getAlias() == null ? data.getMain() : data.getAlias(), Charsets.UTF_8);
				error = null;
			} catch (IOException e) {
				content = null;
				error = e;
			}
			
			boolean skipTest = content != null && content.startsWith("//SKIP");
			
			for (Map.Entry<Method, Description> test : methodList.entrySet()) {
				Description testDescription = test.getValue();
				if (skipTest) {
					notifier.fireTestIgnored(testDescription);
					continue;
				}
				notifier.fireTestStarted(testDescription);
				if (error != null) {
					notifier.fireTestFailure(new Failure(testDescription, error));
				} else {
					try {
						if (!runTest(content, data.getMain(), data.getAlias(), test.getKey())) {
							notifier.fireTestIgnored(testDescription);
						}
					} catch (Throwable t) {
						notifier.fireTestFailure(new Failure(testDescription, t));
					}
				}
				notifier.fireTestFinished(testDescription);
			}
		}
		
		for (Method m : afterClassMethods) {
			runClassMethod(m);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bazelbuild_____bazel_____ResourceUsageAnalyzer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/bazelbuild_____bazel_____ResourceUsageAnalyzer.java

com.google.common.io.Files.toString

/**
   * Copies one resource directory tree into another; skipping some files, replacing the contents of
   * some, and passing everything else through unmodified
   */  /** Write stub values for IDs to values.xml to match those available in public.xml. */
  private void createStubIds(File values, Map<File, String> rewritten, File publicXml)
      throws IOException, ParserConfigurationException, SAXException {
    if (values.exists()) {
      String xml = rewritten.get(values);
      if (xml == null) {
        xml = Files.<mark>toString</mark>(values, UTF_8);
      }
      List<String> stubbed = Lists.newArrayList();
      Document document = XmlUtils.parseDocument(xml, true);
      Element root = document.getDocumentElement();
      for (Resource resource : model.getResources()) {
        boolean inPublicXml =
            resource.declarations != null && resource.declarations.contains(publicXml);
        if (resource.type != ResourceType.ID || !inPublicXml) {
          continue;
        }
        boolean exists = false;
        NodeList items = document.getElementsByTagName("item");
        for (int i = 0; i < items.getLength(); i++) {
          Node item = items.item(i);
          if (item.getAttributes() != null
              && item.getAttributes().getNamedItem("type") != null
              && item.getAttributes().getNamedItem("type").getNodeValue().equals("id")
              && item.getAttributes().getNamedItem("name") != null
              && item.getAttributes().getNamedItem("name").getNodeValue().equals(resource.name)) {
            exists = true;
            break;
          }
        }
        if (!exists) {
          Element item = document.createElement(TAG_ITEM);
          item.setAttribute(ATTR_TYPE, resource.type.getName());
          item.setAttribute(ATTR_NAME, resource.name);
          root.appendChild(item);
          stubbed.add(resource.getUrl());
        }
      }
      logger.fine(
          "Created " + stubbed.size() + " stub IDs for:\n  " + Joiner.on(", ").join(stubbed));
      String formatted = XmlPrettyPrinter.prettyPrint(document, xml.endsWith("\n"));
      rewritten.put(values, formatted);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Catrobat_____Catroid_____XstreamSerializer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_common_io/Catrobat_____Catroid_____XstreamSerializer.java

com.google.common.io.Files.toString


	public boolean saveProject(Project project) {
		if (project == null) {
			return false;
		}

		try {
			cleanUpTmpCodeFile(project.getName());
		} catch (LoadingProjectException e) {
			return false;
		}

		loadSaveLock.lock();

		BufferedWriter writer = null;
		String currentXml;
		File tmpCodeFile = null;
		File currentCodeFile = null;

		try {
			currentXml = XML_HEADER.concat(xstream.toXML(project));
			tmpCodeFile = new File(buildProjectPath(project.getName()), TMP_CODE_XML_FILE_NAME);
			currentCodeFile = new File(buildProjectPath(project.getName()), CODE_XML_FILE_NAME);

			if (currentCodeFile.exists()) {
				try {
					String previousXml = Files.<mark>toString</mark>(currentCodeFile, Charsets.UTF_8);

					if (previousXml.equals(currentXml)) {
						Log.d(TAG, "Project version is the same. Do not update " + currentCodeFile.getName());
						return false;
					}
					Log.d(TAG, "Project version differ <" + previousXml.length() + "> <"
							+ currentXml.length() + ">. update " + currentCodeFile.getName());
				} catch (Exception exception) {
					Log.e(TAG, "Opening old project " + currentCodeFile.getAbsolutePath() + " failed.", exception);
					return false;
				}
			}

			StorageOperations.createDir(DEFAULT_ROOT_DIRECTORY);
			File projectDir = new File(buildProjectPath(project.getName()));

			StorageOperations.createDir(projectDir);

			for (Scene scene : project.getSceneList()) {
				StorageOperations.createSceneDirectory(new File(projectDir, scene.getName()));
			}

			writer = new BufferedWriter(new FileWriter(tmpCodeFile), BUFFER_8K);
			writer.write(currentXml);
			writer.flush();

			File permissionFile = new File(buildProjectPath(project.getName()), PERMISSIONS_FILE_NAME);
			writer = new BufferedWriter(new FileWriter(permissionFile), BUFFER_8K);

			for (String resource : generatePermissionsSetFromResource(project.getRequiredResources())) {
				writer.write(resource);
				writer.newLine();
			}
			writer.flush();

			return true;
		} catch (Exception exception) {
			Log.e(TAG, "Saving project " + project.getName() + " failed.", exception);
			return false;
		} finally {
			if (writer != null) {
				try {
					writer.close();
					if (currentCodeFile.exists() && !currentCodeFile.delete()) {
						Log.e(TAG, "Cannot delete " + currentCodeFile.getName());
					}

					if (!tmpCodeFile.renameTo(currentCodeFile)) {
						Log.e(TAG, "Cannot rename: " + tmpCodeFile.getAbsolutePath() + " to "
								+ currentCodeFile.getName());
					}
				} catch (IOException e) {
					Log.e(TAG, "Cannot close Buffered Writer", e);
				}
			}

			loadSaveLock.unlock();
		}
	}

            </pre>
          </div>
        </div>

        
  </div>
  <!-- /.container -->


</body>

</html>

        