
<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title></title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</head>

<body>

  <!-- Page Content -->
  <div class="container" style="max-width: 1620px">
    <div class="row">
      <h1 class="col-lg-12 col-md-12 mb-12" style="margin-top: 30px;">android_database_sqlite</h1>
      <br>
      <h4 class="col-lg-12 col-md-12 mb-12">query</h4>
    </div>
    
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Jhuster_____JNote_____NoteDB_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Jhuster_____JNote_____NoteDB.java

android.database.sqlite.SQLiteDatabase.query


    public List<Note> <mark>query</mark>(int offset, int limit) {
        return <mark>query</mark>(null, offset, limit);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Jhuster_____EWeightScale_____WeightDB_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Jhuster_____EWeightScale_____WeightDB.java

android.database.sqlite.SQLiteDatabase.query

	        
	public List<Weight> <mark>query</mark>(int offset,int limit) {	    	        	    
	    return <mark>query</mark>(null,offset,limit);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____RepoDatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____RepoDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor getRawCursor() {
        return mDb.<mark>query</mark>(TABLE_NAME, null, null, null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>libpd_____pd-for-android_____SceneDataBase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/libpd_____pd-for-android_____SceneDataBase.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor getAllScenes() {
		return db.<mark>query</mark>(TABLE_SCENES, null, null, null, null, null, SceneColumn.SCENE_TITLE.label);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>libpd_____pd-for-android_____SceneDataBase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/libpd_____pd-for-android_____SceneDataBase.java

android.database.sqlite.SQLiteDatabase.query

	
	public Cursor getAllRecordings() {
		return db.<mark>query</mark>(TABLE_RECORDINGS, null, null, null, null, null, RecordingColumn.RECORDING_TIMESTAMP.label);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-checkout_____BillingDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-checkout_____BillingDB.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor queryTransactions() {
        return mDb.<mark>query</mark>(TABLE_TRANSACTIONS, TABLE_TRANSACTIONS_COLUMNS, null,
                null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bmeike_____ProgrammingAndroidExamples_____FinchVideoContentProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bmeike_____ProgrammingAndroidExamples_____FinchVideoContentProvider.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public Cursor <mark>query</mark>(Uri uri, String[] projection, String where,
                        String[] whereArgs, String sortOrder)

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>libpd_____pd-for-android_____SceneDataBase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/libpd_____pd-for-android_____SceneDataBase.java

android.database.sqlite.SQLiteDatabase.query

	
	public Cursor getScene(long id) {
		Cursor cursor = db.<mark>query</mark>(TABLE_SCENES, null, sceneIdClause(id), null, null, null, null);
		cursor.moveToFirst();
		return cursor;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-messengerpp_____SqliteMessageDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-messengerpp_____SqliteMessageDao.java

android.database.sqlite.SQLiteDatabase.query

		@Override
		public Cursor createCursor(@Nonnull SQLiteDatabase db) {
			return db.<mark>query</mark>("messages", null, "chat_id = ?", new String[]{chatId}, null, null, null);
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-messengerpp_____SqliteChatDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-messengerpp_____SqliteChatDao.java

android.database.sqlite.SQLiteDatabase.query

		@Override
		public Cursor createCursor(@Nonnull SQLiteDatabase db) {
			return db.<mark>query</mark>("user_chats", null, "chat_id = ? ", new String[]{chatId}, null, null, null);
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>robotmedia_____AndroidBillingLibrary_____BillingDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/robotmedia_____AndroidBillingLibrary_____BillingDB.java

android.database.sqlite.SQLiteDatabase.query

    
    public Cursor queryTransactions() {
        return mDb.<mark>query</mark>(TABLE_TRANSACTIONS, TABLE_TRANSACTIONS_COLUMNS, null,
                null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Jhuster_____JNote_____NoteDB_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Jhuster_____JNote_____NoteDB.java

android.database.sqlite.SQLiteDatabase.query


    public List<Note> <mark>query</mark>() {
        Cursor cursor = mDB.<mark>query</mark>(DB_TABLE_NAME, null, null, null, null, null,
                DB_DEFAULT_ORDERBY, null);
        return extract(0, cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor fetchAllGoals() {
		return mDb.<mark>query</mark>(GOALS_TABLE, new String[] { KEY_ROWID, KEY_USERNAME, KEY_SLUG, KEY_TOKEN, KEY_UPDATEDAT },
				null, null, null, null, null);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____ThreadDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____ThreadDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getDirectShareList() {
    SQLiteDatabase db = databaseHelper.getReadableDatabase();
    return db.<mark>query</mark>(TABLE_NAME, null, null, null, null, null, DATE + " DESC");
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    private static<T, U extends Collection<? super T>> U queryToColl(@NonNull final String table,
                                                                     final String[] columns,

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____MagiskDatabaseHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____MagiskDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor getLogCursor() {
        return db.<mark>query</mark>(LOG_TABLE, null, Utils.fmt("from_uid/100000=%d", Const.USER_ID),
                null, null, null, "time DESC");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-messengerpp_____SqliteMessageDao_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-messengerpp_____SqliteMessageDao.java

android.database.sqlite.SQLiteDatabase.query

		@Override
		public Cursor createCursor(@Nonnull SQLiteDatabase db) {
			return db.<mark>query</mark>("messages", null, "id = ? ", new String[]{String.valueOf(messageId)}, null, null, null);
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor fetchAllPoints() {
		return mDb.<mark>query</mark>(POINTS_TABLE, new String[] { KEY_ROWID, KEY_REQID, KEY_VALUE, KEY_TIMESTAMP, KEY_COMMENT,
				KEY_GID }, null, null, null, null, null);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor fetchGoalTags(long id, String col_key) {
		return mDb.<mark>query</mark>(true, GOALTAGS_TABLE, new String[] { KEY_GID, KEY_TID }, col_key + " = " + id, null, null,
				null, null, null);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Jhuster_____EWeightScale_____WeightDB_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Jhuster_____EWeightScale_____WeightDB.java

android.database.sqlite.SQLiteDatabase.query

	
	public List<Weight> <mark>query</mark>() {
	    Cursor cursor = mDB.<mark>query</mark>(DB_TABLE_NAME,null,null,null,null,null, 
                DB_DEFAULT_ORDERBY,null);              
        return extract(0,cursor);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____google-authenticator-android_____AccountDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/google_____google-authenticator-android_____AccountDb.java

android.database.sqlite.SQLiteDatabase.query

/**
   * Returns true if the cursor is null, or contains no rows.
   */
  private Cursor getNames() {
    return mDatabase.<mark>query</mark>(TABLE_NAME, null, null, null, null, null, null, null);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Jhuster_____JNote_____NoteDB_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Jhuster_____JNote_____NoteDB.java

android.database.sqlite.SQLiteDatabase.query


    public List<Note> <mark>query</mark>(String condition) {
        Cursor cursor = mDB.<mark>query</mark>(DB_TABLE_NAME, null, condition, null, null, null,
                DB_DEFAULT_ORDERBY, null);
        return extract(0, cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>duckduckgo_____android_____LegacyDb_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/duckduckgo_____android_____LegacyDb.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor getCursorSavedSearch() {
        return this.db.<mark>query</mark>(LegacyDbContracts.SAVED_SEARCH_TABLE.TABLE_NAME, null, null, null, null, null, LegacyDbContracts.SAVED_SEARCH_TABLE._ID + " DESC");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-messengerpp_____SqliteMessageDao_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-messengerpp_____SqliteMessageDao.java

android.database.sqlite.SQLiteDatabase.query

		@Override
		public Cursor createCursor(@Nonnull SQLiteDatabase db) {
			return db.<mark>query</mark>("messages", null, "chat_id = ? and state <> ?", new String[]{chatId, removed.name()}, null, null, null);
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____SmsDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____SmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  Cursor getMessages(int skip, int limit) {
    SQLiteDatabase db = databaseHelper.getReadableDatabase();
    return db.<mark>query</mark>(TABLE_NAME, MESSAGE_PROJECTION, null, null, null, null, ID, skip + "," + limit);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____HostDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

	@Override
	public HostBean findHostById(long hostId) {
		Cursor c = mDb.<mark>query</mark>(TABLE_HOSTS, null,
				"_id = ?", new String[] {String.valueOf(hostId)},
				null, null, null);

		return getFirstHostBean(c);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Jhuster_____EWeightScale_____WeightDB_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Jhuster_____EWeightScale_____WeightDB.java

android.database.sqlite.SQLiteDatabase.query

	
	public List<Weight> <mark>query</mark>(String condition) {
	    Cursor cursor = mDB.<mark>query</mark>(DB_TABLE_NAME,null,condition,null,null,null, 
                DB_DEFAULT_ORDERBY,null);              
        return extract(0,cursor);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>liato_____android-bankdroid_____DBAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/liato_____android-bankdroid_____DBAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor fetchProperties(String bankId) {
        return mDb.<mark>query</mark>(Database.PROPERTY_TABLE_NAME, null,
                Database.PROPERTY_CONNECTION_ID + "='" + bankId + "'", null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor fetchGoalTags(long id, String col_key, String order) {
		return mDb.<mark>query</mark>(true, GOALTAGS_TABLE, new String[] { KEY_GID, KEY_TID }, col_key + " = " + id, null, null,
				null, KEY_PID + " DESC", null);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-checkout_____BillingDB_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-checkout_____BillingDB.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor queryTransactions(String productId) {
        return mDb.<mark>query</mark>(TABLE_TRANSACTIONS, TABLE_TRANSACTIONS_COLUMNS, COLUMN_PRODUCT_ID + " = ?",
                new String[]{productId}, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gast-lib_____gast-lib_____PointDatabaseManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/gast-lib_____gast-lib_____PointDatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor getPointCursor(String[] columns, String selection, String[] selectionArgs, String orderBy)
    {
        return database.<mark>query</mark>(TABLE_POINTS, columns, selection, selectionArgs, null, null, orderBy);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yxl_____DownloadProvider_____DownloadProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yxl_____DownloadProvider_____DownloadProvider.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Delete request headers for downloads matching the given query.
     */    @Override
    public Cursor <mark>query</mark>(final Uri uri, String[] projection,
                        final String selection, final String[] selectionArgs,

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>opendatakit_____collect_____ItemsetDbAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/opendatakit_____collect_____ItemsetDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor <mark>query</mark>(String hash, String selection, String[] selectionArgs) throws SQLException {
        return db.<mark>query</mark>(true, DATABASE_TABLE + hash, null, selection, selectionArgs,
                null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>robotmedia_____AndroidBillingLibrary_____BillingDB_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/robotmedia_____AndroidBillingLibrary_____BillingDB.java

android.database.sqlite.SQLiteDatabase.query

    
    public Cursor queryTransactions(String productId) {
        return mDb.<mark>query</mark>(TABLE_TRANSACTIONS, TABLE_TRANSACTIONS_COLUMNS, COLUMN_PRODUCT_ID + " = ?", 
                new String[] {productId}, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bpellin_____keepassdroid_____FileDbHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bpellin_____keepassdroid_____FileDbHelper.java

android.database.sqlite.SQLiteDatabase.query

	
	public Cursor fetchAllFiles() {
		Cursor ret;
		ret = mDb.<mark>query</mark>(FILE_TABLE, new String[] {KEY_FILE_ID, KEY_FILE_FILENAME, KEY_FILE_KEYFILE }, null, null, null, null, KEY_FILE_UPDATED + " DESC", Integer.toString(MAX_FILES));
		return ret;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____Ushahidi_Android_____DbContentProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ushahidi_____Ushahidi_Android_____DbContentProvider.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor <mark>query</mark>(String tableName, String[] columns, String selection,
			String[] selectionArgs, String sortOrder, String limit) {

		return mDb.<mark>query</mark>(tableName, columns, selection, selectionArgs, null,
				null, sortOrder, limit);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>FolioReader_____FolioReader-Android_____DbAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/FolioReader_____FolioReader-Android_____DbAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor get(String table, long id, String[] projection, String key) throws SQLException {
        return mDatabase.<mark>query</mark>(table, projection,
                key + "=?", new String[]{String.valueOf(id)}, null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>liato_____android-bankdroid_____DBAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/liato_____android-bankdroid_____DBAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor fetchTransactions(String account) {
        return mDb.<mark>query</mark>("transactions",
                new String[]{"transdate", "btransaction", "amount", "currency"},
                "account='" + account + "'", null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DaxiaK_____MyDiary_____DBUpdateTool_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DaxiaK_____MyDiary_____DBUpdateTool.java

android.database.sqlite.SQLiteDatabase.query

    
    public Cursor version_6_SelectTopic() {
        Cursor c = db.<mark>query</mark>(TopicEntry.TABLE_NAME, null, null, null, null, null,
                TopicEntry._ID + " DESC");
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>FolioReader_____FolioReader-Android_____DbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/FolioReader_____FolioReader-Android_____DbAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor getAll(String table, String[] projection, String selection,
                         String[] selectionArgs, String orderBy) {
        return mDatabase.<mark>query</mark>(table, projection, selection, selectionArgs, null, null, orderBy);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public boolean isGoalTag(long gid, long tid) {
		Cursor c = mDb.<mark>query</mark>(GOALTAGS_TABLE, new String[] { KEY_ROWID }, KEY_GID + "=" + gid + " AND " + KEY_TID + "="
				+ tid, null, null, null, null);
		boolean ret = c.getCount() > 0;
		c.close();
		return ret;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____Ushahidi_Android_____DbContentProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ushahidi_____Ushahidi_Android_____DbContentProvider.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor <mark>query</mark>(String tableName, String[] columns, String selection,
			String[] selectionArgs, String sortOrder) {

		final Cursor cursor = mDb.<mark>query</mark>(tableName, columns, selection,
				selectionArgs, null, null, sortOrder);

		return cursor;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>maks_____MGit_____RepoDbManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/maks_____MGit_____RepoDbManager.java

android.database.sqlite.SQLiteDatabase.query


    private Cursor _queryAllRepo() {
        Cursor cursor = mReadableDatabase.<mark>query</mark>(true,
                RepoContract.RepoEntry.TABLE_NAME,
                RepoContract.RepoEntry.ALL_COLUMNS, null, null, null, null,
                null, null);
        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Delete all completed tasks with date < older than date */    /** Return a list of all tasks */
    public Cursor getAllTaskListCursor() {
        return database.<mark>query</mark>(tasksTable, TaskModelForList.FIELD_LIST,
                null, null, null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____RepoDatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____RepoDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public Repo getRepo(String id) {
        try (Cursor c = mDb.<mark>query</mark>(TABLE_NAME, null, "id=?", new String[] { id }, null, null, null)) {
            if (c.moveToNext()) {
                return new Repo(c);
            }
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Get identifiers for all non-completed tasks */    /** Return a list of all tasks */
    public Cursor getBackupTaskListCursor() {
        return database.<mark>query</mark>(tasksTable, TaskModelForXml.FIELD_LIST,
                null, null, null, null,
                null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-messengerpp_____SqliteDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-messengerpp_____SqliteDao.java

android.database.sqlite.SQLiteDatabase.query

		@Override
		public Cursor createCursor(@Nonnull SQLiteDatabase db) {
			if (id != null) {
				return db.<mark>query</mark>(tableName, null, whereIdEqualsTo(), new String[]{id}, null, null, null);
			} else {
				return db.<mark>query</mark>(tableName, null, null, null, null, null, null);
			}
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pcgod_____mumble-android_____DbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/pcgod_____mumble-android_____DbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public final Cursor fetchAllServers() {
		final Cursor c = db.<mark>query</mark>(
			SERVER_TABLE,
			new String[] { SERVER_COL_ID, SERVER_COL_NAME, SERVER_COL_HOST,
					SERVER_COL_PORT, SERVER_COL_USERNAME, SERVER_COL_PASSWORD },
			null,
			null,
			null,
			null,
			null);

		return c;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_24.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public int getWPCOMBlogID() {
		int id = -1;
		Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"id"},
				"dotcomFlag=1", null, null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		if (numRows > 0) {
			id = c.getInt(0);
		}

		c.close();

		return id;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public boolean isPointPing(long pointId, long pingId) {
		Cursor c = mDb.<mark>query</mark>(POINTPINGS_TABLE, new String[] { KEY_ROWID }, KEY_POINTID + "=" + pointId + " AND "
				+ KEY_PID + "=" + pingId, null, null, null, null);
		boolean ret = c.getCount() > 0;
		c.close();
		return ret;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yassirh_____digitalocean-swimmer_____SqlDao_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yassirh_____digitalocean-swimmer_____SqlDao.java

android.database.sqlite.SQLiteDatabase.query

	
	public T findById(long id) {
		T t = null;
		Cursor cursor = db.<mark>query</mark>(getTableHelper().TABLE_NAME,
				getTableHelper().getAllColumns(), TableHelper.ID + " = " + id, null, null, null, null);
		if(cursor.moveToNext())		
			t = newInstance(cursor);
		cursor.close();
		return t;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>liato_____android-bankdroid_____DBAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/liato_____android-bankdroid_____DBAdapter.java

android.database.sqlite.SQLiteDatabase.query

     */
    public Cursor fetchAccounts(long bankId) {
        return mDb.<mark>query</mark>("accounts",
                new String[]{"bankid", "balance", "name", "id", "acctype", "hidden", "notify",
                        "currency", "aliasfor"}, "bankid=" + bankId, null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____DbAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____DbAdapter.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor fetchUnsentTrips() {
    Cursor c = db_.<mark>query</mark>(DATA_TABLE_TRIPS, new String[] { K_TRIP_ROWID },
        K_TRIP_STATUS + "=" + TripData.STATUS_COMPLETE_UNSENT,
        null, null, null, null);
    if (c != null && c.getCount()>0) {
      c.moveToFirst();
    }
    return c;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Fetches a string with space separated list of tags for a ping with the
	 * supplied id
	 */	 */
	public Cursor fetchTaggings(long id, String col_key) {
		return mDb.<mark>query</mark>(true, TAG_PING_TABLE, new String[] { KEY_PID, KEY_TID }, col_key + " = " + id, null, null,
				null, null, null);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>liato_____android-bankdroid_____DBAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/liato_____android-bankdroid_____DBAdapter.java

android.database.sqlite.SQLiteDatabase.query

     */
    public Cursor fetchBanks() {
        return mDb.<mark>query</mark>("banks",
                new String[]{"_id", "balance", "banktype", "disabled",
                        "custname", "updated", "sortorder", "currency", "hideAccounts"},
                null, null, null, null, "_id asc");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____DatabaseAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Retrieves all records from database table
	 * @return {@link Cursor} to all records in table <code>tableName</code>
	 */	 */
	public Cursor fetchRecord(long rowId){
		return mDb.<mark>query</mark>(mTableName, null, DatabaseSchema.CommonColumns._ID + "=" + rowId,
				null, null, null, null);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Jhuster_____JNote_____NoteDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Jhuster_____JNote_____NoteDB.java

android.database.sqlite.SQLiteDatabase.query


    public int size() {
        int size = 0;
        Cursor mCursor = mDB.<mark>query</mark>(DB_TABLE_NAME, new String[]{DB_PRIMARY_KEY}, null, null, null, null,
                null, null);
        if (mCursor != null) {
            size = mCursor.getCount();
        }
        mCursor.close();
        return size;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DaxiaK_____MyDiary_____DBManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DaxiaK_____MyDiary_____DBManager.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor selectDiaryInfoByDiaryId(long diaryId) {
        Cursor c = db.<mark>query</mark>(DiaryEntry_V2.TABLE_NAME, null, DiaryEntry_V2._ID + " = ?", new String[]{String.valueOf(diaryId)},
                null, null, null);
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____SmsDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____SmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  Cursor getOutgoingMessages() {
    String outgoingSelection = TYPE + " & "  + Types.BASE_TYPE_MASK + " = " + Types.BASE_OUTBOX_TYPE;
    SQLiteDatabase db        = databaseHelper.getReadableDatabase();
    return db.<mark>query</mark>(TABLE_NAME, MESSAGE_PROJECTION, outgoingSelection, null, null, null, null);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____ThreadDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____ThreadDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getConversationList() {
    SQLiteDatabase db     = databaseHelper.getReadableDatabase();
    Cursor         cursor =  db.<mark>query</mark>(TABLE_NAME, null, ARCHIVED + " = ?", new String[] {"0"}, null, null, DATE + " DESC");

    setNotifyConverationListListeners(cursor);

    return cursor;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_18.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public int getCategoryId(int id, String category) {

		Cursor c = db.<mark>query</mark>(CATEGORIES_TABLE, new String[]{"wp_id"},
				"category_name=\"" + category + "\" AND blog_id=" + id, null,
				null, null, null);
		c.moveToFirst();
		int categoryID = 0;
		categoryID = c.getInt(0);

		return categoryID;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xda_____XDA-One_____ForumDbHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xda_____XDA-One_____ForumDbHelper.java

android.database.sqlite.SQLiteDatabase.query


    private static Cursor getForumsChildren(final SQLiteDatabase database,
            final int forumId) {
        final String whereClause = ForumEntry.COLUMN_NAME_PARENTID + "=" + String.valueOf(forumId);
        return database.<mark>query</mark>(ForumDbHelper.TABLE_NAME, null, whereClause, null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bpellin_____keepassdroid_____FileDbHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bpellin_____keepassdroid_____FileDbHelper.java

android.database.sqlite.SQLiteDatabase.query

	
	public Cursor fetchFile(long fileId) throws SQLException {
		Cursor cursor = mDb.<mark>query</mark>(true, FILE_TABLE, new String[] {KEY_FILE_FILENAME, KEY_FILE_KEYFILE}, 
				KEY_FILE_ID + "=" + fileId, null, null, null, null, null);
		
		if ( cursor != null ) {
			cursor.moveToFirst();
		}
		
		return cursor;
		
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DaxiaK_____MyDiary_____DBManager_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DaxiaK_____MyDiary_____DBManager.java

android.database.sqlite.SQLiteDatabase.query

     */
    public Cursor selectMemo(long topicId) {
        Cursor c = db.<mark>query</mark>(MemoEntry.TABLE_NAME, null, MemoEntry.COLUMN_REF_TOPIC__ID + " = ?", new String[]{String.valueOf(topicId)},
                null, null, null, null);
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____ThreadDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____ThreadDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getArchivedConversationList() {
    SQLiteDatabase db     = databaseHelper.getReadableDatabase();
    Cursor         cursor = db.<mark>query</mark>(TABLE_NAME, null, ARCHIVED + " = ?", new String[] {"1"}, null, null, DATE + " DESC");

    setNotifyConverationListListeners(cursor);

    return cursor;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor fetchGoal(long rowId) throws SQLException {
		Cursor pCursor = mDb.<mark>query</mark>(true, GOALS_TABLE, new String[] { KEY_ROWID, KEY_USERNAME, KEY_SLUG, KEY_TOKEN },
				KEY_ROWID + "=" + rowId, null, null, null, null, null);
		if (pCursor != null) {
			pCursor.moveToFirst();
		}
		return pCursor;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____SmsDatabase_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____SmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getDecryptInProgressMessages() {
    String where       = TYPE + " & " + (Types.ENCRYPTION_REMOTE_BIT | Types.ENCRYPTION_ASYMMETRIC_BIT) + " != 0";
    SQLiteDatabase db  = databaseHelper.getReadableDatabase();
    return db.<mark>query</mark>(TABLE_NAME, MESSAGE_PROJECTION, where, null, null, null, null);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_16.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public long getStatsDate(Context ctx) {

		Cursor c = db.<mark>query</mark>(EULA_TABLE, new String[]{"statsdate"}, "id=0",
				null, null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		long returnValue = 0;
		if (numRows == 1) {
			returnValue = c.getLong(0);
		}
		c.close();

		return returnValue;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____IdentityDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____IdentityDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getIdentities() {
    SQLiteDatabase database = databaseHelper.getReadableDatabase();
    Cursor cursor           = database.<mark>query</mark>(TABLE_NAME, null, null, null, null, null, null);

    if (cursor != null)
      cursor.setNotificationUri(context.getContentResolver(), CHANGE_URI);

    return cursor;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public String getAccountName(String accountID) {

		String accountName = "";
		Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"blogName"}, "id="
				+ accountID, null, null, null, null);
		c.moveToFirst();
		if (c.getString(0) != null) {
			accountName = c.getString(0);
		}
		c.close();

		return accountName;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tilal6991_____HoloIRC_____ServerDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tilal6991_____HoloIRC_____ServerDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public ServerConfiguration.Builder getBuilderByName(final String serverName) {
        final Cursor cursor = mDatabase.<mark>query</mark>(TABLE_NAME, null,
                String.format("%s=?", COLUMN_TITLE), new String[]{serverName}, null, null, null);
        return cursor.moveToFirst() ? getBuilderFromCursor(cursor) : null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____PubkeyDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____PubkeyDatabase.java

android.database.sqlite.SQLiteDatabase.query

	 */
	public PubkeyBean findPubkeyById(long pubkeyId) {
		Cursor c = mDb.<mark>query</mark>(TABLE_PUBKEYS, null,
				"_id = ?", new String[] { String.valueOf(pubkeyId) },
				null, null, null);

		PubkeyBean pubkey = null;

		if (c != null) {
			if (c.moveToFirst())
				pubkey = createPubkeyBean(c);

			c.close();
		}

		return pubkey;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>robotmedia_____droid-comic-viewer_____DBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/robotmedia_____droid-comic-viewer_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

	   
	   public boolean existsFile(String path) {
		   final Cursor cursor = mDB.<mark>query</mark>(DBOpenHelper.FILES_TABLE, new String[] { DBOpenHelper.PATH_COLUMN }, DBOpenHelper.PATH_COLUMN + " = ? ", new String[] { path }, null, null, null);
		   final int count = cursor.getCount();
		   cursor.close();
		   return count > 0;
	   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public Cursor fetchPoint(long rowId) throws SQLException {
		Cursor pCursor = mDb.<mark>query</mark>(true, POINTS_TABLE, new String[] { KEY_ROWID, KEY_REQID, KEY_VALUE, KEY_TIMESTAMP,
				KEY_COMMENT, KEY_GID }, KEY_ROWID + "=" + rowId, null, null, null, null, null);
		if (pCursor != null) {
			pCursor.moveToFirst();
		}
		return pCursor;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>westnordost_____StreetComplete_____CreateNoteDao_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/westnordost_____StreetComplete_____CreateNoteDao.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


	public int getCount()
	{
		SQLiteDatabase db = dbHelper.<mark>getReadableDatabase</mark>();

		try (Cursor cursor = db.<mark>query</mark>(CreateNoteTable.NAME, new String[]{"COUNT(*)"},
				null, null, null, null, null, null))
		{
			cursor.moveToFirst();
			return cursor.getInt(0);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>serso_____android-common_____BillingDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/serso_____android-common_____BillingDB.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

		@Override
		public Cursor createCursor(@Nonnull SQLiteDatabase db) {
			return db.<mark>query</mark>(TABLE_TRANSACTIONS, TABLE_TRANSACTIONS_COLUMNS, COLUMN_PRODUCT_ID + " = ? AND " + COLUMN_STATE + " = ?", new String[]{productId, String.valueOf(PurchaseState.PURCHASED.ordinal())}, null, null, null);
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DaxiaK_____MyDiary_____DBManager_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DaxiaK_____MyDiary_____DBManager.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor selectContacts(long topicId) {
        Cursor c = db.<mark>query</mark>(ContactsEntry.TABLE_NAME, null, ContactsEntry.COLUMN_REF_TOPIC__ID + " = ?", new String[]{String.valueOf(topicId)}, null, null,
                ContactsEntry._ID + " DESC", null);
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_15.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query

	// eula table
	public boolean checkEULA(Context ctx) {

		Cursor c = db.<mark>query</mark>(EULA_TABLE, new String[]{"read"}, "id=0", null,
				null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		boolean returnValue = false;
		if (numRows == 1) {
			returnValue = (c.getInt(0) != 0);
		}
		c.close();

		return returnValue;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DaxiaK_____MyDiary_____DBUpdateTool_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DaxiaK_____MyDiary_____DBUpdateTool.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor version_6_SelectMemo(long topicId) {
        Cursor c = db.<mark>query</mark>(DBStructure.MemoEntry.TABLE_NAME, null, DBStructure.MemoEntry.COLUMN_REF_TOPIC__ID + " = ?", new String[]{String.valueOf(topicId)},
                null, null, null, null);
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Get identifiers for all non-completed, non-hidden tasks */    /** Get identifiers for all tasks */
    public HashSet<TaskIdentifier> getAllTaskIdentifiers() {
        Cursor cursor = database.<mark>query</mark>(tasksTable, new String[] { KEY_ROWID },
                null, null, null, null, null, null);
        return createTaskIdentifierSet(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_19.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public String getUUID(Context ctx) {

		Cursor c = db.<mark>query</mark>("eula", new String[]{"uuid"}, "id=0", null,
				null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		String returnValue = "";
		if (numRows == 1) {
			if (c.getString(0) != null) {
				returnValue = c.getString(0);
			}
		}
		c.close();

		return returnValue;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Returns the list of names of all saved configurations.
	 * @return cursor
	 */	 */
	public int getConfigurationsCount() {
		final Cursor cursor = mDatabase.<mark>query</mark>(Tables.CONFIGURATIONS, ID_PROJECTION, NOT_DELETED_SELECTION, null, null, null, null);
		try {
			return cursor.getCount();
		} finally {
			cursor.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public String getInterval(Context ctx) {

		Cursor c = db.<mark>query</mark>("eula", new String[]{"interval"}, "id=0", null,
				null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		String returnValue = "";
		if (numRows == 1) {
			if (c.getString(0) != null) {
				returnValue = c.getString(0);
			}
		}
		c.close();

		return returnValue;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____MagiskDatabaseHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____MagiskDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public int getSettings(String key, int defaultValue) {
        int value = defaultValue;
        try (Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, null, "key=?",new String[] { key }, null, null, null)) {
            if (c.moveToNext()) {
                value = c.getInt(c.getColumnIndex("value"));
            }
        }
        return value;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Return a list of all tasks */    /** Return a list of all of the tasks matching selection */
    public Cursor getMatchingTasksForProvider(String selection,
                String[] selectionArgs) {
        return database.<mark>query</mark>(tasksTable, TaskModelForProvider.FIELD_LIST,
                selection, selectionArgs, null, null,
                null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    private List<Account> getAccounts(SQLiteDatabase db) {
        List<Account> list = new ArrayList<>();
        Cursor cursor = db.<mark>query</mark>(Account.TABLENAME, null, null, null, null,
                null, null);
        while (cursor.moveToNext()) {
            list.add(Account.fromCursor(cursor));
        }
        cursor.close();
        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matt-allen_____repay-android_____DatabaseHandler_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/matt-allen_____repay-android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Add a friend into the database. To get a RepayID, use generateRepayID()
	 * @param friend
	 * @throws android.database.SQLException
	 */	 */
	public int getNumberOfPeople() throws NullPointerException{
		SQLiteDatabase db = this.getReadableDatabase();
		Cursor c = db.<mark>query</mark>(Names.F_TABLENAME,null,null,null,null,null,null);
		return c.getCount();
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>psaravan_____JamsMusicPlayer_____DBAccessHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/psaravan_____JamsMusicPlayer_____DBAccessHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns a cursor with unique albums within the database, regardless of the blacklist status.
     */     */
    public Cursor getAllLocalSongs() {
    	String where = SONG_SOURCE + "='local'";
    	String[] columns = { SONG_FILE_PATH };
    	
    	return getDatabase().<mark>query</mark>(MUSIC_LIBRARY_TABLE, columns, where, null, null, null, null);
    	
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>spacecowboy_____NotePad_____DatabaseHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/spacecowboy_____NotePad_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query

    
    public synchronized Cursor gettaskviewItemCursor(final long id) {
        final SQLiteDatabase db = this.getReadableDatabase();
        final Cursor cursor = db.<mark>query</mark>(taskviewItem.TABLE_NAME,
                taskviewItem.FIELDS, taskviewItem.COL_ID + " IS ?",
                new String[] { String.valueOf(id) }, null, null, null, null);
        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DaxiaK_____MyDiary_____DBManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DaxiaK_____MyDiary_____DBManager.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor selectDiaryList(long topicId) {
        Cursor c = db.<mark>query</mark>(DiaryEntry_V2.TABLE_NAME, null, DiaryEntry_V2.COLUMN_REF_TOPIC__ID + " = ?", new String[]{String.valueOf(topicId)}, null, null,
                DiaryEntry_V2.COLUMN_TIME + " DESC , " + DiaryEntry_V2._ID + " DESC", null);
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>westnordost_____StreetComplete_____AQuestDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/westnordost_____StreetComplete_____AQuestDao.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


	public T get(long id)
	{
		SQLiteDatabase db = dbHelper.<mark>getReadableDatabase</mark>();
		String where = getIdColumnName() + " = " + id;
		try (Cursor cursor = db.<mark>query</mark>(getMergedViewName(), null, where,	null, null, null, null, "1"))
		{
			if (!cursor.moveToFirst()) return null;
			return createObjectFrom(cursor);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dacer_____SimplePomodoro-android_____TaskRecorder_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dacer_____SimplePomodoro-android_____TaskRecorder.java

android.database.sqlite.SQLiteDatabase.query

	
	public boolean identifierExist(String identifier){
		db = mSQLHelper.getReadableDatabase();
		String selection = KEY_GOOGLE_TASK_IDENTIFIER + "=?";
		String[] selectionArgs = { identifier };
		Cursor cursor = db.<mark>query</mark>(TASKS_TABLE_NAME, null,
				selection, selectionArgs, null, null, null);
		if(cursor.getCount() == 0){
			return false;
		}else {
			return true;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Returns the XML wth the configuration by id.
	 * @param id the configuration id in the DB
	 * @return the XML with configuration or null
	 */	 */
	public Cursor getConfigurations() {
		return mDatabase.<mark>query</mark>(Tables.CONFIGURATIONS, CONFIGURATION_PROJECTION, NOT_DELETED_SELECTION, null, null, null, ConfigurationContract.Configuration.NAME + " ASC");
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vanita5_____twittnuker_____SQLiteDatabaseWrapper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vanita5_____twittnuker_____SQLiteDatabaseWrapper.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor <mark>query</mark>(boolean distinct, String table, String[] columns, String selection, String[] selectionArgs, String groupBy, String having, String orderBy, String limit) {
        tryCreateDatabase();
        if (mDatabase == null) return null;
        return mDatabase.<mark>query</mark>(distinct, table, columns, selection, selectionArgs, groupBy, having, orderBy, limit);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Returns a Cursor for all tags in the database, sorted by their use
	 * frequency
	 */	 */
	public String getTagName(long tid) {
		String ret = "";
		Cursor c = mDb.<mark>query</mark>(TAGS_TABLE, new String[] { KEY_TAG }, KEY_ROWID + "=" + tid, null, null, null, null);
		if (c.getCount() > 0) {
			c.moveToFirst();
			ret = c.getString(c.getColumnIndex(KEY_TAG));
		}
		c.close();
		return ret;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____AlertController_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____AlertController.java

android.database.sqlite.SQLiteDatabase.query

/** Get a list of alerts that are set for the future */    /** Get a cursor to tag identifiers */
    public Cursor getTaskAlertsCursor(TaskIdentifier taskId) throws SQLException {
        Cursor cursor = alertDatabase.<mark>query</mark>(alertsTable,
                Alert.FIELD_LIST, Alert.TASK + " = ?",
                new String[] { taskId.idAsString() }, null, null, null);
        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Odoo-mobile_____framework_____OModel_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Odoo-mobile_____framework_____OModel.java

android.database.sqlite.SQLiteDatabase.query


    public int count(String selection, String[] args) {
        int count = 0;
        SQLiteDatabase db = getReadableDatabase();
        Cursor cr = db.<mark>query</mark>(getTableName(), new String[]{"count(*)"}, selection, args, null, null, null);
        try {
            cr.moveToFirst();
            count = cr.getInt(0);
        } finally {
            cr.close();
        }
        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tunitowen_____DevDrawer_____Database_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tunitowen_____DevDrawer_____Database.java

android.database.sqlite.SQLiteDatabase.query

	/////////////////////////////////////////////////////////////////////////////////////////
	public boolean doesAppExistInDb(String s)
	{
		connectDB();

		Cursor cursor = db.<mark>query</mark>("devdrawer_app", null, "package = '" + s + "'", null, null, null, null, null);
		int count = cursor.getCount();
		cursor.close();
		closeDB();

		if (cursor.getCount() == 0)
			return false;
		else
			return true;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public void removeGoalPoints(long goal_id) {
		Cursor c = mDb.<mark>query</mark>(true, POINTS_TABLE, new String[] { KEY_ROWID, KEY_GID }, KEY_GID + "=" + goal_id, null,
				null, null, null, null);
		List<Long> points = new ArrayList<Long>();
		c.moveToFirst();
		while (!c.isAfterLast()) {
			points.add(c.getLong(0));
			c.moveToNext();
		}
		c.close();
		for (long pt : points)
			removePoint(pt);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Return a list of all tasks */    /** Return a list of all of the tasks with progress < COMPLETE_PERCENTAGE */
    public Cursor getActiveTaskListCursor() {
        return database.<mark>query</mark>(tasksTable, TaskModelForList.FIELD_LIST,
            AbstractTaskModel.PROGRESS_PERCENTAGE + " < " +
                AbstractTaskModel.COMPLETE_PERCENTAGE, null, null, null,
                null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Adds new configuration to the database.
	 * @param name the configuration name
	 * @param configuration the XML
	 * @return the id or -1 if error occurred
	 */	 */
	public Cursor getConfigurationsNames() {
		return mDatabase.<mark>query</mark>(Tables.CONFIGURATIONS, NAME_PROJECTION, NOT_DELETED_SELECTION, null, null, null, ConfigurationContract.Configuration.NAME + " ASC");
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


	public int getLastBlogID(Context ctx) {

		int returnValue = -1;
		Cursor c = db.<mark>query</mark>("eula", new String[]{"last_blog_id"}, "id=0",
				null, null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		if (numRows == 1) {
			if (c.getString(0) != null) {
				returnValue = c.getInt(0);
			}
		}
		c.close();

		return returnValue;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____RecipientPreferenceDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____RecipientPreferenceDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getBlocked() {
    SQLiteDatabase database = databaseHelper.getReadableDatabase();

    Cursor cursor = database.<mark>query</mark>(TABLE_NAME, new String[] {ID, RECIPIENT_IDS}, BLOCK + " = 1",
                                   null, null, null, null, null);
    cursor.setNotificationUri(context.getContentResolver(), Uri.parse(RECIPIENT_PREFERENCES_URI));

    return cursor;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vanita5_____twittnuker_____SQLiteDatabaseWrapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vanita5_____twittnuker_____SQLiteDatabaseWrapper.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor <mark>query</mark>(final String table, final String[] columns, final String selection,
                        final String[] selectionArgs, final String groupBy, final String having, final String orderBy) {
        tryCreateDatabase();
        if (mDatabase == null) return null;
        return mDatabase.<mark>query</mark>(table, columns, selection, selectionArgs, groupBy, having, orderBy);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>liato_____android-bankdroid_____DBAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/liato_____android-bankdroid_____DBAdapter.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public Cursor getBank(String bankId) {
        Cursor c = mDb.<mark>query</mark>("banks",
                new String[]{"_id", "balance", "banktype", "disabled",
                        "custname", "updated", "sortorder", "currency", "hideAccounts"},
                "_id=" + bankId, null, null, null, null);
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____HostDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Unset any hosts using a pubkey ID that has been deleted.
	 * @param pubkeyId
	 */	 */
	public HostBean findHostById(long hostId) {
		HostBean host;

		synchronized (dbLock) {
			SQLiteDatabase db = getReadableDatabase();

			Cursor c = db.<mark>query</mark>(TABLE_HOSTS, null,
					"_id = ?", new String[] { String.valueOf(hostId) },
					null, null, null);

			host = getFirstHostBean(c);
		}

		return host;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>westnordost_____StreetComplete_____CreateNoteDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/westnordost_____StreetComplete_____CreateNoteDao.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


	public CreateNote get(long id)
	{
		SQLiteDatabase db = dbHelper.getWritableDatabase();
		String where = CreateNoteTable.Columns.ID + " = " + id;

		try (Cursor cursor = db.<mark>query</mark>(CreateNoteTable.NAME, null, where, null, null, null, null, "1"))
		{
			if (!cursor.moveToFirst()) return null;
			return createObjectFrom(cursor);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____HostDatabase_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

	@Override
	public int[] getColorsForScheme(int scheme) {
		int[] colors = Colors.defaults.clone();

		Cursor c = mDb.<mark>query</mark>(TABLE_COLORS, new String[] {
						FIELD_COLOR_NUMBER, FIELD_COLOR_VALUE},
				FIELD_COLOR_SCHEME + " = ?",
				new String[] {String.valueOf(scheme)},
				null, null, null);

		while (c.moveToNext()) {
			colors[c.getInt(0)] = c.getInt(1);
		}

		c.close();

		return colors;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____PubkeyDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____PubkeyDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * @param pubkey
	 */	 */
	public List<CharSequence> allValues(String column) {
		List<CharSequence> list = new ArrayList<>();

		Cursor c = mDb.<mark>query</mark>(TABLE_PUBKEYS, new String[] { "_id", column },
				null, null, null, null, "_id ASC");

		if (c != null) {
			int COL = c.getColumnIndexOrThrow(column);

			while (c.moveToNext())
				list.add(c.getString(COL));

			c.close();
		}

		return list;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Neamar_____KISS_____DBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Neamar_____KISS_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Retrieve previously selected items for the query
     *
     * @param context android context
     * @param query   query to run
     * @return records with number of use
     */
    private static Cursor getHistoryByRecency(SQLiteDatabase db, int limit) {
        return db.<mark>query</mark>(true, "history", new String[]{"record", "1"}, null, null,
                null, null, "_id DESC", Integer.toString(limit));
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bishopmatthew_____HackerNews_____Story_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bishopmatthew_____HackerNews_____Story.java

android.database.sqlite.SQLiteDatabase.query

/** Deletes any cached rows matching page **/
	public static Story cachedById(SQLiteDatabase db, long sId) {
		Story story = new Story();
		Cursor c = db.<mark>query</mark>(story.getTableName(), story.getColNames(), STORY_ID + "=?",
				new String[] { Long.toString(sId) }, null, null, null);

		if (c.moveToFirst()) {
			story.readFromCursor(c);
			c.close();
			return story;
		} else {
			c.close();
			return null;
		}

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bishopmatthew_____HackerNews_____StoryTimestamp_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bishopmatthew_____HackerNews_____StoryTimestamp.java

android.database.sqlite.SQLiteDatabase.query


	public static StoryTimestamp cachedByPrimaryId(SQLiteDatabase db, String id) {
		StoryTimestamp timestamp = new StoryTimestamp();
		Cursor c = db.<mark>query</mark>(timestamp.getTableName(), timestamp.getColNames(), PRIMARY_ID + "=?", new String[] { id },
				null, null, null);

		if (c.moveToFirst()) {
			timestamp.readFromCursor(c);
			c.close();
			return timestamp;
		} else {
			c.close();
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.query

	 */
	public String getConfiguration(final long id) {
		mSingleArg[0] = String.valueOf(id);

		final Cursor cursor = mDatabase.<mark>query</mark>(Tables.CONFIGURATIONS, XML_PROJECTION, ID_SELECTION, mSingleArg, null, null, null);
		try {
			if (cursor.moveToNext())
				return cursor.getString(1 /* XML */);
			return null;
		} finally {
			cursor.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>robotmedia_____droid-comic-viewer_____DBHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/robotmedia_____droid-comic-viewer_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

	   
	   public String selectMostRecentFile() {
		   Cursor cursor = mDB.<mark>query</mark>(DBOpenHelper.FILES_TABLE, new String[] { DBOpenHelper.PATH_COLUMN }, 
		  	        null, null, null, null, DBOpenHelper.OPENED_COLUMN + " desc", "1");
		   if (cursor.moveToFirst()) {
			   String file = cursor.getString(0);
			   cursor.close();
			   return file;
		   } else {
			   cursor.close();
			   return null;
		   }
	   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>godstale_____retrowatch_____DBHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/godstale_____retrowatch_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

	
	public Cursor selectFeedAll() 
	{
		synchronized (mDb) {
			if(mDb == null) return null;
			return mDb.<mark>query</mark>(
					TABLE_NAME_FEED_ITEM,		// Table : String
					null,						// Columns : String[]
					null,			// Selection 	: String
					null,			// Selection arguments: String[]
					null,			// Group by 	: String
					null,			// Having 		: String
					null,			// Order by 	: String
					null );		// Limit			: String
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public void readRoster(Roster roster) {
        SQLiteDatabase db = this.getReadableDatabase();
        Cursor cursor;
        String args[] = {roster.getAccount().getUuid()};
        cursor = db.<mark>query</mark>(Contact.TABLENAME, null, Contact.ACCOUNT + "=?", args, null, null, null);
        while (cursor.moveToNext()) {
            roster.initContact(Contact.fromCursor(cursor));
        }
        cursor.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yassirh_____digitalocean-swimmer_____SqlDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yassirh_____digitalocean-swimmer_____SqlDao.java

android.database.sqlite.SQLiteDatabase.query

	
	public List<T> getAll(String orderBy) {
		List<T> collection = new ArrayList<>();
		Cursor cursor = db.<mark>query</mark>(getTableHelper().TABLE_NAME,
				getTableHelper().getAllColumns(), null, null, orderBy, null, null);
		
		if(cursor.moveToFirst()){
			while (!cursor.isAfterLast()) {
				T object = newInstance(cursor);
				collection.add(object);
				cursor.moveToNext();
			}
		}
		cursor.close();
		return collection;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____MmsDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____MmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Reader getNotificationsWithDownloadState(MasterSecret masterSecret, long state) {
    SQLiteDatabase database   = databaseHelper.getReadableDatabase();
    String selection          = STATUS + " = ?";
    String[] selectionArgs    = new String[]{state + ""};

    Cursor cursor = database.<mark>query</mark>(TABLE_NAME, MMS_PROJECTION, selection, selectionArgs, null, null, null);
    return new Reader(masterSecret, cursor);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public long getPointID(String req_id) {
		if (LOCAL_LOGV) Log.v(TAG, "getPointID(" + req_id + ")");
		long gid = -1;
		Cursor cursor = mDb.<mark>query</mark>(POINTS_TABLE, new String[] { KEY_ROWID, KEY_REQID }, KEY_REQID + "='" + req_id + "'",
				null, null, null, null, null);
		if (cursor.getCount() > 0) {
			cursor.moveToFirst();
			gid = cursor.getLong(cursor.getColumnIndex(KEY_ROWID));
		}
		cursor.close();
		return gid;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____LocationDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____LocationDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public int locationCount() {
    final Cursor cursor = db_.<mark>query</mark>(DatabaseHelper.LOCATION_TABLE,
        new String[] { "count(" + BaseColumns._ID +")" },
        null,
        null,
        null,
        null,
        null);
    int c = 0;
    if (cursor.moveToFirst())
      do {
        c = cursor.getInt(0);
      } while (cursor.moveToNext());

    if (!cursor.isClosed())
      cursor.close();

    return c;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____HostDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * @param hostId
	 * @return
	 */	 */
	public List<HostBean> getHosts(boolean sortColors) {
		String sortField = sortColors ? FIELD_HOST_COLOR : FIELD_HOST_NICKNAME;
		List<HostBean> hosts;

		synchronized (dbLock) {
			SQLiteDatabase db = this.getReadableDatabase();

			Cursor c = db.<mark>query</mark>(TABLE_HOSTS, null, null, null, null, null, sortField + " ASC");

			hosts = createHostBeans(c);

			c.close();
		}

		return hosts;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____SmsDatabase_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____SmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getEncryptedRogueMessages(Recipient recipient) {
    String selection  = TYPE + " & " + Types.ENCRYPTION_REMOTE_NO_SESSION_BIT + " != 0" +
                        " AND PHONE_NUMBERS_EQUAL(" + ADDRESS + ", ?)";
    String[] args     = {recipient.getNumber()};
    SQLiteDatabase db = databaseHelper.getReadableDatabase();
    return db.<mark>query</mark>(TABLE_NAME, MESSAGE_PROJECTION, selection, args, null, null, null);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bishopmatthew_____HackerNews_____CommentsTimestamp_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bishopmatthew_____HackerNews_____CommentsTimestamp.java

android.database.sqlite.SQLiteDatabase.query


	public static CommentsTimestamp cachedByPrimaryId(SQLiteDatabase db, String id) {
		CommentsTimestamp timestamp = new CommentsTimestamp();
		Cursor c = db.<mark>query</mark>(timestamp.getTableName(), timestamp.getColNames(), PRIMARY_ID + "=?", new String[] { id },
				null, null, null);

		if (c.moveToFirst()) {
			timestamp.readFromCursor(c);
			c.close();
			return timestamp;
		} else {
			c.close();
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eidottermihi_____rpicheck_____DeviceDbHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/eidottermihi_____rpicheck_____DeviceDbHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close
android.database.sqlite.SQLiteDatabase.close

/**
     * Deletes a device and all device query data of this device.
     *
     * @param id the ID of the Device
     */     */
    public Cursor getFullCommandCursor() {
        SQLiteDatabase db = this.getWritableDatabase();
        return db
                .<mark>query</mark>(COMMANDS_TABLE_NAME, null, null, null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____PubkeyDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____PubkeyDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

	 */
	public PubkeyBean findPubkeyById(long pubkeyId) {
		SQLiteDatabase db = getReadableDatabase();

		Cursor c = db.<mark>query</mark>(TABLE_PUBKEYS, null,
				"_id = ?", new String[] { String.valueOf(pubkeyId) },
				null, null, null);

		PubkeyBean pubkey = null;

		if (c != null) {
			if (c.moveToFirst())
				pubkey = createPubkeyBean(c);

			c.<mark>close</mark>();
		}

		db.<mark>close</mark>();

		return pubkey;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____HostDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * @param hostId host id for the host
	 * @return host matching the hostId or {@code null} if none match
	 */	@Override
	public List<HostBean> getHosts(boolean sortColors) {
		String sortField = sortColors ? FIELD_HOST_COLOR : FIELD_HOST_NICKNAME;
		List<HostBean> hosts;

		Cursor c = mDb.<mark>query</mark>(TABLE_HOSTS, null, null, null, null, null, sortField + " ASC");

		hosts = createHostBeans(c);

		c.close();

		return hosts;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bpellin_____keepassdroid_____FileDbHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bpellin_____keepassdroid_____FileDbHelper.java

android.database.sqlite.SQLiteDatabase.query

	
	private void deleteAllBut(int limit) {
		Cursor cursor = mDb.<mark>query</mark>(FILE_TABLE, new String[] {KEY_FILE_UPDATED}, null, null, null, null, KEY_FILE_UPDATED);
		
		if ( cursor.getCount() > limit ) {
			cursor.moveToFirst();
			long time = cursor.getLong(cursor.getColumnIndexOrThrow(KEY_FILE_UPDATED));
			
			mDb.execSQL("DELETE FROM " + FILE_TABLE + " WHERE " + KEY_FILE_UPDATED + "<" + time + ";");
		}
		
		cursor.close();
		
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____MagiskDatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____MagiskDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public Policy getPolicy(int uid) {
        Policy policy = null;
        try (Cursor c = db.<mark>query</mark>(POLICY_TABLE, null, Utils.fmt("uid=%d", uid), null, null, null, null)) {
            if (c.moveToNext()) {
                policy = new Policy(c, pm);
            }
        } catch (PackageManager.NameNotFoundException e) {
            deletePolicy(uid);
            return null;
        }
        return policy;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.query


    public Label getLabelById(long _id) {
        SQLiteDatabase db = helper.getReadableDatabase();
		Cursor cursor = db.<mark>query</mark>(Db.TABLE_Label, null, "_id=?", new String[]{String.valueOf(_id)}, null, null, null);
		try {
            if (cursor.moveToNext()) {
                return labelFromCursor(cursor);
            } else {
                return null;
            }
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>robotmedia_____droid-comic-viewer_____DBHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/robotmedia_____droid-comic-viewer_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

	   
	   public int selectFileBookmark(final String path) {
		   final Cursor cursor = mDB.<mark>query</mark>(DBOpenHelper.FILES_TABLE, new String[] { DBOpenHelper.BOOKMARK_COLUMN }, DBOpenHelper.PATH_COLUMN + " = ? ", new String[] { path }, null, null, null);
		   if (cursor.moveToFirst()) {
			   int bookmark = cursor.getInt(0);
			   cursor.close();
			   return bookmark;
		   } else {
			   cursor.close();
			   return 0;
		   }
	   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HoraApps_____LeafPic_____HandlingAlbums_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/HoraApps_____LeafPic_____HandlingAlbums.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert


    public int getFoldersCount(int status) {
        int c = 0;
        SQLiteDatabase db = getReadableDatabase();
        Cursor cur = db.<mark>query</mark>(TABLE_ALBUMS, new String[]{"count(*)"}, ALBUM_STATUS + "=?", new String[]{String.valueOf(status)}, null, null, null);
        if (cur.moveToFirst())
            c = cur.getInt(0);
        cur.close();
        db.close();
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public long getGoalUpdatedAt(long gid) {
		if (LOCAL_LOGV) Log.v(TAG, "getGoalUpdatedAt(" + gid + ")");
		Cursor cursor = mDb.<mark>query</mark>(GOALS_TABLE, new String[] { KEY_UPDATEDAT }, KEY_ROWID + "=" + gid, null, null, null,
				null, null);
		long updated_at = now();
		if (cursor.getCount() > 0) {
			cursor.moveToFirst();
			updated_at = cursor.getLong(cursor.getColumnIndex(KEY_UPDATEDAT));
		}
		cursor.close();
		return updated_at;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____SmsDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____SmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public int getMessageCount() {
    SQLiteDatabase db = databaseHelper.getReadableDatabase();
    Cursor cursor     = null;

    try {
      cursor = db.<mark>query</mark>(TABLE_NAME, new String[] {"COUNT(*)"}, null, null, null, null, null);

      if (cursor != null && cursor.moveToFirst()) return cursor.getInt(0);
      else                                        return 0;
    } finally {
      if (cursor != null)
        cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____ThreadDatabase_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____ThreadDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public long getLastSeen(long threadId) {
    SQLiteDatabase db     = databaseHelper.getReadableDatabase();
    Cursor         cursor = db.<mark>query</mark>(TABLE_NAME, new String[]{LAST_SEEN}, ID_WHERE, new String[]{String.valueOf(threadId)}, null, null, null);

    try {
      if (cursor != null && cursor.moveToFirst()) {
        return cursor.getLong(0);
      }

      return -1;
    } finally {
      if (cursor != null) cursor.close();
    }

  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____AccountManagerService_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    private long getAccountIdLocked(SQLiteDatabase db, Account account) {
        Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, new String[]{ACCOUNTS_ID},
                "name=? AND type=?", new String[]{account.name, account.type}, null, null, null);
        try {
            if (cursor.moveToNext()) {
                return cursor.getLong(0);
            }
            return -1;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * @return the count of all logged ops that should be delivered to the API
     */
    public Cursor getSearchHistoryCursor(String entry) {
        return mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_SEARCHHISTORY, null,
                TomahawkSQLiteHelper.SEARCHHISTORY_COLUMN_ENTRY + " LIKE ?",
                new String[]{entry + "%"}, null, null,
                TomahawkSQLiteHelper.SEARCHHISTORY_COLUMN_ID + " DESC");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Removes the pair with the supplied ping id and tag string from the
	 * database.
	 */	 */
	public long[] getAllTagIds() {
		Cursor all_tids = mDb.<mark>query</mark>(TAGS_TABLE, new String[] { "_id" }, null, null, null, null, null);
		long[] res = new long[all_tids.getCount()];
		int index = 0;
		all_tids.moveToFirst();
		while (!all_tids.isAfterLast()) {
			res[index++] = all_tids.getLong(0);
			all_tids.moveToNext();
		}
		all_tids.close();
		return res;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Creates a DBNote object from the current row of a Cursor.
     *
     * @param cursor database cursor
     * @return DBNote
     */
    private void dropIndexes(SQLiteDatabase db) {
        Cursor c = db.<mark>query</mark>("sqlite_master", new String[]{"name"}, "type=?", new String[]{"index"}, null, null, null);
        while (c.moveToNext()) {
            db.execSQL("DROP INDEX " + c.getString(0));
        }
        c.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zxing_____zxing_____HistoryManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zxing_____zxing_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


  public boolean hasHistoryItems() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    try (SQLiteDatabase db = helper.<mark>getReadableDatabase</mark>();
         Cursor cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME, COUNT_COLUMN, null, null, null, null, null)) {
      cursor.moveToFirst();
      return cursor.getInt(0) > 0;
    } catch (SQLException sqle) {
      Log.w(TAG, sqle);
      return false;
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____MmsDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____MmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public int getMessageCountForThread(long threadId) {
    SQLiteDatabase db = databaseHelper.getReadableDatabase();
    Cursor cursor     = null;

    try {
      cursor = db.<mark>query</mark>(TABLE_NAME, new String[] {"COUNT(*)"}, THREAD_ID + " = ?", new String[] {threadId+""}, null, null, null);

      if (cursor != null && cursor.moveToFirst())
        return cursor.getInt(0);
    } finally {
      if (cursor != null)
        cursor.close();
    }

    return 0;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Create a weighted list of tasks from the db cursor given */    /** Get identifiers for all non-completed tasks */
    public HashSet<TaskIdentifier> getActiveTaskIdentifiers() {
        Cursor cursor = database.<mark>query</mark>(tasksTable, new String[] { KEY_ROWID },
                AbstractTaskModel.PROGRESS_PERCENTAGE + " < " +
                AbstractTaskModel.COMPLETE_PERCENTAGE, null, null, null, null, null);
        return createTaskIdentifierSet(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<String> loadStatsLogin(int id) {

		Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"dotcom_username",
				"dotcom_password"}, "id=" + id, null, null, null, null);

		c.moveToFirst();

		Vector<String> returnVector = new Vector<String>();
		if (c.getString(0) != null) {
			returnVector.add(c.getString(0));
			returnVector.add(decryptPassword(c.getString(1)));
		} else {
			returnVector = null;
		}
		c.close();

		return returnVector;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ContactDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public List<Contact> getAllContact() {
        Cursor cursor = null;
        try {
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            cursor = db.<mark>query</mark>(CONTACT, null, null, null, null, null, MobiComDatabaseHelper.FULL_NAME + " asc");
            return getContactList(cursor);
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____DatabaseAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Fetch all records from database matching conditions
     * @param where SQL where clause
     * @param whereArgs String arguments for where clause
     * @param orderBy SQL orderby clause
     * @return Cursor to records matching conditions
     */     */
    public Cursor fetchRecord(@NonNull String uid){
        return mDb.<mark>query</mark>(mTableName, null, CommonColumns.COLUMN_UID + "=?" ,
                new String[]{uid}, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dacer_____SimplePomodoro-android_____TaskRecorder_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dacer_____SimplePomodoro-android_____TaskRecorder.java

android.database.sqlite.SQLiteDatabase.query

	
	public int getIdByIdentifier(String identifier){
		db = mSQLHelper.getReadableDatabase();
		String selection = KEY_GOOGLE_TASK_IDENTIFIER + "=?";
		String[] selectionArgs = { identifier };
		Cursor cursor = db.<mark>query</mark>(TASKS_TABLE_NAME, null,
				selection, selectionArgs, null, null, null);
		int index = cursor.getColumnIndex(KEY_ID);
		if(cursor.getCount() == 0){
			return 0000;
		}else {
			cursor.moveToFirst(); 
			return cursor.getInt(index);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>johannilsson_____sthlmtraveling_____HistoryDbAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/johannilsson_____sthlmtraveling_____HistoryDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

     */
    public Cursor fetchStops() {
        String[] params = new String[]{
                String.valueOf(Site.CATEGORY_TRANSIT_STOP),
                String.valueOf(Site.SOURCE_STHLM_TRAVELING)
        };
        // Can we filter out duplicates.
        return mDb.<mark>query</mark>(true, DATABASE_TABLE, ALL,
                KEY_CATEGORY + "= ? AND " +
                KEY_SOURCE + "= ?", params, null, null,
                KEY_CREATED + " DESC", "15");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>LitePalFramework_____LitePal_____DataHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/LitePalFramework_____LitePal_____DataHandler.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Assign the generated id value to {@link LitePalSupport#baseObjId}. This
	 * value will be used as identify of this model for system use.
	 * 
	 * @param baseObj
	 *            The class of base object.
	 * @param id
	 *            The value of id.
	 */	@SuppressWarnings("unchecked")
	protected <T> List<T> <mark>query</mark>(Class<T> modelClass, String[] columns, String selection,
			String[] selectionArgs, String groupBy, String having, String orderBy, String limit,

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wildabeast_____BarcodeScanner_____HistoryManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wildabeast_____BarcodeScanner_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


  public boolean hasHistoryItems() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    SQLiteDatabase db = null;
    Cursor cursor = null;
    try {
      db = helper.<mark>getReadableDatabase</mark>();
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME, COUNT_COLUMN, null, null, null, null, null);
      cursor.moveToFirst();
      return cursor.getInt(0) > 0;
    } finally {
      close(cursor, db);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bishopmatthew_____HackerNews_____Comment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bishopmatthew_____HackerNews_____Comment.java

android.database.sqlite.SQLiteDatabase.query

/** Deletes any cached comment rows matching storyId **/	/** Loads a comment from the cache base on on it's commentId **/
	public static Comment readFromCommentId(SQLiteDatabase db, long cId) {
		Comment comment = new Comment();
		Cursor c = db.<mark>query</mark>(comment.getTableName(), comment.getColNames(), COMMENT_ID + "=?",
				new String[] { Long.toString(cId) }, null, null, null);

		if (c.moveToFirst()) {
			comment.readFromCursor(c);
		}

		c.close();
		return comment;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____ThreadDatabase_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____ThreadDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public int getArchivedConversationListCount() {
    SQLiteDatabase db = databaseHelper.getReadableDatabase();
    Cursor cursor     = null;

    try {
      cursor = db.<mark>query</mark>(TABLE_NAME, new String[] {"COUNT(*)"}, ARCHIVED + " = ?",
                        new String[] {"1"}, null, null, null);

      if (cursor != null && cursor.moveToFirst()) {
        return cursor.getInt(0);
      }

    } finally {
      if (cursor != null) cursor.close();
    }

    return 0;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DaxiaK_____MyDiary_____DBManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DaxiaK_____MyDiary_____DBManager.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Select memo & order for show in memoActivity
     *
     * @param topicId
     * @return
     */
    public Cursor selectDiaryContentByDiaryId(long diaryId) {
        Cursor c = db.<mark>query</mark>(DiaryItemEntry_V2.TABLE_NAME, null, DiaryItemEntry_V2.COLUMN_REF_DIARY__ID + " = ?", new String[]{String.valueOf(diaryId)},
                null, null, DiaryItemEntry_V2.COLUMN_POSITION + " ASC", null);
        if (c != null) {
            c.moveToFirst();
        }
        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matt-allen_____repay-android_____DatabaseHandler_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/matt-allen_____repay-android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
	 * Get information on friend by passing in their RepayID
	 * @param repayID
	 * @return Friend object representation of person
	 * @throws IndexOutOfBoundsException
	 * @throws android.database.SQLException
	 */	 */
	public int getNumberOfDebts() throws NullPointerException{
		SQLiteDatabase db = this.getReadableDatabase();
		Cursor c = db.<mark>query</mark>(Names.D_TABLENAME,null,null,null,null,null,null);
		return c.getCount();
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MiCode_____FileExplorer_____FavoriteDatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MiCode_____FileExplorer_____FavoriteDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public boolean isFavorite(String path) {
        String selection = FIELD_LOCATION + "=?";
        String[] selectionArgs = new String[] {
            path
        };
        SQLiteDatabase db = this.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(TABLE_NAME, null, selection, selectionArgs, null, null, null);
        if (cursor == null)
            return false;
        boolean ret = cursor.getCount() > 0;
        cursor.close();
        return ret;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yassirh_____digitalocean-swimmer_____SqlDao_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yassirh_____digitalocean-swimmer_____SqlDao.java

android.database.sqlite.SQLiteDatabase.query

	
	public List<T> getAllByProperty(String property, String value) {
		List<T> collection = new ArrayList<>();
		Cursor cursor = db.<mark>query</mark>(getTableHelper().TABLE_NAME,
				getTableHelper().getAllColumns(), String.format("%s = '%s'", property, value), null, null, null, null);
		
		if(cursor.moveToFirst()){
			while (!cursor.isAfterLast()) {
				T object = newInstance(cursor);
				collection.add(object);
				cursor.moveToNext();
			}
		}
		cursor.close();
		return collection;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____android_____TopekaDatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/JetBrains_____android_____TopekaDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Scooooooooooore!
     *
     * @param context The context this is running in.
     * @return The score over all Categories.
     */     */
    private static Cursor getCategoryCursor(Context context) {
        SQLiteDatabase readableDatabase = getReadableDatabase(context);
        Cursor data = readableDatabase
                .<mark>query</mark>(CategoryTable.NAME, CategoryTable.PROJECTION, null, null, null, null, null);
        data.moveToFirst();
        return data;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____SmsDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____SmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public int getMessageCountForThread(long threadId) {
    SQLiteDatabase db = databaseHelper.getReadableDatabase();
    Cursor cursor     = null;

    try {
      cursor = db.<mark>query</mark>(TABLE_NAME, new String[] {"COUNT(*)"}, THREAD_ID + " = ?",
                        new String[] {threadId+""}, null, null, null);

      if (cursor != null && cursor.moveToFirst())
        return cursor.getInt(0);
    } finally {
      if (cursor != null)
        cursor.close();
    }

    return 0;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>godstale_____retrowatch_____DBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/godstale_____retrowatch_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

	//----------------------------------------------------------------------------------
	public Cursor selectFilterAll() 
	{
		synchronized (mDb) {
			if(mDb == null) return null;
			return mDb.<mark>query</mark>(
					TABLE_NAME_FILTERS,	// Table : String
					null,		// Columns : String[]
					null,		// Selection : String
					null,		// Selection arguments: String[]
					null,		// Group by : String
					null,		// Having : String
					null,		// Order by : String
					null );		// Limit : String
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____DbAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____DbAdapter.java

android.database.sqlite.SQLiteDatabase.query


  public float totalDistance() {
    try {
      float distance = 0;

      Cursor c = db_.<mark>query</mark>(DATA_TABLE_TRIPS, new String[] { K_TRIP_DISTANCE }, null, null, null, null, null);
      c.moveToFirst();

      while (!c.isAfterLast()) {
        distance += c.getFloat(c.getColumnIndex("distance"));
        c.moveToNext();
      }

      c.close();

      return distance;
    }
    catch (RuntimeException e) {
      String s = e.getMessage();
      throw new RuntimeException(e);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>microg_____android_packages_apps_GmsCore_____GcmDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/microg_____android_packages_apps_GmsCore_____GcmDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized List<App> getAppList() {
        SQLiteDatabase db = getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(TABLE_APPS, null, null, null, null, null, null);
        if (cursor != null) {
            List<App> result = new ArrayList<>();
            while (cursor.moveToNext()) {
                result.add(new App(cursor));
            }
            cursor.close();
            return result;
        }
        return Collections.emptyList();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mtotschnig_____MyExpenses_____DbUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mtotschnig_____MyExpenses_____DbUtils.java

android.database.sqlite.SQLiteDatabase.query


  static int suggestNewCategoryColor(SQLiteDatabase db) {
    String[] projection = new String[]{
        "color",
        "(select count(*) from categories where parent_id is null and color=t.color) as count"
    };
    Cursor cursor = db.<mark>query</mark>(ColorUtils.MAIN_COLORS_AS_TABLE(), projection, null, null, null, null, "count ASC", "1");
    int result = 0;
    if (cursor != null) {
      cursor.moveToFirst();
      result = cursor.getInt(0);
      cursor.close();
    }
    return result;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public long getGoalID(String user, String slug) {
		if (LOCAL_LOGV) Log.v(TAG, "getGoalID(" + user + "/" + slug + ")");
		long gid = -1;
		Cursor cursor = mDb.<mark>query</mark>(GOALS_TABLE, new String[] { KEY_ROWID, KEY_USERNAME, KEY_SLUG }, KEY_USERNAME + "='"
				+ user + "' AND " + KEY_SLUG + "='" + slug + "'", null, null, null, null, null);
		if (cursor.getCount() > 0) {
			cursor.moveToFirst();
			gid = cursor.getLong(cursor.getColumnIndex(KEY_ROWID));
		}
		cursor.close();
		return gid;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>westnordost_____StreetComplete_____AQuestDao_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/westnordost_____StreetComplete_____AQuestDao.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


	public int getCount(BoundingBox bbox, QuestStatus status)
	{
		SQLiteDatabase db = dbHelper.<mark>getReadableDatabase</mark>();

		WhereSelectionBuilder qb = new WhereSelectionBuilder();
		addBBox(bbox, qb);
		addQuestStatus(status, qb);

		try (Cursor cursor = db.<mark>query</mark>(getMergedViewName(), new String[]{"COUNT(*)"},
				qb.getWhere(), qb.getArgs(), null, null, null, null))
		{
			cursor.moveToFirst();
			return cursor.getInt(0);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mjdenham_____and-bible_____MyNoteDBAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mjdenham_____and-bible_____MyNoteDBAdapter.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/** return Dto from current cursor position or null
	 * @param c
	 * @return
	 * @throws NoSuchKeyException
	 */
	public MyNoteDto getMyNoteDto(long id) {
		MyNoteDto mynote = null;
		
		Cursor c = db.<mark>query</mark>(MyNoteQuery.TABLE, MyNoteQuery.COLUMNS, MyNoteColumn._ID+"=?", new String[] {String.valueOf(id)}, null, null, null);
		try {
			if (c.moveToFirst()) {
				mynote = getMyNoteDto(c);
			}
		} finally {
			c.close();
		}
		
		return mynote;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____AccountManagerService_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    private long getExtrasIdLocked(SQLiteDatabase db, long accountId, String key) {
        Cursor cursor = db.<mark>query</mark>(TABLE_EXTRAS, new String[]{EXTRAS_ID},
                EXTRAS_ACCOUNTS_ID + "=" + accountId + " AND " + EXTRAS_KEY + "=?",
                new String[]{key}, null, null, null);
        try {
            if (cursor.moveToNext()) {
                return cursor.getLong(0);
            }
            return -1;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codeka_____wwmmo_____StarStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codeka_____wwmmo_____StarStore.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query

/**
   * Puts the given value to the data store.
   */   */
  public Long getLastSimulationOfOurStar() {
    SQLiteDatabase db = helper.<mark>getReadableDatabase</mark>();
    try (
        Cursor cursor = db.<mark>query</mark>(
            false, name, new String[]{ "last_simulation" }, "my_empire=1",
            null, null, null, "last_simulation DESC", null)) {
      if (cursor.moveToFirst()) {
        return cursor.getLong(0);
      }
    }

    return null;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaojianglaile_____Calendar_____ScheduleDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiaojianglaile_____Calendar_____ScheduleDao.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    private int getLastScheduleId() {
        SQLiteDatabase db = mHelper.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(JeekDBConfig.SCHEDULE_TABLE_NAME, null, null, null, null, null, null, null);
        int id = 0;
        if (cursor.moveToLast()) {
            id = cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_ID));
        }
        cursor.<mark>close</mark>();
        db.<mark>close</mark>();
        mHelper.<mark>close</mark>();
        return id;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public boolean checkMatch(String blogName, String blogURL, String username) {

		Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"blogName", "url"},
				"blogName='" + addSlashes(blogName) + "' AND url='"
						+ addSlashes(blogURL) + "'" + " AND username='"
						+ username + "'", null, null, null, null
		);
		int numRows = c.getCount();
		boolean result = false;

		if (numRows > 0) {
			// this account is already saved, yo!
			result = true;
		}

		c.close();

		return result;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____RouteDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____RouteDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public int routeCount() {
    final Cursor cursor = db.<mark>query</mark>(DatabaseHelper.ROUTE_TABLE,
        new String[] { "count(" + BaseColumns._ID +")" },
                       null,
                       null,
                       null,
                       null,
                       null);
    int c = 0;
    if (cursor.moveToFirst())
      do  {
        c = cursor.getInt(0);
      }
      while (cursor.moveToNext());

    if (!cursor.isClosed())
      cursor.close();

    return c;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____HostDatabase_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query


	public Integer[] getColorsForScheme(int scheme) {
		Integer[] colors = Colors.defaults.clone();

		synchronized (dbLock) {
			SQLiteDatabase db = getReadableDatabase();

			Cursor c = db.<mark>query</mark>(TABLE_COLORS, new String[] {
					FIELD_COLOR_NUMBER, FIELD_COLOR_VALUE },
					FIELD_COLOR_SCHEME + " = ?",
					new String[] { String.valueOf(scheme) },
					null, null, null);

			while (c.moveToNext()) {
				colors[c.getInt(0)] = Integer.valueOf(c.getInt(1));
			}

			c.close();
		}

		return colors;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dsolonenko_____financisto_____DatabaseAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dsolonenko_____financisto_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

    
    public Category getCategoryByLeft(long left) {
        SQLiteDatabase db = db();
        try (Cursor c = db.<mark>query</mark>(V_CATEGORY, CategoryViewColumns.NORMAL_PROJECTION,
            CategoryViewColumns.left + "=?", new String[]{String.valueOf(left)}, null, null, null)) {
            if (c.moveToNext()) {
                return Category.formCursor(c);
            } else {
                return new Category(-1);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dacer_____SimplePomodoro-android_____TaskRecorder_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dacer_____SimplePomodoro-android_____TaskRecorder.java

android.database.sqlite.SQLiteDatabase.query

	
	public ArrayList<Integer> getAllId(){
		db = mSQLHelper.getReadableDatabase();
		Cursor cursor;
		cursor = db.<mark>query</mark>(TASKS_TABLE_NAME, null, null,
					null, null, null, null);

		int idIndex = cursor.getColumnIndex(KEY_ID);
		ArrayList<Integer> mPosition_id = new ArrayList<Integer>();
		for (cursor.moveToFirst(); !(cursor.isAfterLast()); cursor.moveToNext()) {
			int tempInt = cursor.getInt(idIndex);
			Integer integer = tempInt;
			mPosition_id.add(integer);
		}
		return mPosition_id;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_17.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<String> loadCategories(int id) {

		Cursor c = db.<mark>query</mark>(CATEGORIES_TABLE, new String[]{"id", "wp_id",
				"category_name"}, "blog_id=" + id, null, null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		Vector<String> returnVector = new Vector<String>();
		for (int i = 0; i < numRows; ++i) {
			String category_name = c.getString(2);
			if (category_name != null) {
				returnVector.add(category_name);
			}
			c.moveToNext();
		}
		c.close();

		return returnVector;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>godstale_____retrowatch_____DBHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/godstale_____retrowatch_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

	
	public Cursor selectFeed(int type, int count) 
	{
		synchronized (mDb) {
			if(mDb == null) return null;
			return mDb.<mark>query</mark>(
					TABLE_NAME_FEED_ITEM,		// Table : String
					null,						// Columns : String[]
					KEY_FEED_TYPE + "=" + Integer.toString(type),		// Selection 	: String
					null,			// Selection arguments: String[]
					null,			// Group by 	: String
					null,			// Having 		: String
					KEY_FEED_ID+" DESC",			// Order by 	: String
					Integer.toString(count) );		// Limit			: String
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dmfs_____opentasks_____FTSDatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dmfs_____opentasks_____FTSDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert

     */
    private static void initializeFTSContent(SQLiteDatabase db)
    {
        String[] task_projection = new String[] { Tasks._ID, Tasks.TITLE, Tasks.DESCRIPTION, Tasks.LOCATION };
        Cursor c = db.<mark>query</mark>(Tables.TASKS_PROPERTY_VIEW, task_projection, null, null, null, null, null);
        while (c.moveToNext())
        {
            insertTaskFTSEntries(db, c.getLong(0), c.getString(1), c.getString(2), c.getString(3));
        }
        c.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____SongDb_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____SongDb.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * For migration
	 */
	private static Cursor querySongs(SQLiteDatabase db, String[] columns, String bookName) {
		Cursor c;
		if (bookName == null) {
			c = db.<mark>query</mark>(Table.SongInfo.tableName(), 
			columns, 
			null, 
			null, 
			null, null, Table.SongInfo.bookName + " asc, " + Table.SongInfo.ordering + " asc");
		} else {
			c = db.<mark>query</mark>(Table.SongInfo.tableName(), 
			columns, 
			Table.SongInfo.bookName + "=?",
			new String[] {bookName},
			null, null, Table.SongInfo.ordering + " asc");
		}
		return c;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<Integer> getNotificationAccounts(Context ctx) {

		Cursor c = null;
		try {
			c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"id"}, "runService=1",
					null, null, null, null);
		} catch (Exception e) {
			e.printStackTrace();
		}

		int numRows = c.getCount();
		c.moveToFirst();

		Vector<Integer> returnVector = new Vector<Integer>();
		for (int i = 0; i < numRows; ++i) {
			int tempID = c.getInt(0);
			returnVector.add(tempID);
			c.moveToNext();
		}

		c.close();

		return returnVector;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper.java

android.database.sqlite.SQLiteDatabase.query

    @WorkerThread
    public Map<Long, Long> getIdMap() {
        Map<Long, Long> result = new HashMap<>();
        SQLiteDatabase db = getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(table_notes, new String[]{key_remote_id, key_id}, key_status + " != ?", new String[]{DBStatus.LOCAL_DELETED.getTitle()}, null, null, null);
        while (cursor.moveToNext()) {
            result.put(cursor.getLong(0), cursor.getLong(1));
        }
        cursor.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iFixit_____iFixitAndroid_____ApiDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/iFixit_____iFixitAndroid_____ApiDatabase.java

android.database.sqlite.SQLiteDatabase.query

    */
   public ArrayList<Guide> getUncompleteGuides(Site site, User user) {
      SQLiteDatabase db = getReadableDatabase();

      Cursor cursor = db.<mark>query</mark>(
       TABLE_OFFLINE_GUIDES,
       new String[] {KEY_GUIDE_JSON},
       KEY_SITEID + " = ? AND " +
       KEY_USERID + " = ? AND " +
       KEY_MEDIA_DOWNLOADED + " != " + KEY_MEDIA_TOTAL,
       new String[] {site.mSiteid + "", user.getUserid() + ""},
       null,
       null,
       KEY_ID + " ASC");

      return getGuidesFromCursor(cursor, 0);
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    long findDeAccountId(Account account) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        String[] columns = {ACCOUNTS_ID};
        String selection = "name=? AND type=?";
        String[] selectionArgs = {account.name, account.type};
        try (Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, columns, selection, selectionArgs,
                null, null, null)) {
            if (cursor.moveToNext()) {
                return cursor.getLong(0);
            }
            return -1;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vogellacompany_____codeexamples-android_____CommentsDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vogellacompany_____codeexamples-android_____CommentsDataSource.java

android.database.sqlite.SQLiteDatabase.query


	public Comment createComment(String comment) {
		ContentValues values = new ContentValues();
		values.put(MySQLiteHelper.COLUMN_COMMENT, comment);
		long insertId = database.insert(MySQLiteHelper.TABLE_COMMENTS, null,
				values);
		Cursor cursor = database.<mark>query</mark>(MySQLiteHelper.TABLE_COMMENTS,
				allColumns, MySQLiteHelper.COLUMN_ID + " = " + insertId, null,
				null, null, null);
		cursor.moveToFirst();
		Comment newComment = cursorToComment(cursor);
		cursor.close();
		return newComment;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____PubkeyDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____PubkeyDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
	 * @param pubkey
	 */	 */
	public List<CharSequence> allValues(String column) {
		List<CharSequence> list = new LinkedList<CharSequence>();

		SQLiteDatabase db = this.getReadableDatabase();
		Cursor c = db.<mark>query</mark>(TABLE_PUBKEYS, new String[] { "_id", column },
				null, null, null, null, "_id ASC");

		if (c != null) {
			int COL = c.getColumnIndexOrThrow(column);

			while (c.moveToNext())
				list.add(c.getString(COL));

			c.<mark>close</mark>();
		}

		db.<mark>close</mark>();

		return list;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>johannilsson_____sthlmtraveling_____HistoryDbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/johannilsson_____sthlmtraveling_____HistoryDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Fetch all entries for a specific type.
     * @return a Cursor object
     */     */
    public Cursor fetchByName(int type, String name) {
        String selection = KEY_NAME + "=? AND " + KEY_TYPE + "=?";
        String[] selectionArgs = new String[] {name, String.valueOf(type)};
        Cursor cursor = mDb.<mark>query</mark>(DATABASE_TABLE, ALL, selection,
                selectionArgs, null, null, null);
        if (cursor != null) {
            cursor.moveToFirst();
        }
        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HoraApps_____LeafPic_____HandlingAlbums_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/HoraApps_____LeafPic_____HandlingAlbums.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

     */
    public ArrayList<String> getFolders(int status) {
        ArrayList<String> list = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        Cursor cur = db.<mark>query</mark>(TABLE_ALBUMS, new String[]{ALBUM_PATH}, ALBUM_STATUS + "=?", new String[]{String.valueOf(status)}, null, null, null);
        if (cur.moveToFirst())
            do list.add(cur.getString(0)); while (cur.moveToNext());
        cur.<mark>close</mark>();
        db.<mark>close</mark>();
        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>felipecsl_____AsymmetricGridView_____SampleDbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/felipecsl_____AsymmetricGridView_____SampleDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor fetchDataByName(String inputText) throws SQLException {
    Log.w(TAG, inputText);
    Cursor mCursor;
    if (inputText == null || inputText.length() == 0) {
      mCursor = getCursor();
    } else {
      mCursor = database.<mark>query</mark>(true, SQLITE_TABLE, DEFAULT_COLUMNS,
                               KEY_TEXT + " like '%" + inputText + "%'", null, null, null, null,
                               null);
    }
    if (mCursor != null) {
      mCursor.moveToFirst();
    }
    return mCursor;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>opendatakit_____collect_____ItemsetDbAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/opendatakit_____collect_____ItemsetDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public boolean tableExists(String tableName) {
        // select name from sqlite_master where type = 'table'
        String selection = "type=? and name=?";
        String[] selectionArgs = {
                "table", DATABASE_TABLE + tableName
        };
        Cursor c = db.<mark>query</mark>("sqlite_master", null, selection, selectionArgs,
                null, null, null);
        boolean exists = false;
        if (c.getCount() == 1) {
            exists = true;
        }
        c.close();
        return exists;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>kabouzeid_____Phonograph_____HistoryStore_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/kabouzeid_____Phonograph_____HistoryStore.java

android.database.sqlite.SQLiteDatabase.query


    public boolean contains(long id) {
        final SQLiteDatabase database = getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(RecentStoreColumns.NAME,
                new String[]{RecentStoreColumns.ID},
                RecentStoreColumns.ID + "=?",
                new String[]{String.valueOf(id)},
                null, null, null, null);

        boolean containsId = cursor != null && cursor.moveToFirst();
        if (cursor != null) {
            cursor.close();
        }
        return containsId;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public List<PresenceTemplate> getPresenceTemplates() {
        ArrayList<PresenceTemplate> templates = new ArrayList<>();
        SQLiteDatabase db = this.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(PresenceTemplate.TABELNAME, null, null, null, null, null, PresenceTemplate.LAST_USED + " desc");
        while (cursor.moveToNext()) {
            templates.add(PresenceTemplate.fromCursor(cursor));
        }
        cursor.close();
        return templates;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    long findSharedAccountId(Account account) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(TABLE_SHARED_ACCOUNTS, new String[]{
                        ACCOUNTS_ID},
                "name=? AND type=?", new String[]{account.name, account.type}, null, null,
                null);
        try {
            if (cursor.moveToNext()) {
                return cursor.getLong(0);
            }
            return -1;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Returns a TaskModelForView corresponding to the given TaskIdentifier */     * Don't forget to close the cursor when you're done. */
    private Cursor fetchTaskCursor(TaskIdentifier taskId, String[] fieldList) {
        long id = taskId.getId();
        Cursor cursor = database.<mark>query</mark>(true, tasksTable, fieldList,
                KEY_ROWID + "=" + id, null, null, null, null, null);
        if (cursor == null)
            throw new SQLException("Returned empty set!");

        cursor.moveToFirst();
        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>firebase_____firebase-android-sdk_____SQLiteEventStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/firebase_____firebase-android-sdk_____SQLiteEventStore.java

android.database.sqlite.SQLiteDatabase.query

/** Loads metadata pairs for given events. */  @Nullable
  private Long getTransportContextId(SQLiteDatabase db, TransportContext transportContext) {
    try (Cursor cursor =
        db.<mark>query</mark>(
            "transport_contexts",
            new String[] {"_id"},
            "backend_name = ?",
            new String[] {transportContext.getBackendName()},
            null,
            null,
            null)) {
      if (!cursor.moveToNext()) {
        return null;
      }
      return cursor.getLong(0);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rovo89_____XposedInstaller_____RepoDb_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/rovo89_____XposedInstaller_____RepoDb.java

android.database.sqlite.SQLiteDatabase.query


    public static void updateAllModulesLatestVersion() {
        sDb.beginTransaction();
        try {
            String[] projection = new String[]{ModulesColumns.PKGNAME};
            Cursor c = sDb.<mark>query</mark>(true, ModulesColumns.TABLE_NAME, projection, null, null, null, null, null, null);
            while (c.moveToNext()) {
                updateModuleLatestVersion(c.getString(0));
            }
            c.close();
            sDb.setTransactionSuccessful();
        } finally {
            sDb.endTransaction();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____AttachmentDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____AttachmentDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public @Nullable DatabaseAttachment getAttachment(AttachmentId attachmentId) {
    SQLiteDatabase database = databaseHelper.getReadableDatabase();
    Cursor cursor           = null;

    try {
      cursor = database.<mark>query</mark>(TABLE_NAME, PROJECTION, PART_ID_WHERE, attachmentId.toStrings(), null, null, null);

      if (cursor != null && cursor.moveToFirst()) return getAttachment(cursor);
      else                                        return null;

    } finally {
      if (cursor != null)
        cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>microg_____android_packages_apps_GmsCore_____GcmDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/microg_____android_packages_apps_GmsCore_____GcmDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized List<Registration> getRegistrationList() {
        SQLiteDatabase db = getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(TABLE_REGISTRATIONS, null, null, null, null, null, null);
        if (cursor != null) {
            List<Registration> result = new ArrayList<>();
            while (cursor.moveToNext()) {
                result.add(new Registration(cursor));
            }
            cursor.close();
            return result;
        }
        return Collections.emptyList();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>westnordost_____StreetComplete_____QuestStatisticsDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/westnordost_____StreetComplete_____QuestStatisticsDao.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


	public int getAmount(String questType)
	{
		SQLiteDatabase db = dbHelper.<mark>getReadableDatabase</mark>();

		String[] cols = new String[]{QuestStatisticsTable.Columns.SUCCEEDED};
		String where = QuestStatisticsTable.Columns.QUEST_TYPE + " = ?";
		String[] args = new String[]{questType};

		try (Cursor cursor = db.<mark>query</mark>(QuestStatisticsTable.NAME, cols, where, args, null, null, null, "1"))
		{
			if (!cursor.moveToFirst()) return 0;
			return cursor.getInt(0);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Bitocle_____RAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Bitocle_____RAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkRepo(String git) {
        Cursor cursor = sqLiteDatabase.<mark>query</mark>(
                Repo.TABLE,
                new String[] {Repo.GIT},
                Repo.GIT + "=?",
                new String[] {git},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) {
                result = true;
            }
            cursor.close();
            return result;
        }
        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    long findCeAccountId(Account account) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabaseUserIsUnlocked();
        String[] columns = { ACCOUNTS_ID };
        String selection = "name=? AND type=?";
        String[] selectionArgs = {account.name, account.type};
        try (Cursor cursor = db.<mark>query</mark>(CE_TABLE_ACCOUNTS, columns, selection, selectionArgs,
                null, null, null)) {
            if (cursor.moveToNext()) {
                return cursor.getLong(0);
            }
            return -1;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dsolonenko_____financisto_____DatabaseAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dsolonenko_____financisto_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public List<Long> getCategoryIdsByLeftIds(List<String> leftIds) {
        SQLiteDatabase db = db();
        List<Long> res = new LinkedList<>();
        try (Cursor c = db.<mark>query</mark>(V_CATEGORY, new String[]{CategoryViewColumns._id.name()},
                CategoryViewColumns.left + " IN (" + generateQueryPlaceholders(leftIds.size()) + ")",
                ArrUtils.strListToArr(leftIds), null, null, null)) {
            while (c.moveToNext()) {
                res.add(c.getLong(0));
            }
        }
        return res;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public List<ReadingList> getAllListsWithoutContents() {
        List<ReadingList> lists = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListContract.TABLE, null, null, null, null, null, null)) {
            while (cursor.moveToNext()) {
                ReadingList list = ReadingList.DATABASE_TABLE.fromCursor(cursor);
                lists.add(list);
            }
        }
        return lists;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized boolean isMediaDirComplete(String path) {
        Cursor cursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_MEDIADIRS,
                new String[]{TomahawkSQLiteHelper.MEDIADIRS_PATH},
                TomahawkSQLiteHelper.MEDIADIRS_PATH + " LIKE ? || '_%'",
                new String[]{path}, null, null, null);
        boolean exists = cursor.moveToFirst();
        cursor.close();
        return !exists;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eidottermihi_____rpicheck_____DeviceDbHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/eidottermihi_____rpicheck_____DeviceDbHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Creates a new device in the device table.
     *
     * @param name        name of device
     * @param host        hostname
     * @param user        username (ssh)
     * @param pass        password (ssh)
     * @param sshPort     SSH port
     * @param description device description
     * @return a {@link RaspberryDeviceBean}
     */     */
    public Cursor getFullDeviceCursor() {
        SQLiteDatabase db = this.getWritableDatabase();
        return db.<mark>query</mark>(DEVICES_TABLE_NAME, null, null, null, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____DatabaseHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query


  private int getProperty(@NonNull String column) {
    int value = 1;
    if (!validDatabase()) {
      return value;
    }

    Cursor cursor = null;
    try {
      cursor = database.<mark>query</mark>(PROPERTIES_TABLE, new String[]{ COL_VALUE },
          COL_PROPERTY + "= ?", new String[]{ column }, null, null, null);
      if (cursor != null && cursor.moveToFirst()) {
        value = cursor.getInt(0);
      }
      return value;
    } catch (SQLException se) {
      return value;
    } finally {
      DatabaseUtils.closeCursor(cursor);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Return a Cursor positioned at the note that matches the given rowId
	 * 
	 * @param pingid
	 *            id of note to retrieve
	 * @return Cursor positioned to matching note, if found
	 * @throws SQLException
	 *             if note could not be found/retrieved
	 */	 */
	public boolean isTagPing(long pingid, long tagid) {
		Cursor c = mDb.<mark>query</mark>(TAG_PING_TABLE, new String[] { KEY_ROWID }, KEY_PID + "=" + pingid + " AND " + KEY_TID
				+ "=" + tagid, null, null, null, null);
		boolean ret = c.getCount() > 0;
		c.close();
		return ret;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>daneren2005_____Subsonic_____SongDBHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/daneren2005_____Subsonic_____SongDBHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


	public synchronized Pair<Integer, String> getIdFromPath(String path) {
		SQLiteDatabase db = this.getReadableDatabase();

		String[] columns = {SONGS_SERVER_KEY, SONGS_SERVER_ID};
		Cursor cursor = db.<mark>query</mark>(TABLE_SONGS, columns, SONGS_COMPLETE_PATH + " = ?", new String[] { path }, null, null, SONGS_LAST_PLAYED + " DESC", null);

		try {
			cursor.moveToFirst();
			return new Pair(cursor.getInt(0), cursor.getString(1));
		} catch(Exception e) {
			return null;
		}
		finally {
			db.<mark>close</mark>();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____RepoDatabaseHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____RepoDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public Cursor getRepoCursor() {
        String orderBy = null;
        switch (mm.repoOrder) {
            case Const.Value.ORDER_NAME:
                orderBy = "name COLLATE NOCASE";
                break;
            case Const.Value.ORDER_DATE:
                orderBy = "last_update DESC";
        }
        return mDb.<mark>query</mark>(TABLE_NAME, null, "minMagisk<=? AND minMagisk>=?",
                new String[] { String.valueOf(mm.magiskVersionCode), String.valueOf(Const.MIN_MODULE_VER()) },
                null, null, orderBy);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Bitocle_____BAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Bitocle_____BAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkBookmark(String sha) {
        Cursor cursor = sqLiteDatabase.<mark>query</mark>(
                Bookmark.TABLE,
                new String[] {Bookmark.SHA},
                Bookmark.SHA + "=?",
                new String[] {sha},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) {
                result = true;
            }
            cursor.close();
            return result;
        }
        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Finds the id associated with the supplied tag string. Returns -1 if tag
	 * string is not found.
	 * 
	 * @param tag
	 * @return tag_id of tag or -1 if tag does not exist
	 */	 */
	public Cursor fetchAllPings(boolean reverse) {
		if (reverse) {
			return mDb.<mark>query</mark>(PINGS_TABLE, new String[] { KEY_ROWID, KEY_PING, KEY_NOTES, KEY_PERIOD }, null, null,
					null, null, KEY_PING + " DESC");
		} else {
			return mDb.<mark>query</mark>(PINGS_TABLE, new String[] { KEY_ROWID, KEY_PING, KEY_NOTES, KEY_PERIOD }, null, null,
					null, null, KEY_PING + " ASC");
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    List<Integer> findAllUidGrants() {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        List<Integer> result = new ArrayList<>();
        final Cursor cursor = db.<mark>query</mark>(TABLE_GRANTS,
                new String[]{GRANTS_GRANTEE_UID},
                null, null, GRANTS_GRANTEE_UID, null, null);
        try {
            while (cursor.moveToNext()) {
                final int uid = cursor.getInt(0);
                result.add(uid);
            }
        } finally {
            cursor.close();
        }
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    void dumpDeAccountsTable(PrintWriter pw) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(
                TABLE_ACCOUNTS, ACCOUNT_TYPE_COUNT_PROJECTION,
                null, null, ACCOUNTS_TYPE, null, null);
        try {
            while (cursor.moveToNext()) {
                // print type,count
                pw.println(cursor.getString(0) + "," + cursor.getString(1));
            }
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Marlinski_____Rumble_____PushStatusDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Marlinski_____Rumble_____PushStatusDatabase.java

android.database.sqlite.SQLiteDatabase.query

     */
    public PushStatus getStatus(String  uuid) {
        SQLiteDatabase database = databaseHelper.getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(TABLE_NAME, null, UUID + " = ?", new String[]{ uuid }, null, null, null);
        if(cursor == null)
            return null;
        try {
            if(cursor.moveToFirst() && !cursor.isAfterLast())
                return cursorToStatus(cursor);
            else
                return null;
        } finally {
            if(cursor != null)
                cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Pushjet_____Pushjet-Android_____DatabaseHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Pushjet_____Pushjet-Android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public PushjetMessage getMessage(int id) throws PushjetException {
        SQLiteDatabase db = this.getReadableDatabase();

        try {
            Cursor cMsg = db.<mark>query</mark>(TABLE_MESSAGE, TABLE_MESSAGE_KEYS, KEY_MESSAGE_ID + " = ?", new String[]{id + ""}, null, null, null);
            if (cMsg.getCount() > 0 && cMsg.moveToFirst())
                return getMessageFromRow(cMsg);
            throw new PushjetException("Message not found", 400);
        } finally {
            db.<mark>close</mark>();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    long findExtrasIdByAccountId(long accountId, String key) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabaseUserIsUnlocked();
        Cursor cursor = db.<mark>query</mark>(
                CE_TABLE_EXTRAS, new String[]{EXTRAS_ID},
                EXTRAS_ACCOUNTS_ID + "=" + accountId + " AND " + EXTRAS_KEY + "=?",
                new String[]{key}, null, null, null);
        try {
            if (cursor.moveToNext()) {
                return cursor.getLong(0);
            }
            return -1;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_16.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    private Cursor getCursorForPreKey(Account account, int preKeyId) {
        SQLiteDatabase db = this.getReadableDatabase();
        String[] columns = {SQLiteAxolotlStore.KEY};
        String[] selectionArgs = {account.getUuid(), Integer.toString(preKeyId)};
        Cursor cursor = db.<mark>query</mark>(SQLiteAxolotlStore.PREKEY_TABLENAME,
                columns,
                SQLiteAxolotlStore.ACCOUNT + "=? AND "
                        + SQLiteAxolotlStore.ID + "=?",
                selectionArgs,
                null, null, null);

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>naman14_____Timber_____SongPlayCount_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/naman14_____Timber_____SongPlayCount.java

android.database.sqlite.SQLiteDatabase.query

/**
     * This updates all the results for the getTopPlayedResults so that we can get an
     * accurate list of the top played results
     */     */
    public Cursor getTopPlayedResults(int numResults) {
        updateResults();

        final SQLiteDatabase database = mMusicDatabase.getReadableDatabase();
        return database.<mark>query</mark>(SongPlayCountColumns.NAME, new String[]{SongPlayCountColumns.ID},
                null, null, null, null, SongPlayCountColumns.PLAYCOUNTSCORE + " DESC",
                (numResults <= 0 ? null : String.valueOf(numResults)));
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_17.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    private Cursor getCursorForSignedPreKey(Account account, int signedPreKeyId) {
        SQLiteDatabase db = this.getReadableDatabase();
        String[] columns = {SQLiteAxolotlStore.KEY};
        String[] selectionArgs = {account.getUuid(), Integer.toString(signedPreKeyId)};
        Cursor cursor = db.<mark>query</mark>(SQLiteAxolotlStore.SIGNED_PREKEY_TABLENAME,
                columns,
                SQLiteAxolotlStore.ACCOUNT + "=? AND " + SQLiteAxolotlStore.ID + "=?",
                selectionArgs,
                null, null, null);

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Neamar_____KISS_____DBHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Neamar_____KISS_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

     */
    public static int getHistoryLength(Context context) {
        SQLiteDatabase db = getDatabase(context);

        // Cursor query (boolean distinct, String table, String[] columns,
        // String selection, String[] selectionArgs, String groupBy, String
        // having, String orderBy, String limit)
        Cursor cursor = db.<mark>query</mark>(false, "history", new String[]{"COUNT(*)"}, null, null,
                null, null, null, null);

        cursor.moveToFirst();
        int historyLength = cursor.getInt(0);
        cursor.close();
        return historyLength;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    String findDeAccountPreviousName(Account account) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        String[] columns = {ACCOUNTS_PREVIOUS_NAME};
        String selection = ACCOUNTS_NAME + "=? AND " + ACCOUNTS_TYPE + "=?";
        String[] selectionArgs = {account.name, account.type};
        try (Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, columns, selection, selectionArgs,
                null, null, null)) {
            if (cursor.moveToNext()) {
                return cursor.getString(0);
            }
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Fetch a list of the tag names as a list of strings. This should be faster
	 * than manipulating the string all the time.
	 * 
	 * @param pingid
	 *            the ID of the ping
	 * @return a list of strings including tag names for the indicated ping
	 */	 */
	public Cursor fetchPing(long pingid) throws SQLException {
		Cursor pCursor = mDb.<mark>query</mark>(true, PINGS_TABLE, new String[] { KEY_ROWID, KEY_PING, KEY_NOTES, KEY_PERIOD },
				KEY_ROWID + "=" + pingid, null, null, null, null, null);
		if (pCursor != null) {
			pCursor.moveToFirst();
		}
		return pCursor;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iMeiji_____Toutiao_____SearchHistoryDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/iMeiji_____Toutiao_____SearchHistoryDao.java

android.database.sqlite.SQLiteDatabase.query


    public List<SearchHistoryBean> queryAll() {
        Cursor cursor = db.<mark>query</mark>(SearchHistoryTable.TABLENAME, null, null, null, null, null, SearchHistoryTable.TIME + " desc");
        List<SearchHistoryBean> list = new ArrayList<>();
        while (cursor.moveToNext()) {
            SearchHistoryBean bean = new SearchHistoryBean();
            bean.setKeyWord(cursor.getString(SearchHistoryTable.ID_KEYWORD));
            bean.setTime(cursor.getString(SearchHistoryTable.ID_TIME));
            list.add(bean);
        }
        cursor.close();
        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query


    public List<ReadingList> getAllLists() {
        List<ReadingList> lists = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListContract.TABLE, null, null, null, null, null, null)) {
            while (cursor.moveToNext()) {
                ReadingList list = ReadingList.DATABASE_TABLE.fromCursor(cursor);
                lists.add(list);
            }
        }
        for (ReadingList list : lists) {
            populateListPages(db, list);
        }
        return lists;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

	 */
	public long restoreDeletedServerConfiguration(final String name) {
		mSingleArg[0] = name;

		final ContentValues values = mValues;
		values.clear();
		values.put(ConfigurationContract.Configuration.DELETED, 0);
		mDatabase.update(Tables.CONFIGURATIONS, values, NAME_SELECTION, mSingleArg);

		final Cursor cursor = mDatabase.<mark>query</mark>(Tables.CONFIGURATIONS, ID_PROJECTION, NAME_SELECTION, mSingleArg, null, null, null);
		try {
			if (cursor.moveToNext())
				return cursor.getLong(0 /* _ID */);
			return -1;
		} finally {
			cursor.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Marlinski_____Rumble_____GroupDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Marlinski_____Rumble_____GroupDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public Group getGroup(String gid) {
        Cursor cursor = null;
        try {
            SQLiteDatabase database = databaseHelper.getReadableDatabase();
            cursor = database.<mark>query</mark>(TABLE_NAME, null, GID+ " = ?", new String[] {gid}, null, null, null);
            if(cursor == null)
                return null;
            if(cursor.moveToFirst() && !cursor.isAfterLast())
                return cursorToGroup(cursor);
            else
                return null;
        } finally {
            if(cursor != null)
                cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>duckduckgo_____android_____LegacyDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/duckduckgo_____android_____LegacyDb.java

android.database.sqlite.SQLiteDatabase.query


    public ArrayList<LegacyFeedObject> selectAll() {
        ArrayList<LegacyFeedObject> feeds = null;
        Cursor c = null;
        try {
            c = this.db.<mark>query</mark>(LegacyDbContracts.FEED_TABLE.TABLE_NAME, null, "", null, null, null, null);
            if (c.moveToFirst()) {
                feeds = new ArrayList<>(30);
                do {
                    feeds.add(getFeedObject(c));
                } while (c.moveToNext());
            }
        } finally {
            if (c != null) {
                c.close();
            }
        }
        return feeds;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>TeamAmaze_____AmazeFileManager_____UtilsHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/TeamAmaze_____AmazeFileManager_____UtilsHandler.java

android.database.sqlite.SQLiteDatabase.query


    public LinkedList<String> getHistoryLinkedList() {
        SQLiteDatabase sqLiteDatabase = getReadableDatabase();
        Cursor cursor = sqLiteDatabase.<mark>query</mark>(getTableForOperation(Operation.HISTORY), null,
                null, null, null, null, null);

        LinkedList<String> paths = new LinkedList<>();
        boolean hasNext = cursor.moveToFirst();
        while (hasNext) {
            paths.push(cursor.getString(cursor.getColumnIndex(COLUMN_PATH)));
            hasNext = cursor.moveToNext();
        }
        cursor.close();

        return paths;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

     */
    public String getPlaylistName(String playlistId) {
        String[] columns = new String[]{TomahawkSQLiteHelper.PLAYLISTS_COLUMN_NAME};

        Cursor playlistsCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_PLAYLISTS,
                columns, TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID + " = ?",
                new String[]{playlistId}, null, null, null);
        String name = null;
        if (playlistsCursor.moveToFirst()) {
            name = playlistsCursor.getString(0);
        }
        playlistsCursor.close();
        return name;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jwood_____standup-timer_____MeetingDAO_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/jwood_____standup-timer_____MeetingDAO.java

android.database.sqlite.SQLiteDatabase.query


    public Meeting findById(Long id) {
        Cursor cursor = null;
        Meeting meeting = null;

        try {
            SQLiteDatabase db = getReadableDatabase();
            cursor = db.<mark>query</mark>(MEETINGS_TABLE_NAME, MEETINGS_ALL_COLUMS, _ID + " = ?", new String[]{id.toString()}, null, null, null);
            if (cursor.getCount() == 1) {
                if (cursor.moveToFirst()) {
                    meeting = createMeetingFromCursorData(cursor);
                }
            }
        } finally {
            closeCursor(cursor);
        }

        return meeting;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker41_____article-android_____DataSource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker41_____article-android_____DataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Deletes an article and its content.
     *
     * @param article The article to delete.
     */     */
    public Cursor getSavedArticles() {
        return database.<mark>query</mark>(
                ArticleModel.TABLE + " a left outer join " + SourceModel.TABLE + " s " +
                    "on a." + ArticleModel.COLUMN_SOURCE_ID + " = s." + SourceModel.COLUMN_REMOTE_ID,
                null,
                ArticleModel.COLUMN_SAVED + "=1",
                null,
                null,
                null,
                ArticleModel.COLUMN_INSERTED_AT + " desc");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____DbAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____DbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
   * Return a Cursor positioned at the trip that matches the given rowId
   *
   * @param rowId id of trip to retrieve
   * @return Cursor positioned to matching trip, if found
   * @throws SQLException if trip could not be found/retrieved
   */   */
  public Cursor fetchAllTrips() {
    Cursor c = db_.<mark>query</mark>(DATA_TABLE_TRIPS, new String[] { K_TRIP_ROWID,
        K_TRIP_PURP, K_TRIP_START, K_TRIP_FANCYSTART, K_TRIP_NOTE, K_TRIP_FANCYINFO },
        null, null, null, null, "-" + K_TRIP_START);
    if (c != null && c.getCount()>0) {
      c.moveToFirst();
    }
    return c;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>aws_____aws-sdk-android_____SQLiteLocalStorage_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/aws_____aws-sdk-android_____SQLiteLocalStorage.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<DatasetMetadata> getDatasets(String identityId) {
        List<DatasetMetadata> datasets = new ArrayList<DatasetMetadata>();

        SQLiteDatabase db = helper.getWritableDatabase();
        Cursor c = db.<mark>query</mark>(TABLE_DATASETS, DatasetColumns.ALL,
                DatasetColumns.IDENTITY_ID + " = ?",
                new String[] {
                    identityId
                }, null, null, null);
        while (c.moveToNext()) {
            datasets.add(cursorToDatasetMetadata(c));
        }
        c.close();

        return datasets;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mjdenham_____and-bible_____MyNoteDBAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mjdenham_____and-bible_____MyNoteDBAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public List<MyNoteDto> getAllMyNotes() {
		Log.d(TAG, "about to getAllMyNotes");
		List<MyNoteDto> allMyNotes = new ArrayList<MyNoteDto>();
		Cursor c = db.<mark>query</mark>(MyNoteQuery.TABLE, MyNoteQuery.COLUMNS, null, null, null, null, null);
		try {
			if (c.moveToFirst()) {
		        while (!c.isAfterLast()) {
		        	MyNoteDto mynote = getMyNoteDto(c);
		    		allMyNotes.add(mynote);
		       	    c.moveToNext();
		        }
			}
		} finally {
	        c.close();
		}
        
		Log.d(TAG, "allMyNotes set to " + allMyNotes.size() + " item long list");
        return allMyNotes;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Marlinski_____Rumble_____ContactDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Marlinski_____Rumble_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public Contact getContact(String uid) {
        Cursor cursor = null;
        try {
            SQLiteDatabase database = databaseHelper.getReadableDatabase();
            cursor = database.<mark>query</mark>(TABLE_NAME, null, UID+ " = ?", new String[] {uid }, null, null, null);
            if(cursor == null)
                return null;
            if(cursor.moveToFirst() && !cursor.isAfterLast())
                return cursorToContact(cursor);
            else
                return null;
        } finally {
            if(cursor != null)
                cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>westnordost_____StreetComplete_____OpenChangesetsDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/westnordost_____StreetComplete_____OpenChangesetsDao.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


	public OpenChangesetInfo get(OpenChangesetKey key)
	{
		SQLiteDatabase db = dbHelper.<mark>getReadableDatabase</mark>();
		String where = OpenChangesetsTable.Columns.QUEST_TYPE + " = ? AND " + OpenChangesetsTable.Columns.SOURCE + " = ?";
		String[] args = new String[]{key.questType, key.source};

		try (Cursor cursor = db.<mark>query</mark>(OpenChangesetsTable.NAME, null, where, args, null, null, null, "1"))
		{
			if (!cursor.moveToFirst()) return null; // nothing found for this quest type
			return createFromCursor(cursor);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    String findAccountPasswordByNameAndType(String name, String type) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabaseUserIsUnlocked();
        String selection = ACCOUNTS_NAME + "=? AND " + ACCOUNTS_TYPE + "=?";
        String[] selectionArgs = {name, type};
        String[] columns = {ACCOUNTS_PASSWORD};
        try (Cursor cursor = db.<mark>query</mark>(CE_TABLE_ACCOUNTS, columns, selection, selectionArgs,
                null, null, null)) {
            if (cursor.moveToNext()) {
                return cursor.getString(0);
            }
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.rawQuery
android.database.sqlite.SQLiteDatabase.rawQuery

	 */
	public List<Marker> listMarkersForAriKind(final int ari, final Marker.Kind kind) {
		final SQLiteDatabase db = helper.getReadableDatabase();
		final Cursor c = db.<mark>query</mark>(Db.TABLE_Marker, null, Db.Marker.ari + "=? and " + Db.Marker.kind + "=?", ToStringArray(ari, kind.code), null, null, Db.Marker.modifyTime + " desc", null);
		try {
			final List<Marker> res = new ArrayList<>();
			while (c.moveToNext()) {
				res.add(markerFromCursor(c));
			}
			return res;
		} finally {
			c.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jwood_____standup-timer_____TeamDAO_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/jwood_____standup-timer_____TeamDAO.java

android.database.sqlite.SQLiteDatabase.query


    public Team findById(Long id) {
        Cursor cursor = null;
        Team team = null;

        try {
            SQLiteDatabase db = getReadableDatabase();
            cursor = db.<mark>query</mark>(TEAMS_TABLE_NAME, TEAMS_ALL_COLUMS, _ID + " = ?", new String[]{id.toString()}, null, null, null);
            if (cursor.getCount() == 1) {
                if (cursor.moveToFirst()) {
                    String name = cursor.getString(1);
                    team = new Team(id, name);
                }
            }
        } finally {
            closeCursor(cursor);
        }

        return team;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>westnordost_____StreetComplete_____AQuestDao_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/westnordost_____StreetComplete_____AQuestDao.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


	public T getLastSolved()
	{
		SQLiteDatabase db = dbHelper.<mark>getReadableDatabase</mark>();

		String questStatus = getQuestStatusColumnName();
		String query = questStatus + " IN (?,?,?)";
		String[] args = {QuestStatus.HIDDEN.name(), QuestStatus.ANSWERED.name(), QuestStatus.CLOSED.name()};
		String orderBy = getLastChangedColumnName() + " DESC";

		try (Cursor cursor = db.<mark>query</mark>(getMergedViewName(), null, query, args, null, null, orderBy, "1"))
		{
			if (!cursor.moveToFirst()) return null;
			return createObjectFrom(cursor);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    Integer findAccountVisibility(Account account, String packageName) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        final Cursor cursor = db.<mark>query</mark>(TABLE_VISIBILITY, new String[] {VISIBILITY_VALUE},
                SELECTION_ACCOUNTS_ID_BY_ACCOUNT + " AND " + VISIBILITY_PACKAGE + "=? ",
                new String[] {account.name, account.type, packageName}, null, null, null);
        try {
            while (cursor.moveToNext()) {
                return cursor.getInt(0);
            }
        } finally {
            cursor.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>microg_____android_packages_apps_GmsCore_____GcmDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/microg_____android_packages_apps_GmsCore_____GcmDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized List<Registration> getRegistrationsByApp(String packageName) {
        SQLiteDatabase db = getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(TABLE_REGISTRATIONS, null, FIELD_PACKAGE_NAME + " LIKE ?", new String[]{packageName}, null, null, null);
        if (cursor != null) {
            List<Registration> result = new ArrayList<>();
            while (cursor.moveToNext()) {
                result.add(new Registration(cursor));
            }
            cursor.close();
            return result;
        }
        return Collections.emptyList();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Marlinski_____Rumble_____GroupDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Marlinski_____Rumble_____GroupDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public Group getGroup(long group_dbid) {
        Cursor cursor = null;
        try {
            SQLiteDatabase database = databaseHelper.getReadableDatabase();
            cursor = database.<mark>query</mark>(TABLE_NAME, null, ID+ " = ?", new String[] {Long.toString(group_dbid)}, null, null, null);
            if(cursor == null)
                return null;
            if(cursor.moveToFirst() && !cursor.isAfterLast())
                return cursorToGroup(cursor);
            else
                return null;
        } finally {
            if(cursor != null)
                cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____BookmarksDBAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____BookmarksDBAdapter.java

android.database.sqlite.SQLiteDatabase.query

  @NonNull
  public List<Long> getBookmarkTagIds(long bookmarkId) {
    List<Long> bookmarkTags = new ArrayList<>();
    Cursor cursor = null;
    try {
      cursor = db.<mark>query</mark>(BookmarkTagTable.TABLE_NAME,
          new String[]{BookmarkTagTable.TAG_ID},
          BookmarkTagTable.BOOKMARK_ID + "=" + bookmarkId,
          null, null, null, BookmarkTagTable.TAG_ID + " ASC");
      if (cursor != null) {
        while (cursor.moveToNext()) {
          bookmarkTags.add(cursor.getLong(0));
        }
      }
    } finally {
      DatabaseUtils.closeCursor(cursor);
    }
    return bookmarkTags;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Yuncun_____AbusiveGymReminder_____MsgAndDayRecords_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Yuncun_____AbusiveGymReminder_____MsgAndDayRecords.java

android.database.sqlite.SQLiteDatabase.query


    public List<Message> getAllMessages() {
        List<Message> messages = new ArrayList<Message>();

        Cursor cursor = mDatabase.<mark>query</mark>(MsgDBHelper.TABLE_MESSAGES,
                allColumnsMessages, null, null, null, null, null);

        Cursor dbCursor = mDatabase.<mark>query</mark>(MsgDBHelper.TABLE_MESSAGES, null, null, null, null, null, null);

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            Message msg = cursorToMessage(cursor);
            messages.add(msg);
            cursor.moveToNext();
        }
        cursor.close();
        return messages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    private List<ReadingListPage> getAllPagesToBeSynced() {
        List<ReadingListPage> pages = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.REMOTEID.getName() + " < ?",
                new String[]{Integer.toString(1)},
                null, null, null)) {
            while (cursor.moveToNext()) {
                pages.add(ReadingListPage.DATABASE_TABLE.fromCursor(cursor));
            }
        }
        return pages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dacer_____SimplePomodoro-android_____TaskRecorder_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dacer_____SimplePomodoro-android_____TaskRecorder.java

android.database.sqlite.SQLiteDatabase.query

	
	public ArrayList<Integer> getAllNewId(){
		db = mSQLHelper.getReadableDatabase();
		Cursor cursor;
		String selection = KEY_GOOGLE_TASK_IDENTIFIER + "=?";
		String[] selectionArgs = { "0" };
		cursor = db.<mark>query</mark>(TASKS_TABLE_NAME, null, selection,
				selectionArgs, null, null, null);

		int idIndex = cursor.getColumnIndex(KEY_ID);
		ArrayList<Integer> mPosition_id = new ArrayList<Integer>();
		for (cursor.moveToFirst(); !(cursor.isAfterLast()); cursor.moveToNext()) {
			int tempInt = cursor.getInt(idIndex);
			Integer integer = tempInt;
			mPosition_id.add(integer);
		}
		return mPosition_id;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Delete the given task */    /** Get identifiers for all non-completed, non-hidden tasks */
    public HashSet<TaskIdentifier> getActiveVisibleTaskIdentifiers() {
        Cursor cursor = database.<mark>query</mark>(tasksTable, new String[] { KEY_ROWID },
                AbstractTaskModel.PROGRESS_PERCENTAGE + " < " +
                AbstractTaskModel.COMPLETE_PERCENTAGE + " AND (" +
                AbstractTaskModel.HIDDEN_UNTIL + " ISNULL OR " + AbstractTaskModel.HIDDEN_UNTIL + " < " +
                System.currentTimeMillis() + ")", null, null, null, null, null);
        return createTaskIdentifierSet(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Marlinski_____Rumble_____ContactDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Marlinski_____Rumble_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public Contact getContact(long contact_dbid) {
        Cursor cursor = null;
        try {
            SQLiteDatabase database = databaseHelper.getReadableDatabase();
            cursor = database.<mark>query</mark>(TABLE_NAME, null, ID+ " = ?", new String[] {Long.toString(contact_dbid)}, null, null, null);
            if(cursor == null)
                return null;
            if(cursor.moveToFirst() && !cursor.isAfterLast())
                return cursorToContact(cursor);
            else
                return null;
        } finally {
            if(cursor != null)
                cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_16.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns a map account -> (package -> visibility)
     */
    Account findDeAccountByAccountId(long accountId) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        final Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, new String[] {ACCOUNTS_NAME, ACCOUNTS_TYPE},
                ACCOUNTS_ID + "=? ", new String[] {String.valueOf(accountId)}, null, null, null);
        try {
            while (cursor.moveToNext()) {
                return new Account(cursor.getString(0), cursor.getString(1));
            }
        } finally {
            cursor.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_browser_____BrowserProvider2_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_browser_____BrowserProvider2.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.insert


    int getUrlCount(SQLiteDatabase db, String table, String url) {
        Cursor c = db.<mark>query</mark>(table, new String[] { "COUNT(*)" },
                "url = ?", new String[] { url }, null, null, null);
        try {
            int count = 0;
            if (c.moveToFirst()) {
                count = c.getInt(0);
            }
            return count;
        } finally {
            c.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____DbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____DbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
   * Return a Cursor over the list of all notes in the database
   *
   * @return Cursor over all trips
   */
  public Cursor fetchAllCoordsForTrip(long tripid) {
    try {
      Cursor mCursor = db_.<mark>query</mark>(true, DATA_TABLE_COORDS, new String[] {
          K_POINT_LAT, K_POINT_LGT, K_POINT_TIME,
          K_POINT_ACC, K_POINT_ALT, K_POINT_SPEED },
          K_POINT_TRIP + "=" + tripid,
          null, null, null, K_POINT_TIME, null);

      if (mCursor != null) {
        mCursor.moveToFirst();
      }
      return mCursor;
    } catch (Exception e) {
      //Log.v("GOT!",e.toString());
      return null;
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_15.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query


    private void populateListPages(SQLiteDatabase db, @NonNull ReadingList list) {
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                (ReadingListPageContract.Col.LISTID.getName() + " = ? AND " + ReadingListPageContract.Col.STATUS.getName() + " != ?"),
                new String[]{Long.toString(list.id()), Integer.toString(ReadingListPage.STATUS_QUEUE_FOR_DELETE)},
                null, null, null)) {
            while (cursor.moveToNext()) {
                list.pages().add(ReadingListPage.DATABASE_TABLE.fromCursor(cursor));
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public List<Channel> getAllChannels() {
        List<Channel> contactList = null;
        Cursor cursor = null;
        try {
            SQLiteDatabase db = dbHelper.getWritableDatabase();
            cursor = db.<mark>query</mark>(CHANNEL, null, null, null, null, null, MobiComDatabaseHelper.CHANNEL_DISPLAY_NAME + " asc");
            contactList = getChannelList(cursor);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
        return contactList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Ansh1234_____AppDataReader_____SqliteDatabaseReader_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Ansh1234_____AppDataReader_____SqliteDatabaseReader.java

android.database.sqlite.SQLiteDatabase.query

   */
  public static List<List<String>> getAllTableData(Context context, String
      databaseName, String tableName) {

    if (context == null || Utils.isEmpty(databaseName) || Utils.isEmpty(tableName)) {
      return null;
    }

    SQLiteDatabase sqLiteDatabase;
    try {
      sqLiteDatabase = context.openOrCreateDatabase(databaseName, 0, null);
    } catch (Exception e) {
      e.printStackTrace();
      return null;
    }
    Cursor cursor = sqLiteDatabase.<mark>query</mark>(tableName, null, null, null, null, null, null);

    if (cursor == null) {
      return null;
    }

    return getAllTableData(cursor);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____AyahInfoDatabaseHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____AyahInfoDatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query

  @NonNull
  private RectF getPageBounds(int page) {
    Cursor c = null;
    try {
      String[] colNames = new String[]{
          "MIN(" + MIN_X + ")", "MIN(" + MIN_Y + ")",
          "MAX(" + MAX_X + ")", "MAX(" + MAX_Y + ")" };
      c = database.<mark>query</mark>(GLYPHS_TABLE, colNames, COL_PAGE + "=" + page, null, null, null, null);
      if (c.moveToFirst()) {
        return new RectF(c.getInt(0), c.getInt(1), c.getInt(2), c.getInt(3));
      } else {
        throw new IllegalArgumentException("getPageBounds() on a non-existent page: " + page);
      }
    } finally {
      DatabaseUtils.closeCursor(c);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public ReadingList getFullListById(long id) {
        SQLiteDatabase db = getReadableDatabase();
        ReadingList list = null;
        try (Cursor cursor = db.<mark>query</mark>(ReadingListContract.TABLE, null,
                ReadingListContract.Col.ID.getName() + " = ?", new String[]{Long.toString(id)},
                null, null, null)) {
            if (cursor.moveToFirst()) {
                list = ReadingList.DATABASE_TABLE.fromCursor(cursor);
            }
        }
        if (list == null) {
            return null;
        }
        populateListPages(db, list);
        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public static Waypoint loadWaypoint(final int id) {
        if (id == 0) {
            return null;
        }

        init();

        final Cursor cursor = database.<mark>query</mark>(
                dbTableWaypoints,
                WAYPOINT_COLUMNS,
                "_id = ?",
                new String[]{Integer.toString(id)},
                null,
                null,
                null,
                "1");

        Log.d("DataStore.loadWaypoint(" + id + ")");

        final Waypoint waypoint = cursor.moveToFirst() ? createWaypointFromDatabaseContent(cursor) : null;

        cursor.close();

        return waypoint;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____AttachmentDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____AttachmentDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public @NonNull List<DatabaseAttachment> getAttachmentsForMessage(long mmsId) {
    SQLiteDatabase           database = databaseHelper.getReadableDatabase();
    List<DatabaseAttachment> results  = new LinkedList<>();
    Cursor                   cursor   = null;

    try {
      cursor = database.<mark>query</mark>(TABLE_NAME, PROJECTION, MMS_ID + " = ?", new String[] {mmsId+""},
                              null, null, null);

      while (cursor != null && cursor.moveToNext()) {
        results.add(getAttachment(cursor));
      }

      return results;
    } finally {
      if (cursor != null)
        cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public ReadingListPage getRandomPage() {
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                        ReadingListPageContract.Col.STATUS.getName() + " = ?",
                new String[]{Integer.toString(ReadingListPage.STATUS_SAVED)},
                null, null, null)) {
            if (cursor.moveToFirst()) {
                cursor.move(new Random().nextInt(cursor.getCount()));
                return ReadingListPage.DATABASE_TABLE.fromCursor(cursor);
            }
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____QueuedDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____QueuedDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getDraftsCursor() {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns, QueuedSQLiteHelper.COLUMN_TYPE + " = " + QueuedSQLiteHelper.TYPE_DRAFT, null, null, null, null);
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns, QueuedSQLiteHelper.COLUMN_TYPE + " = " + QueuedSQLiteHelper.TYPE_DRAFT, null, null, null, null);
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public List<String> listDomains() {
        List<String> list = new ArrayList<>();

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_WHITELIST,
                new String[] {RecordUnit.COLUMN_DOMAIN},
                null,
                null,
                null,
                null,
                RecordUnit.COLUMN_DOMAIN
        );

        if (cursor == null) {
            return list;
        }

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            list.add(cursor.getString(0));
            cursor.moveToNext();
        }
        cursor.close();

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public List<String> listDomains() {
        List<String> list = new ArrayList<>();

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_WHITELIST,
                new String[] {RecordUnit.COLUMN_DOMAIN},
                null,
                null,
                null,
                null,
                RecordUnit.COLUMN_DOMAIN
        );

        if (cursor == null) return list;

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            list.add(cursor.getString(0));
            cursor.moveToNext();
        }
        cursor.close();

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____WebViewDatabaseClassic_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____WebViewDatabaseClassic.java

android.database.sqlite.SQLiteDatabase.query

/**
     * @see WebViewDatabase#hasUsernamePassword
     */
    private boolean hasEntries(int tableId) {
        if (!checkInitialized()) {
            return false;
        }

        Cursor cursor = null;
        boolean ret = false;
        try {
            cursor = sDatabase.<mark>query</mark>(mTableNames[tableId], ID_PROJECTION,
                    null, null, null, null, null);
            ret = cursor.moveToFirst() == true;
        } catch (IllegalStateException e) {
            Log.e(LOGTAG, "hasEntries", e);
        } finally {
            if (cursor != null) cursor.close();
        }
        return ret;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yxl_____DownloadProvider_____DownloadProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yxl_____DownloadProvider_____DownloadProvider.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/**
     * Updates a row in the database
     */     */
    private Cursor queryRequestHeaders(SQLiteDatabase db, Uri uri) {
        String where = Downloads.RequestHeaders.COLUMN_DOWNLOAD_ID + "="
                + getDownloadIdFromUri(uri);
        String[] projection = new String[]{
                Downloads.RequestHeaders.COLUMN_HEADER,
                Downloads.RequestHeaders.COLUMN_VALUE};
        Cursor cursor = db.<mark>query</mark>(Downloads.RequestHeaders.HEADERS_DB_TABLE,
                projection, where, null, null, null, null);
        return new ReadOnlyCursorWrapper(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____WebViewDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____WebViewDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Find out if there are any passwords saved. 
     *
     * @return TRUE if there is passwords saved
     */
    boolean hasCache() {
        if (!checkInitialized()) {
            return false;
        }

        Cursor cursor = null;
        boolean ret = false;
        try {
            cursor = mCacheDatabase.<mark>query</mark>("cache", ID_PROJECTION,
                    null, null, null, null, null);
            ret = cursor.moveToFirst() == true;
        } catch (IllegalStateException e) {
            Log.e(LOGTAG, "hasCache", e);
        } finally {
            if (cursor != null) cursor.close();
        }
        return ret;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____AvatarDBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____AvatarDBHelper.java

android.database.sqlite.SQLiteDatabase.query


    public boolean hasAvatar(Account account) {

        if (account == null)
            return false;
        if (account.getSignature() == null || account.getSignature().isEmpty())
            return false;

        String selection = AVATAR_COLUMN_SIGNATURE + "=?";

        Cursor cursor = database.<mark>query</mark>(
        AVATAR_TABLE_NAME,
        hasAvatarProjection,
        selection,
        new String[]{account.getSignature()},
        null,
        null,
        null
        );

        boolean hasAvatar = false;

        if (cursor.moveToFirst())
            hasAvatar = true;

        cursor.close();
        return hasAvatar;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkGridItem(String url) {
        if (url == null || url.trim().isEmpty()) return false;


        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_GRID,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {url.trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) result = true;

            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    private Cursor getCursorForSession(Account account, SignalProtocolAddress contact) {
        final SQLiteDatabase db = this.getReadableDatabase();
        String[] selectionArgs = {account.getUuid(),
                contact.getName(),
                Integer.toString(contact.getDeviceId())};
        return db.<mark>query</mark>(SQLiteAxolotlStore.SESSION_TABLENAME,
                null,
                SQLiteAxolotlStore.ACCOUNT + " = ? AND "
                        + SQLiteAxolotlStore.NAME + " = ? AND "
                        + SQLiteAxolotlStore.DEVICE_ID + " = ? ",
                selectionArgs,
                null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ContactDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public List<Contact> getContacts(Contact.ContactType contactType) {
        Cursor cursor = null;
        try {
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            String structuredNameWhere = MobiComDatabaseHelper.CONTACT_TYPE + " = ?";
            cursor = db.<mark>query</mark>(CONTACT, null, structuredNameWhere, new String[]{String.valueOf(contactType.getValue())}, null, null, MobiComDatabaseHelper.FULL_NAME + " asc");
            return getContactList(cursor);
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    public List<ReadingListPage> getAllPagesToBeDeleted() {
        List<ReadingListPage> pages = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.STATUS.getName() + " = ?",
                new String[]{Integer.toString(ReadingListPage.STATUS_QUEUE_FOR_DELETE)},
                null, null, null)) {
            while (cursor.moveToNext()) {
                pages.add(ReadingListPage.DATABASE_TABLE.fromCursor(cursor));
            }
        }
        return pages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>aws_____aws-sdk-android_____SQLiteLocalStorage_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/aws_____aws-sdk-android_____SQLiteLocalStorage.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<Record> getRecords(String identityId, String datasetName) {
        List<Record> records = new ArrayList<Record>();

        SQLiteDatabase db = helper.getWritableDatabase();
        Cursor c = db.<mark>query</mark>(TABLE_RECORDS, RecordColumns.ALL,
                RecordColumns.IDENTITY_ID + " = ? AND "
                        + RecordColumns.DATASET_NAME + " = ?",
                new String[] {
                        identityId, datasetName
                }, null, null, null);
        while (c.moveToNext()) {
            records.add(cursorToRecord(c));
        }
        c.close();

        return records;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DroidPlanner_____Tower_____SessionDB_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DroidPlanner_____Tower_____SessionDB.java

android.database.sqlite.SQLiteDatabase.query


    public long[] getOpenedSessions(){
        SQLiteDatabase db = getReadableDatabase();

        String[] projection = {SessionData._ID};
        String selection = SessionData.COLUMN_NAME_END_TIME + "IS NULL";

        Cursor cursor = db.<mark>query</mark>(SessionData.TABLE_NAME, projection, selection, null, null, null, null);
        long[] sessionIds = new long[cursor.getCount()];
        int index = 0;
        for(boolean hasNext = cursor.moveToFirst(); hasNext; hasNext = cursor.moveToNext()){
            sessionIds[index++] = cursor.getLong(cursor.getColumnIndex(SessionData._ID));
        }

        cursor.close();
        return sessionIds;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Android-SlidingEmojiKeyboard_____EmojiDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Android-SlidingEmojiKeyboard_____EmojiDataSource.java

android.database.sqlite.SQLiteDatabase.query


    public void incrementExistingEntryCountbyOne(String icon) {
        Cursor cursor = database.<mark>query</mark>(EmojiSQLiteHelper.TABLE_RECENTS,
                allColumns, EmojiSQLiteHelper.COLUMN_ICON + " = " + icon, null,
                null, null, null);
        cursor.moveToFirst();
        RecentEntry newRecentEntry = cursorToRecent(cursor);
        cursor.close();
        newRecentEntry.incrementUsageCountByOne();
        ContentValues values = getFilledContentValuesObject(newRecentEntry);
        database.update(EmojiSQLiteHelper.TABLE_RECENTS, values, EmojiSQLiteHelper.COLUMN_ID +"="+ newRecentEntry.getId(), null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_15.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns a map from packageNames to visibility.
     */
    Integer findAccountVisibility(long accountId, String packageName) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        final Cursor cursor = db.<mark>query</mark>(TABLE_VISIBILITY, new String[] {VISIBILITY_VALUE},
                VISIBILITY_ACCOUNTS_ID + "=? AND " + VISIBILITY_PACKAGE + "=? ",
                new String[] {String.valueOf(accountId), packageName}, null, null, null);
        try {
            while (cursor.moveToNext()) {
                return cursor.getInt(0);
            }
        } finally {
            cursor.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vanilla-music_____vanilla_____CoverCache_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vanilla-music_____vanilla_____CoverCache.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/**
		 * Attempts to create a new bitmap object for given song.
		 * Returns null if no cover art was found
		 *
		 * @param song the function will search for artwork of this object
		 * @param maxPxCount the maximum amount of pixels to return (30*30 = 900)
		 */		 */
		private long getUsedSpace() {
			long usedSpace = -1;
			SQLiteDatabase dbh = getWritableDatabase();
			Cursor cursor = dbh.<mark>query</mark>(TABLE_NAME, new String[]{"SUM(size)"}, null, null, null, null, null);
			if (cursor != null) {
				if (cursor.moveToNext())
					usedSpace = cursor.getLong(0);
				cursor.close();
			}
			return usedSpace;
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getTrimmingCursor(int account) {

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        Cursor cursor;

        try {
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>nolanlawson_____Catlog_____CatlogDBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/nolanlawson_____Catlog_____CatlogDBHelper.java

android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.query

	
	public List<FilterItem> findFilterItems() {
		
		synchronized (CatlogDBHelper.class) {
			
			List<FilterItem> filters = new ArrayList<FilterItem>();
			
			Cursor cursor = null;
			try {
				cursor = db.<mark>query</mark>(TABLE_NAME, new String[]{COLUMN_ID, COLUMN_TEXT}, null, null, null, null, null);
				
				while (cursor.moveToNext()) {
					FilterItem filterItem = FilterItem.create(cursor.getInt(0), cursor.getString(1));
					filters.add(filterItem);
				}
			} finally {
				if (cursor != null) {
					cursor.close();
				}
			}
			
			log.d("fetched %d filters", filters.size());
			
			return filters;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tunitowen_____DevDrawer_____Database_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tunitowen_____DevDrawer_____Database.java

android.database.sqlite.SQLiteDatabase.query

    //////////////////////////////////////////////////////
    public List<PackageCollection> getAllFiltersInDatabase()
    {

        connectDB();

        Cursor getAllCursor = db.<mark>query</mark>("devdrawer_filter", null, null, null, null, null, null, null);

		List<PackageCollection> packageCollections = new ArrayList<PackageCollection>();

        getAllCursor.moveToFirst();

        while(!getAllCursor.isAfterLast())
        {

			packageCollections.add(new PackageCollection(getAllCursor.getString(0), getAllCursor.getString(1)));
			getAllCursor.moveToNext();
        }

        getAllCursor.close();
        closeDB();

        return packageCollections;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_19.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public int getSignedPreKeysCount(Account account) {
        String[] columns = {"count(" + SQLiteAxolotlStore.KEY + ")"};
        String[] selectionArgs = {account.getUuid()};
        SQLiteDatabase db = this.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(SQLiteAxolotlStore.SIGNED_PREKEY_TABLENAME,
                columns,
                SQLiteAxolotlStore.ACCOUNT + "=?",
                selectionArgs,
                null, null, null);
        final int count;
        if (cursor.moveToFirst()) {
            count = cursor.getInt(0);
        } else {
            count = 0;
        }
        cursor.close();
        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____SongDb_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____SongDb.java

android.database.sqlite.SQLiteDatabase.query

	
	public Song getFirstSongFromBook(String bookName) {
		SQLiteDatabase db = helper.getReadableDatabase();
		
		String[] columns = new String[] { // column indexes!
		Table.SongInfo.data.name(), // 0
		Table.SongInfo.dataFormatVersion.name(), // 1
		};
		
		Cursor c = db.<mark>query</mark>(Table.SongInfo.tableName(),
			columns,
			Table.SongInfo.bookName + "=?",
			new String[]{bookName},
			null, null, Table.SongInfo.ordering + " asc", "1");
		
		try {
			if (c.moveToNext()) {
				byte[] data = c.getBlob(0); 
				int dataFormatVersion = c.getInt(1); 
				return unmarshallSong(data, dataFormatVersion);
			} else {
				return null;
			}
		} finally {
			c.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public List<FilePathInfo> getFilePathInfo() {
        final SQLiteDatabase db = this.getReadableDatabase();
        final Cursor cursor = db.<mark>query</mark>(Message.TABLENAME, new String[]{Message.UUID, Message.RELATIVE_FILE_PATH, Message.DELETED}, "type in (1,2,5) and "+Message.RELATIVE_FILE_PATH+" is not null", null, null, null, null);
        final List<FilePathInfo> list = new ArrayList<>();
        while (cursor != null && cursor.moveToNext()) {
            list.add(new FilePathInfo(cursor.getString(0), cursor.getString(1), cursor.getInt(2) > 0));
        }
        if (cursor != null) {
            cursor.close();
        }
        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkBookmark(String url) {
        if (url == null || url.trim().isEmpty()) return false;


        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_BOOKMARKS,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {url.trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst())
                result = true;

            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>aws_____aws-sdk-android_____SQLiteLocalStorage_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/aws_____aws-sdk-android_____SQLiteLocalStorage.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public DatasetMetadata getDatasetMetadata(String identityId, String datasetName)
            throws DataStorageException {
        DatasetMetadata dataset = null;

        SQLiteDatabase db = helper.getWritableDatabase();
        Cursor c = db.<mark>query</mark>(TABLE_DATASETS, DatasetColumns.ALL,
                DatasetColumns.IDENTITY_ID + " = ? AND " + DatasetColumns.DATASET_NAME + " = ?",
                new String[] {
                        identityId, datasetName
                }, null, null, null);
        if (c.moveToFirst()) {
            dataset = cursorToDatasetMetadata(c);
        }
        c.close();

        return dataset;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Marlinski_____Rumble_____ContactDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Marlinski_____Rumble_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public Contact getLocalContact() {
        if(localContact != null)
            return localContact;
        SQLiteDatabase database = databaseHelper.getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(TABLE_NAME, null, LOCALUSER+" = 1", null, null, null, null);
        if(cursor == null)
            return null;
        try {
            if(cursor.moveToFirst() && !cursor.isAfterLast()) {
                localContact = cursorToContact(cursor);
                return localContact;
            } else {
                localContact = null;
                return null;
            }
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____BookmarksDBAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____BookmarksDBAdapter.java

android.database.sqlite.SQLiteDatabase.query


  public long getBookmarkId(Integer sura, Integer ayah, int page) {
    Cursor cursor = null;
    try {
      cursor = db.<mark>query</mark>(BookmarksTable.TABLE_NAME,
          null, BookmarksTable.PAGE + "=" + page + " AND " +
              BookmarksTable.SURA + (sura == null ? " IS NULL" : "=" + sura) +
              " AND " + BookmarksTable.AYAH +
              (ayah == null ? " IS NULL" : "=" + ayah), null, null, null, null);
      if (cursor != null && cursor.moveToFirst()) {
        return cursor.getLong(0);
      }
    } catch (Exception e) {
      // swallow the error for now
    } finally {
      DatabaseUtils.closeCursor(cursor);
    }
    return -1;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____BookmarksDBAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____BookmarksDBAdapter.java

android.database.sqlite.SQLiteDatabase.query

  @NonNull
  public List<RecentPage> getRecentPages() {
    List<RecentPage> recents = new ArrayList<>();
    Cursor cursor = null;
    try {
      String[] tableColumns = new String[] { LastPagesTable.ID, LastPagesTable.PAGE, "strftime('%s', " + LastPagesTable.ADDED_DATE + ")" };
      cursor = db.<mark>query</mark>(LastPagesTable.TABLE_NAME, tableColumns, null, null, null, null,
          LastPagesTable.ADDED_DATE + " DESC");
      if (cursor != null) {
        while (cursor.moveToNext()) {
          recents.add(new RecentPage(cursor.getInt(1), cursor.getLong(2)));
        }
      }
    } finally {
      DatabaseUtils.closeCursor(cursor);
    }
    return recents;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____AttachmentDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____AttachmentDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete


  public @NonNull List<DatabaseAttachment> getPendingAttachments() {
    final SQLiteDatabase           database    = databaseHelper.getReadableDatabase();
    final List<DatabaseAttachment> attachments = new LinkedList<>();

    Cursor cursor = null;
    try {
      cursor = database.<mark>query</mark>(TABLE_NAME, PROJECTION, TRANSFER_STATE + " = ?", new String[] {String.valueOf(TRANSFER_PROGRESS_STARTED)}, null, null, null);
      while (cursor != null && cursor.moveToNext()) {
        attachments.add(getAttachment(cursor));
      }
    } finally {
      if (cursor != null) cursor.close();
    }

    return attachments;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkGridItem(String url) {
        if (url == null || url.trim().isEmpty()) {
            return false;
        }

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_GRID,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {url.trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) {
                result = true;
            }
            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____MmsDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____MmsDatabase.java

android.database.sqlite.SQLiteDatabase.query


  /*package*/ void deleteThreads(Set<Long> threadIds) {
    SQLiteDatabase db    = databaseHelper.getWritableDatabase();
    StringBuilder  where = new StringBuilder();
    Cursor cursor        = null;

    for (long threadId : threadIds) {
      where.append(THREAD_ID + " = '").append(threadId).append("' OR ");
    }

    where = new StringBuilder(where.substring(0, where.length() - 4));

    try {
      cursor = db.<mark>query</mark>(TABLE_NAME, new String[] {ID}, where.toString(), null, null, null, null);

      while (cursor != null && cursor.moveToNext()) {
        delete(cursor.getLong(0));
      }

    } finally {
      if (cursor != null)
        cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.beginTransactionNonExclusive
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction


	public List<Marker> listAllMarkers() {
		final SQLiteDatabase db = helper.getReadableDatabase();
		final Cursor c = db.<mark>query</mark>(Db.TABLE_Marker, null, null, null, null, null, null);
		final List<Marker> res = new ArrayList<>();

		try {
			while (c.moveToNext()) {
				res.add(markerFromCursor(c));
			}
		} finally {
			c.close();
		}

		return res;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____BeeminderDbAdapter_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____BeeminderDbAdapter.java

android.database.sqlite.SQLiteDatabase.query


	public String fetchTagString(long goal_id) throws Exception {
		Cursor c = mDb.<mark>query</mark>(GOALTAGS_TABLE, new String[] { KEY_GID, KEY_TID }, KEY_GID + "=" + goal_id, null, null,
				null, null);
		String s = "";
		PingsDbAdapter db = PingsDbAdapter.getInstance();
		try {
			db.openDatabase();
			c.moveToFirst();
			int idx = c.getColumnIndex(KEY_TID);
			while (!c.isAfterLast()) {
				long tid = c.getLong(idx);
				String t = db.getTagName(tid);
				if (t.equals("")) {
					Exception e = new Exception("Could not find tag with id=" + tid);
					throw e;
				}
				s += t + " ";
				c.moveToNext();
			}
		} finally {
			c.close();
			db.closeDatabase();
		}
		return s;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkBookmark(String url) {
        if (url == null || url.trim().isEmpty()) {
            return false;
        }

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_BOOKMARKS,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {url.trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) {
                result = true;
            }
            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.query

	 */
	public Map<String /* gid */, TIntSet /* done reading codes */> getReadingPlanProgressSummaryForSync() {
		final SQLiteDatabase db = helper.getReadableDatabase();
		final Map<String, TIntSet> res = new HashMap<>();
		try (Cursor c = db.<mark>query</mark>(Db.TABLE_ReadingPlanProgress, Array(Db.ReadingPlanProgress.reading_plan_progress_gid, Db.ReadingPlanProgress.reading_code), null, null, null, null, null)) {
			while (c.moveToNext()) {
				final String gid = c.getString(0);
				final int readingCode = c.getInt(1);

				TIntSet set = res.get(gid);
				if (set == null) {
					set = new TIntHashSet();
					res.put(gid, set);
				}

				set.add(readingCode);
			}
		}

		return res;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ankidroid_____Anki-Android_____MetaDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ankidroid_____Anki-Android_____MetaDB.java

android.database.sqlite.SQLiteDatabase.query

     */
    public static int[] getWidgetSmallStatus(Context context) {
        openDBIfClosed(context);
        Cursor cursor = null;
        try {
            cursor = mMetaDb.<mark>query</mark>("smallWidgetStatus", new String[] { "due", "eta" },
                    null, null, null, null, null);
            while (cursor.moveToNext()) {
                return new int[]{cursor.getInt(0), cursor.getInt(1)};
            }
        } catch (SQLiteException e) {
            Timber.e(e, "Error while querying widgetStatus");
        } finally {
            if (cursor != null && !cursor.isClosed()) {
                cursor.close();
            }
        }
        return new int[]{0, 0};
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkDomain(String domain) {
        if (domain == null || domain.trim().isEmpty()) return false;


        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_WHITELIST,
                new String[] {RecordUnit.COLUMN_DOMAIN},
                RecordUnit.COLUMN_DOMAIN + "=?",
                new String[] {domain.trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst())
                result = true;

            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/** Cleans up the tags database, removing all unused tags */	 */
	public String fetchTagString(long pingid) throws Exception {
		Cursor c = mDb.<mark>query</mark>(TAG_PING_TABLE, new String[] { KEY_PID, KEY_TID }, KEY_PID + "=" + pingid, null, null,
				null, null);
		String s = "";
		try {
			c.moveToFirst();
			int idx = c.getColumnIndex(KEY_TID);
			while (!c.isAfterLast()) {
				long tid = c.getLong(idx);
				String t = getTagName(tid);
				if (t.equals("")) {
					Exception e = new Exception("Could not find tag with id=" + tid);
					throw e;
				}
				s += t + " ";
				c.moveToNext();
			}
		} finally {
			c.close();
		}
		return s;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public static Trackable loadTrackable(final String geocode) {
        if (StringUtils.isBlank(geocode)) {
            return null;
        }

        init();

        final Cursor cursor = database.<mark>query</mark>(
                dbTableTrackables,
                new String[]{"updated", "tbcode", "guid", "title", "owner", "released", "goal", "description"},
                "tbcode = ?",
                new String[]{geocode},
                null,
                null,
                null,
                "1");

        final Trackable trackable = cursor.moveToFirst() ? createTrackableFromDatabaseContent(cursor) : null;

        cursor.close();

        return trackable;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zxing_____zxing_____HistoryManager_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zxing_____zxing_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update

  
  public void deleteHistoryItem(int number) {
    SQLiteOpenHelper helper = new DBHelper(activity);
    try (SQLiteDatabase db = helper.<mark>getWritableDatabase</mark>();
         Cursor cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                                  ID_COL_PROJECTION,
                                  null, null, null, null,
                                  DBHelper.TIMESTAMP_COL + " DESC")) {
      cursor.move(number + 1);
      db.delete(DBHelper.TABLE_NAME, DBHelper.ID_COL + '=' + cursor.getString(0), null);
    } catch (SQLException sqle) {
      Log.w(TAG, sqle);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>QuantumBadger_____RedReader_____RawObjectDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/QuantumBadger_____RedReader_____RawObjectDB.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


	public synchronized Collection<E> getAll() {

		final SQLiteDatabase db = getReadableDatabase();

		try {

			final Cursor cursor = db.<mark>query</mark>(TABLE_NAME, fieldNames, null, null, null, null, null);

			try {

				final LinkedList<E> result = new LinkedList<>();
				while(cursor.moveToNext()) result.add(readFromCursor(cursor));
				return result;

			} catch(InstantiationException e) {
				throw new RuntimeException(e);

			} catch(IllegalAccessException e) {
				throw new RuntimeException(e);

			} catch(InvocationTargetException e) {
				throw new RuntimeException(e);

			} finally { cursor.<mark>close</mark>(); }
		} finally { db.<mark>close</mark>(); }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____MentionsDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____MentionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getTrimmingCursor(int account) {

        String where = MentionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, null, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, null, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zom_____Zom-Android_____DictionaryAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zom_____Zom-Android_____DictionaryAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
         * This is a function that should only be used if you know what you're doing.
         * It is only here to clear the appended test data. This clears out all data within
         * the table specified when the database connection was opened.
         * @return Returns TRUE if successful. FALSE if not.
         */         */
        public Cursor getAllEntries(String[] columns, String selection, String[] selectionArgs,
                                    String groupBy, String having, String sortBy, String sortOption) {
            return db.<mark>query</mark>(mDefaultTable, columns, selection, selectionArgs, groupBy,
                    having, sortBy + " " + sortOption);
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____UserManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____UserManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Enable or disable auto sync.
     *
     * @param autoSync
     */     */
    public String getCurrent() {
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(DBContract.User.TABLE_NAME,
                new String[]{DBContract.User.COLUMN_NAME_ID},
                DBContract.User.COLUMN_NAME_IS_CURRENT + " =" + 1, null, null,
                null, null);

        if (cursor.moveToFirst()) {

            String out = cursor.getString(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            return out;
        } else {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jwood_____standup-timer_____MeetingDAO_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/jwood_____standup-timer_____MeetingDAO.java

android.database.sqlite.SQLiteDatabase.query


    public List<Meeting> findAllByTeam(Team team) {
        List<Meeting> meetings = new ArrayList<Meeting>();
        Cursor cursor = null;

        try {
            SQLiteDatabase db = getReadableDatabase();
            cursor = db.<mark>query</mark>(MEETINGS_TABLE_NAME, MEETINGS_ALL_COLUMS, MEETINGS_TEAM_NAME + " = ?", new String[]{team.getName()}, null, null, MEETINGS_MEETING_TIME);
            while (cursor.moveToNext()) {
                meetings.add(createMeetingFromCursorData(cursor));
            }
        } finally {
            closeCursor(cursor);
        }

        Logger.d("Found " + meetings.size() + " meetings");
        Collections.reverse(meetings);
        return meetings;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>TeamAmaze_____AmazeFileManager_____UtilsHandler_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/TeamAmaze_____AmazeFileManager_____UtilsHandler.java

android.database.sqlite.SQLiteDatabase.query


    private String getSshAuthPrivateKeyColumn(String uri, String columnName) {
        //If connection is using key authentication, no need to decrypt the path at all
        SQLiteDatabase sqLiteDatabase = getReadableDatabase();
        Cursor result = sqLiteDatabase.<mark>query</mark>(TABLE_SFTP, new String[]{columnName},
                COLUMN_PATH + " = ?", new String[]{uri},
                null, null, null);
        if(result.moveToFirst())
        {
            try {
                return result.getString(0);
            }
            finally {
                result.close();
            }
        }
        else {
            result.close();
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkDomain(String domain) {
        if (domain == null || domain.trim().isEmpty()) {
            return false;
        }

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_WHITELIST,
                new String[] {RecordUnit.COLUMN_DOMAIN},
                RecordUnit.COLUMN_DOMAIN + "=?",
                new String[] {domain.trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) {
                result = true;
            }
            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Returns a Cursor for all tags in the database, sorted by the indicated
	 * method. "FREQ" sorts by occurence frequency, "ALPHA" chooses alphabetic
	 * sort and "ROWID" sorts by the tag ID.
	 */	 */
	public long getTID(String tag) {
		if (LOCAL_LOGV) Log.v(TAG, "getTID(" + tag + ")");
		// return -1 if not found
		long tid = -1;
		Cursor cursor = mDb.<mark>query</mark>(TAGS_TABLE, new String[] { KEY_ROWID, KEY_TAG }, KEY_TAG + "='" + tag + "'", null,
				null, null, null, null);
		if (LOCAL_LOGV) Log.v(TAG, "getTID: queried for tag=" + tag);
		if (cursor.getCount() > 0) {
			cursor.moveToFirst();
			tid = cursor.getLong(cursor.getColumnIndex(KEY_ROWID));
		}
		cursor.close();
		return tid;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>TeamAmaze_____AmazeFileManager_____UtilsHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/TeamAmaze_____AmazeFileManager_____UtilsHandler.java

android.database.sqlite.SQLiteDatabase.query


    public ArrayList<String[]> getBookmarksList() {

        SQLiteDatabase sqLiteDatabase = getReadableDatabase();

        Cursor cursor = sqLiteDatabase.<mark>query</mark>(getTableForOperation(Operation.BOOKMARKS), null,
                null, null, null, null, null);

        boolean hasNext = cursor.moveToFirst();
        ArrayList<String[]> row = new ArrayList<>();
        while (hasNext) {
            row.add(new String[] {
                    cursor.getString(cursor.getColumnIndex(COLUMN_NAME)),
                    cursor.getString(cursor.getColumnIndex(COLUMN_PATH))
            });
            hasNext = cursor.moveToNext();
        }
        cursor.close();
        return row;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper.java

android.database.sqlite.SQLiteDatabase.query

    @WorkerThread
    public Map<String, Integer> getFavoritesCount() {
        SQLiteDatabase db = getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(
                table_notes,
                new String[]{key_favorite, "COUNT(*)"},
                key_status + " != ?",
                new String[]{DBStatus.LOCAL_DELETED.getTitle()},
                key_favorite,
                null,
                key_favorite);
        Map<String, Integer> favorites = new HashMap<>(cursor.getCount());
        while (cursor.moveToNext()) {
            favorites.put(cursor.getString(0), cursor.getInt(1));
        }
        cursor.close();
        return favorites;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_17.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query

     */
    Map<String, Integer> findAllVisibilityValuesForAccount(Account account) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        Map<String, Integer> result = new HashMap<>();
        final Cursor cursor =
                db.<mark>query</mark>(TABLE_VISIBILITY, new String[] {VISIBILITY_PACKAGE, VISIBILITY_VALUE},
                        SELECTION_ACCOUNTS_ID_BY_ACCOUNT, new String[] {account.name, account.type},
                        null, null, null);
        try {
            while (cursor.moveToNext()) {
                result.put(cursor.getString(0), cursor.getInt(1));
            }
        } finally {
            cursor.close();
        }
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ContactDatabase_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public List<Contact> getContactsByContactNumberAndType(String contactNumber, int contactType) {
        Cursor cursor = null;
        try {
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            String structuredNameWhere = MobiComDatabaseHelper.CONTACT_NO + " = ? AND " + MobiComDatabaseHelper.DEVICE_CONTACT_TYPE + " = ? ";
            cursor = db.<mark>query</mark>(CONTACT, null, structuredNameWhere, new String[]{contactNumber, String.valueOf(contactType)}, null, null, null);
            return getContactList(cursor);
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wildabeast_____BarcodeScanner_____HistoryManager_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wildabeast_____BarcodeScanner_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update

  
  public void deleteHistoryItem(int number) {
    SQLiteOpenHelper helper = new DBHelper(activity);
    SQLiteDatabase db = null;
    Cursor cursor = null;
    try {
      db = helper.<mark>getWritableDatabase</mark>();      
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                        ID_COL_PROJECTION,
                        null, null, null, null,
                        DBHelper.TIMESTAMP_COL + " DESC");
      cursor.move(number + 1);
      db.delete(DBHelper.TABLE_NAME, DBHelper.ID_COL + '=' + cursor.getString(0), null);
    } finally {
      close(cursor, db);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matt-allen_____repay-android_____DatabaseHandler_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/matt-allen_____repay-android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * @param debtID
	 * @return The debt stored against the two given attributes
	 * @throws android.database.SQLException
	 * @throws IndexOutOfBoundsException
	 * @throws java.text.ParseException
	 */	 */
	public Debt getMostRecentDebt() throws ParseException, NullPointerException, SQLiteException,
			CursorIndexOutOfBoundsException{
		SQLiteDatabase db = getReadableDatabase();
		Cursor c;
		c = db.<mark>query</mark>(Names.D_TABLENAME, null, null, null, null, null, null);
		c.moveToLast();
		SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);
		db.close();
		return new Debt(c.getInt(0), c.getString(1), sdf.parse(c.getString(2)),
				new BigDecimal(c.getString(2)), c.getString(3));
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>kabouzeid_____Phonograph_____SongPlayCountStore_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/kabouzeid_____Phonograph_____SongPlayCountStore.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
     * @param songId The song Id to remove.
     */     */
    public Cursor getTopPlayedResults(int numResults) {
        updateResults();

        final SQLiteDatabase database = getReadableDatabase();
        return database.<mark>query</mark>(SongPlayCountColumns.NAME, new String[]{SongPlayCountColumns.ID},
                null, null, null, null, SongPlayCountColumns.PLAY_COUNT_SCORE + " DESC",
                (numResults <= 0 ? null : String.valueOf(numResults)));
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____CanonicalAddressDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____CanonicalAddressDatabase.java

android.database.sqlite.SQLiteDatabase.query


  private void fillCache() {
    Cursor cursor = null;

    try {
      SQLiteDatabase db = databaseHelper.getReadableDatabase();
      cursor            = db.<mark>query</mark>(TABLE, null, null, null, null, null, null);

      while (cursor != null && cursor.moveToNext()) {
        long   id      = cursor.getLong(cursor.getColumnIndexOrThrow(ID_COLUMN));
        String address = cursor.getString(cursor.getColumnIndexOrThrow(ADDRESS_COLUMN));

        if (address == null || address.trim().length() == 0)
          address = "Anonymous";

        idCache.put(id, address);
        addressCache.put(address, id);
      }
    } finally {
      if (cursor != null)
        cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____SongDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____SongDb.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * @return null if there is no song at all
	 */	
	public Song getSong(String bookName, String code) {
		SQLiteDatabase db = helper.getReadableDatabase();
		
		String[] columns = new String[] {
		Table.SongInfo.data.name(), // 0
		Table.SongInfo.dataFormatVersion.name(), // 1
		};
		
		Cursor c = db.<mark>query</mark>(Table.SongInfo.tableName(),
			columns,
			Table.SongInfo.bookName + "=? and " + Table.SongInfo.code + "=?",
			new String[]{bookName, code},
			null, null, null);
		
		try {
			if (c.moveToNext()) {
				byte[] data = c.getBlob(0);
				int dataFormatVersion = c.getInt(1);
				return unmarshallSong(data, dataFormatVersion);
			} else {
				return null;
			}
		} finally {
			c.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageTimerDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____PageTimerDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static PageTimer retrieve(SQLiteDatabase db, String pageId, String lang) throws SQLException {
        PageTimer timer = null;

        Cursor c = db.<mark>query</mark>(TABLE_PAGE_TIMER, null, PAGE_ID + "=? AND " + PAGE_LANGUAGE + "=?", new String[]{pageId, lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            String info = c.getString(c.getColumnIndex(TIMER_INFO));
            String inactive = c.getString(c.getColumnIndex(TIMER_INACTIVE));
            String fail = c.getString(c.getColumnIndex(TIMER_FAIL));
            timer = new PageTimer(info, inactive, fail);
        }
        c.close();
        return timer;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Pushjet_____Pushjet-Android_____DatabaseHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Pushjet_____Pushjet-Android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public PushjetMessage[] getAllMessages() {
        SQLiteDatabase db = this.getReadableDatabase();

        try {
            List<PushjetMessage> result = new ArrayList<>();
            Cursor cMsg = db.<mark>query</mark>(TABLE_MESSAGE, TABLE_MESSAGE_KEYS, null, null, null, null, null);
            if (cMsg.getCount() > 0 && cMsg.moveToFirst()) {
                do {
                    result.add(getMessageFromRow(cMsg));
                } while (cMsg.moveToNext());
            }
            PushjetMessage[] ret = new PushjetMessage[result.size()];
            return result.toArray(ret);
        } finally {
            db.<mark>close</mark>();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	public boolean isPacketAlreadyInserted(int typeId, String hexCode) {
		SQLiteDatabase db = getReadableDatabase();
		Cursor result = null;
		try {
			String[] projection = { DatabaseSchema.PacketSchema.UID };

			String selection = DatabaseSchema.PacketSchema.TYPE + " = "
					+ String.valueOf(typeId) + " AND "
					+ DatabaseSchema.PacketSchema.HEX_CODE + " = '" + hexCode
					+ "'";
			selection = selection.intern();

			result = db.<mark>query</mark>(DatabaseSchema.PacketSchema.TABLE_NAME,
					projection, selection, null, null, null, null);

			if (result == null || result.getCount() == 0) {
				return false;
			}
			return true;
		} finally {
			if (result != null)
				result.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>shouldit_____android-proxy_____DataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/shouldit_____android-proxy_____DataSource.java

android.database.sqlite.SQLiteDatabase.query


    public Map<Long, PacEntity> getAllPac()
    {
        SQLiteDatabase database = DatabaseSQLiteOpenHelper.getInstance(context).getReadableDatabase();

        Map<Long, PacEntity> pacs = new HashMap<Long, PacEntity>();

        Cursor cursor = database.<mark>query</mark>(DatabaseSQLiteOpenHelper.TABLE_PAC, DatabaseSQLiteOpenHelper.TABLE_PAC_COLUMNS, null, null, null, null, DatabaseSQLiteOpenHelper.COLUMN_PAC_URL_FILE + " ASC");

        cursor.moveToFirst();
        while (!cursor.isAfterLast())
        {
            PacEntity pacEntity = cursorToPAC(cursor);
            pacs.put(pacEntity.getId(), pacEntity);
            cursor.moveToNext();
        }
        cursor.close();

        return pacs;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkGridItem(GridItem item) {
        if (item == null || item.getURL() == null || item.getURL().trim().isEmpty())
            return false;


        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_GRID,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {item.getURL().trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) result = true;

            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>novoda_____android-demos_____TaskDBStorage_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/novoda_____android-demos_____TaskDBStorage.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<TaskDBModel> findAll() {
        SQLiteDatabase db = openDB();

        Cursor cursor = db.<mark>query</mark>(
                TABLE_NAME,                     // The table to query
                dbProjection(),                               // The columns to return
                null,                                // The columns for the WHERE clause
                null,                            // The values for the WHERE clause
                null,                                     // don't group the rows
                null,                                     // don't filter by row groups
                null
        );

        return toTaskDBModels(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rovo89_____XposedInstaller_____RepoDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/rovo89_____XposedInstaller_____RepoDb.java

android.database.sqlite.SQLiteDatabase.query


    private static String getString(String table, String searchColumn, String searchValue, String resultColumn) {
        String[] projection = new String[]{resultColumn};
        String where = searchColumn + " = ?";
        String[] whereArgs = new String[]{searchValue};
        Cursor c = sDb.<mark>query</mark>(table, projection, where, whereArgs, null, null, null, "1");
        if (c.moveToFirst()) {
            String result = c.getString(c.getColumnIndexOrThrow(resultColumn));
            c.close();
            return result;
        } else {
            c.close();
            throw new RowNotFoundException("Could not find " + table + "." + searchColumn + " with value '" + searchValue + "'");
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mvarnagiris_____financius-public_____DBMigration_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mvarnagiris_____financius-public_____DBMigration.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert


    private static void v19EnsureIds(SQLiteDatabase db, String tableName) {
        final String serverIdName = tableName + "_server_id";
        final Cursor cursor = db.<mark>query</mark>(tableName, new String[]{BaseColumns._ID}, null, null, null, null, null);
        final ContentValues values = new ContentValues();
        if (cursor != null && cursor.moveToFirst()) {
            values.put(serverIdName, UUID.randomUUID().toString());
            db.update(tableName, values, BaseColumns._ID + "=?", new String[]{String.valueOf(cursor.getLong(0))});
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____QueuedDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____QueuedDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getDraftsCursor() {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns, QueuedSQLiteHelper.COLUMN_TYPE + " = " + QueuedSQLiteHelper.TYPE_DRAFT, null, null, null, QueuedSQLiteHelper.COLUMN_ID + " DESC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns, QueuedSQLiteHelper.COLUMN_TYPE + " = " + QueuedSQLiteHelper.TYPE_DRAFT, null, null, null, QueuedSQLiteHelper.COLUMN_ID + " DESC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public List<ChannelUserMapper> getChannelUserList(Integer channelKey) {
        Cursor cursor = null;
        try {
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            String structuredNameWhere = "";

            structuredNameWhere += "channelKey = ?";
            cursor = db.<mark>query</mark>(CHANNEL_USER_X, null, structuredNameWhere, new String[]{String.valueOf(channelKey)}, null, null, null);
            return getListOfUsers(cursor);

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cping_____LGame_____RecordStoreSqlLite_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cping_____LGame_____RecordStoreSqlLite.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized byte[] getRecord(long recordStorePk, int recordId) {
            Cursor resultCursor = database.<mark>query</mark>(TABLENAME_RECORD,new String[] {COLUMNNAME_RECORD_DATA},COLUMNNAME_RECORD_RECORDNUMBER+"=? AND "+COLUMNNAME_RECORD_RECORDSTORE_FK+"=?",new String[] {Long.toString(recordId),Long.toString(recordStorePk)},null,null,null);
            byte[] data;
            try {
                    if(resultCursor.getCount() == 0) {
                            return null;
                    }
                    resultCursor.moveToFirst();
                    data = resultCursor.getBlob(0);
            } finally {
                    resultCursor.close();
            }
            return data;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkBookmark(Record record) {
        if (record == null || record.getURL() == null || record.getURL().trim().isEmpty())
            return false;


        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_BOOKMARKS,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {record.getURL().trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) result = true;

            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____AccountManagerService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    private String readPasswordInternal(Account account) {
        if (account == null) {
            return null;
        }

        synchronized (mCacheLock) {
            final SQLiteDatabase db = mOpenHelper.getReadableDatabase();
            Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, new String[]{ACCOUNTS_PASSWORD},
                    ACCOUNTS_NAME + "=? AND " + ACCOUNTS_TYPE+ "=?",
                    new String[]{account.name, account.type}, null, null, null);
            try {
                if (cursor.moveToNext()) {
                    return cursor.getString(0);
                }
                return null;
            } finally {
                cursor.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker41_____article-android_____DataSource_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker41_____article-android_____DataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Gets a single source from the database.
     *
     * @param remoteId the remote id of the source to grab.
     * @return the source.
     */    @VisibleForTesting
    Long getCategoryId(String name) {
        Cursor cursor = database.<mark>query</mark>(
                CategoryModel.TABLE,
                null,
                CategoryModel.COLUMN_NAME + "=?",
                new String[] {name},
                null,
                null,
                null);

        if (cursor != null && cursor.moveToFirst()) {
            long id = cursor.getLong(cursor.getColumnIndex(CategoryModel.COLUMN_ID));
            cursor.close();
            return id;
        } else {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query


    public List<ReadingListPage> getAllPagesToBeUnsaved() {
        List<ReadingListPage> pages = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.STATUS.getName() + " = ? AND "
                + ReadingListPageContract.Col.OFFLINE.getName() + " = ?",
                new String[]{Integer.toString(ReadingListPage.STATUS_SAVED), Integer.toString(0)},
                null, null, null)) {
            while (cursor.moveToNext()) {
                pages.add(ReadingListPage.DATABASE_TABLE.fromCursor(cursor));
            }
        }
        return pages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dacer_____SimplePomodoro-android_____TaskRecorder_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dacer_____SimplePomodoro-android_____TaskRecorder.java

android.database.sqlite.SQLiteDatabase.query

	
	private String getInfoByID(int id, String KEY){
		db = mSQLHelper.getReadableDatabase();
		String selection = KEY_ID + "=?";
		String[] selectionArgs = { String.valueOf(id) };
		Cursor cursor = db.<mark>query</mark>(TASKS_TABLE_NAME, null,
				selection, selectionArgs, null, null, null);
		int index = cursor.getColumnIndex(KEY);
		if(cursor.getCount() == 0){
			return "0";
		}
		ArrayList<String> list = new ArrayList<String>();
		for (cursor.moveToFirst(); !(cursor.isAfterLast()); cursor.moveToNext()) {
			if(KEY.equals(KEY_COMPLETED) || KEY.equals(KEY_DELETED)){
				list.add(String.valueOf(cursor.getInt(index)));
			}else{
				list.add(cursor.getString(index));
			}
		}
		cursor.close();
		return list.get(0);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkGridItem(GridItem item) {
        if (item == null || item.getURL() == null || item.getURL().trim().isEmpty()) {
            return false;
        }

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_GRID,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {item.getURL().trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) {
                result = true;
            }
            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query


    public boolean isEmpty() {
        SQLiteDatabase db = getReadableDatabase();

        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.STATUS.getName() + " != ?",
                new String[]{Integer.toString(ReadingListPage.STATUS_QUEUE_FOR_DELETE)},
                null, null, null)) {
            if (cursor.moveToFirst()) {
                return false;
            }
        }

        try (Cursor cursor = db.<mark>query</mark>(ReadingListContract.TABLE, null,
                ReadingListContract.Col.TITLE.getName() + " != ?", new String[]{""},
                null, null, null)) {
            return !cursor.moveToFirst();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getSearchCursor(String where) {
        try {
            return database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker41_____article-android_____DataSource_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker41_____article-android_____DataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Inserts a source into the database. Also will insert a category if that category does not
     * already exist.
     *
     * @param source the source to insert.
     */     */
    public Cursor getArticlesForSource(long remoteSourceId) {
        return database.<mark>query</mark>(
                ArticleModel.TABLE + " a left outer join " + SourceModel.TABLE + " s " +
                    "on a." + ArticleModel.COLUMN_SOURCE_ID + " = s." + SourceModel.COLUMN_REMOTE_ID,
                null,
                ArticleModel.COLUMN_SOURCE_ID + "=?",
                new String[] {Long.toString(remoteSourceId)},
                null,
                null,
                ArticleModel.COLUMN_INSERTED_AT + " desc");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____InteractionsDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____InteractionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int account) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account, null, null, null, InteractionsSQLiteHelper.COLUMN_TIME + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account, null, null, null, InteractionsSQLiteHelper.COLUMN_TIME + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public static Map<LogType, Integer> loadLogCounts(final String geocode) {
        if (StringUtils.isBlank(geocode)) {
            return null;
        }

        init();

        final Map<LogType, Integer> logCounts = new EnumMap<>(LogType.class);

        final Cursor cursor = database.<mark>query</mark>(
                dbTableLogCount,
                new String[]{"type", "count"},
                "geocode = ?",
                new String[]{geocode},
                null,
                null,
                null,
                "100");

        while (cursor.moveToNext()) {
            logCounts.put(LogType.getById(cursor.getInt(0)), cursor.getInt(1));
        }

        cursor.close();

        return logCounts;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Neamar_____KISS_____DBHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Neamar_____KISS_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query

     */
    public static ArrayList<ValuedHistoryRecord> getPreviousResultsForQuery(Context context,
                                                                            String query) {
        ArrayList<ValuedHistoryRecord> records;
        SQLiteDatabase db = getDatabase(context);

        // Cursor query (String table, String[] columns, String selection,
        // String[] selectionArgs, String groupBy, String having, String
        // orderBy)
        Cursor cursor = db.<mark>query</mark>("history", new String[]{"record", "COUNT(*) AS count"},
                "query LIKE ?", new String[]{query + "%"}, "record", null, "COUNT(*) DESC", "10");
        records = readCursor(cursor);
        cursor.close();
        return records;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____MagiskDatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____MagiskDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public List<Policy> getPolicyList(PackageManager pm) {
        try (Cursor c = db.<mark>query</mark>(POLICY_TABLE, null, Utils.fmt("uid/100000=%d", Const.USER_ID),
                null, null, null, null)) {
            List<Policy> ret = new ArrayList<>(c.getCount());
            while (c.moveToNext()) {
                try {
                    Policy policy = new Policy(c, pm);
                    ret.add(policy);
                } catch (PackageManager.NameNotFoundException e) {
                    // The app no longer exist, remove from DB
                    deletePolicy(c.getInt(c.getColumnIndex("uid")));
                }
            }
            Collections.sort(ret);
            return ret;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____ThreadDatabase_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____ThreadDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public long getThreadIdIfExistsFor(Recipients recipients) {
    long[] recipientIds    = getRecipientIds(recipients);
    String recipientsList  = getRecipientsAsString(recipientIds);
    SQLiteDatabase db      = databaseHelper.getReadableDatabase();
    String where           = RECIPIENT_IDS + " = ?";
    String[] recipientsArg = new String[] {recipientsList};
    Cursor cursor          = null;

    try {
      cursor = db.<mark>query</mark>(TABLE_NAME, new String[]{ID}, where, recipientsArg, null, null, null);

      if (cursor != null && cursor.moveToFirst())
        return cursor.getLong(cursor.getColumnIndexOrThrow(ID));
      else
        return -1L;
    } finally {
      if (cursor != null)
        cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____DMDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____DMDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int account) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(true, DMSQLiteHelper.TABLE_DM,
                    allColumns, DMSQLiteHelper.COLUMN_ACCOUNT + " = " + account, null, DMSQLiteHelper.COLUMN_TWEET_ID, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", null);
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(true, DMSQLiteHelper.TABLE_DM,
                    allColumns, DMSQLiteHelper.COLUMN_ACCOUNT + " = " + account, null, DMSQLiteHelper.COLUMN_TWEET_ID, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", null);
        }
        
        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_15.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized List<File> getMediaDirs(boolean blacklisted) {
        Cursor cursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_MEDIADIRS,
                new String[]{TomahawkSQLiteHelper.MEDIADIRS_PATH},
                TomahawkSQLiteHelper.MEDIADIRS_BLACKLISTED + "= ?",
                new String[]{String.valueOf(blacklisted ? TRUE : FALSE)},
                null, null, null);
        cursor.moveToFirst();
        List<File> paths = new ArrayList<>();
        if (!cursor.isAfterLast()) {
            do {
                File dir = new File(cursor.getString(0));
                paths.add(dir);
            } while (cursor.moveToNext());
        }
        cursor.close();
        return paths;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public boolean checkBookmark(Record record) {
        if (record == null || record.getURL() == null || record.getURL().trim().isEmpty()) {
            return false;
        }

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_BOOKMARKS,
                new String[] {RecordUnit.COLUMN_URL},
                RecordUnit.COLUMN_URL + "=?",
                new String[] {record.getURL().trim()},
                null,
                null,
                null
        );

        if (cursor != null) {
            boolean result = false;
            if (cursor.moveToFirst()) {
                result = true;
            }
            cursor.close();

            return result;
        }

        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____AlertController_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____AlertController.java

android.database.sqlite.SQLiteDatabase.query

/** Remove all alerts from the task */    /** Get a list of alerts for the given task */
    public List<Date> getTaskAlerts(TaskIdentifier
            taskId) throws SQLException {
        List<Date> list = new LinkedList<Date>();
        Cursor cursor = alertDatabase.<mark>query</mark>(alertsTable,
                Alert.FIELD_LIST, Alert.TASK + " = ?",
                new String[] { taskId.idAsString() }, null, null, null);

        try {
            if(cursor.getCount() == 0)
                return list;
            do {
                cursor.moveToNext();
                list.add(new Alert(cursor).getDate());
            } while(!cursor.isLast());

            return list;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____InteractionsDataSource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____InteractionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getBackwordCursor(int account) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account, null, null, null, InteractionsSQLiteHelper.COLUMN_TIME + " DESC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account, null, null, null, InteractionsSQLiteHelper.COLUMN_TIME + " DESC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Yuncun_____AbusiveGymReminder_____MsgAndDayRecords_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Yuncun_____AbusiveGymReminder_____MsgAndDayRecords.java

android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.query


    public DayRecord getLastDayRecord(){
        DayRecord lastDayRecord = new DayRecord();
        Cursor cursor = mDatabase.<mark>query</mark>(MsgDBHelper.TABLE_DAYRECORDS, allColumnsDayRecords, null, null, null, null,
                MsgDBHelper.COLUMN_ID + " DESC", "1");
        if(cursor!=null && cursor.getCount()>0) {
            cursor.moveToFirst();
            lastDayRecord = cursorToDayRecord(cursor);
            //Log.d(TAG, "LastDayRecord " + lastDayRecord + " and cursor had " + cursor.getCount() + " elements");
        }else{
            Log.d(TAG, "LastDayRecord query found nothing, returning null");
            return null;
        }
        return lastDayRecord;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dacer_____SimplePomodoro-android_____TaskRecorder_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dacer_____SimplePomodoro-android_____TaskRecorder.java

android.database.sqlite.SQLiteDatabase.query

	
	private String getInfo(String identifier, String KEY){
		db = mSQLHelper.getReadableDatabase();
		String selection = KEY_GOOGLE_TASK_IDENTIFIER + "=?";
		String[] selectionArgs = { identifier };
		Cursor cursor = db.<mark>query</mark>(TASKS_TABLE_NAME, null,
				selection, selectionArgs, null, null, null);
		int index = cursor.getColumnIndex(KEY);
		if(cursor.isNull(index)){
			return "0";
		}
		ArrayList<String> list = new ArrayList<String>();
		for (cursor.moveToFirst(); !(cursor.isAfterLast()); cursor.moveToNext()) {
			if(KEY.equals(KEY_COMPLETED) || KEY.equals(KEY_DELETED)){
				list.add(String.valueOf(cursor.getInt(index)));
			}else{
				list.add(cursor.getString(index));
			}
		}
		cursor.close();
		return list.get(0);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____FavoriteTweetsDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____FavoriteTweetsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getTrimmingCursor(int account) {

        String where = FavoriteTweetsSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        Cursor cursor;

        try {
            cursor = database.<mark>query</mark>(FavoriteTweetsSQLiteHelper.TABLE_FAVORITE_TWEETS,
                    allColumns, where, null, null, null, FavoriteTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(FavoriteTweetsSQLiteHelper.TABLE_FAVORITE_TWEETS,
                    allColumns, where, null, null, null, FavoriteTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____UserManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____UserManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Sets the time of last sync.
     *
     * @param timeStamp
     */     */
    public String getCurrentEmail() {
        Log.d(TAG, "getCurrentEmail");
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(DBContract.User.TABLE_NAME,
                new String[]{DBContract.User.COLUMN_NAME_EMAIL},
                DBContract.User.COLUMN_NAME_IS_CURRENT + " =" + 1, null, null,
                null, null);

        if (cursor.moveToFirst()) {

            String out = cursor.getString(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            return out;
        } else {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    public List<ReadingListPage> getAllPagesToBeSaved() {
        List<ReadingListPage> pages = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.STATUS.getName() + " = ? AND "
                + ReadingListPageContract.Col.OFFLINE.getName() + " = ?",
                new String[]{Integer.toString(ReadingListPage.STATUS_QUEUE_FOR_SAVE), Integer.toString(1)},
                null, null, null)) {
            while (cursor.moveToNext()) {
                pages.add(ReadingListPage.DATABASE_TABLE.fromCursor(cursor));
            }
        }
        return pages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iMeiji_____Toutiao_____NewsChannelDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/iMeiji_____Toutiao_____NewsChannelDao.java

android.database.sqlite.SQLiteDatabase.query


    public List<NewsChannelBean> <mark>query</mark>(int isEnable) {
        Cursor cursor = db.<mark>query</mark>(NewsChannelTable.TABLENAME, null, NewsChannelTable.IS_ENABLE + "=?", new String[]{isEnable + ""}, null, null, null);
        List<NewsChannelBean> list = new ArrayList<>();
        while (cursor.moveToNext()) {
            NewsChannelBean bean = new NewsChannelBean();
            bean.setChannelId(cursor.getString(NewsChannelTable.ID_ID));
            bean.setChannelName(cursor.getString(NewsChannelTable.ID_NAME));
            bean.setIsEnable(cursor.getInt(NewsChannelTable.ID_ISENABLE));
            bean.setPosition(cursor.getInt(NewsChannelTable.ID_POSITION));
            list.add(bean);
        }
        cursor.close();
        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Yuncun_____AbusiveGymReminder_____MsgAndDayRecords_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Yuncun_____AbusiveGymReminder_____MsgAndDayRecords.java

android.database.sqlite.SQLiteDatabase.query


    public List<DayRecord> getAllDayRecords() {
        List<DayRecord> dayrecords = new ArrayList<DayRecord>();

        Cursor cursor = mDatabase.<mark>query</mark>(MsgDBHelper.TABLE_DAYRECORDS,
                allColumnsDayRecords, null, null, null, null, null);

        Cursor dbCursor = mDatabase.<mark>query</mark>(MsgDBHelper.TABLE_DAYRECORDS, null, null, null, null, null, null);
        String[] columnNames = dbCursor.getColumnNames();

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            DayRecord dayRecord = cursorToDayRecord(cursor);
            dayrecords.add(dayRecord);
            cursor.moveToNext();
        }
        // make sure to close the cursor
        cursor.close();
        return dayrecords;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TagController_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TagController.java

android.database.sqlite.SQLiteDatabase.query

/** Deletes the tag and removes tag/task mappings */    /** Returns a TaskModelForView corresponding to the given Tag Name */
    public TagModelForView fetchTagFromName(String name) throws SQLException {
        Cursor cursor = tagDatabase.<mark>query</mark>(true, tagsTable,
                TagModelForView.FIELD_LIST,
                AbstractTagModel.NAME + " = ?", new String[] {name}, null, null, null, null);

        try {
            if (cursor != null && cursor.getCount() > 0) {
                cursor.moveToFirst();
                TagModelForView model = new TagModelForView(cursor);
                return model;
            }
            return null;
        } finally {
            if(cursor != null)
                cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zxing_____zxing_____HistoryManager_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zxing_____zxing_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


  public void trimHistory() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    try (SQLiteDatabase db = helper.getWritableDatabase();
         Cursor cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                                  ID_COL_PROJECTION,
                                  null, null, null, null,
                                  DBHelper.TIMESTAMP_COL + " DESC")) {
      cursor.move(MAX_ITEMS);
      while (cursor.moveToNext()) {
        String id = cursor.getString(0);
        Log.i(TAG, "Deleting scan history ID " + id);
        db.delete(DBHelper.TABLE_NAME, DBHelper.ID_COL + '=' + id, null);
      }
    } catch (SQLException sqle) {
      Log.w(TAG, sqle);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>corbinlc_____GNURootDebian_____DownloadsDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/corbinlc_____GNURootDebian_____DownloadsDB.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


    protected DownloadInfo getDownloadInfoByFileName(String fileName) {
        final SQLiteDatabase sqldb = mHelper.<mark>getReadableDatabase</mark>();
        Cursor itemcur = null;
        try {
            itemcur = sqldb.<mark>query</mark>(DownloadColumns.TABLE_NAME, DC_PROJECTION,
                    DownloadColumns.FILENAME + " = ?",
                    new String[] {
                        fileName
                    }, null, null, null);
            if (null != itemcur && itemcur.moveToFirst()) {
                return getDownloadInfoFromCursor(itemcur);
            }
        } finally {
            if (null != itemcur)
                itemcur.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

     * Don't forget to close the cursor when you're done. */
    private Cursor fetchTaskCursor(String name, long creationDate, String[] fieldList) {
        // truncate millis
        final String where = AbstractTaskModel.NAME + " = ? AND "
                + AbstractTaskModel.CREATION_DATE + " LIKE ?";

        String approximateCreationDate = (creationDate / 1000) + "%";
        Cursor cursor = database.<mark>query</mark>(true, tasksTable, fieldList,
                where, new String[] {name, approximateCreationDate}, null, null, null, null);
        if (cursor == null)
            throw new SQLException("Returned empty set!");

        if (cursor.moveToFirst()) {
            return cursor;
        }
        cursor.close();
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>corbinlc_____GNURootDebian_____DownloadsDB_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/corbinlc_____GNURootDebian_____DownloadsDB.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


    public boolean updateFromDb(DownloadInfo di) {
        final SQLiteDatabase sqldb = mHelper.<mark>getReadableDatabase</mark>();
        Cursor cur = null;
        try {
            cur = sqldb.<mark>query</mark>(DownloadColumns.TABLE_NAME, DC_PROJECTION,
                    DownloadColumns.FILENAME + "= ?",
                    new String[] {
                        di.mFileName
                    }, null, null, null);
            if (null != cur && cur.moveToFirst()) {
                setDownloadInfoFromCursor(di, cur);
                return true;
            }
            return false;
        } finally {
            if (null != cur) {
                cur.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____android_____TopekaDatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/JetBrains_____android_____TopekaDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Creates a quiz corresponding to the projection provided from a cursor row.
     * Currently only {@link QuizTable#PROJECTION} is supported.
     *
     * @param cursor The Cursor containing the data.
     * @return The created quiz.
     */     */
    public static Category getCategoryWith(Context context, String categoryId) {
        SQLiteDatabase readableDatabase = getReadableDatabase(context);
        String[] selectionArgs = {categoryId};
        Cursor data = readableDatabase
                .<mark>query</mark>(CategoryTable.NAME, CategoryTable.PROJECTION, CategoryTable.COLUMN_ID + "=?",
                        selectionArgs, null, null, null);
        data.moveToFirst();
        return getCategory(data, readableDatabase);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	public boolean isProfileParamPresent(PacketAttribute packetAttribute) {
		SQLiteDatabase db = null;
		Cursor result = null;
		try {
			String whereClause = DatabaseSchema.ProfileParams.TYPE + " = "
					+ String.valueOf(packetAttribute.getPacketAttrTypeId())
					+ " AND " + DatabaseSchema.ProfileParams.HEX_CODE + " = '"
					+ packetAttribute.getHexCode() + "'";

			whereClause = whereClause.intern();

			db = getReadableDatabase();

			result = db.<mark>query</mark>(DatabaseSchema.ProfileParams.TABLE_NAME,
					DatabaseSchema.ProfileParams.COLUMNS, whereClause, null,
					null, null, null);

			if (result == null || result.getCount() == 0) {
				return false;
			}
			return true;
		} finally {
			if (result != null)
				result.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_21.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	private void migratePasswords(Context ctx) {

		Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"id", "password",
						"httppassword", "dotcom_password"}, null, null, null, null,
				null
		);
		int numRows = c.getCount();
		c.moveToFirst();

		for (int i = 0; i < numRows; i++) {
			ContentValues values = new ContentValues();

			if (c.getString(1) != null) {
				values.put("password", encryptPassword(c.getString(1)));
			}
			if (c.getString(2) != null) {
				values.put("httppassword", encryptPassword(c.getString(2)));
			}
			if (c.getString(3) != null) {
				values.put("dotcom_password", encryptPassword(c.getString(3)));
			}

			db.update(SETTINGS_TABLE, values, "id=" + c.getInt(0), null);

			c.moveToNext();
		}
		c.close();
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____UserManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____UserManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Delets given user from DB
     *
     * @param user
     */     */
    public String isUser(User user) {
        Log.d(TAG, "isUser");
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(DBContract.User.TABLE_NAME,
                new String[]{DBContract.User.COLUMN_NAME_ID},
                DBContract.User.COLUMN_NAME_EMAIL + " ='" + user.getEmail()
                        + "'", null, null, null, null
        );

        if (cursor.moveToFirst()) {

            String out = cursor.getString(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            return out;
        } else {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>nkanaev_____bubble_____Storage_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/nkanaev_____bubble_____Storage.java

android.database.sqlite.SQLiteDatabase.query


    public ArrayList<Comic> listDirectoryComics() {
        SQLiteDatabase db = mDbHelper.getReadableDatabase();

        Cursor c = db.<mark>query</mark>(
                Book.TABLE_NAME, Book.columns, null, null,
                null, null,
                SORT_ORDER);

        ArrayList<Comic> comics = new ArrayList<>();
        if (c.getCount() == 0) return comics;

        HashSet<String> group = new HashSet<>();
        c.moveToFirst();
        do {
            String filepath = c.getString(c.getColumnIndex(Book.COLUMN_NAME_FILEPATH));
            if (group.contains(filepath))
                continue;
            group.add(filepath);
            comics.add(comicFromCursor(c));
        } while (c.moveToNext());

        c.close();

        return comics;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    public List<ReadingListPage> getAllPagesToBeForcedSave() {
        List<ReadingListPage> pages = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.STATUS.getName() + " = ? AND "
                        + ReadingListPageContract.Col.OFFLINE.getName() + " = ?",
                new String[]{Integer.toString(ReadingListPage.STATUS_QUEUE_FOR_FORCED_SAVE), Integer.toString(1)},
                null, null, null)) {
            while (cursor.moveToNext()) {
                pages.add(ReadingListPage.DATABASE_TABLE.fromCursor(cursor));
            }
        }
        return pages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cping_____LGame_____RecordStoreSqlLite_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cping_____LGame_____RecordStoreSqlLite.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized RecordStore getRecordStore(String recordStoreName) {
            if(recordStoreName == null) {
                    throw new IllegalArgumentException("The parameter 'recordStoreName' must not be null.");
            }
            Cursor resultCursor = database.<mark>query</mark>(RecordStoreSqlLite.TABLENAME_RECORDSTORE, null, "name = ?", new String[] {recordStoreName}, null, null, null);
            RecordStore recordStore;
            try {
                    if(resultCursor.getCount() == 0) {
                            return null;
                    }
                    recordStore = extractRecordStore(resultCursor);
            } finally {
                    resultCursor.close();
            }
            return recordStore;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cping_____LGame_____RecordStoreSqlLite_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cping_____LGame_____RecordStoreSqlLite.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized RecordStore getRecordStore(long pk) {
            if(pk < 0) {
                    throw new IllegalArgumentException("The parameter 'recordStoreName' must not have a negative value.");
            }
            Cursor result;
            RecordStore recordStore;
            result = database.<mark>query</mark>(RecordStoreSqlLite.TABLENAME_RECORDSTORE, null, COLUMNNAME_RECORDSTORE_RECORDSTORE_PK+" = ?", new String[] {pk+""}, null, null, null);
            try {
                    if(result.getCount() == 0) {
                            return null;
                    }
                    recordStore = extractRecordStore(result);
            } finally {
                    result.close();
            }
            return recordStore;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____DatabaseHelper_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

     */
    public int getCachedDirentUsage(String dirID) {
        String[] projection = { DIRENTS_CACHE_COLUMN_DIR_ID };

        String selectClause = String.format("%s = ?",
                DIRENTS_CACHE_COLUMN_DIR_ID);

        String[] selectArgs = { dirID };

        Cursor cursor = database.<mark>query</mark>(
                DIRENTS_CACHE_TABLE_NAME,
                projection,
                selectClause,
                selectArgs,
                null,   // don't group the rows
                null,   // don't filter by row groups
                null);  // The sort order

        if (!cursor.moveToFirst()) {
            cursor.close();
            return 0;
        }

        int count = cursor.getCount();
        cursor.close();

        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public List<Jid> getAccountJids(final boolean enabledOnly) {
        SQLiteDatabase db = this.getReadableDatabase();
        final List<Jid> jids = new ArrayList<>();
        final String[] columns = new String[]{Account.USERNAME, Account.SERVER};
        String where = enabledOnly ? "not options & (1 <<1)" : null;
        Cursor cursor = db.<mark>query</mark>(Account.TABLENAME, columns, where, null, null, null, null);
        try {
            while (cursor.moveToNext()) {
                jids.add(Jid.of(cursor.getString(0), cursor.getString(1), null));
            }
            return jids;
        } catch (Exception e) {
            return jids;
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    Map<Long, Account> findAllDeAccounts() {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        LinkedHashMap<Long, Account> map = new LinkedHashMap<>();
        String[] columns = {ACCOUNTS_ID, ACCOUNTS_TYPE, ACCOUNTS_NAME};
        try (Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, columns,
                null, null, null, null, ACCOUNTS_ID)) {
            while (cursor.moveToNext()) {
                final long accountId = cursor.getLong(0);
                final String accountType = cursor.getString(1);
                final String accountName = cursor.getString(2);

                final Account account = new Account(accountName, accountType);
                map.put(accountId, account);
            }
        }
        return map;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____PersonManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____PersonManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Gets person from ID.
     *
     * @param id
     * @return
     */     */
    public int getPerson(Person person) {
        Log.d(TAG, "getPerson");
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(DBContract.Person.TABLE_NAME,
                new String[]{DBContract.Person.COLUMN_NAME_ID},
                DBContract.Person.COLUMN_NAME_EMAIL + " ='" + person.getEmail()
                        + "'", null, null, null, null
        );

        if (cursor.moveToFirst()) {

            int out = cursor.getInt(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            return out;
        } else {
            return -1;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker41_____article-android_____DataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker41_____article-android_____DataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Gets all articles for a particular source.
     *
     * NOTE: this method does not return the content associated with the article, that would be
     *       slow as some articles can get very large.
     *
     * @param remoteSourceId the source to get articles for.
     * @return a cursor of articles.
     */     */
    public Cursor getAllArticles() {
        return database.<mark>query</mark>(
                ArticleModel.TABLE + " a left outer join " + SourceModel.TABLE + " s " +
                    "on a." + ArticleModel.COLUMN_SOURCE_ID + " = s." + SourceModel.COLUMN_REMOTE_ID,
                null,
                null,
                null,
                null,
                null,
                ArticleModel.COLUMN_INSERTED_AT + " desc");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____SyncDataController_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____SyncDataController.java

android.database.sqlite.SQLiteDatabase.query

/** Get mapping for given task */    /** Get all mappings for the given synchronization service */
    public HashSet<SyncMapping> getSyncMappings(int syncServiceId) throws SQLException {
        HashSet<SyncMapping> list = new HashSet<SyncMapping>();
        Cursor cursor = syncDatabase.<mark>query</mark>(syncTable,
                SyncMapping.FIELD_LIST,
                SyncMapping.SYNC_SERVICE + " = " + syncServiceId,
                null, null, null, null);

        try {
            if(cursor.getCount() == 0)
                return list;
            do {
                cursor.moveToNext();
                list.add(new SyncMapping(cursor));
            } while(!cursor.isLast());

            return list;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public List<Record> listHistory() {
        List<Record> list = new ArrayList<>();

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_HISTORY,
                new String[] {
                        RecordUnit.COLUMN_TITLE,
                        RecordUnit.COLUMN_URL,
                        RecordUnit.COLUMN_TIME
                },
                null,
                null,
                null,
                null,
                RecordUnit.COLUMN_TIME + " desc"
        );

        if (cursor == null) {
            return list;
        }

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            list.add(getRecord(cursor));
            cursor.moveToNext();
        }
        cursor.close();

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>TeamAmaze_____AmazeFileManager_____UtilsHandler_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/TeamAmaze_____AmazeFileManager_____UtilsHandler.java

android.database.sqlite.SQLiteDatabase.query


    public String getSshHostKey(String uri)
    {
        uri = SshClientUtils.encryptSshPathAsNecessary(uri);
        if(uri != null)
        {
            SQLiteDatabase sqLiteDatabase = getReadableDatabase();

            Cursor result = sqLiteDatabase.<mark>query</mark>(TABLE_SFTP, new String[]{COLUMN_HOST_PUBKEY},
                    COLUMN_PATH + " = ?", new String[]{uri},
                    null, null, null);
            if(result.moveToFirst())
            {
                String retval = result.getString(0);
                result.close();
                return retval;
            }
            else
            {
                result.close();
                return null;
            }
        }
        else
        {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____AccountManagerService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    private String readPasswordInternal(UserAccounts accounts, Account account) {
        if (account == null) {
            return null;
        }

        synchronized (accounts.cacheLock) {
            final SQLiteDatabase db = accounts.openHelper.getReadableDatabase();
            Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, new String[]{ACCOUNTS_PASSWORD},
                    ACCOUNTS_NAME + "=? AND " + ACCOUNTS_TYPE+ "=?",
                    new String[]{account.name, account.type}, null, null, null);
            try {
                if (cursor.moveToNext()) {
                    return cursor.getString(0);
                }
                return null;
            } finally {
                cursor.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    Map<String, String> findUserExtrasForAccount(Account account) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabaseUserIsUnlocked();
        Map<String, String> userExtrasForAccount = new HashMap<>();
        String[] selectionArgs = {account.name, account.type};
        try (Cursor cursor = db.<mark>query</mark>(CE_TABLE_EXTRAS,
                COLUMNS_EXTRAS_KEY_AND_VALUE,
                SELECTION_ACCOUNTS_ID_BY_ACCOUNT,
                selectionArgs,
                null, null, null)) {
            while (cursor.moveToNext()) {
                final String tmpkey = cursor.getString(0);
                final String value = cursor.getString(1);
                userExtrasForAccount.put(tmpkey, value);
            }
        }
        return userExtrasForAccount;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____AyahInfoDatabaseHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____AyahInfoDatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query


  private List<AyahMarkerLocation> getVerseMarkersForPage(int page) {
    final List<AyahMarkerLocation> markers = new ArrayList<>();
    Cursor cursor = null;
    try {
      cursor = database.<mark>query</mark>("ayah_markers",
          new String[] { "sura_number", "ayah_number", "x", "y" },
          "page_number = ?", new String[] { String.valueOf(page) }, null,
          null, "sura_number, ayah_number ASC");
      while (cursor.moveToNext()) {
        final int sura = cursor.getInt(0);
        final int ayah = cursor.getInt(1);
        final int x = cursor.getInt(2);
        final int y = cursor.getInt(3);
        markers.add(new AyahMarkerLocation(sura, ayah, x, y));
      }
    } finally {
      DatabaseUtils.closeCursor(cursor);
    }
    return markers;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public List<Record> listHistory() {
        List<Record> list = new ArrayList<>();

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_HISTORY,
                new String[] {
                        RecordUnit.COLUMN_TITLE,
                        RecordUnit.COLUMN_URL,
                        RecordUnit.COLUMN_TIME
                },
                null,
                null,
                null,
                null,
                RecordUnit.COLUMN_TIME + " desc"
        );

        if (cursor == null) return list;

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            list.add(getRecord(cursor));
            cursor.moveToNext();
        }
        cursor.close();

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Returns a TaskModelForView corresponding to the given TaskIdentifier */    /** Create a weighted list of tasks from the db cursor given */
    public Cursor getTaskListCursorById(List<TaskIdentifier> idList) {

        StringBuilder where = new StringBuilder();
        for(int i = 0; i < idList.size(); i++) {
            where.append(KEY_ROWID);
            where.append("=");
            where.append(idList.get(i).idAsString());
            if(i < idList.size()-1)
                where.append(" OR ");
        }

        // hack for empty arrays
        if(idList.size() == 0)
            where.append("0");

        return database.<mark>query</mark>(true, tasksTable,
                TaskModelForList.FIELD_LIST, where.toString(), null, null,
                null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaojianglaile_____Calendar_____ScheduleDao_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiaojianglaile_____Calendar_____ScheduleDao.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public List<Integer> getTaskHintByMonth(int year, int month) {
        List<Integer> taskHint = new ArrayList<>();
        SQLiteDatabase db = mHelper.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(JeekDBConfig.SCHEDULE_TABLE_NAME, new String[]{JeekDBConfig.SCHEDULE_DAY},
                String.format("%s=? and %s=?", JeekDBConfig.SCHEDULE_YEAR,
                        JeekDBConfig.SCHEDULE_MONTH), new String[]{String.valueOf(year), String.valueOf(month)}, null, null, null);
        while (cursor.moveToNext()) {
            taskHint.add(cursor.getInt(0));
        }
        cursor.<mark>close</mark>();
        db.<mark>close</mark>();
        mHelper.<mark>close</mark>();
        return taskHint;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____MessageDatabaseService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____MessageDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public List<Message> getUnreadMessages() {
        String structuredNameWhere = "";
        List<String> structuredNameParamsList = new ArrayList<String>();
        structuredNameWhere += "messageContentType not in (11) AND ";
        structuredNameWhere += "status in (0,3) AND ";
        structuredNameWhere += "type = ? ";
        structuredNameParamsList.add(String.valueOf(Message.MessageType.MT_INBOX.getValue()));
        SQLiteDatabase db = dbHelper.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>("sms", null, structuredNameWhere, structuredNameParamsList.toArray(new String[structuredNameParamsList.size()]), null, null, "createdAt desc limit 10");
        return MessageDatabaseService.getLatestMessageListForNotification(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mthli_____Ninja_____RecordAction_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mthli_____Ninja_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public List<Record> listBookmarks() {
        List<Record> list = new ArrayList<>();

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_BOOKMARKS,
                new String[] {
                        RecordUnit.COLUMN_TITLE,
                        RecordUnit.COLUMN_URL,
                        RecordUnit.COLUMN_TIME
                },
                null,
                null,
                null,
                null,
                RecordUnit.COLUMN_TIME + " desc"
        );

        if (cursor == null) {
            return list;
        }

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            list.add(getRecord(cursor));
            cursor.moveToNext();
        }
        cursor.close();

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Thunderbottom_____UltimateBrowserProject_____RecordAction_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Thunderbottom_____UltimateBrowserProject_____RecordAction.java

android.database.sqlite.SQLiteDatabase.query


    public List<Record> listBookmarks() {
        List<Record> list = new ArrayList<>();

        Cursor cursor = database.<mark>query</mark>(
                RecordUnit.TABLE_BOOKMARKS,
                new String[] {
                        RecordUnit.COLUMN_TITLE,
                        RecordUnit.COLUMN_URL,
                        RecordUnit.COLUMN_TIME
                },
                null,
                null,
                null,
                null,
                RecordUnit.COLUMN_TIME + " desc"
        );

        if (cursor == null) return list;

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            list.add(getRecord(cursor));
            cursor.moveToNext();
        }
        cursor.close();

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____SavedTweetsDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____SavedTweetsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int accountId) {
        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(SavedTweetSQLiteHelper.TABLE_HOME,
                    allColumns, SavedTweetSQLiteHelper.COLUMN_ACCOUNT + " = ?", new String[] { "" + accountId },
                    null, null, SavedTweetSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(SavedTweetSQLiteHelper.TABLE_HOME,
                    allColumns, SavedTweetSQLiteHelper.COLUMN_ACCOUNT + " = ?", new String[] { "" + accountId },
                    null, null, SavedTweetSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public ServiceDiscoveryResult findDiscoveryResult(final String hash, final String ver) {
        SQLiteDatabase db = this.getReadableDatabase();
        String[] selectionArgs = {hash, ver};
        Cursor cursor = db.<mark>query</mark>(ServiceDiscoveryResult.TABLENAME, null,
                ServiceDiscoveryResult.HASH + "=? AND " + ServiceDiscoveryResult.VER + "=?",
                selectionArgs, null, null, null);
        if (cursor.getCount() == 0) {
            cursor.close();
            return null;
        }
        cursor.moveToFirst();

        ServiceDiscoveryResult result = null;
        try {
            result = new ServiceDiscoveryResult(cursor);
        } catch (JSONException e) { /* result is still null */ }

        cursor.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TagController_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TagController.java

android.database.sqlite.SQLiteDatabase.query

/** Get a list of task identifiers for the given tag.
     * This searches for TAGGED tasks only.
     * Use getUntaggedTasks() to get a list of UNTAGGED tasks **/    /** Get a list of all tags */
    public LinkedList<TagModelForView> getAllTags()
            throws SQLException {
        LinkedList<TagModelForView> list = new LinkedList<TagModelForView>();
        Cursor cursor = tagDatabase.<mark>query</mark>(tagsTable,
            TagModelForView.FIELD_LIST, null, null, null, null, null, null);

        try {
	        if(cursor.getCount() == 0)
	            return list;
	        do {
	            cursor.moveToNext();
	            list.add(new TagModelForView(cursor));
	        } while(!cursor.isLast());
        } finally {
        	cursor.close();
        }

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>asksven_____BetterBatteryStats_____ReferenceDBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/asksven_____BetterBatteryStats_____ReferenceDBHelper.java

android.database.sqlite.SQLiteDatabase.query

	 */
	protected List<Reference> fetchAllRows()
	{
	    ArrayList<Reference> ret = new ArrayList<Reference>();
	    try
	    {
	        Cursor c;
	        c = m_db.<mark>query</mark>(TABLE_NAME, COLS, null, null, null, null, "time_created ASC");
	        try
	        {
		        int numRows = c.getCount();
		        c.moveToFirst();
		        for (int i = 0; i < numRows; ++i)
		        {
	
		        	// cctor with id, name, command, command_status
		            Reference row = createReferenceFromRow(c);
		           
		            ret.add(row);
		            c.moveToNext();
		        }
	        }
	        finally
	        {
	        	c.close();
	        }
		}
	    catch (SQLException e)
		{
			Log.d(TAG,"SQLite exception: " + e.getLocalizedMessage());
		}
	    return ret;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>maks_____MGit_____RepoDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/maks_____MGit_____RepoDbManager.java

android.database.sqlite.SQLiteDatabase.query


    private Cursor _searchRepo(String query) {
        String selection = RepoContract.RepoEntry.COLUMN_NAME_LOCAL_PATH
                + " LIKE ? OR " + RepoContract.RepoEntry.COLUMN_NAME_REMOTE_URL
                + " LIKE ? OR "
                + RepoContract.RepoEntry.COLUMN_NAME_LATEST_COMMITTER_UNAME
                + " LIKE ? OR "
                + RepoContract.RepoEntry.COLUMN_NAME_LATEST_COMMIT_MSG
                + " LIKE ?";
        query = "%" + query + "%";
        String[] selectionArgs = { query, query, query, query };
        Cursor cursor = mReadableDatabase.<mark>query</mark>(true,
                RepoContract.RepoEntry.TABLE_NAME,
                RepoContract.RepoEntry.ALL_COLUMNS, selection, selectionArgs,
                null, null, null, null);
        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>kontalk_____androidclient_____SQLiteRosterStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/kontalk_____androidclient_____SQLiteRosterStore.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<RosterPacket.Item> getEntries() {
        SQLiteDatabase db = getReadableDatabase();
        Cursor c = null;
        try {
            c = db.<mark>query</mark>(TABLE_ROSTER, null, null, null, null, null, null);
            if (c != null) {
                List<RosterPacket.Item> items = new ArrayList<>(c.getCount());
                while (c.moveToNext()) {
                    items.add(fromCursor(c));
                }

                return items;
            }

            return null;
        }
        catch (SQLiteException e) {
            return null;
        }
        catch (XmppStringprepException e) {
            return null;
        }
        finally {
            if (c != null) {
                c.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jwood_____standup-timer_____TeamDAO_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/jwood_____standup-timer_____TeamDAO.java

android.database.sqlite.SQLiteDatabase.query


    public Team findByName(String name) {
        Cursor cursor = null;
        Team team = null;
        name = name.trim();

        try {
            SQLiteDatabase db = getReadableDatabase();
            cursor = db.<mark>query</mark>(TEAMS_TABLE_NAME, TEAMS_ALL_COLUMS, TEAMS_NAME + " = ?", new String[]{name}, null, null, null);
            if (cursor.getCount() == 1) {
                if (cursor.moveToFirst()) {
                    long id = cursor.getLong(0);
                    name = cursor.getString(1);
                    team = new Team(id, name);
                }
            }
        } finally {
            closeCursor(cursor);
        }

        Logger.d((team == null ? "Unsuccessfully" : "Successfully") + " found team with a name of '" + name + "'");
        return team;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ContactDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public List<Contact> getAllContactListExcludingLoggedInUser() {
        SQLiteDatabase db = dbHelper.getReadableDatabase();
        if (TextUtils.isEmpty(MobiComUserPreference.getInstance(context).getUserId())) {
            return new ArrayList<Contact>();
        }
        String structuredNameWhere = MobiComDatabaseHelper.USERID + " != ?";
        Cursor cursor = null;
        try {
            cursor = db.<mark>query</mark>(CONTACT, null, structuredNameWhere, new String[]{MobiComUserPreference.getInstance(context).getUserId()}, null, null, MobiComDatabaseHelper.FULL_NAME + " asc");
            return getContactList(cursor);
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>actorapp_____actor-platform_____SQLiteList_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/actorapp_____actor-platform_____SQLiteList.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public ListEngineRecord loadItem(long key) {
        checkTable();

        Cursor cursor = database.<mark>query</mark>("\"" + tableName + "\"", new String[]{"\"ID\"", "\"SORT_KEY\"",
                        "\"QUERY\"", "\"BYTES\""}, "\"ID\"=?",
                new String[]{String.valueOf(key)}, null, null, null);
        if (cursor == null) {
            return null;
        }
        try {
            if (cursor.moveToFirst()) {
                return new ListEngineRecord(key, cursor.getLong(cursor.getColumnIndex("SORT_KEY")),
                        cursor.getString(cursor.getColumnIndex("QUERY")),
                        cursor.getBlob(cursor.getColumnIndex("BYTES")));
            }
        } finally {
            cursor.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____MeasurementManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____MeasurementManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Check whether the given measurement exists
     *
     * @param ID
     * @return
     */
    public void getch(String id) {
        Log.d(TAG, "checkMeasurement");
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database
                .<mark>query</mark>(DBContract.Measurement.TABLE_NAME,
                        new String[]{DBContract.Measurement.COLUMN_NAME_MID_NECK_GIRTH},
                        DBContract.Measurement.COLUMN_NAME_ID + " ='" + id
                                + "'", null, null, null, null
                );

        if (cursor.moveToFirst()) {

            String out = cursor.getString(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query


    private static void findCaches(final SearchSuggestionCursor resultCursor, final String selectionArg) {
        final Cursor cursor = database.<mark>query</mark>(
                dbTableCaches,
                new String[] { "geocode", "name", "type" },
                "geocode IS NOT NULL AND geocode != '' AND (geocode LIKE ? OR name LIKE ? OR owner LIKE ?)",
                new String[] { selectionArg, selectionArg, selectionArg },
                null,
                null,
                "name");
        while (cursor.moveToNext()) {
            final String geocode = cursor.getString(0);
            final String cacheName = cursor.getString(1);
            final String type = cursor.getString(2);
            resultCursor.addCache(geocode, cacheName, type);
        }
        cursor.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/stefan-niedermann_____nextcloud-notes_____NoteSQLiteOpenHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns a list of all Notes in the Database
     *
     * @return List&lt;Note&gt;
     */    @WorkerThread
    private List<DBNote> getNotesCustom(@NonNull String selection, @NonNull String[] selectionArgs, @Nullable String orderBy) {
        SQLiteDatabase db = getReadableDatabase();
        if (selectionArgs.length > 2) {
            Log.v("Note", selection + "   ----   " + selectionArgs[0] + " " + selectionArgs[1] + " " + selectionArgs[2]);
        }
        Cursor cursor = db.<mark>query</mark>(table_notes, columns, selection, selectionArgs, null, null, orderBy);
        List<DBNote> notes = new ArrayList<>();
        while (cursor.moveToNext()) {
            notes.add(getNoteFromCursor(cursor));
        }
        cursor.close();
        return notes;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____MeasurementManager_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____MeasurementManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Get the picture Id given from API to the given measurements given picture type.
     *
     * @param ID
     * @param type
     * @return
     */     */
    public Measurement getMeasurementSync() {
        Measurement out = null;
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database
                .<mark>query</mark>(DBContract.Measurement.TABLE_NAME, DBContract.Measurement.allColumns,
                        DBContract.Measurement.COLUMN_NAME_IS_SYNCED + " = " + 0
                        , null, null, null, null);
        if (cursor.moveToFirst()) {
            out = createMeasurement(cursor);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
        }
        return out;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____HostDatabase_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

	@Override
	public List<PortForwardBean> getPortForwardsForHost(HostBean host) {
		List<PortForwardBean> portForwards = new ArrayList<>();
		if (host == null) {
			return portForwards;
		}

		Cursor c = mDb.<mark>query</mark>(TABLE_PORTFORWARDS, new String[] {
						"_id", FIELD_PORTFORWARD_NICKNAME, FIELD_PORTFORWARD_TYPE, FIELD_PORTFORWARD_SOURCEPORT,
						FIELD_PORTFORWARD_DESTADDR, FIELD_PORTFORWARD_DESTPORT},
				FIELD_PORTFORWARD_HOSTID + " = ?", new String[] {String.valueOf(host.getId())},
				null, null, null);

		while (c.moveToNext()) {
			PortForwardBean pfb = new PortForwardBean(
					c.getInt(0),
					host.getId(),
					c.getString(1),
					c.getString(2),
					c.getInt(3),
					c.getString(4),
					c.getInt(5));
			portForwards.add(pfb);
		}

		c.close();

		return portForwards;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>k9mail_____k-9_____MigrationTo51_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/k9mail_____k-9_____MigrationTo51.java

android.database.sqlite.SQLiteDatabase.query


    private static String replaceContentUriWithContentIdInHtmlPart(
            SQLiteDatabase db, long messageId, String htmlContent) {
        Cursor cursor = db.<mark>query</mark>("attachments", new String[] { "content_uri", "content_id" },
                "content_id IS NOT NULL AND message_id = ?", new String[] { Long.toString(messageId) }, null, null, null);

        try {
            while (cursor.moveToNext()) {
                String contentUriString = cursor.getString(0);
                String contentId = cursor.getString(1);

                // this is not super efficient, but occurs only once or twice
                htmlContent = htmlContent.replace(contentUriString, "cid:" + contentId);
            }
        } finally {
            cursor.close();
        }

        return htmlContent;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____AccountManagerService_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    protected HashMap<String, String> readUserDataForAccountFromDatabaseLocked(
            final SQLiteDatabase db, Account account) {
        HashMap<String, String> userDataForAccount = new HashMap<String, String>();
        Cursor cursor = db.<mark>query</mark>(TABLE_EXTRAS,
                COLUMNS_EXTRAS_KEY_AND_VALUE,
                SELECTION_USERDATA_BY_ACCOUNT,
                new String[]{account.name, account.type},
                null, null, null);
        try {
            while (cursor.moveToNext()) {
                final String tmpkey = cursor.getString(0);
                final String value = cursor.getString(1);
                userDataForAccount.put(tmpkey, value);
            }
        } finally {
            cursor.close();
        }
        return userDataForAccount;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____EmojiDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____EmojiDataSource.java

android.database.sqlite.SQLiteDatabase.query


    public void updateRecent(String icon) {
        try {
            Cursor cursor = database.<mark>query</mark>(EmojiSQLiteHelper.TABLE_RECENTS,
                    allColumns, EmojiSQLiteHelper.COLUMN_ICON + " = " + icon, null,
                    null, null, null);
            cursor.moveToFirst();
            Recent newRecent = cursorToRecent(cursor);
            cursor.close();
            ContentValues values = new ContentValues();
            values.put(EmojiSQLiteHelper.COLUMN_TEXT, newRecent.text);
            values.put(EmojiSQLiteHelper.COLUMN_ICON, newRecent.icon);
            values.put(EmojiSQLiteHelper.COLUMN_COUNT, newRecent.count + 1);
            database.update(EmojiSQLiteHelper.TABLE_RECENTS, values, "_id=" + newRecent.id, null);
        } catch (Exception e) {

        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>opendatakit_____collect_____GoogleMapsMapBoxOfflineTileProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/opendatakit_____collect_____GoogleMapsMapBoxOfflineTileProvider.java

android.database.sqlite.SQLiteDatabase.query


    private void calculateZoomConstraints() {
        if (this.isDatabaseAvailable()) {

            String[] projection = new String[]{"value"};
            String[] minArgs = new String[]{"minzoom"};

            Cursor c = this.database.<mark>query</mark>("metadata", projection, "name = ?", minArgs, null, null, null);

            c.moveToFirst();
            if (!c.isAfterLast()) {
                this.minimumZoom = c.getInt(0);
            }
            c.close();

            String[] maxArgs = new String[]{"maxzoom"};
            c = this.database.<mark>query</mark>("metadata", projection, "name = ?", maxArgs, null, null, null);

            c.moveToFirst();
            if (!c.isAfterLast()) {
                this.maximumZoom = c.getInt(0);
            }
            c.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____SongDb_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____SongDb.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
	 * Delete song book together with its songs.
	 * @return number of songs deleted
	 */	 */
	@Nullable public Pair<String /* bookName */, Song> getAnySong() {
		final SQLiteDatabase db = helper.getReadableDatabase();
		try (Cursor c = db.<mark>query</mark>(Table.SongInfo.tableName(), ToStringArray(Table.SongInfo.bookName, Table.SongInfo.data, Table.SongInfo.dataFormatVersion), null, null, null, null, Table.SongInfo.bookName + " asc, " + Table.SongInfo.ordering + " asc", "1")) {
			if (c.moveToNext()) {
				final String bookName = c.getString(0);
				final byte[] data = c.getBlob(1);
				final int dataFormatVersion = c.getInt(2);
				final Song song = unmarshallSong(data, dataFormatVersion);
				return Pair.create(bookName, song);
			} else {
				return null;
			}
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageItemDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____PageItemDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static List<PageItem> retrieve(SQLiteDatabase db, String pageId, String lang) throws SQLException {
        List<PageItem> statusList = new ArrayList<PageItem>();

        Cursor c = db.<mark>query</mark>(TABLE_PAGE_ITEM, null, PAGE_ID + "=? AND " + PAGE_LANGUAGE + "=?", new String[]{pageId, lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            while (!c.isAfterLast()) {
                String itemTitle = c.getString(c.getColumnIndex(ITEM_TITLE));
                String itemLink = c.getString(c.getColumnIndex(ITEM_LINK));
                PageItem item = new PageItem(itemTitle, itemLink);
                statusList.add(item);
                c.moveToNext();
            }
        }
        c.close();
        return statusList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>plusCubed_____matlog_____CatlogDBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/plusCubed_____matlog_____CatlogDBHelper.java

android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.query


    public List<FilterItem> findFilterItems() {

        synchronized (CatlogDBHelper.class) {

            List<FilterItem> filters = new ArrayList<>();

            Cursor cursor = null;
            try {
                cursor = db.<mark>query</mark>(TABLE_NAME, new String[]{COLUMN_ID, COLUMN_TEXT}, null, null, null, null, null);

                while (cursor.moveToNext()) {
                    FilterItem filterItem = FilterItem.create(cursor.getInt(0), cursor.getString(1));
                    filters.add(filterItem);
                }
            } finally {
                if (cursor != null) {
                    cursor.close();
                }
            }

            log.d("fetched %d filters", filters.size());

            return filters;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    Map<String, String> findAuthTokensByAccount(Account account) {
        SQLiteDatabase db = mDeDatabase.getReadableDatabaseUserIsUnlocked();
        HashMap<String, String> authTokensForAccount = new HashMap<>();
        Cursor cursor = db.<mark>query</mark>(CE_TABLE_AUTHTOKENS,
                COLUMNS_AUTHTOKENS_TYPE_AND_AUTHTOKEN,
                SELECTION_ACCOUNTS_ID_BY_ACCOUNT,
                new String[] {account.name, account.type},
                null, null, null);
        try {
            while (cursor.moveToNext()) {
                final String type = cursor.getString(0);
                final String authToken = cursor.getString(1);
                authTokensForAccount.put(type, authToken);
            }
        } finally {
            cursor.close();
        }
        return authTokensForAccount;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____MeasurementManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____MeasurementManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Creates the measurement object using the fields in the given Cursor
     *
     * @param cursor
     * @return
     */     */
    public boolean isMeasurement(String ID) {
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database
                .<mark>query</mark>(DBContract.Measurement.TABLE_NAME, DBContract.Measurement.allColumns,
                        DBContract.Measurement.COLUMN_NAME_ID + " ='" + ID
                                + "'", null, null, null, null
                );
        if (cursor.moveToFirst()) {
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            return true;
        } else {
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            return false;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____AyahInfoDatabaseHandler_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____AyahInfoDatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query


  private List<SuraHeaderLocation> getSuraHeadersForPage(int page) {
    final List<SuraHeaderLocation> headers = new ArrayList<>();
    Cursor cursor = null;
    try {
      cursor = database.<mark>query</mark>("sura_headers",
          new String[] { "sura_number", "x", "y", "width", "height" },
          "page_number = ?", new String[] { String.valueOf(page) }, null,
          null, "sura_number ASC");
      while (cursor.moveToNext()) {
        final int sura = cursor.getInt(0);
        final int x = cursor.getInt(1);
        final int y = cursor.getInt(2);
        final int width = cursor.getInt(3);
        final int height = cursor.getInt(4);
        headers.add(new SuraHeaderLocation(sura, x, y, width, height));
      }
    } finally {
      DatabaseUtils.closeCursor(cursor);
    }
    return headers;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____ActivityDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____ActivityDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
     * Find out if the tweet is in the database
     * @param tweetId
     * @param account
     * @return number of favorites on that tweet
     */
    public synchronized Cursor getCursor(int account) {

        String where = ActivitySQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(ActivitySQLiteHelper.TABLE_ACTIVITY,
                    allColumns, where, null, null, null, ActivitySQLiteHelper.COLUMN_TIME + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(ActivitySQLiteHelper.TABLE_ACTIVITY,
                    allColumns, where, null, null, null, ActivitySQLiteHelper.COLUMN_TIME + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public HashMap<String, Object> getNotificationOptions(Context ctx) {

		Cursor c = db.<mark>query</mark>("eula", new String[]{"id", "sound", "vibrate",
						"light", "tagline_flag", "tagline"}, "id=0", null, null, null,
				null
		);
		int sound, vibrate, light;
		String tagline;
		HashMap<String, Object> thisHash = new HashMap<String, Object>();
		int numRows = c.getCount();
		if (numRows >= 1) {
			c.moveToFirst();

			sound = c.getInt(1);
			vibrate = c.getInt(2);
			light = c.getInt(3);
			tagline = c.getString(5);
			thisHash.put("sound", sound);
			thisHash.put("vibrate", vibrate);
			thisHash.put("light", light);
			thisHash.put("tagline_flag", c.getInt(4));
			if (tagline != null) {
				thisHash.put("tagline", tagline);
			} else {
				thisHash.put("tagline", "");
			}

		}

		c.close();

		return thisHash;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____DatabaseHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public String getCachedStarredFiles(Account account) {
        String[] projection = {
                STARRED_FILECACHE_COLUMN_CONTENT
        };

        String selectClause = String.format("%s = ?",
                STARRED_FILECACHE_COLUMN_ACCOUNT);

        String[] selectArgs = { account.getSignature() };


        Cursor cursor = database.<mark>query</mark>(
                STARRED_FILECACHE_TABLE_NAME,
                projection,
                selectClause,
                selectArgs,
                null,   // don't group the rows
                null,   // don't filter by row groups
                null);  // The sort order

        if (!cursor.moveToFirst()) {
            cursor.close();
            return null;
        }

        String dir = cursor.getString(0);
        cursor.close();

        return dir;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matt-allen_____repay-android_____DatabaseHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/matt-allen_____repay-android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Convenience method for knowing how many debt entries are in the database
	 * @return Number of debts in database
	 * @throws NullPointerException If no records are found
	 */	 */
	public ArrayList<Friend> getAllFriends() throws SQLException, NullPointerException, CursorIndexOutOfBoundsException{
		SQLiteDatabase db = this.getReadableDatabase();
		ArrayList<Friend> friends = new ArrayList<Friend>();

		Cursor c = db.<mark>query</mark>(Names.F_TABLENAME, new String[]{Names.F_REPAYID, Names.F_LOOKUPURI, Names.F_NAME, Names.F_DEBT},
				null, null, null, null, null);

		if (c != null && c.getCount() > 0)
		{
			c.moveToFirst();

			do
			{
				friends.add(new Friend(c.getString(0), c.getString(1), c.getString(2), new BigDecimal(c.getString(3))));
			}
			while (c.moveToNext());
		}
		db.close();

		return friends;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_23.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public MediaFile getMediaFile(String src, Post post) {

		Cursor c = db.<mark>query</mark>(MEDIA_TABLE, null, "postID=" + post.getId()
				+ " AND filePath='" + src + "'", null, null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		MediaFile mf = new MediaFile();
		if (numRows == 1) {
			mf.setPostID(c.getInt(1));
			mf.setFilePath(c.getString(2));
			mf.setFileName(c.getString(3));
			mf.setTitle(c.getString(4));
			mf.setDescription(c.getString(5));
			mf.setCaption(c.getString(6));
			mf.setHorizontalAlignment(c.getInt(7));
			mf.setWidth(c.getInt(8));
			mf.setHeight(c.getInt(9));
			mf.setMIMEType(c.getString(10));
			mf.setFeatured(c.getInt(11) > 0);
			mf.setVideo(c.getInt(12) > 0);
			mf.setFeaturedInPost(c.getInt(13) > 0);
		} else {
			c.close();
			return null;
		}
		c.close();

		return mf;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>scoute-dich_____K9-MailClient_____MigrationTo51_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/scoute-dich_____K9-MailClient_____MigrationTo51.java

android.database.sqlite.SQLiteDatabase.query


    private static String replaceContentUriWithContentIdInHtmlPart(
            SQLiteDatabase db, long messageId, String htmlContent) {
        Cursor cursor = db.<mark>query</mark>("attachments", new String[] { "content_uri", "content_id" },
                "content_id IS NOT NULL AND message_id = ?", new String[] { Long.toString(messageId) }, null, null, null);

        try {
            while (cursor.moveToNext()) {
                String contentUriString = cursor.getString(0);
                String contentId = cursor.getString(1);
                // this is not super efficient, but occurs only once or twice
                htmlContent = htmlContent.replaceAll(Pattern.quote(contentUriString), "cid:" + contentId);
            }
        } finally {
            cursor.close();
        }

        return htmlContent;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * @param playlistId the id by which to get the correct {@link org.tomahawk.libtomahawk.collection.Playlist}
     * @return the stored {@link org.tomahawk.libtomahawk.collection.Playlist} with playlistId as
     * its id
     */     */
    public String getPlaylistLocalId(String hatchetId) {
        String[] columns = new String[]{TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID};

        Cursor playlistsCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_PLAYLISTS,
                columns, TomahawkSQLiteHelper.PLAYLISTS_COLUMN_HATCHETID + " = ?",
                new String[]{hatchetId}, null, null, null);
        String localId = null;
        if (playlistsCursor.moveToFirst()) {
            localId = playlistsCursor.getString(0);
        }
        playlistsCursor.close();
        return localId;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    private static List<Trackable> loadInventory(final String geocode) {
        if (StringUtils.isBlank(geocode)) {
            return null;
        }

        init();

        final List<Trackable> trackables = new ArrayList<>();

        final Cursor cursor = database.<mark>query</mark>(
                dbTableTrackables,
                new String[]{"_id", "updated", "tbcode", "guid", "title", "owner", "released", "goal", "description", "log_date", "log_type", "log_guid"},
                "geocode = ?",
                new String[]{geocode},
                null,
                null,
                "title COLLATE NOCASE ASC",
                "100");

        while (cursor.moveToNext()) {
            trackables.add(createTrackableFromDatabaseContent(cursor));
        }

        cursor.close();

        return trackables;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dsolonenko_____financisto_____DatabaseAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dsolonenko_____financisto_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query


    public Category getCategoryWithParent(long id) {
        SQLiteDatabase db = db();
        try (Cursor c = db.<mark>query</mark>(V_CATEGORY, CategoryViewColumns.NORMAL_PROJECTION,
            CategoryViewColumns._id + "=?", new String[]{String.valueOf(id)}, null, null, null)) {
            if (c.moveToNext()) {
                Category cat = Category.formCursor(c);
                String s = String.valueOf(id);
                try (Cursor c2 = db.<mark>query</mark>(GET_PARENT_SQL, new String[]{CategoryColumns._id.name()}, null, new String[]{s, s}, null, null, null, "1")) {
                    if (c2.moveToFirst()) {
                        cat.parent = new Category(c2.getLong(0));
                    }
                }
                return cat;
            } else {
                return new Category(-1);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>actorapp_____actor-platform_____SQLiteList_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/actorapp_____actor-platform_____SQLiteList.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public ListEngineRecord loadItemBySortKey(long key) {
        checkTable();

        Cursor cursor = database.<mark>query</mark>("\"" + tableName + "\"", new String[]{"\"ID\"", "\"SORT_KEY\"",
                        "\"QUERY\"", "\"BYTES\""}, "\"SORT_KEY\"=?",
                new String[]{String.valueOf(key)}, null, null, null);
        if (cursor == null) {
            return null;
        }
        try {
            if (cursor.moveToFirst()) {
                return new ListEngineRecord(key, cursor.getLong(cursor.getColumnIndex("SORT_KEY")),
                        cursor.getString(cursor.getColumnIndex("QUERY")),
                        cursor.getBlob(cursor.getColumnIndex("BYTES")));
            }
        } finally {
            cursor.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mjdenham_____and-bible_____MyNoteDBAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mjdenham_____and-bible_____MyNoteDBAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Find bookmark starting at the location specified by key.
	 * If it starts there then the initial part of the key should match.
	 */	
	public List<MyNoteDto> getMyNotesInBook(BibleBook book) {
		Log.d(TAG, "about to getMyNotesInPassage:"+book.getOSIS());
		List<MyNoteDto> notesList = new ArrayList<MyNoteDto>();
		Cursor c = db.<mark>query</mark>(MyNoteQuery.TABLE, MyNoteQuery.COLUMNS, MyNoteColumn.KEY+" LIKE ?", new String []{String.valueOf(book.getOSIS()+".%")}, null, null, null);
		try {
			if (c.moveToFirst()) {
		        while (!c.isAfterLast()) {
		        	MyNoteDto mynote = getMyNoteDto(c);
		    		notesList.add(mynote);
		       	    c.moveToNext();
		        }
			}
		} finally {
	        c.close();
		}
        
		Log.d(TAG, "myNotesInPassage set to " + notesList.size() + " item long list");
        return notesList;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized Resolver.Result findResolverResult(String domain) {
        SQLiteDatabase db = this.getReadableDatabase();
        String where = Resolver.Result.DOMAIN + "=?";
        String[] whereArgs = {domain};
        final Cursor cursor = db.<mark>query</mark>(RESOLVER_RESULTS_TABLENAME, null, where, whereArgs, null, null, null);
        Resolver.Result result = null;
        if (cursor != null) {
            try {
                if (cursor.moveToFirst()) {
                    result = Resolver.Result.fromCursor(cursor);
                }
            } catch (Exception e) {
                Log.d(Config.LOGTAG, "unable to find cached resolver result in database " + e.getMessage());
                return null;
            } finally {
                cursor.close();
            }
        }
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bishopmatthew_____HackerNews_____Comment_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bishopmatthew_____HackerNews_____Comment.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Adds these values to the cache, and deletes any expired comments
	 * 
	 * @param timestamp
	 **/	/** Loads a list of comments form the cache based on the parent storyId. **/
	public static List<Comment> getFromCache(SQLiteDatabase db, long sId) {
		Comment firstComment = new Comment();
		List<Comment> comments = null;
		Cursor c = db.<mark>query</mark>(firstComment.getTableName(), firstComment.getColNames(), STORY_ID + "=?",
				new String[] { Long.toString(sId) }, null, null, null);
		if (c.moveToFirst()) {
			comments = new ArrayList<Comment>();
			firstComment.readFromCursor(c);
			comments.add(firstComment);
			c.moveToNext();
			for (int i = 1; i < c.getCount(); i++) {
				Comment comment = new Comment();
				comment.readFromCursor(c);
				comments.add(comment);
				c.moveToNext();
			}
		}

		c.close();
		return comments;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____HostDatabase_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

	 */
	public List<PortForwardBean> getPortForwardsForHost(HostBean host) {
		List<PortForwardBean> portForwards = new LinkedList<PortForwardBean>();

		synchronized (dbLock) {
			SQLiteDatabase db = this.getReadableDatabase();

			Cursor c = db.<mark>query</mark>(TABLE_PORTFORWARDS, new String[] {
					"_id", FIELD_PORTFORWARD_NICKNAME, FIELD_PORTFORWARD_TYPE, FIELD_PORTFORWARD_SOURCEPORT,
					FIELD_PORTFORWARD_DESTADDR, FIELD_PORTFORWARD_DESTPORT },
					FIELD_PORTFORWARD_HOSTID + " = ?", new String[] { String.valueOf(host.getId()) },
					null, null, null);

			while (c.moveToNext()) {
				PortForwardBean pfb = new PortForwardBean(
					c.getInt(0),
					host.getId(),
					c.getString(1),
					c.getString(2),
					c.getInt(3),
					c.getString(4),
					c.getInt(5));
				portForwards.add(pfb);
			}

			c.close();
		}

		return portForwards;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____MeasurementManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____MeasurementManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close
android.database.sqlite.SQLiteDatabase.close

/**
     * Checks for un synced measurements and gets them
     *
     * @return
     */     */
    public Measurement getMeasurement(String ID) {
        Log.d(TAG, "getMeasurement");
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database
                .<mark>query</mark>(DBContract.Measurement.TABLE_NAME, DBContract.Measurement.allColumns,
                        DBContract.Measurement.COLUMN_NAME_ID + " ='" + ID
                                + "'", null, null, null, null
                );

        Measurement out = null;
        if (cursor.moveToFirst()) {
            out = createMeasurement(cursor);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
        }
        return out;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>murgo_____IrssiNotifier_____DataAccess_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/murgo_____IrssiNotifier_____DataAccess.java

android.database.sqlite.SQLiteDatabase.query


    private List<Channel> getChannels(SQLiteDatabase database) {
        synchronized (DataAccess.class) {
            Cursor cursor = database.<mark>query</mark>("Channel", new String[] {
                    "id", "name", "orderIndex"
            }, null, null, null, null, "orderIndex");
            cursor.moveToFirst();
            List<Channel> list = new ArrayList<Channel>();
            while (!cursor.isAfterLast()) {
                Channel ch = new Channel();
                ch.setId(cursor.getLong(cursor.getColumnIndex("id")));
                ch.setName(cursor.getString(cursor.getColumnIndex("name")));
                ch.setOrder(cursor.getInt(cursor.getColumnIndex("orderIndex")));
                list.add(ch);
                cursor.moveToNext();
            }
    
            cursor.close();
            return list;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ConversationDatabaseService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ConversationDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public Conversation getConversationByConversationId(final Integer conversationId) {
        Conversation conversation = null;
        SQLiteDatabase database = dbHelper.getReadableDatabase();

        String conversationParameters = "";
        List<String> structuredNameParamsList = new ArrayList<>();

        conversationParameters += "key = ? ";
        structuredNameParamsList.add(String.valueOf(conversationId));

        Cursor cursor = database.<mark>query</mark>(MobiComDatabaseHelper.CONVERSATION, null, conversationParameters, structuredNameParamsList.toArray(new String[structuredNameParamsList.size()]), null, null, null);

        if (cursor.moveToFirst()) {
            conversation = getConversation(cursor);
            cursor.close();
        }

        dbHelper.close();
        return conversation;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____RouteDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____RouteDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public List<RouteSummary> savedRoutes() {
    final List<RouteSummary> routes = new ArrayList<>();
    final Cursor cursor = db.<mark>query</mark>(DatabaseHelper.ROUTE_TABLE,
        new String[] { BaseColumns._ID, "journey", "name", "plan", "distance" },
                        null,
                        null,
                        null,
                        null,
                        "last_used desc");
    if (cursor.moveToFirst())
      do  {
        routes.add(new RouteSummary(cursor.getInt(0),
                                    cursor.getInt(1),
                                    cursor.getString(2),
                                    cursor.getString(3),
                                    cursor.getInt(4)));
      }
      while (cursor.moveToNext());

    if (!cursor.isClosed())
      cursor.close();

    return routes;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_18.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public List<SignedPreKeyRecord> loadSignedPreKeys(Account account) {
        List<SignedPreKeyRecord> prekeys = new ArrayList<>();
        SQLiteDatabase db = this.getReadableDatabase();
        String[] columns = {SQLiteAxolotlStore.KEY};
        String[] selectionArgs = {account.getUuid()};
        Cursor cursor = db.<mark>query</mark>(SQLiteAxolotlStore.SIGNED_PREKEY_TABLENAME,
                columns,
                SQLiteAxolotlStore.ACCOUNT + "=?",
                selectionArgs,
                null, null, null);

        while (cursor.moveToNext()) {
            try {
                prekeys.add(new SignedPreKeyRecord(Base64.decode(cursor.getString(cursor.getColumnIndex(SQLiteAxolotlStore.KEY)), Base64.DEFAULT)));
            } catch (IOException ignored) {
            }
        }
        cursor.close();
        return prekeys;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____IpMemoryStoreDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____IpMemoryStoreDatabase.java

android.database.sqlite.SQLiteDatabase.query

    // row is not found or some other error
    static long getExpiry(@NonNull final SQLiteDatabase db, @NonNull final String key) {
        final Cursor cursor = db.<mark>query</mark>(NetworkAttributesContract.TABLENAME,
                EXPIRY_COLUMN, // columns
                SELECT_L2KEY, // selection
                new String[] { key }, // selectionArgs
                null, // groupBy
                null, // having
                null // orderBy
        );
        // L2KEY is the primary key ; it should not be possible to get more than one
        // result here. 0 results means the key was not found.
        if (cursor.getCount() != 1) return EXPIRY_ERROR;
        cursor.moveToFirst();
        final long result = cursor.getLong(0); // index in the EXPIRY_COLUMN array
        cursor.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TagController_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TagController.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

     * Use getUntaggedTasks() to get a list of UNTAGGED tasks **/
    public LinkedList<TaskIdentifier> getTaggedTasks(TagIdentifier tagId)
    		throws SQLException {
        LinkedList<TaskIdentifier> list = new LinkedList<TaskIdentifier>();
        Cursor cursor = tagToTaskMapDatabase.<mark>query</mark>(tagTaskTable,
                TagToTaskMapping.FIELD_LIST, TagToTaskMapping.TAG + " = ?",
                new String[] { tagId.idAsString() }, null, null, null);

        try {
	        if(cursor.getCount() == 0)
	            return list;
	        do {
	            cursor.moveToNext();
	            list.add(new TagToTaskMapping(cursor).getTask());
	        } while(!cursor.isLast());
        } finally {
        	cursor.<mark>close</mark>();
        }

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_20.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update


	public Vector<HashMap<String, Object>> getQuickPressShortcuts(Context ctx,
	                                                              int accountId) {

		Cursor c = db.<mark>query</mark>(QUICKPRESS_SHORTCUTS_TABLE, new String[]{"id",
						"accountId", "name"}, "accountId = " + accountId, null, null,
				null, null
		);
		String id, name;
		int numRows = c.getCount();
		c.moveToFirst();
		Vector<HashMap<String, Object>> accounts = new Vector<HashMap<String, Object>>();
		for (int i = 0; i < numRows; i++) {

			id = c.getString(0);
			name = c.getString(2);
			if (id != null) {
				HashMap<String, Object> thisHash = new HashMap<String, Object>();

				thisHash.put("id", id);
				thisHash.put("name", name);
				accounts.add(thisHash);
			}
			c.moveToNext();
		}
		c.close();

		return accounts;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Pushjet_____Pushjet-Android_____DatabaseHandler_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Pushjet_____Pushjet-Android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public PushjetService getService(String token) {
        SQLiteDatabase db = this.getReadableDatabase();
        PushjetService srv;
        try {
            Cursor cLsn = db.<mark>query</mark>(TABLE_SUBSCRIPTION, TABLE_SUBSCRIPTION_KEYS, KEY_SUBSCRIPTION_TOKEN + " = ?", new String[]{token}, null, null, null);
            cLsn.moveToFirst();
            srv = new PushjetService(
                    cLsn.getString(0),
                    cLsn.getString(2),
                    cLsn.getString(3),
                    cLsn.getString(1),
                    new Date((long) cLsn.getInt(4) * 1000)
            );
        } catch (CursorIndexOutOfBoundsException ignore) {
            srv = new PushjetService(token, "UNKNOWN");
        } finally {
            db.<mark>close</mark>();
        }
        return srv;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageChecklistDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____PageChecklistDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static List<PageChecklist> retrieve(SQLiteDatabase db, String pageId, String lang) throws SQLException {
        List<PageChecklist> statusList = new ArrayList<PageChecklist>();

        Cursor c = db.<mark>query</mark>(TABLE_PAGE_CHECKLIST, null, PAGE_ID + "=? AND " + PAGE_LANGUAGE + "=?", new String[]{pageId, lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            while (!c.isAfterLast()) {
                String itemTitle = c.getString(c.getColumnIndex(CHECKLIST_TITLE));
                String itemLink = c.getString(c.getColumnIndex(CHECKLIST_LINK));
                PageChecklist item = new PageChecklist(itemTitle, itemLink);
                statusList.add(item);
                c.moveToNext();
            }
        }
        c.close();
        return statusList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public MamReference getLastClearDate(Account account) {
        SQLiteDatabase db = this.getReadableDatabase();
        String[] columns = {Conversation.ATTRIBUTES};
        String selection = Conversation.ACCOUNT + "=?";
        String[] args = {account.getUuid()};
        Cursor cursor = db.<mark>query</mark>(Conversation.TABLENAME, columns, selection, args, null, null, null);
        MamReference maxClearDate = new MamReference(0);
        while (cursor.moveToNext()) {
            try {
                final JSONObject o = new JSONObject(cursor.getString(0));
                maxClearDate = MamReference.max(maxClearDate, MamReference.fromAttribute(o.getString(Conversation.ATTRIBUTE_LAST_CLEAR_HISTORY)));
            } catch (Exception e) {
                //ignored
            }
        }
        cursor.close();
        return maxClearDate;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____MapTileProviderDataBase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____MapTileProviderDataBase.java

android.database.sqlite.SQLiteDatabase.isOpen
android.database.sqlite.SQLiteDatabase.query

/**
     * Save tile data to the database, checks if it exists beforehand
     * 
     * @param aTile tile meta data
     * @param tile_data the tile image data
     * @return the size of the tile if successfully added
     * @throws IOException
     */     */
    public boolean hasTile(@NonNull final MapTile aTile) {
        boolean existed = false;
        if (mDatabase.<mark>isOpen</mark>()) {
            final String[] args = new String[] { aTile.rendererID, Integer.toString(aTile.zoomLevel), Integer.toString(aTile.x), Integer.toString(aTile.y) };
            final Cursor c = mDatabase.<mark>query</mark>(T_FSCACHE, new String[] { T_FSCACHE_RENDERER_ID }, T_FSCACHE_WHERE, args, null, null, null);
            existed = c.getCount() > 0;
            c.close();
        }
        return existed;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____ListDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____ListDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getTrimmingCursor(long listId) {

        String where = ListSQLiteHelper.COLUMN_LIST_ID + " = " + listId;

        Cursor cursor;

        try {
            cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                    allColumns,
                    where,
                    null,
                    null,
                    null,
                    ListSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                    allColumns,
                    where,
                    null,
                    null,
                    null,
                    ListSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____AccountDBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____AccountDBHelper.java

android.database.sqlite.SQLiteDatabase.query


    private List<Account> getAccountList(SQLiteDatabase database) {
        List<Account> accounts = Lists.newArrayList();

        String[] projection = {
                AccountDBHelper.ACCOUNT_COLUMN_SERVER,
                AccountDBHelper.ACCOUNT_COLUMN_EMAIL,
                AccountDBHelper.ACCOUNT_COLUMN_TOKEN
        };

        Cursor c = database.<mark>query</mark>(
             AccountDBHelper.ACCOUNT_TABLE_NAME,
             projection,
             null,
             null,
             null,   // don't group the rows
             null,   // don't filter by row groups
             null    // The sort order
        );

        c.moveToFirst();
        while (!c.isAfterLast()) {
            Account account = cursorToAccount(c);
            accounts.add(account);
            c.moveToNext();
        }

        c.close();
        return accounts;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>opendatakit_____collect_____ItemsetDbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/opendatakit_____collect_____ItemsetDbAdapter.java

android.database.sqlite.SQLiteDatabase.query

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            Timber.w("Upgrading database from version %d to %d, which will destroy all old data", oldVersion, newVersion);
            // first drop all of our generated itemset tables
            Cursor c = db.<mark>query</mark>(ITEMSET_TABLE, null, null, null, null, null, null);
            if (c != null) {
                c.move(-1);
                while (c.moveToNext()) {
                    String table = c.getString(c.getColumnIndex(KEY_ITEMSET_HASH));
                    db.execSQL("DROP TABLE IF EXISTS " + DATABASE_TABLE + table);
                }
                c.close();
            }

            // then drop the table tracking itemsets itself
            db.execSQL("DROP TABLE IF EXISTS " + ITEMSET_TABLE);
            onCreate(db);
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * @param playlistId the id by which to get the correct {@link org.tomahawk.libtomahawk.collection.Playlist}
     * @return the playlist's name, null if playlist not found
     */     */
    public String getPlaylistHatchetId(String playlistId) {
        if (playlistId == null) {
            return null;
        }
        String[] columns = new String[]{TomahawkSQLiteHelper.PLAYLISTS_COLUMN_HATCHETID};
        Cursor playlistsCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_PLAYLISTS,
                columns, TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID + " = ?",
                new String[]{playlistId}, null, null, null);
        String hatchetId = null;
        if (playlistsCursor.moveToFirst()) {
            hatchetId = playlistsCursor.getString(0);
        }
        playlistsCursor.close();
        return hatchetId;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____SyncDataController_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____SyncDataController.java

android.database.sqlite.SQLiteDatabase.query

/** Saves the given task to the database. Returns true on success. */    /** Get all mappings for specified task for all synchronization services */
    public HashSet<SyncMapping> getSyncMappings(TaskIdentifier taskId)
            throws SQLException {
        HashSet<SyncMapping> list = new HashSet<SyncMapping>();
        Cursor cursor = syncDatabase.<mark>query</mark>(syncTable,
                SyncMapping.FIELD_LIST,
                SyncMapping.TASK + " = ?",
                new String[] { "" + taskId.getId() },
                null, null, null);

        try {
            if(cursor.getCount() == 0)
                return list;
            do {
                cursor.moveToNext();
                list.add(new SyncMapping(cursor));
            } while(!cursor.isLast());

            return list;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/NordicSemiconductor_____Android-nRF-Toolbox_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.query

/**
	 * Renames the server configuration and replaces its XML (name inside has changed).
	 * @param oldName the old name to look for
	 * @param newName the new configuration name
	 * @param configuration the new XML
	 * @return number of rows affected
	 */	 */
	public long deleteConfiguration(final String name) {
		mSingleArg[0] = name;

		final ContentValues values = mValues;
		values.clear();
		values.put(ConfigurationContract.Configuration.DELETED, 1);
		mDatabase.<mark>update</mark>(Tables.CONFIGURATIONS, values, NAME_SELECTION, mSingleArg);

		final Cursor cursor = mDatabase.<mark>query</mark>(Tables.CONFIGURATIONS, ID_PROJECTION, NAME_SELECTION, mSingleArg, null, null, null);
		try {
			if (cursor.moveToNext())
				return cursor.getLong(0 /* _ID */);
			return -1;
		} finally {
			cursor.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____DatabaseAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns the commodity GUID for the given ISO 4217 currency code
     * @param currencyCode ISO 4217 currency code
     * @return GUID of commodity
     */     */
    public String getUID(long id){
        Cursor cursor = mDb.<mark>query</mark>(mTableName,
                new String[]{DatabaseSchema.CommonColumns.COLUMN_UID},
                DatabaseSchema.CommonColumns._ID + " = " + id,
                null, null, null, null);

        String uid = null;
        try {
            if (cursor.moveToFirst()) {
                uid = cursor.getString(cursor.getColumnIndexOrThrow(DatabaseSchema.CommonColumns.COLUMN_UID));
            } else {
                throw new IllegalArgumentException(mTableName + " Record ID " + id + " does not exist in the db");
            }
        } finally {
            cursor.close();
        }
        return uid;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_22.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public MediaFile[] getMediaFilesForPost(Post p) {

		Cursor c = db.<mark>query</mark>(MEDIA_TABLE, null, "postID=" + p.getId(), null,
				null, null, null);
		int numRows = c.getCount();
		c.moveToFirst();
		MediaFile[] mediaFiles = new MediaFile[numRows];
		for (int i = 0; i < numRows; i++) {

			MediaFile mf = new MediaFile();
			mf.setPostID(c.getInt(1));
			mf.setFilePath(c.getString(2));
			mf.setFileName(c.getString(3));
			mf.setTitle(c.getString(4));
			mf.setDescription(c.getString(5));
			mf.setCaption(c.getString(6));
			mf.setHorizontalAlignment(c.getInt(7));
			mf.setWidth(c.getInt(8));
			mf.setHeight(c.getInt(9));
			mf.setMIMEType(c.getString(10));
			mf.setFeatured(c.getInt(11) > 0);
			mf.setVideo(c.getInt(12) > 0);
			mf.setFeaturedInPost(c.getInt(13) > 0);
			mediaFiles[i] = mf;
			c.moveToNext();
		}
		c.close();

		return mediaFiles;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	private List<Packet> getPackets(String whereClause, String orderBy) {
		SQLiteDatabase db = null;
		Cursor result = null;
		List<Packet> packets = new ArrayList<Packet>();
		try {
			db = getReadableDatabase();
			result = db.<mark>query</mark>(DatabaseSchema.PacketSchema.TABLE_NAME,
					DatabaseSchema.PacketSchema.COLUMNS, whereClause, null,
					null, null, orderBy);

			if (result == null || result.getCount() == 0) {
				return packets;
			}
			result.moveToFirst();

			Log.d(LOG_TAG, "Number of packets matching where clause:"
					+ whereClause + " are: " + result.getCount());
			while (!result.isAfterLast()) {
				Packet packet = getPacket(result);
				packet.addPacketAttributes(getPacketAttributes(packet.getUid()));
				packets.add(packet);
				result.moveToNext();
			}
			return packets;
		} finally {
			if (result != null)
				result.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____UserManager_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____UserManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Gets the time of last sync
     *
     * @return
     */     */
    public boolean getAutoSync() {
        Log.d(TAG, "getAutoSync");
        String email = getCurrentEmail();
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database.<mark>query</mark>(DBContract.User.TABLE_NAME,
                new String[]{DBContract.User.COLUMN_NAME_AUTO_SYNC},
                DBContract.User.COLUMN_NAME_EMAIL + " = '" + email + "'", null, null,
                null, null);

        if (cursor.moveToFirst()) {

            int out = cursor.getInt(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            if (out == 1) {
                return true;
            } else {
                return false;
            }

        } else {
            return false;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>aws_____aws-sdk-android_____SQLiteLocalStorage_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/aws_____aws-sdk-android_____SQLiteLocalStorage.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Close the local storage. Any operation called after this will fail.
     */    @Override
    public long getLastSyncCount(String identityId, String datasetName) {
        long lastSyncCount = 0;

        SQLiteDatabase db = helper.getWritableDatabase();
        Cursor c = db.<mark>query</mark>(TABLE_DATASETS, DatasetColumns.ALL,
                DatasetColumns.IDENTITY_ID + " = ? AND " + DatasetColumns.DATASET_NAME + " = ?",
                new String[] {
                        identityId, datasetName
                }, null, null, null);
        if (c.moveToFirst()) {
            lastSyncCount = c.getInt(c.getColumnIndex(DatasetColumns.LAST_SYNC_COUNT));
        } else {
            Log.w(TAG, String.format("couldn't find %s in %s table",
                    datasetName, TABLE_DATASETS));
        }
        c.close();

        return lastSyncCount;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____InteractionsDataSource_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____InteractionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getUnreadCursor(int account) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + InteractionsSQLiteHelper.COLUMN_UNREAD + " = ?", new String[]{account + "", "1"}, null, null, InteractionsSQLiteHelper.COLUMN_TIME + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + InteractionsSQLiteHelper.COLUMN_UNREAD + " = ?", new String[]{account + "", "1"}, null, null, InteractionsSQLiteHelper.COLUMN_TIME + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>novoda_____android-demos_____TaskDBStorage_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/novoda_____android-demos_____TaskDBStorage.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<TaskDBModel> findAllExpiredBy(long expirationDate) {
        SQLiteDatabase db = openDB();

        String selection = COLUMN_TASK_EXPIRATION + " < ?";
        String[] selectionArgs = {String.valueOf(expirationDate)};


        Cursor cursor = db.<mark>query</mark>(
                TABLE_NAME,                     // The table to query
                dbProjection(),                               // The columns to return
                selection,                                // The columns for the WHERE clause
                selectionArgs,                            // The values for the WHERE clause
                null,                                     // don't group the rows
                null,                                     // don't filter by row groups
                null
        );

        return toTaskDBModels(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____AttachmentDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____AttachmentDatabase.java

android.database.sqlite.SQLiteDatabase.query

  @SuppressWarnings("ResultOfMethodCallIgnored")
  public void deleteAttachmentsForMessage(long mmsId) {
    SQLiteDatabase database = databaseHelper.getWritableDatabase();
    Cursor cursor           = null;

    try {
      cursor = database.<mark>query</mark>(TABLE_NAME, new String[] {DATA, THUMBNAIL}, MMS_ID + " = ?",
                              new String[] {mmsId+""}, null, null, null);

      while (cursor != null && cursor.moveToNext()) {
        String data = cursor.getString(0);
        String thumbnail = cursor.getString(1);

        if (!TextUtils.isEmpty(data)) {
          new File(data).delete();
        }

        if (!TextUtils.isEmpty(thumbnail)) {
          new File(thumbnail).delete();
        }
      }
    } finally {
      if (cursor != null)
        cursor.close();
    }

    database.delete(TABLE_NAME, MMS_ID + " = ?", new String[] {mmsId + ""});
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wildabeast_____BarcodeScanner_____HistoryManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wildabeast_____BarcodeScanner_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete


  public HistoryItem buildHistoryItem(int number) {
    SQLiteOpenHelper helper = new DBHelper(activity);
    SQLiteDatabase db = null;
    Cursor cursor = null;
    try {
      db = helper.getReadableDatabase();
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME, COLUMNS, null, null, null, null, DBHelper.TIMESTAMP_COL + " DESC");
      cursor.move(number + 1);
      String text = cursor.getString(0);
      String display = cursor.getString(1);
      String format = cursor.getString(2);
      long timestamp = cursor.getLong(3);
      String details = cursor.getString(4);
      Result result = new Result(text, null, null, BarcodeFormat.valueOf(format), timestamp);
      return new HistoryItem(result, display, details);
    } finally {
      close(cursor, db);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Odoo-mobile_____framework_____OModel_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Odoo-mobile_____framework_____OModel.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Handle record values for insert, update, delete operation with relation columns
     * Each record have different behaviour, appending, deleting, unlink reference and
     * replacing with new list
     *
     * @param record_id Main record id on which relation values affected
     * @param column    column object of the record (for relation column only)
     * @param values    values list with commands (@see RelCommands)
     */
    public int selectRowId(String selection, String[] args) {
        int row_id = INVALID_ROW_ID;
        SQLiteDatabase db = getReadableDatabase();
        Cursor cr = db.<mark>query</mark>(getTableName(), new String[]{OColumn.ROW_ID}, selection, args, null, null, null);
        try {
            if (cr.moveToFirst()) {
                row_id = cr.getInt(0);
            }
        } finally {
            cr.close();
        }
        return row_id;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>actorapp_____actor-platform_____SQLiteList_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/actorapp_____actor-platform_____SQLiteList.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<ListEngineRecord> loadBackward(Long sortingKey, int limit) {
        checkTable();

        Cursor cursor;
        if (sortingKey == null) {
            cursor = database.<mark>query</mark>("\"" + tableName + "\"",
                    new String[]{"\"LIST_ID\"", "\"ID\"", "\"SORT_KEY\"", "\"QUERY\"", "\"BYTES\""},
                    null, null, null, null, "\"SORT_KEY\" ASC", String.valueOf(limit));
        } else {
            cursor = database.<mark>query</mark>("\"" + tableName + "\"",
                    new String[]{"\"ID\"", "\"SORT_KEY\"", "\"QUERY\"", "\"BYTES\""},
                    "\"SORT_KEY\" > ?",
                    new String[]{
                            String.valueOf(sortingKey)
                    }, null, null, "\"SORT_KEY\" ASC", String.valueOf(limit));
        }

        return loadSlice(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____WebViewDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____WebViewDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Delete cookies which matches (domain, path, name).
     *
     * @param domain If it is null, nothing happens.
     * @param path If it is null, all the cookies match (domain) will be
     *            deleted.
     * @param name If it is null, all the cookies match (domain, path) will be
     *            deleted.
     */
    private boolean hasEntries(int tableId) {
        if (!checkInitialized()) {
            return false;
        }

        Cursor cursor = null;
        boolean ret = false;
        try {
            cursor = mDatabase.<mark>query</mark>(mTableNames[tableId], ID_PROJECTION,
                    null, null, null, null, null);
            ret = cursor.moveToFirst() == true;
        } catch (IllegalStateException e) {
            Log.e(LOGTAG, "hasEntries", e);
        } finally {
            if (cursor != null) cursor.close();
        }
        return ret;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>actorapp_____actor-platform_____SQLiteList_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/actorapp_____actor-platform_____SQLiteList.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<ListEngineRecord> loadForward(Long sortingKey, int limit) {
        checkTable();

        Cursor cursor;
        if (sortingKey == null) {
            cursor = database.<mark>query</mark>("\"" + tableName + "\"",
                    new String[]{"\"LIST_ID\"", "\"ID\"", "\"SORT_KEY\"", "\"QUERY\"", "\"BYTES\""},
                    null, null, null, null, "\"SORT_KEY\" DESC", String.valueOf(limit));
        } else {
            cursor = database.<mark>query</mark>("\"" + tableName + "\"",
                    new String[]{"\"ID\"", "\"SORT_KEY\"", "\"QUERY\"", "\"BYTES\""},
                    "\"SORT_KEY\" < ?",
                    new String[]{
                            String.valueOf(sortingKey)
                    }, null, null, "\"SORT_KEY\" DESC", String.valueOf(limit));
        }

        return loadSlice(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____DatabaseHelper_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public String getCachedDirents(String repoID, String path) {
        String[] projection = {
            DIRENTS_CACHE_COLUMN_DIR_ID
        };

        String selectClause = String.format("%s = ? and %s = ?",
                                            DIRENTS_CACHE_COLUMN_REPO_ID,
                                            DIRENTS_CACHE_COLUMN_PATH);

        String[] selectArgs = { repoID, path };

        Cursor cursor = database.<mark>query</mark>(
            DIRENTS_CACHE_TABLE_NAME,
            projection,
            selectClause,
            selectArgs,
            null,   // don't group the rows
            null,   // don't filter by row groups
            null);  // The sort order

        if (!cursor.moveToFirst()) {
            cursor.close();
            return null;
        }

        String dirID = cursor.getString(0);
        cursor.close();

        return dirID;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____IpMemoryStoreDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____IpMemoryStoreDatabase.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    static NetworkAttributes retrieveNetworkAttributes(@NonNull final SQLiteDatabase db,
            @NonNull final String key) {
        final Cursor cursor = db.<mark>query</mark>(NetworkAttributesContract.TABLENAME,
                null, // columns, null means everything
                NetworkAttributesContract.COLNAME_L2KEY + " = ?", // selection
                new String[] { key }, // selectionArgs
                null, // groupBy
                null, // having
                null); // orderBy
        // L2KEY is the primary key ; it should not be possible to get more than one
        // result here. 0 results means the key was not found.
        if (cursor.getCount() != 1) return null;
        cursor.moveToFirst();
        final NetworkAttributes attributes = readNetworkAttributesLine(cursor);
        cursor.close();
        return attributes;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Ansh1234_____AppDataReader_____SqliteDatabaseReader_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Ansh1234_____AppDataReader_____SqliteDatabaseReader.java

android.database.sqlite.SQLiteDatabase.query

/**
   * This method is used to return the data of an individual row.
   *
   * @param cursor
   * @param columnCount
   * @return
   */
  public static String[] getColumnNames(Context context, String databaseName, String
      tableName) {

    if (context == null || Utils.isEmpty(databaseName) || Utils.isEmpty(tableName)) {
      return null;
    }

    SQLiteDatabase sqLiteDatabase;
    try {
      sqLiteDatabase = context.openOrCreateDatabase(databaseName, 0, null);
    } catch (Exception e) {
      e.printStackTrace();
      return null;
    }
    Cursor cursor = sqLiteDatabase.<mark>query</mark>(tableName, null, null, null, null, null, null);

    if (cursor == null) {
      return null;
    }


    //Get the column names
    String[] columnNames = cursor.getColumnNames();
    if (columnNames == null || columnNames.length == 0) {
      return null;
    }
    return columnNames;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zxing_____zxing_____HistoryManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zxing_____zxing_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete


  public HistoryItem buildHistoryItem(int number) {
    SQLiteOpenHelper helper = new DBHelper(activity);
    try (SQLiteDatabase db = helper.getReadableDatabase();
         Cursor cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                                  COLUMNS,
                                  null, null, null, null,
                                  DBHelper.TIMESTAMP_COL + " DESC")) {
      cursor.move(number + 1);
      String text = cursor.getString(0);
      String display = cursor.getString(1);
      String format = cursor.getString(2);
      long timestamp = cursor.getLong(3);
      String details = cursor.getString(4);
      Result result = new Result(text, null, null, BarcodeFormat.valueOf(format), timestamp);
      return new HistoryItem(result, display, details);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____UserTweetsDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____UserTweetsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getTrimmingCursor(long userId) {

        String where = UserTweetsSQLiteHelper.COLUMN_USER_ID + " = " + userId;

        Cursor cursor;

        try {
            cursor = database.<mark>query</mark>(UserTweetsSQLiteHelper.TABLE_HOME,
                    allColumns,
                    where,
                    null,
                    null,
                    null,
                    UserTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(UserTweetsSQLiteHelper.TABLE_HOME,
                    allColumns,
                    where,
                    null,
                    null,
                    null,
                    UserTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____EmojiDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____EmojiDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update


    public Recent createRecent(String text, String icon) {
        try {
            ContentValues values = new ContentValues();
            values.put(EmojiSQLiteHelper.COLUMN_TEXT, text);
            values.put(EmojiSQLiteHelper.COLUMN_ICON, icon);
            values.put(EmojiSQLiteHelper.COLUMN_COUNT, 0);
            long insertId = database.insert(EmojiSQLiteHelper.TABLE_RECENTS, null,
                    values);
            Cursor cursor = database.<mark>query</mark>(EmojiSQLiteHelper.TABLE_RECENTS,
                    allColumns, EmojiSQLiteHelper.COLUMN_ID + " = " + insertId, null,
                    null, null, null);
            cursor.moveToFirst();
            Recent newRecent = cursorToRecent(cursor);
            cursor.close();
            return newRecent;
        } catch (Exception e) {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>topjohnwu_____MagiskManager_____MagiskDatabaseHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/topjohnwu_____MagiskManager_____MagiskDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public List<List<Integer>> getLogStructure() {
        try (Cursor c = db.<mark>query</mark>(LOG_TABLE, new String[] { "time" }, Utils.fmt("from_uid/100000=%d", Const.USER_ID),
                null, null, null, "time DESC")) {
            List<List<Integer>> ret = new ArrayList<>();
            List<Integer> list = null;
            String dateString = null, newString;
            while (c.moveToNext()) {
                Date date = new Date(c.getLong(c.getColumnIndex("time")));
                newString = DateFormat.getDateInstance(DateFormat.MEDIUM, MagiskManager.locale).format(date);
                if (!TextUtils.equals(dateString, newString)) {
                    dateString = newString;
                    list = new ArrayList<>();
                    ret.add(list);
                }
                list.add(c.getPosition());
            }
            return ret;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____TileLayerDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____TileLayerDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
     * Retrieve a single layer identified by its mysql rowid
     * 
     * @param context Androic Context
     * @param db readable SWLiteDatabase
     * @param rowId the mysql rowid
     * @return a TileLayerServer instance of null if none could be found
     */     */
    public static long getSourceUpdate(@NonNull SQLiteDatabase db, @NonNull String source) {
        Cursor dbresult = db.<mark>query</mark>(SOURCES_TABLE, null, NAME_FIELD + "='" + source + "'", null, null, null, null);
        try {
            if (dbresult.getCount() >= 1) {
                boolean haveEntry = dbresult.moveToFirst();
                if (haveEntry) {
                    return dbresult.getLong(dbresult.getColumnIndex(UPDATED_FIELD));
                }
            }
            return 0;
        } finally {
            dbresult.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>actorapp_____actor-platform_____SQLiteList_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/actorapp_____actor-platform_____SQLiteList.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<ListEngineRecord> loadCenter(Long centerSortKey, int limit) {
        checkTable();

        Cursor cursor;
        if (centerSortKey == null) {
            cursor = database.<mark>query</mark>("\"" + tableName + "\"",
                    new String[]{"\"LIST_ID\"", "\"ID\"", "\"SORT_KEY\"", "\"QUERY\"", "\"BYTES\""},
                    null, null, null, null, "\"SORT_KEY\" DESC", String.valueOf(limit));
            return loadSlice(cursor);
        } else {

            ListEngineRecord centerItem = loadItemBySortKey(centerSortKey);

            ArrayList<ListEngineRecord> ret = new ArrayList<ListEngineRecord>();
            ret.addAll(loadBackward(centerSortKey, limit));
            if (centerItem != null) ret.add(centerItem);
            ret.addAll(loadForward(centerSortKey, limit));
            return ret;
        }


    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	public SentinelPacket getSentinelPacket(int scanType) {
		SQLiteDatabase db = null;
		Cursor result = null;
		try {
			String whereClause = DatabaseSchema.SentinelPacketScehama.SCAN_TYPE
					+ " = " + String.valueOf(scanType);
			whereClause = whereClause.intern();

			db = getReadableDatabase();
			result = db.<mark>query</mark>(DatabaseSchema.SentinelPacketScehama.TABLE_NAME,
					DatabaseSchema.SentinelPacketScehama.COLUMNS, whereClause,
					null, null, null, null);

			if (result == null || result.getCount() == 0) {
				return null;
			}

			result.moveToFirst();
			byte[] byteSeq = result
					.getBlob(result
							.getColumnIndexOrThrow(DatabaseSchema.SentinelPacketScehama.BYTE_SEQ));
			Log.d(LOG_TAG,
					"Number of sentinel packets found are: "
							+ result.getCount());
			return new SentinelPacket(scanType, byteSeq);
		} finally {
			if (result != null)
				result.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	public int numberOfUnconsumedGSMEvents() {
		SQLiteDatabase db = null;
		Cursor result = null;
		try {
			String whereClause = DatabaseSchema.CellularEvent.EVENT_CONSUMED
					+ " = 0 " + " AND "
					+ DatabaseSchema.CellularEvent.EVENT_CODE + " IN ( "
					+ Event.INCOMING_CALL.getEventCode() + ", "
					+ Event.OUTGOING_CALL.getEventCode() + ", "
					+ Event.INCOMING_SMS.getEventCode() + ", "
					+ Event.OUTGOING_SMS.getEventCode() + " ) " + " AND "
					+ DatabaseSchema.CellularEvent.EVENT_NW_TYPE + " = "
					+ Constants.GSM;

			whereClause = whereClause.intern();

			db = getReadableDatabase();

			result = db.<mark>query</mark>(DatabaseSchema.CellularEvent.TABLE_NAME,
					DatabaseSchema.CellularEvent.COLUMNS, whereClause, null,
					null, null, null);

			if (result == null) {
				return 0;
			}
			return result.getCount();
		} finally {
			if (result != null)
				result.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____CanonicalAddressDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____CanonicalAddressDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.update


  public @NonNull String getAddressFromId(long id) {
    String cachedAddress = idCache.get(id);

    if (cachedAddress != null)
      return cachedAddress;

    Cursor cursor = null;

    try {
      Log.w(TAG, "Hitting DB on query [ID].");

      SQLiteDatabase db = databaseHelper.getReadableDatabase();
      cursor            = db.<mark>query</mark>(TABLE, null, ID_COLUMN + " = ?", new String[] {id+""}, null, null, null);

      if (!cursor.moveToFirst())
        return "Anonymous";

      String address = cursor.getString(cursor.getColumnIndexOrThrow(ADDRESS_COLUMN));

      if (address == null || address.trim().equals("")) {
        return "Anonymous";
      } else {
        idCache.put(id, address);
        return address;
      }
    } finally {
      if (cursor != null)
        cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Neamar_____KISS_____DBHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Neamar_____KISS_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query


    public static void removeShortcuts(Context context, String packageName) {
        SQLiteDatabase db = getDatabase(context);

        // Cursor query (String table, String[] columns, String selection,
        // String[] selectionArgs, String groupBy, String having, String
        // orderBy)
        Cursor cursor = db.<mark>query</mark>("shortcuts", new String[]{"name", "package", "icon", "intent_uri", "icon_blob"},
                "intent_uri LIKE ?", new String[]{"%" + packageName + "%"}, null, null, null);

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) { // remove from history
            db.delete("history", "record = ?", new String[]{ShortcutsPojo.SCHEME + cursor.getString(0).toLowerCase(Locale.ROOT)});
            cursor.moveToNext();
        }
        cursor.close();

        //remove shortcuts
        db.delete("shortcuts", "intent_uri LIKE ?", new String[]{"%" + packageName + "%"});
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    List<Account> getSharedAccounts() {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        ArrayList<Account> accountList = new ArrayList<>();
        Cursor cursor = null;
        try {
            cursor = db.<mark>query</mark>(TABLE_SHARED_ACCOUNTS, new String[] {ACCOUNTS_NAME, ACCOUNTS_TYPE},
                    null, null, null, null, null);
            if (cursor != null && cursor.moveToFirst()) {
                int nameIndex = cursor.getColumnIndex(ACCOUNTS_NAME);
                int typeIndex = cursor.getColumnIndex(ACCOUNTS_TYPE);
                do {
                    accountList.add(new Account(cursor.getString(nameIndex),
                            cursor.getString(typeIndex)));
                } while (cursor.moveToNext());
            }
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
        return accountList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Returns null if unsuccessful, otherwise moves cursor to the task.
     * Don't forget to close the cursor when you're done. */    /** Returns a TaskModelForView by name */
    public TaskModelForSync searchForTaskForSync(String name) throws SQLException {
        Cursor cursor = database.<mark>query</mark>(true, tasksTable, TaskModelForSync.FIELD_LIST,
                AbstractTaskModel.NAME + " = ? AND " +
                    AbstractTaskModel.PROGRESS_PERCENTAGE + " < "+
                        AbstractTaskModel.COMPLETE_PERCENTAGE,
                new String[] { name }, null, null, null, null);
        try {
            if (cursor == null || cursor.getCount() == 0)
                return null;
            cursor.moveToFirst();
            TaskModelForSync model = new TaskModelForSync(cursor);
            return model;
        } finally {
            if(cursor != null)
                cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public Conversation findConversation(final Account account, final Jid contactJid) {
        SQLiteDatabase db = this.getReadableDatabase();
        String[] selectionArgs = {account.getUuid(),
                contactJid.asBareJid().toString() + "/%",
                contactJid.asBareJid().toString()
        };
        Cursor cursor = db.<mark>query</mark>(Conversation.TABLENAME, null,
                Conversation.ACCOUNT + "=? AND (" + Conversation.CONTACTJID
                        + " like ? OR " + Conversation.CONTACTJID + "=?)", selectionArgs, null, null, null);
        if (cursor.getCount() == 0) {
            cursor.close();
            return null;
        }
        cursor.moveToFirst();
        Conversation conversation = Conversation.fromCursor(cursor);
        cursor.close();
        if (conversation.getJid() instanceof InvalidJid) {
            return null;
        }
        return conversation;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____DatabaseHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    private void upgradeScreenTimeoutFromNever(SQLiteDatabase db) {
        // See if the timeout is -1 (for "Never").
        Cursor c = db.<mark>query</mark>(TABLE_SYSTEM, new String[] { "_id", "value" }, "name=? AND value=?",
                new String[] { Settings.System.SCREEN_OFF_TIMEOUT, "-1" },
                null, null, null);

        SQLiteStatement stmt = null;
        if (c.getCount() > 0) {
            c.close();
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO system(name,value)"
                        + " VALUES(?,?);");

                // Set the timeout to 30 minutes in milliseconds
                loadSetting(stmt, Settings.System.SCREEN_OFF_TIMEOUT,
                        Integer.toString(30 * 60 * 1000));
            } finally {
                if (stmt != null) stmt.close();
            }
        } else {
            c.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____InteractionsDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____InteractionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor interactionExists(long tweetId, int account) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + InteractionsSQLiteHelper.COLUMN_TWEET_ID + " = ?", new String[]{account + "", tweetId + ""}, null, null, InteractionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(InteractionsSQLiteHelper.TABLE_INTERACTIONS,
                    allColumns, InteractionsSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + InteractionsSQLiteHelper.COLUMN_TWEET_ID + " = ?", new String[]{account + "", tweetId + ""}, null, null, InteractionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tunitowen_____DevDrawer_____Database_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tunitowen_____DevDrawer_____Database.java

android.database.sqlite.SQLiteDatabase.query

    ////////////////////////////////////////////////////////////////
    public String[] getAllAppsInDatabase(String order)
    {
        String[] packages;

        connectDB();

        Cursor getAllCursor = db.<mark>query</mark>("devdrawer_app", null, null, null, null, null,
										(order.equals(Constants.ORDER_ORIGINAL)) ? null : "package ASC",
										null);

        Log.d("DATABASE", "getAllAppsInDatabase: " + Integer.toString(getAllCursor.getCount()) );

        getAllCursor.moveToFirst();

        packages = new String[getAllCursor.getCount()];

        int i=0;

        while(!getAllCursor.isAfterLast())
        {
            packages[i] = getAllCursor.getString(1);
            i++;
            getAllCursor.moveToNext();
        }

        getAllCursor.close();
        closeDB();

		if (order.equals(Constants.ORDER_ORIGINAL))
		{
			Collections.reverse(Arrays.asList(packages));
		}

        return packages;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public Channel getChannelByChannelKey(final Integer channelKey) {
        Channel channel = null;
        try {
            String structuredNameWhere = MobiComDatabaseHelper.CHANNEL_KEY + " =?";
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            Cursor cursor = db.<mark>query</mark>(CHANNEL, null, structuredNameWhere, new String[]{String.valueOf(channelKey)}, null, null, null);
            try {
                if (cursor != null) {
                    if (cursor.getCount() > 0) {
                        cursor.moveToFirst();
                        channel = getChannel(cursor);
                    }
                }

            } finally {
                if (cursor != null) {
                    cursor.close();
                }
                dbHelper.close();
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return channel;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_browser_____BrowserProvider2_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_browser_____BrowserProvider2.java

android.database.sqlite.SQLiteDatabase.query

     */
    private long insertSettingsInTransaction(SQLiteDatabase db, ContentValues values) {
        String key = values.getAsString(Settings.KEY);
        if (TextUtils.isEmpty(key)) {
            throw new IllegalArgumentException("Must include the KEY field");
        }
        String[] keyArray = new String[] { key };
        Cursor cursor = null;
        try {
            cursor = db.<mark>query</mark>(TABLE_SETTINGS, new String[] { Settings.KEY },
                    Settings.KEY + "=?", keyArray, null, null, null);
            if (cursor.moveToNext()) {
                long id = cursor.getLong(0);
                db.update(TABLE_SETTINGS, values, Settings.KEY + "=?", keyArray);
                return id;
            } else {
                return db.insertOrThrow(TABLE_SETTINGS, Settings.VALUE, values);
            }
        } finally {
            if (cursor != null) cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ContactDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ContactDatabase.java

android.database.sqlite.SQLiteDatabase.query


    public Contact getContactById(String id) {
        Cursor cursor = null;
        try {
            if (TextUtils.isEmpty(id)) {
                return null;
            }
            String structuredNameWhere = MobiComDatabaseHelper.USERID + " =?";
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            cursor = db.<mark>query</mark>(CONTACT, null, structuredNameWhere, new String[]{id}, null, null, null);
            Contact contact = null;
            if (cursor != null) {
                if (cursor.getCount() > 0) {
                    cursor.moveToFirst();
                    contact = getContact(cursor);
                }
            }
            return contact;
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>microg_____android_packages_apps_GmsCore_____NodeDatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/microg_____android_packages_apps_GmsCore_____NodeDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    private static Cursor getDataItemsByHostAndPath(SQLiteDatabase db, String packageName, String signatureDigest, String host, String path) {
        String[] params;
        String selection;
        if (path == null) {
            params = new String[]{packageName, signatureDigest};
            selection = "packageName =? AND signatureDigest =?";
        } else if (host == null) {
            params = new String[]{packageName, signatureDigest, path};
            selection = "packageName =? AND signatureDigest =? AND path =?";
        } else {
            params = new String[]{packageName, signatureDigest, host, path};
            selection = "packageName =? AND signatureDigest =? AND host =? AND path =?";
        }
        selection += " AND deleted=0";
        return db.<mark>query</mark>("dataItemsAndAssets", GDIBHAP_FIELDS, selection, params, null, null, "packageName, signatureDigest, host, path");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageStatusDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____PageStatusDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static List<PageStatus> retrieve(SQLiteDatabase db, String pageId, String lang) throws SQLException {
        List<PageStatus> statusList = new ArrayList<PageStatus>();

        Cursor c = db.<mark>query</mark>(TABLE_PAGE_STATUS, null, PAGE_ID + "=? AND " + PAGE_LANGUAGE + "=?", new String[]{pageId, lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            while (!c.isAfterLast()) {
                String statusTitle = c.getString(c.getColumnIndex(STATUS_TITLE));
                String statusColor = c.getString(c.getColumnIndex(STATUS_COLOR));
                String statusLink = c.getString(c.getColumnIndex(STATUS_LINK));
                PageStatus status = new PageStatus(statusTitle, statusColor, statusLink);
                statusList.add(status);
                c.moveToNext();
            }
        }
        c.close();
        return statusList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>aws_____aws-sdk-android_____SQLiteLocalStorage_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/aws_____aws-sdk-android_____SQLiteLocalStorage.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Converts a Cursor object into a Record object. This could potentially
     * throws exception if the stored record has bogus data that fails the
     * constructor.
     * 
     * @param c a Cursor object
     * @return a Record object.
     */    @Override
    public Record getRecord(String identityId, String datasetName, String key) {
        Record record = null;

        SQLiteDatabase db = helper.getWritableDatabase();
        Cursor c = db.<mark>query</mark>(TABLE_RECORDS, RecordColumns.ALL,
                RecordColumns.IDENTITY_ID + " = ? AND "
                        + RecordColumns.DATASET_NAME + " = ? AND "
                        + RecordColumns.KEY + " = ?",
                new String[] {
                        identityId, datasetName, key
                }, null, null, null);
        if (c.moveToFirst()) {
            record = cursorToRecord(c);
        }
        c.close();

        return record;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitoyarzun_____zxingfragmentlib_____HistoryManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mitoyarzun_____zxingfragmentlib_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


  public List<HistoryItem> buildHistoryItems() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    List<HistoryItem> items = new ArrayList<>();
    SQLiteDatabase db = null;
    Cursor cursor = null;
    try {
      db = helper.<mark>getReadableDatabase</mark>();
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME, COLUMNS, null, null, null, null, DBHelper.TIMESTAMP_COL + " DESC");
      while (cursor.moveToNext()) {
        String text = cursor.getString(0);
        String display = cursor.getString(1);
        String format = cursor.getString(2);
        long timestamp = cursor.getLong(3);
        String details = cursor.getString(4);
        Result result = new Result(text, null, null, BarcodeFormat.valueOf(format), timestamp);
        items.add(new HistoryItem(result, display, details));
      }
    } finally {
      close(cursor, db);
    }
    return items;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public Channel getChannelByClientGroupId(String clientGroupId) {
        Channel channel = null;
        try {
            String structuredNameWhere = MobiComDatabaseHelper.CLIENT_GROUP_ID + " =?";
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            Cursor cursor = db.<mark>query</mark>(CHANNEL, null, structuredNameWhere, new String[]{String.valueOf(clientGroupId)}, null, null, null);
            try {
                if (cursor != null) {
                    if (cursor.getCount() > 0) {
                        cursor.moveToFirst();
                        channel = getChannel(cursor);
                    }
                }
            } finally {
                if (cursor != null) {
                    cursor.close();
                }
                dbHelper.close();
            }

        } catch (Exception e) {
            e.printStackTrace();
        }
        return channel;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____MeasurementManager_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____MeasurementManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Deletes the given measurement and add it's ID to delete table.
     *
     * @param ID
     * @param personID
     */     */
    public boolean isSyncedOnce(String ID) {
        Log.d(TAG, "isSyncedOnce");
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database
                .<mark>query</mark>(DBContract.Measurement.TABLE_NAME,
                        new String[]{DBContract.Measurement.COLUMN_NAME_SYNCED_ONCE},
                        DBContract.Measurement.COLUMN_NAME_ID + " = '" + ID + "'"
                        , null, null, null, null);
        if (cursor.moveToFirst()) {
            int val = cursor.getInt(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            if (val == 1) {
                return true;
            } else {
                return false;
            }
        }
        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____DatabaseHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Tell if a record exists already.
     */     */
    public String getRepoDir(Account account, String repoID) {
        String[] projection = {
            REPODIR_COLUMN_REPO_DIR
        };

        String selectClause = String.format("%s = ? and %s = ?",
                                            REPODIR_COLUMN_ACCOUNT,
                                            REPODIR_COLUMN_REPO_ID);

        String[] selectArgs = { account.getSignature(), repoID };


        Cursor cursor = database.<mark>query</mark>(
            REPODIR_TABLE_NAME,
            projection,
            selectClause,
            selectArgs,
            null,   // don't group the rows
            null,   // don't filter by row groups
            null);  // The sort order

        if (!cursor.moveToFirst()) {
            cursor.close();
            return null;
        }

        String dir = cursor.getString(0);
        cursor.close();

        return dir;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>OneSignal_____OneSignal-Android-SDK_____NotificationSummaryManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/OneSignal_____OneSignal-Android-SDK_____NotificationSummaryManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update

   // A notification was just dismissed, check if it was a child to a summary notification and update it.
   static void updatePossibleDependentSummaryOnDismiss(Context context, SQLiteDatabase writableDb, int androidNotificationId) {
      Cursor cursor = writableDb.<mark>query</mark>(
          NotificationTable.TABLE_NAME,
          new String[] { NotificationTable.COLUMN_NAME_GROUP_ID }, // retColumn
          NotificationTable.COLUMN_NAME_ANDROID_NOTIFICATION_ID + " = " + androidNotificationId,
          null, null, null, null);
      
      if (cursor.moveToFirst()) {
         String group = cursor.getString(cursor.getColumnIndex(NotificationTable.COLUMN_NAME_GROUP_ID));
         cursor.close();
         
         if (group != null)
            updateSummaryNotificationAfterChildRemoved(context, writableDb, group, true);
      }
      else
         cursor.close();
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wildabeast_____BarcodeScanner_____HistoryManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wildabeast_____BarcodeScanner_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


  public List<HistoryItem> buildHistoryItems() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    List<HistoryItem> items = new ArrayList<HistoryItem>();
    SQLiteDatabase db = null;
    Cursor cursor = null;
    try {
      db = helper.<mark>getReadableDatabase</mark>();
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME, COLUMNS, null, null, null, null, DBHelper.TIMESTAMP_COL + " DESC");
      while (cursor.moveToNext()) {
        String text = cursor.getString(0);
        String display = cursor.getString(1);
        String format = cursor.getString(2);
        long timestamp = cursor.getLong(3);
        String details = cursor.getString(4);
        Result result = new Result(text, null, null, BarcodeFormat.valueOf(format), timestamp);
        items.add(new HistoryItem(result, display, details));
      }
    } finally {
      close(cursor, db);
    }
    return items;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____QueuedDataSource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____QueuedDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getScheduledCursor(int account) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns,
                    QueuedSQLiteHelper.COLUMN_TYPE + " = ? AND " +
                            QueuedSQLiteHelper.COLUMN_ACCOUNT + " = ?",
                    new String[] {"" + QueuedSQLiteHelper.TYPE_SCHEDULED, "" + account}, null, null, null);
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns,
                    QueuedSQLiteHelper.COLUMN_TYPE + " = ? AND " +
                            QueuedSQLiteHelper.COLUMN_ACCOUNT + " = ?",
                    new String[] {"" + QueuedSQLiteHelper.TYPE_SCHEDULED, "" + account}, null, null, null);
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaojianglaile_____Calendar_____EventSetDao_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiaojianglaile_____Calendar_____EventSetDao.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public List<EventSet> getAllEventSet() {
        List<EventSet>  eventSets = new ArrayList<>();
        SQLiteDatabase db = mHelper.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(JeekDBConfig.EVENT_SET_TABLE_NAME, null, null, null, null, null, null);
        EventSet eventSet;
        while (cursor.moveToNext()) {
            eventSet = new EventSet();
            eventSet.setId(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_ID)));
            eventSet.setName(cursor.getString(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_NAME)));
            eventSet.setColor(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_COLOR)));
            eventSet.setIcon(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_ICON)));
            eventSets.add(eventSet);
        }
        cursor.<mark>close</mark>();
        db.<mark>close</mark>();
        mHelper.<mark>close</mark>();
        return eventSets;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public static LogEntry loadLogOffline(final String geocode) {
        if (StringUtils.isBlank(geocode)) {
            return null;
        }

        init();


        final Cursor cursor = database.<mark>query</mark>(
                dbTableLogsOffline,
                new String[]{"_id", "type", "log", "date", "report_problem"},
                "geocode = ?",
                new String[]{geocode},
                null,
                null,
                "_id DESC",
                "1");

        LogEntry log = null;
        if (cursor.moveToFirst()) {
            log = new LogEntry.Builder()
                    .setDate(cursor.getLong(3))
                    .setLogType(LogType.getById(cursor.getInt(1)))
                    .setLog(cursor.getString(2))
                    .setId(cursor.getInt(0))
                    .setReportProblem(cursor.getString(4))
                    .build();
        }

        cursor.close();

        return log;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____QueuedDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____QueuedDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getQueuedTweetsCursor(int account) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns,
                    QueuedSQLiteHelper.COLUMN_TYPE + " = " + QueuedSQLiteHelper.TYPE_QUEUED_TWEET +
                            " AND " + QueuedSQLiteHelper.COLUMN_ACCOUNT + " = ?",
                    new String[] {"" + account}, null, null, null);

        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(QueuedSQLiteHelper.TABLE_QUEUED,
                    allColumns,
                    QueuedSQLiteHelper.COLUMN_TYPE + " = " + QueuedSQLiteHelper.TYPE_QUEUED_TWEET +
                            " AND " + QueuedSQLiteHelper.COLUMN_ACCOUNT + " = ?",
                    new String[] {"" + account}, null, null, null);
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____LockSettingsStorage_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____LockSettingsStorage.java

android.database.sqlite.SQLiteDatabase.query


    public String readKeyValue(String key, String defaultValue, int userId) {
        int version;
        synchronized (mCache) {
            if (mCache.hasKeyValue(key, userId)) {
                return mCache.peekKeyValue(key, defaultValue, userId);
            }
            version = mCache.getVersion();
        }

        Cursor cursor;
        Object result = DEFAULT;
        SQLiteDatabase db = mOpenHelper.getReadableDatabase();
        if ((cursor = db.<mark>query</mark>(TABLE, COLUMNS_FOR_QUERY,
                COLUMN_USERID + "=? AND " + COLUMN_KEY + "=?",
                new String[] { Integer.toString(userId), key },
                null, null, null)) != null) {
            if (cursor.moveToFirst()) {
                result = cursor.getString(0);
            }
            cursor.close();
        }
        mCache.putKeyValueIfUnchanged(key, result, userId, version);
        return result == DEFAULT ? defaultValue : (String) result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>opendatakit_____collect_____GoogleMapsMapBoxOfflineTileProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/opendatakit_____collect_____GoogleMapsMapBoxOfflineTileProvider.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

    @Override
    public Tile getTile(int x, int y, int z) {
        Tile tile = NO_TILE;
        if (this.isZoomLevelAvailable(z) && this.isDatabaseAvailable()) {
            String[] projection = {
                    "tile_data"
            };
            int row = (int) (Math.pow(2, z) - y) - 1;
            String predicate = "tile_row = ? AND tile_column = ? AND zoom_level = ?";
            String[] values = {
                    String.valueOf(row), String.valueOf(x), String.valueOf(z)
            };
            Cursor c = this.database.<mark>query</mark>("tiles", projection, predicate, values, null, null,
                    null);
            if (c != null) {
                c.moveToFirst();
                if (!c.isAfterLast()) {
                    tile = new Tile(256, 256, c.getBlob(0));
                }
                c.close();
            }
        }
        return tile;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Rano1_____TopNews_____ChannelDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Rano1_____TopNews_____ChannelDao.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

	@Override
	public Map<String, String> viewCache(String selection,
			String[] selectionArgs) {
		// TODO Auto-generated method stub
		SQLiteDatabase database = null;
		Cursor cursor = null;
		Map<String, String> map = new HashMap<String, String>();
		try {
			database = helper.getReadableDatabase();
			cursor = database.<mark>query</mark>(true, SQLHelper.TABLE_CHANNEL, null, selection,
					selectionArgs, null, null, null, null);
			int cols_len = cursor.getColumnCount();
			while (cursor.moveToNext()) {
				for (int i = 0; i < cols_len; i++) {
					String cols_name = cursor.getColumnName(i);
					String cols_values = cursor.getString(cursor
							.getColumnIndex(cols_name));
					if (cols_values == null) {
						cols_values = "";
					}
					map.put(cols_name, cols_values);
				}
			}
		} catch (Exception e) {
			// TODO: handle exception
		} finally {
			if (database != null) {
				database.<mark>close</mark>();
			}
		}
		return map;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____MessageDatabaseService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____MessageDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public Message getMessage(String contactNumber, String message) {
        SQLiteDatabase db = dbHelper.getReadableDatabase();
        String structuredNameWhere = "";
        List<String> structuredNameParamsList = new ArrayList<String>();

        structuredNameWhere += "contactNumbers = ? AND message = ?";
        structuredNameParamsList.add(contactNumber);
        structuredNameParamsList.add(message);

        Cursor cursor = db.<mark>query</mark>("sms", null, structuredNameWhere, structuredNameParamsList.toArray(new String[structuredNameParamsList.size()]), null, null, null);

        try {
            Message message1 = null;
            if (cursor.getCount() > 0) {
                cursor.moveToFirst();
                message1 = getMessage(cursor);
            }
            return message1;
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tunitowen_____DevDrawer_____Database_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tunitowen_____DevDrawer_____Database.java

android.database.sqlite.SQLiteDatabase.query

	// TODO: Make this work for exact package name
    public int parseAndMatch(String p)
    {

		int match = NOT_FOUND;

        connectDB();

        Cursor getAllCursor = db.<mark>query</mark>("devdrawer_filter", null, null, null, null, null, null, null);

        getAllCursor.moveToFirst();

        while (!getAllCursor.isAfterLast())
        {

            String packageFilter = getAllCursor.getString(1).toLowerCase();

            if (packageFilter.contains("*"))
            {
                if (p.toLowerCase().startsWith(packageFilter.toLowerCase().substring(0, packageFilter.indexOf("*"))))
                    match = Integer.valueOf(getAllCursor.getString(0));

            }
            else
            {
                if (p.toLowerCase().equals(packageFilter.toLowerCase()))
					match = Integer.valueOf(getAllCursor.getString(0));

            }

			getAllCursor.moveToNext();

        }

        getAllCursor.close();
        closeDB();

        return match;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaojianglaile_____Calendar_____EventSetDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiaojianglaile_____Calendar_____EventSetDao.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public Map<Integer, EventSet> getAllEventSetMap() {
        Map<Integer, EventSet> eventSets = new HashMap<>();
        SQLiteDatabase db = mHelper.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(JeekDBConfig.EVENT_SET_TABLE_NAME, null, null, null, null, null, null);
        EventSet eventSet;
        while (cursor.moveToNext()) {
            eventSet = new EventSet();
            eventSet.setId(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_ID)));
            eventSet.setName(cursor.getString(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_NAME)));
            eventSet.setColor(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_COLOR)));
            eventSet.setIcon(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.EVENT_SET_ICON)));
            eventSets.put(eventSet.getId(), eventSet);
        }
        cursor.<mark>close</mark>();
        db.<mark>close</mark>();
        mHelper.<mark>close</mark>();
        return eventSets;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____DatabaseAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns the {@link org.gnucash.android.model.AccountType} of the account with unique ID <code>uid</code>
     * @param accountUID Unique ID of the account
     * @return {@link org.gnucash.android.model.AccountType} of the account.
     * @throws java.lang.IllegalArgumentException if accountUID does not exist in DB,
     */     */
    public String getAccountCurrencyCode(@NonNull String accountUID) {
        Cursor cursor = mDb.<mark>query</mark>(DatabaseSchema.AccountEntry.TABLE_NAME,
                new String[] {DatabaseSchema.AccountEntry.COLUMN_CURRENCY},
                DatabaseSchema.AccountEntry.COLUMN_UID + "= ?",
                new String[]{accountUID}, null, null, null);
        try {
            if (cursor.moveToFirst()) {
                return cursor.getString(0);
            } else {
                throw new IllegalArgumentException("Account " + accountUID + " does not exist");
            }
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

     */
    public boolean isItemLoved(Query query) {
        String[] columns = new String[]{TomahawkSQLiteHelper.TRACKS_COLUMN_TRACKNAME,
                TomahawkSQLiteHelper.TRACKS_COLUMN_ARTISTNAME};

        Cursor tracksCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_TRACKS, columns,
                TomahawkSQLiteHelper.TRACKS_COLUMN_PLAYLISTID + " = ?",
                new String[]{LOVEDITEMS_PLAYLIST_ID}, null, null, null
        );
        tracksCursor.moveToFirst();
        while (!tracksCursor.isAfterLast()) {
            String trackName = tracksCursor.getString(0);
            String artistName = tracksCursor.getString(1);
            if (query.getName().equalsIgnoreCase(trackName)
                    && query.getArtist().getName().equalsIgnoreCase(artistName)) {
                tracksCursor.close();
                return true;
            }
            tracksCursor.moveToNext();
        }
        tracksCursor.close();
        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matt-allen_____repay-android_____DatabaseHandler_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/matt-allen_____repay-android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
	 * @param debtID
	 * @return The debt stored against the two given attributes
	 * @throws android.database.SQLException
	 * @throws IndexOutOfBoundsException
	 * @throws java.text.ParseException
	 */	 */
	public Friend getFriendByRepayID(String repayID) throws IndexOutOfBoundsException, SQLException, NullPointerException{
		Friend friend = null;
		Cursor c = null;
		SQLiteDatabase db = this.getReadableDatabase();
		c = db.<mark>query</mark>(Names.F_TABLENAME, new String[]{Names.F_REPAYID, Names.F_LOOKUPURI, Names.F_NAME, Names.F_DEBT},
				Names.F_REPAYID+"=?", new String[]{repayID}, null, null, null);
		c.moveToFirst();
		try {
			friend = new Friend(repayID, c.getString(1), c.getString(2), new BigDecimal(c.getString(3)));
		} catch (NullPointerException e) {
			Log.i(TAG, "No ContactURI present, passing null");
			friend = new Friend(repayID, null, c.getString(2), new BigDecimal(c.getString(3)));
		}
		db.<mark>close</mark>();
		return friend;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____MessageDatabaseService_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____MessageDatabaseService.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public Message getMessage(String keyString) {
        if (TextUtils.isEmpty(keyString)) {
            return null;
        }
        SQLiteDatabase db = dbHelper.getReadableDatabase();
        String structuredNameWhere = "";
        List<String> structuredNameParamsList = new ArrayList<String>();

        structuredNameWhere += "keyString = ?";
        structuredNameParamsList.add(keyString);

        Cursor cursor = db.<mark>query</mark>("sms", null, structuredNameWhere, structuredNameParamsList.toArray(new String[structuredNameParamsList.size()]), null, null, null);

        try {
            Message message = null;
            if (cursor.getCount() > 0) {
                cursor.moveToFirst();
                message = getMessage(cursor);
            }
            return message;
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codeka_____wwmmo_____ChatStore_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codeka_____wwmmo_____ChatStore.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query

  /** Gets all messages, regardless of room, from the given start time. */
  public List<ChatMessage> getMessages(long time, int count) {
    ArrayList<ChatMessage> msgs = new ArrayList<>();
    SQLiteDatabase db = helper.<mark>getReadableDatabase</mark>();
    try (
        Cursor cursor = db.<mark>query</mark>(
            name + "_messages",
            new String[] { "msg" } /* columns */,
            "date_posted <= ?" /* selection */,
            new String[] { String.format(Locale.US, "%d", time) } /* selectionArgs */,
            null /* groupBy */,
            null /* having */,
            "date_posted DESC" /* orderBy */,
            String.format(Locale.US, "%d", count))) {
      while (cursor.moveToNext()) {
        msgs.add(ChatMessage.ADAPTER.decode(cursor.getBlob(0)));
      }
      Collections.reverse(msgs); // Make it oldest-first.
    } catch (IOException e) {
      log.error("Error fetching chat messages.", e);
    }
    return msgs;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>asksven_____BetterBatteryStats_____ReferenceDBHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/asksven_____BetterBatteryStats_____ReferenceDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	protected List<String> fetchAllLabels(long time)
	{
	    ArrayList<String> ret = new ArrayList<String>();
        Cursor c;
        try
        {
	        c = m_db.<mark>query</mark>(TABLE_NAME, new String[] {"ref_label", "time_created"}, null, null, null, null, "time_created ASC");
		    try
		    {
	
		        int numRows = c.getCount();
		        c.moveToFirst();
		        for (int i = 0; i < numRows; ++i)
		        {
		        	String name = c.getString(c.getColumnIndex("ref_label"));
		        	long timeCreated = c.getLong(c.getColumnIndex("time_created"));
		        	if (timeCreated > time)
		        	{
		        		ret.add(name);
		        	}
		            c.moveToNext();
		        }
			}
		    catch (SQLException e)
			{
				Log.d(TAG,"SQLite exception: " + e.getLocalizedMessage());
			}
		    finally
		    {
		        c.close();
		    }
        }
        catch (SQLiteException e)
        {
        	Log.e(TAG, "An error occured: " +e.getMessage());
        }
	    return ret;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____TileLayerDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____TileLayerDatabase.java

android.database.sqlite.SQLiteDatabase.rawQuery
android.database.sqlite.SQLiteDatabase.query

/**
     * Get a Cursor for all user defined layers
     * 
     * @param db a readable SQLiteDatabase
     * @return a Cursor pointing to all custom imagery layers
     */     */
    public static TileLayerServer getLayer(@NonNull Context context, @NonNull SQLiteDatabase db, @NonNull String id) {
        TileLayerServer layer = null;
        Cursor dbresult = db.<mark>query</mark>(COVERAGES_TABLE, null, ID_FIELD + "='" + id + "'", null, null, null, null);
        Provider provider = getProviderFromCursor(dbresult);

        dbresult = db.<mark>query</mark>(LAYERS_TABLE, null, ID_FIELD + "='" + id + "'", null, null, null, null);
        if (dbresult.getCount() >= 1) {
            boolean haveEntry = dbresult.moveToFirst();
            if (haveEntry) {
                initLayerFieldIndices(dbresult);
                layer = getLayerFromCursor(context, provider, dbresult);
            }
        }
        dbresult.close();
        return layer;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_settings_____SlicesDatabaseAccessor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_settings_____SlicesDatabaseAccessor.java

android.database.sqlite.SQLiteDatabase.query

     */
    public List<String> getSliceKeys(boolean isPlatformSlice) {
        verifyIndexing();
        final String whereClause;

        if (isPlatformSlice) {
            whereClause = IndexColumns.PLATFORM_SLICE + " = 1";
        } else {
            whereClause = IndexColumns.PLATFORM_SLICE + " = 0";
        }

        final SQLiteDatabase database = mHelper.getReadableDatabase();
        final String[] columns = new String[]{IndexColumns.KEY};
        final List<String> keys = new ArrayList<>();

        try (final Cursor resultCursor = database.<mark>query</mark>(TABLE_SLICES_INDEX, columns, whereClause,
                null /* selection */, null /* groupBy */, null /* having */, null /* orderBy */)) {
            if (!resultCursor.moveToFirst()) {
                return keys;
            }

            do {
                keys.add(resultCursor.getString(0 /* key index */));
            } while (resultCursor.moveToNext());
        }

        return keys;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ConversationDatabaseService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ConversationDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public Conversation getConversationByTopicId(final String topicId, Context context) {
        if (TextUtils.isEmpty(topicId)) {
            return null;
        }
        Conversation conversation = null;
        SQLiteDatabase database = MobiComDatabaseHelper.getInstance(context).getReadableDatabase();
        String conversationParameters = "";
        List<String> structuredNameParamsList = new ArrayList<>();

        conversationParameters += MobiComDatabaseHelper.TOPIC_ID + "= ? ";
        structuredNameParamsList.add(topicId);

        Cursor cursor = database.<mark>query</mark>(MobiComDatabaseHelper.CONVERSATION, null, conversationParameters, structuredNameParamsList.toArray(new String[structuredNameParamsList.size()]), null, null, null);

        if (cursor.moveToFirst()) {
            conversation = getConversation(cursor);
        }
        if (cursor != null) {
            cursor.close();
        }

        dbHelper.close();
        return conversation;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>microg_____android_packages_apps_GmsCore_____NodeDatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/microg_____android_packages_apps_GmsCore_____NodeDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    private static String finishRecord(SQLiteDatabase db, String key, DataItemRecord record) {
        if (!record.deleted) {
            for (Map.Entry<String, Asset> asset : record.dataItem.getAssets().entrySet()) {
                ContentValues assetValues = new ContentValues();
                assetValues.put("assets_digest", asset.getValue().getDigest());
                assetValues.put("dataitems_id", key);
                assetValues.put("assetname", asset.getKey());
                db.insertWithOnConflict("assetrefs", "assetname", assetValues, SQLiteDatabase.CONFLICT_IGNORE);
            }
            Cursor status = db.<mark>query</mark>("assetsReadyStatus", new String[]{"nowReady"}, "dataitems_id=?", new String[]{key}, null, null, null);
            if (status.moveToNext()) {
                record.assetsAreReady = status.getLong(0) != 0;
            }
            status.close();
        } else {
            record.assetsAreReady = false;
        }
        return key;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____DatabaseHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Return the number of cached dirs that reference a specific dirID.
     * Used for cache cleaning.
     *
     * @param dirID
     * @return
     */     */
    public boolean repoDirExists(Account account, String dir) {
        String[] projection = {
            REPODIR_COLUMN_REPO_DIR
        };

        String selectClause = String.format("%s = ? and %s = ?",
                                            REPODIR_COLUMN_ACCOUNT,
                                            REPODIR_COLUMN_REPO_DIR);
        String[] selectArgs = { account.getSignature(), dir };

        Cursor cursor = database.<mark>query</mark>(
            REPODIR_TABLE_NAME,
            projection,
            selectClause,
            selectArgs,
            null,   // don't group the rows
            null,   // don't filter by row groups
            null);  // The sort order

        boolean exist = true;
        if (!cursor.moveToFirst()) {
            exist = false;
        }
        cursor.close();

        return exist;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dsolonenko_____financisto_____DatabaseAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dsolonenko_____financisto_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.insert


    public Cursor getCategoriesWithoutSubtree(long id, boolean includeNoCategory) {
        SQLiteDatabase db = db();
        long left = 0, right = 0;
        try (Cursor c = db.<mark>query</mark>(CATEGORY_TABLE, new String[]{CategoryColumns.left.name(), CategoryColumns.right.name()},
                CategoryColumns._id + "=?", new String[]{String.valueOf(id)},null,null,null)) {
            if (c.moveToFirst()) {
                left = c.getLong(0);
                right = c.getLong(1);
            }
        }
        return db.<mark>query</mark>(V_CATEGORY, CategoryViewColumns.NORMAL_PROJECTION,
                "(NOT (" + CategoryViewColumns.left + ">=? AND " + CategoryColumns.right + "<=?)) AND "
                    + CategoryViewColumns._id + (includeNoCategory ? ">=0" : ">0"),
                new String[]{String.valueOf(left), String.valueOf(right)}, null, null, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public SeafCachedFile getFileCacheItem(String repoID,
                                           String path, DataManager dataManager) {
        String[] projection = {
                FILECACHE_COLUMN_ID,
                FILECACHE_COLUMN_FILEID,
                FILECACHE_COLUMN_REPO_NAME,
                FILECACHE_COLUMN_REPO_ID,
                FILECACHE_COLUMN_PATH,
                FILECACHE_COLUMN_ACCOUNT
        };

        Cursor c = database.<mark>query</mark>(
             FILECACHE_TABLE_NAME,
             projection,
             FILECACHE_COLUMN_REPO_ID
             + "=? and " + FILECACHE_COLUMN_PATH + "=?",
             new String[] { repoID, path },
             null,   // don't group the rows
             null,   // don't filter by row groups
             null    // The sort order
        );

        if (!c.moveToFirst()) {
            c.close();
            return null;
        }

        SeafCachedFile item = cursorToFileCacheItem(c, dataManager);
        c.close();
        return item;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>LitePalFramework_____LitePal_____DataHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/LitePalFramework_____LitePal_____DataHandler.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Get the foreign key associations of the specified class.
	 * 
	 * @param className
	 *            The full class name.
	 * @param isEager
	 *            True to load the associated models, false not.
	 * @return The foreign key associations of the specified class
	 */	@SuppressWarnings("unchecked")
	protected <T> T mathQuery(String tableName, String[] columns, String[] conditions, Class<T> type) {
		BaseUtility.checkConditionsCorrect(conditions);
		Cursor cursor = null;
		T result = null;
		try {
			cursor = mDatabase.<mark>query</mark>(tableName, columns, getWhereClause(conditions),
					getWhereArgs(conditions), null, null, null);
			if (cursor.moveToFirst()) {
				Class<?> cursorClass = cursor.getClass();
				Method method = cursorClass.getMethod(genGetColumnMethod(type), int.class);
				result = (T) method.invoke(cursor, 0);
			}
		} catch (Exception e) {
			throw new LitePalSupportException(e.getMessage(), e);
		} finally {
			if (cursor != null) {
				cursor.close();
			}
		}
		return result;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Return a list of all of the tasks matching selection */    /** Return a list of all active tasks with deadlines */
    public ArrayList<TaskModelForNotify> getTasksWithDeadlines() {
        ArrayList<TaskModelForNotify> list = new ArrayList<TaskModelForNotify>();
        Cursor cursor = database.<mark>query</mark>(tasksTable, TaskModelForNotify.FIELD_LIST,
                String.format("%s < %d AND (%s != 0 OR %s != 0)",
                        AbstractTaskModel.PROGRESS_PERCENTAGE,
                        AbstractTaskModel.COMPLETE_PERCENTAGE,
                        AbstractTaskModel.DEFINITE_DUE_DATE,
                        AbstractTaskModel.PREFERRED_DUE_DATE), null, null, null, null, null);

        try {
            if(cursor.getCount() == 0)
                return list;

            do {
                cursor.moveToNext();
                list.add(new TaskModelForNotify(cursor));
            } while(!cursor.isLast());

            return list;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>aws_____aws-sdk-android_____SQLiteLocalStorage_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/aws_____aws-sdk-android_____SQLiteLocalStorage.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Internal helper function to update one dataset metadata.
     * 
     * @param db SQLiteDatabase handler
     * @param identityId identity id of the datasets
     * @param metadata dataset metadata to update
     * @return true if update successfully, false otherwise
     */    @Override
    public List<Record> getModifiedRecords(String identityId, String datasetName) {
        List<Record> records = new ArrayList<Record>();

        SQLiteDatabase db = helper.getWritableDatabase();
        Cursor c = db.<mark>query</mark>(TABLE_RECORDS, RecordColumns.ALL,
                RecordColumns.IDENTITY_ID + " = ? AND " + RecordColumns.DATASET_NAME + " = ? AND "
                        + RecordColumns.MODIFIED + " = ?",
                new String[] {
                        identityId, datasetName,
                        String.valueOf(1)
                }, null, null, null);
        while (c.moveToNext()) {
            records.add(cursorToRecord(c));
        }
        c.close();

        return records;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitoyarzun_____zxingfragmentlib_____HistoryManager_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mitoyarzun_____zxingfragmentlib_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query


  public void trimHistory() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    SQLiteDatabase db = null;
    Cursor cursor = null;
    try {
      db = helper.<mark>getWritableDatabase</mark>();      
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                        ID_COL_PROJECTION,
                        null, null, null, null,
                        DBHelper.TIMESTAMP_COL + " DESC");
      cursor.move(MAX_ITEMS);
      while (cursor.moveToNext()) {
        String id = cursor.getString(0);
        Log.i(TAG, "Deleting scan history ID " + id);
        db.delete(DBHelper.TABLE_NAME, DBHelper.ID_COL + '=' + id, null);
      }
    } catch (SQLiteException sqle) {
      // We're seeing an error here when called in CaptureActivity.onCreate() in rare cases
      // and don't understand it. First theory is that it's transient so can be safely ignored.
      Log.w(TAG, sqle);
      // continue
    } finally {
      close(cursor, db);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wildabeast_____BarcodeScanner_____HistoryManager_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wildabeast_____BarcodeScanner_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query


  public void trimHistory() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    SQLiteDatabase db = null;
    Cursor cursor = null;
    try {
      db = helper.<mark>getWritableDatabase</mark>();      
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                        ID_COL_PROJECTION,
                        null, null, null, null,
                        DBHelper.TIMESTAMP_COL + " DESC");
      cursor.move(MAX_ITEMS);
      while (cursor.moveToNext()) {
        db.delete(DBHelper.TABLE_NAME, DBHelper.ID_COL + '=' + cursor.getString(0), null);
      }
    } catch (SQLiteException sqle) {
      // We're seeing an error here when called in CaptureActivity.onCreate() in rare cases
      // and don't understand it. First theory is that it's transient so can be safely ignored.
      // TODO revisit this after live in a future version to see if it 'worked'
      Log.w(TAG, sqle);
      // continue
    } finally {
      close(cursor, db);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public ChannelUserMapper getChannelUserByChannelKeyAndUserId(final Integer channelKey, final String userId) {
        ChannelUserMapper channelUserMapper = null;
        Cursor cursor = null;
        try {
            String structuredNameWhere = MobiComDatabaseHelper.CHANNEL_KEY + " =? AND " + MobiComDatabaseHelper.USERID + " =?";
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            cursor = db.<mark>query</mark>(CHANNEL_USER_X, null, structuredNameWhere, new String[]{String.valueOf(channelKey), userId}, null, null, null);
            if (cursor != null) {
                if (cursor.getCount() > 0) {
                    cursor.moveToFirst();
                    channelUserMapper = getChannelUser(cursor);
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
        return channelUserMapper;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____HostDatabase_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Update the parameters of a port forward in the database.
	 * @param pfb {@link PortForwardBean} to save
	 * @return true on success
	 */	@Override
	public List<String> getHostKeyAlgorithmsForHost(String hostname, int port) {
		HashMap<String, String> selection = new HashMap<>();
		selection.put(FIELD_HOST_HOSTNAME, hostname);
		selection.put(FIELD_HOST_PORT, String.valueOf(port));
		HostBean hostBean = findHost(selection);

		if (hostBean == null) {
			return null;
		}

		ArrayList<String> knownAlgorithms = new ArrayList<>();

		Cursor c = mDb.<mark>query</mark>(TABLE_KNOWNHOSTS, new String[] {FIELD_KNOWNHOSTS_HOSTKEYALGO},
				FIELD_KNOWNHOSTS_HOSTID + " = ?",
				new String[] {String.valueOf(hostBean.getId())}, null, null, null);

		if (c != null) {
			int COL_ALGO = c.getColumnIndexOrThrow(FIELD_KNOWNHOSTS_HOSTKEYALGO);

			while (c.moveToNext()) {
				String keyAlgo = c.getString(COL_ALGO);
				if (keyAlgo != null) {
					knownAlgorithms.add(keyAlgo);
				}
			}

			c.close();
		}

		return knownAlgorithms;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zxing_____zxing_____HistoryManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zxing_____zxing_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query


  public List<HistoryItem> buildHistoryItems() {
    SQLiteOpenHelper helper = new DBHelper(activity);
    List<HistoryItem> items = new ArrayList<>();
    try (SQLiteDatabase db = helper.<mark>getReadableDatabase</mark>();
         Cursor cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                                  COLUMNS,
                                  null, null, null, null,
                                  DBHelper.TIMESTAMP_COL + " DESC")) {
      while (cursor.moveToNext()) {
        String text = cursor.getString(0);
        String display = cursor.getString(1);
        String format = cursor.getString(2);
        long timestamp = cursor.getLong(3);
        String details = cursor.getString(4);
        Result result = new Result(text, null, null, BarcodeFormat.valueOf(format), timestamp);
        items.add(new HistoryItem(result, display, details));
      }
    } catch (CursorIndexOutOfBoundsException cioobe) {
      Log.w(TAG, cioobe);
    }
    return items;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_browser_____BrowserProvider2_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_browser_____BrowserProvider2.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.insertOrThrow

/**
     * Settings are unique, so perform an UPSERT manually since SQLite doesn't support them.
     */
    long queryDefaultFolderId(String accountName, String accountType) {
        if (!isNullAccount(accountName) && !isNullAccount(accountType)) {
            final SQLiteDatabase db = mOpenHelper.getReadableDatabase();
            Cursor c = db.<mark>query</mark>(TABLE_BOOKMARKS, new String[] { Bookmarks._ID },
                    ChromeSyncColumns.SERVER_UNIQUE + " = ?" +
                    " AND account_type = ? AND account_name = ?",
                    new String[] { ChromeSyncColumns.FOLDER_NAME_BOOKMARKS_BAR,
                    accountType, accountName }, null, null, null);
            try {
                if (c.moveToFirst()) {
                    return c.getLong(0);
                }
            } finally {
                c.close();
            }
        }
        return FIXED_ID_ROOT;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Yuncun_____AbusiveGymReminder_____MsgAndDayRecords_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Yuncun_____AbusiveGymReminder_____MsgAndDayRecords.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

    /** MESSAGES STUFF **/
    public Message createMessage(Message msg, Date date) {
        ContentValues values = new ContentValues();
        values.put(MsgDBHelper.COLUMN_MESSAGE_HEADER, msg.getHeader());
        values.put(MsgDBHelper.COLUMN_MESSAGE_BODY, msg.getBody());
        values.put(MsgDBHelper.COLUMN_DATE, Util.dateToString(date));
        values.put(MsgDBHelper.COLUMN_REASON, msg.getReason());
        values.put(MsgDBHelper.COLUMN_REPO_ID, msg.getRepoId());
        values.put(MsgDBHelper.COLUMN_READ, (msg.getRead()) ? 1 : 0);
        long insertId = mDatabase.insert(MsgDBHelper.TABLE_MESSAGES, null,
                values);
        Cursor cursor = mDatabase.<mark>query</mark>(MsgDBHelper.TABLE_MESSAGES,
                allColumnsMessages, MsgDBHelper.COLUMN_ID + " = " + insertId, null,
                null, null, null);
        cursor.moveToFirst();
        Message newComment = cursorToMessage(cursor);
        cursor.close();
        return newComment;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>haiwen_____seadroid_____DatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/haiwen_____seadroid_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public List<SeafCachedFile> getFileCacheItems(DataManager dataManager) {
        List<SeafCachedFile> files = Lists.newArrayList();

        String[] projection = {
                FILECACHE_COLUMN_ID,
                FILECACHE_COLUMN_FILEID,
                FILECACHE_COLUMN_REPO_NAME,
                FILECACHE_COLUMN_REPO_ID,
                FILECACHE_COLUMN_PATH,
                FILECACHE_COLUMN_ACCOUNT
        };

        Cursor c = database.<mark>query</mark>(
             FILECACHE_TABLE_NAME,
             projection,
             FILECACHE_COLUMN_ACCOUNT + "=?",
             new String[] { dataManager.getAccount().getSignature() },
             null,   // don't group the rows
             null,   // don't filter by row groups
             null    // The sort order
        );

        c.moveToFirst();
        while (!c.isAfterLast()) {
            SeafCachedFile item = cursorToFileCacheItem(c, dataManager);
            files.add(item);
            c.moveToNext();
        }

        c.close();
        return files;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/** Return a list of all of the tasks with progress < COMPLETE_PERCENTAGE */    /** Return a list of all active tasks with notifications */
    public HashSet<TaskModelForNotify> getTasksWithNotifications() {
        HashSet<TaskModelForNotify> list = new HashSet<TaskModelForNotify>();
        Cursor cursor = database.<mark>query</mark>(tasksTable, TaskModelForNotify.FIELD_LIST,
                String.format("%s < %d AND (%s != 0 OR %s != 0)",
                        AbstractTaskModel.PROGRESS_PERCENTAGE,
                        AbstractTaskModel.COMPLETE_PERCENTAGE,
                        AbstractTaskModel.NOTIFICATIONS,
                        AbstractTaskModel.NOTIFICATION_FLAGS), null, null, null, null, null);

        try {
            if(cursor.getCount() == 0)
                return list;
            do {
                cursor.moveToNext();
                list.add(new TaskModelForNotify(cursor));
            } while(!cursor.isLast());

            return list;
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____DatabaseAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns the currency code (according to the ISO 4217 standard) of the account
     * with unique Identifier <code>accountUID</code>
     * @param accountUID Unique Identifier of the account
     * @return Currency code of the account. "" if accountUID
     *      does not exist in DB
     */     */
    public long getID(@NonNull String uid){
        Cursor cursor = mDb.<mark>query</mark>(mTableName,
                new String[] {DatabaseSchema.CommonColumns._ID},
                DatabaseSchema.CommonColumns.COLUMN_UID + " = ?",
                new String[]{uid},
                null, null, null);
        long result = -1;
        try{
            if (cursor.moveToFirst()) {
                result = cursor.getLong(cursor.getColumnIndexOrThrow(DatabaseSchema.CommonColumns._ID));
            } else {
                throw new IllegalArgumentException(mTableName + " with GUID " + uid + " does not exist in the db");
            }
        } finally {
            cursor.close();
        }
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____FavoriteUserNotificationDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____FavoriteUserNotificationDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete


    public synchronized boolean hasShownNotification(long tweetId) {

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(FavoriteUserNotificationSQLiteHelper.TABLE,
                    allColumns,
                    FavoriteUserNotificationSQLiteHelper.COLUMN_TWEET_ID + " = " + tweetId,
                    null, null, null, null);
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(FavoriteUserNotificationSQLiteHelper.TABLE,
                    allColumns,
                    FavoriteUserNotificationSQLiteHelper.COLUMN_TWEET_ID + " = " + tweetId,
                    null, null, null, null);
        }

        try {
            if (cursor.moveToFirst()) {
                return cursor.getCount() > 0;
            } else {
                return false;
            }
        } catch (Throwable t) {
            return true;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<HashMap<String, Object>> getAccounts(Context ctx) {

		Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"id", "blogName",
						"username", "runService", "blogId", "url"}, null, null, null,
				null, null
		);
		int id;
		String blogName, username, url;
		int blogId;
		int runService;
		int numRows = c.getCount();
		c.moveToFirst();
		Vector<HashMap<String, Object>> accounts = new Vector<HashMap<String, Object>>();
		for (int i = 0; i < numRows; i++) {

			id = c.getInt(0);
			blogName = c.getString(1);
			username = c.getString(2);
			runService = c.getInt(3);
			blogId = c.getInt(4);
			url = c.getString(5);
			if (id > 0) {
				HashMap<String, Object> thisHash = new HashMap<String, Object>();
				thisHash.put("id", id);
				thisHash.put("blogName", blogName);
				thisHash.put("username", username);
				thisHash.put("runService", runService);
				thisHash.put("blogId", blogId);
				thisHash.put("url", url);
				accounts.add(thisHash);
			}
			c.moveToNext();
		}
		c.close();

		return accounts;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____DatabaseAdapter_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Updates a record in the table
     * @param recordId Database ID of the record to be updated
     * @param columnKey Name of column to be updated
     * @param newValue  New value to be assigned to the columnKey
     * @return Number of records affected
     */     */
    public String getCommodityUID(String currencyCode){
        String where = DatabaseSchema.CommodityEntry.COLUMN_MNEMONIC + "= ?";
        String[] whereArgs = new String[]{currencyCode};

        Cursor cursor = mDb.<mark>query</mark>(DatabaseSchema.CommodityEntry.TABLE_NAME,
                new String[]{DatabaseSchema.CommodityEntry.COLUMN_UID},
                where, whereArgs, null, null, null);
        try {
            if (cursor.moveToNext()) {
                return cursor.getString(cursor.getColumnIndexOrThrow(DatabaseSchema.CommodityEntry.COLUMN_UID));
            } else {
                throw new IllegalArgumentException("Currency code not found in commodities");
            }
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public ChannelUserMapper getChannelUserByChannelKey(final Integer channelKey) {
        ChannelUserMapper channelUserMapper = null;
        Cursor cursor = null;
        try {
            String structuredNameWhere = MobiComDatabaseHelper.CHANNEL_KEY + " =? AND " + MobiComDatabaseHelper.USERID + "=" + MobiComUserPreference.getInstance(context).getUserId();
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            cursor = db.<mark>query</mark>(CHANNEL_USER_X, null, structuredNameWhere, new String[]{String.valueOf(channelKey)}, null, null, null);
            if (cursor != null) {
                if (cursor.getCount() > 0) {
                    cursor.moveToFirst();
                    channelUserMapper = getChannelUser(cursor);
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
        return channelUserMapper;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>UweTrottmann_____SeriesGuide_____PurchaseDataSource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/UweTrottmann_____SeriesGuide_____PurchaseDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insertWithOnConflict

/**
     * Cancel the specified Entitlement record by setting the cancel date.
     */     */
    public final List<PurchaseRecord> getPurchaseRecords(final String userId) {
        Timber.d("getPurchaseRecords: userId (%s)", userId);

        final String where = AmazonBillingSQLiteHelper.COLUMN_USER_ID + " = ?";
        final Cursor cursor = database.<mark>query</mark>(AmazonBillingSQLiteHelper.TABLE_PURCHASES,
                allColumns,
                where,
                new String[] { userId },
                null,
                null,
                null);
        cursor.moveToFirst();
        final List<PurchaseRecord> results = new ArrayList<>();
        while (!cursor.isAfterLast()) {
            final PurchaseRecord subsRecord = cursorToPurchaseRecord(cursor);
            results.add(subsRecord);
            cursor.moveToNext();
        }
        Timber.d("getPurchaseRecords: found %s records", results.size());
        cursor.close();
        return results;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>UweTrottmann_____SeriesGuide_____PurchaseDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/UweTrottmann_____SeriesGuide_____PurchaseDataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Return all purchase records for the user.
     *
     * @param userId user id used to verify the purchase record.
     */    @Nullable
    public PurchaseRecord getEntitlementRecordByReceiptId(final String receiptId) {
        Timber.d("getEntitlementRecordByReceiptId: receiptId (%s)", receiptId);

        final String where = AmazonBillingSQLiteHelper.COLUMN_RECEIPT_ID + "= ?";
        final Cursor cursor = database.<mark>query</mark>(AmazonBillingSQLiteHelper.TABLE_PURCHASES,
                allColumns,
                where,
                new String[] { receiptId },
                null,
                null,
                null);
        final PurchaseRecord result;
        cursor.moveToFirst();
        if (cursor.isAfterLast()) {
            result = null;
            Timber.d("getEntitlementRecordByReceiptId: no record found ");
        } else {
            result = cursorToPurchaseRecord(cursor);
            Timber.d("getEntitlementRecordByReceiptId: found ");
        }
        cursor.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_browser_____BrowserProvider2_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_browser_____BrowserProvider2.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.insertOrThrow

     */
    private long insertSearchesInTransaction(SQLiteDatabase db, ContentValues values) {
        String search = values.getAsString(Searches.SEARCH);
        if (TextUtils.isEmpty(search)) {
            throw new IllegalArgumentException("Must include the SEARCH field");
        }
        Cursor cursor = null;
        try {
            cursor = db.<mark>query</mark>(TABLE_SEARCHES, new String[] { Searches._ID },
                    Searches.SEARCH + "=?", new String[] { search }, null, null, null);
            if (cursor.moveToNext()) {
                long id = cursor.getLong(0);
                db.<mark>update</mark>(TABLE_SEARCHES, values, Searches._ID + "=?",
                        new String[] { Long.toString(id) });
                return id;
            } else {
                return db.<mark>insertOrThrow</mark>(TABLE_SEARCHES, Searches.SEARCH, values);
            }
        } finally {
            if (cursor != null) cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____AccountManagerService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete


    private void purgeOldGrants() {
        synchronized (mCacheLock) {
            final SQLiteDatabase db = mOpenHelper.getWritableDatabase();
            final Cursor cursor = db.<mark>query</mark>(TABLE_GRANTS,
                    new String[]{GRANTS_GRANTEE_UID},
                    null, null, GRANTS_GRANTEE_UID, null, null);
            try {
                while (cursor.moveToNext()) {
                    final int uid = cursor.getInt(0);
                    final boolean packageExists = mPackageManager.getPackagesForUid(uid) != null;
                    if (packageExists) {
                        continue;
                    }
                    Log.d(TAG, "deleting grants for UID " + uid
                            + " because its package is no longer installed");
                    db.<mark>delete</mark>(TABLE_GRANTS, GRANTS_GRANTEE_UID + "=?",
                            new String[]{Integer.toString(uid)});
                }
            } finally {
                cursor.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____ActivityDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____ActivityDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
     * Find out if the tweet is in the database
     * @param tweetId
     * @param account
     * @return number of retweets on that tweet
     */
    public synchronized boolean tweetExists(long tweetId, int account) {
        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(ActivitySQLiteHelper.TABLE_ACTIVITY,
                    allColumns, ActivitySQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " + ActivitySQLiteHelper.COLUMN_TWEET_ID + " = " + tweetId, null, null, null, ActivitySQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(ActivitySQLiteHelper.TABLE_ACTIVITY,
                    allColumns, ActivitySQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " + ActivitySQLiteHelper.COLUMN_TWEET_ID + " = " + tweetId, null, null, null, ActivitySQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        boolean exists = cursor.getCount() > 0;
        cursor.close();
        return exists;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ConversationDatabaseService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ConversationDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public List<Conversation> getConversationList(final Channel channel, final Contact contact) {
        List<Conversation> conversation = null;
        SQLiteDatabase database = dbHelper.getReadableDatabase();

        String conversationParameters = "";
        List<String> structuredNameParamsList = new ArrayList<>();

        if (channel != null) {
            conversationParameters += "channelKey = ? ";
            structuredNameParamsList.add(String.valueOf(channel.getKey()));
        } else {
            conversationParameters += "userId = ? ";
            structuredNameParamsList.add(contact.getContactIds());
        }
        Cursor cursor = database.<mark>query</mark>(MobiComDatabaseHelper.CONVERSATION, null, conversationParameters, structuredNameParamsList.toArray(new String[structuredNameParamsList.size()]), null, null, "key desc");

        if (cursor.moveToFirst()) {
            conversation = getConversationList(cursor);
        }
        if (cursor != null) {
            cursor.close();
        }
        return conversation;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eidottermihi_____rpicheck_____DeviceDbHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/eidottermihi_____rpicheck_____DeviceDbHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

     */
    public RaspberryDeviceBean read(long id) {
        LOGGER.trace("Reading device with id = " + id);
        SQLiteDatabase db = this.getWritableDatabase();
        Cursor cursor = db.<mark>query</mark>(DEVICES_TABLE_NAME, new String[]{COLUMN_ID, COLUMN_NAME,
                        COLUMN_DESCRIPTION, COLUMN_HOST, COLUMN_USER, COLUMN_PASSWD,
                        COLUMN_SUDOPW, COLUMN_SSHPORT, COLUMN_CREATED_AT, COLUMN_MODIFIED_AT,
                        COLUMN_SERIAL, COLUMN_AUTH_METHOD, COLUMN_KEYFILE_PATH,
                        COLUMN_KEYFILE_PASS},
                COLUMN_ID + "=" + id, null, null, null, null, null);
        if (cursor.moveToFirst()) {
            cursor.moveToFirst();
            final RaspberryDeviceBean bean = CursorHelper.readDevice(cursor);
            cursor.<mark>close</mark>();
            db.<mark>close</mark>();
            return bean;
        } else {
            cursor.<mark>close</mark>();
            db.<mark>close</mark>();
            LOGGER.warn("Device with id = {} is not in db.", id);
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>frostwire_____frostwire_____RecentStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/frostwire_____frostwire_____RecentStore.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Clear the cache.
     */     */
    public String getSongName(final String key) {
        if (TextUtils.isEmpty(key)) {
            return null;
        }
        final String[] projection = new String[]{
                BaseColumns._ID,
                AudioColumns.TITLE,
                AudioColumns.ARTIST,
                RecentStoreColumns.LAST_TIME_PLAYED
        };
        final String selection = AudioColumns.ARTIST + "=?";
        final String[] having = new String[]{ key };
        Cursor cursor = readableDatabase.<mark>query</mark>(TABLE_NAME, projection,
                selection, having,null, null, RecentStoreColumns.LAST_TIME_PLAYED +
                        " DESC", null);

        if (cursor != null && cursor.moveToFirst()) {
            cursor.moveToFirst();
            final String song = cursor.getString(
                    cursor.getColumnIndexOrThrow(AudioColumns.TITLE));
            cursor.close();
            return song;
        }
        if (cursor != null && !cursor.isClosed()) {
            cursor.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * @param hatchetId the id by which to get the correct {@link org.tomahawk.libtomahawk.collection.Playlist}
     * @return the playlist's local id, null if playlist not found
     */     */
    public List<Playlist> getPlaylists() {
        final List<Playlist> playListList = new ArrayList<>();
        String[] columns = new String[]{TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID};

        Cursor playlistsCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_PLAYLISTS,
                columns, TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID + " != ?",
                new String[]{LOVEDITEMS_PLAYLIST_ID}, null, null, null);
        playlistsCursor.moveToFirst();
        while (!playlistsCursor.isAfterLast()) {
            Playlist playlist = getEmptyPlaylist(playlistsCursor.getString(0));
            if (playlist != null) {
                playListList.add(playlist);
            }
            playlistsCursor.moveToNext();
        }
        playlistsCursor.close();
        Collections.sort(playListList, new PlaylistComparator());
        return playListList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____HostDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Record the given hostkey into database under this nickname.
	 * @param hostname hostname to match
	 * @param port port to match
	 * @param hostkeyalgo algorithm for host key
	 * @param hostkey the bytes of the host key itself
	 */	@Override
	public HostBean findHost(Map<String, String> selection) {
		StringBuilder selectionBuilder = new StringBuilder();

		Iterator<Entry<String, String>> i = selection.entrySet().iterator();

		List<String> selectionValuesList = new ArrayList<>();
		int n = 0;
		while (i.hasNext()) {
			Entry<String, String> entry = i.next();

			if (entry.getValue() == null)
				continue;

			if (n++ > 0)
				selectionBuilder.append(" AND ");

			selectionBuilder.append(entry.getKey())
				.append(" = ?");

			selectionValuesList.add(entry.getValue());
		}

		String selectionValues[] = new String[selectionValuesList.size()];
		selectionValuesList.toArray(selectionValues);

		Cursor c = mDb.<mark>query</mark>(TABLE_HOSTS, null,
				selectionBuilder.toString(),
				selectionValues,
				null, null, null);

		HostBean host = getFirstHostBean(c);

		return host;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____MapTileProviderDataBase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____MapTileProviderDataBase.java

android.database.sqlite.SQLiteDatabase.isOpen
android.database.sqlite.SQLiteStatement.bindString
android.database.sqlite.SQLiteStatement.bindLong
android.database.sqlite.SQLiteStatement.bindLong
android.database.sqlite.SQLiteStatement.bindLong
android.database.sqlite.SQLiteStatement.simpleQueryForBlobFileDescriptor
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteException.getMessage

/**
     * Remove old tiles until enough space is present
     * 
     * @param pSizeNeeded the extra size we need
     * @return the size we actually gained
     */     */
    public boolean isInvalid(@NonNull final MapTile aTile) {
        boolean existed = false;
        if (mDatabase.<mark>isOpen</mark>()) {
            final String[] args = new String[] { aTile.rendererID, Integer.toString(aTile.zoomLevel), Integer.toString(aTile.x), Integer.toString(aTile.y) };
            final Cursor c = mDatabase.<mark>query</mark>(T_FSCACHE, new String[] { T_FSCACHE_RENDERER_ID }, T_FSCACHE_WHERE_INVALID, args, null, null, null);
            existed = c.getCount() > 0;
            c.close();
        }
        return existed;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____DatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.close


    private void upgradeLockPatternLocation(SQLiteDatabase db) {
        Cursor c = db.<mark>query</mark>(TABLE_SYSTEM, new String[] {"_id", "value"}, "name='lock_pattern'",
                null, null, null, null);
        if (c.getCount() > 0) {
            c.moveToFirst();
            String lockPattern = c.getString(1);
            if (!TextUtils.isEmpty(lockPattern)) {
                // Convert lock pattern
                try {
                    LockPatternUtils lpu = new LockPatternUtils(mContext);
                    List<LockPatternView.Cell> cellPattern =
                            lpu.stringToPattern(lockPattern);
                    lpu.saveLockPattern(cellPattern);
                } catch (IllegalArgumentException e) {
                    // Don't want corrupted lock pattern to hang the reboot process
                }
            }
            c.<mark>close</mark>();
            db.delete(TABLE_SYSTEM, "name='lock_pattern'", null);
        } else {
            c.<mark>close</mark>();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____HostDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Record the given hostkey into database under this nickname.
	 * @param hostname
	 * @param port
	 * @param hostkeyalgo
	 * @param hostkey
	 */	 */
	public HostBean findHost(Map<String, String> selection) {
		StringBuilder selectionBuilder = new StringBuilder();

		Iterator<Entry<String, String>> i = selection.entrySet().iterator();

		List<String> selectionValuesList = new LinkedList<String>();
		int n = 0;
		while (i.hasNext()) {
			Entry<String, String> entry = i.next();

			if (entry.getValue() == null)
				continue;

			if (n++ > 0)
				selectionBuilder.append(" AND ");

			selectionBuilder.append(entry.getKey())
				.append(" = ?");

			selectionValuesList.add(entry.getValue());
		}

		String selectionValues[] = new String[selectionValuesList.size()];
		selectionValuesList.toArray(selectionValues);
		selectionValuesList = null;

		HostBean host;

		synchronized (dbLock) {
			SQLiteDatabase db = getReadableDatabase();

			Cursor c = db.<mark>query</mark>(TABLE_HOSTS, null,
					selectionBuilder.toString(),
					selectionValues,
					null, null, null);

			host = getFirstHostBean(c);
		}

		return host;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public List<String> getChildGroupIds(Integer parentGroupKey) {
        if (parentGroupKey == null || parentGroupKey == 0) {
            return new ArrayList<>();
        }
        Cursor cursor = null;
        try {
            List<String> childGroupIds = new ArrayList<>();

            SQLiteDatabase db = dbHelper.getReadableDatabase();
            String structuredNameWhere = "";
            structuredNameWhere += "parentGroupKey = ?";
            cursor = db.<mark>query</mark>(CHANNEL, null, structuredNameWhere, new String[]{String.valueOf(parentGroupKey)}, null, null, null);
            if (cursor.moveToFirst()) {
                do {
                    childGroupIds.add(String.valueOf(cursor.getInt(cursor.getColumnIndex(MobiComDatabaseHelper.CHANNEL_KEY))));

                } while (cursor.moveToNext());
            }
            return childGroupIds;

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    public ReadingListPage findPageInAnyList(@NonNull PageTitle title) {
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.SITE.getName() + " = ? AND "
                        + ReadingListPageContract.Col.LANG.getName() + " = ? AND "
                        + ReadingListPageContract.Col.NAMESPACE.getName() + " = ? AND "
                        + ReadingListPageContract.Col.TITLE.getName() + " = ? AND "
                        + ReadingListPageContract.Col.STATUS.getName() + " != ?",
                new String[]{title.getWikiSite().authority(), title.getWikiSite().languageCode(),
                        Integer.toString(title.namespace().code()), title.getDisplayText(),
                        Integer.toString(ReadingListPage.STATUS_QUEUE_FOR_DELETE)},
                null, null, null)) {
            if (cursor.moveToFirst()) {
                return ReadingListPage.DATABASE_TABLE.fromCursor(cursor);
            }
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>actorapp_____actor-platform_____SQLiteList_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/actorapp_____actor-platform_____SQLiteList.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public List<ListEngineRecord> loadForward(String query, Long sortingKey, int limit) {
        checkTable();
        Cursor cursor;
        if (sortingKey == null) {
            cursor = database.<mark>query</mark>("\"" + tableName + "\"", new String[]{"\"LIST_ID\"", "\"ID\"", "\"SORT_KEY\"", "\"QUERY\"", "\"BYTES\""},
                    "\"QUERY\" LIKE ? OR \"QUERY\" LIKE ?", new String[]{
                            query + "%",
                            "% " + query + "%"
                    }, null, null, "SORT_KEY DESC", String.valueOf(limit));
        } else {
            cursor = database.<mark>query</mark>("\"" + tableName + "\"",
                    new String[]{"\"ID\"", "\"SORT_KEY\"", "\"QUERY\"", "\"BYTES\""},
                    "(\"QUERY\" LIKE ? OR \"QUERY\" LIKE ?) AND \"SORT_KEY\" < ?",
                    new String[]{
                            query + "%",
                            "% " + query + "%",
                            String.valueOf(sortingKey)
                    }, null, null, "\"SORT_KEY\" DESC", String.valueOf(limit));
        }
        return loadSlice(cursor);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    public List<ReadingList> getListsFromPageOccurrences(@NonNull List<ReadingListPage> pages) {
        List<ReadingList> lists = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        List<Long> listIds = new ArrayList<>();
        for (ReadingListPage page : pages) {
            if (!listIds.contains(page.listId())) {
                listIds.add(page.listId());
            }
        }
        for (long listId : listIds) {
            try (Cursor cursor = db.<mark>query</mark>(ReadingListContract.TABLE, null,
                    ReadingListContract.Col.ID.getName() + " = ?", new String[]{Long.toString(listId)},
                    null, null, null)) {
                if (cursor.moveToFirst()) {
                    lists.add(ReadingList.DATABASE_TABLE.fromCursor(cursor));
                }
            }
        }
        for (ReadingList list : lists) {
            for (ReadingListPage page : pages) {
                if (list.id() == page.listId()) {
                    list.pages().add(page);
                }
            }
        }
        return lists;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____AccountManagerService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete


    private void purgeOldGrants(UserAccounts accounts) {
        synchronized (accounts.cacheLock) {
            final SQLiteDatabase db = accounts.openHelper.getWritableDatabase();
            final Cursor cursor = db.<mark>query</mark>(TABLE_GRANTS,
                    new String[]{GRANTS_GRANTEE_UID},
                    null, null, GRANTS_GRANTEE_UID, null, null);
            try {
                while (cursor.moveToNext()) {
                    final int uid = cursor.getInt(0);
                    final boolean packageExists = mPackageManager.getPackagesForUid(uid) != null;
                    if (packageExists) {
                        continue;
                    }
                    Log.d(TAG, "deleting grants for UID " + uid
                            + " because its package is no longer installed");
                    db.<mark>delete</mark>(TABLE_GRANTS, GRANTS_GRANTEE_UID + "=?",
                            new String[]{Integer.toString(uid)});
                }
            } finally {
                cursor.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____MigrationHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____MigrationHelper.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update

/**
     * Code for upgrading the database to version 7 from version 6.<br>
     * Tasks accomplished in migration:
     *  <ul>
     *      <li>Added new splits table for transaction splits</li>
     *      <li>Extract existing info from transactions table to populate split table</li>
     *  </ul>
     * @param db SQLite Database
     * @return The new database version if upgrade was successful, or the old db version if it failed
     */     */
    private static String getGnuCashRootAccountUID(SQLiteDatabase db){
        String condition = AccountEntry.COLUMN_TYPE + "= '" + AccountType.ROOT.name() + "'";
        Cursor cursor =  db.<mark>query</mark>(AccountEntry.TABLE_NAME,
                null, condition, null, null, null,
                AccountEntry.COLUMN_NAME + " ASC");
        String rootUID = null;
        if (cursor != null && cursor.moveToFirst()){
            rootUID = cursor.getString(cursor.getColumnIndexOrThrow(AccountEntry.COLUMN_UID));
            cursor.close();
        }
        return rootUID;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TagController_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TagController.java

android.database.sqlite.SQLiteDatabase.query

/** Returns a list of task identifiers in the provided set that are UNtagged.
     *
     * The calling SubActivity must provide the set of tasks, since
     * TagController cannot access the appropriate instance of TaskController.
     *
     * The current implementation is not very efficient, because queries
     * the TagToTask map once for each active task.
     **/    /** Get a list of tag identifiers for the given task */
    public LinkedList<TagIdentifier> getTaskTags(TaskIdentifier
            taskId) throws SQLException {
        LinkedList<TagIdentifier> list = new LinkedList<TagIdentifier>();
        Cursor cursor = tagToTaskMapDatabase.<mark>query</mark>(tagTaskTable,
                TagToTaskMapping.FIELD_LIST, TagToTaskMapping.TASK + " = ?",
                new String[] { taskId.idAsString() }, null, null, null);

        try {
	        if(cursor.getCount() == 0)
	            return list;
	        do {
	            cursor.moveToNext();
	            list.add(new TagToTaskMapping(cursor).getTag());
	        } while(!cursor.isLast());
        } finally {
        	cursor.close();
        }

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ParanoidAndroid_____android_frameworks_base_____DatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ParanoidAndroid_____android_frameworks_base_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.close


    private void upgradeLockPatternLocation(SQLiteDatabase db) {
        Cursor c = db.<mark>query</mark>(TABLE_SYSTEM, new String[] {"_id", "value"}, "name='lock_pattern'",
                null, null, null, null);
        if (c.getCount() > 0) {
            c.moveToFirst();
            String lockPattern = c.getString(1);
            if (!TextUtils.isEmpty(lockPattern)) {
                // Convert lock pattern
                try {
                    LockPatternUtils lpu = new LockPatternUtils(mContext);
                    List<LockPatternView.Cell> cellPattern =
                            LockPatternUtils.stringToPattern(lockPattern);
                    lpu.saveLockPattern(cellPattern);
                } catch (IllegalArgumentException e) {
                    // Don't want corrupted lock pattern to hang the reboot process
                }
            }
            c.<mark>close</mark>();
            db.delete(TABLE_SYSTEM, "name='lock_pattern'", null);
        } else {
            c.<mark>close</mark>();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

     */
    public long getLoggedOpsCount() {
        long logCount;
        String[] columns = new String[]{TomahawkSQLiteHelper.INFOSYSTEMOPLOGINFO_COLUMN_LOGCOUNT};
        Cursor opLogsCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_INFOSYSTEMOPLOGINFO,
                columns, null, null, null, null, null);
        if (!opLogsCursor.moveToFirst() || opLogsCursor.isNull(0)) {
            // if no logcount is stored, we calculate it and store it
            logCount = DatabaseUtils
                    .queryNumEntries(mDatabase, TomahawkSQLiteHelper.TABLE_INFOSYSTEMOPLOG);
            mDatabase.beginTransaction();
            ContentValues values = new ContentValues();
            values.put(TomahawkSQLiteHelper.INFOSYSTEMOPLOGINFO_COLUMN_LOGCOUNT, logCount);
            mDatabase.update(TomahawkSQLiteHelper.TABLE_INFOSYSTEMOPLOGINFO, values, null,
                    null);
            mDatabase.setTransactionSuccessful();
            mDatabase.endTransaction();
        } else {
            logCount = opLogsCursor.getLong(0);
        }
        opLogsCursor.close();
        return logCount;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageActionDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____PageActionDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static List<PageAction> retrieve(SQLiteDatabase db, String pageId, String lang) throws SQLException {
        List<PageAction> actionList = new ArrayList<PageAction>();

        Cursor c = db.<mark>query</mark>(TABLE_PAGE_ACTION, null, PAGE_ID + "=? AND " + PAGE_LANGUAGE + "=?", new String[]{pageId, lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            while (!c.isAfterLast()) {
                String actionTitle = c.getString(c.getColumnIndex(ACTION_TITLE));
                String actionLink = c.getString(c.getColumnIndex(ACTION_LINK));
                String actionStatus = c.getString(c.getColumnIndex(ACTION_STATUS));
                String actionLang = c.getString(c.getColumnIndex(ACTION_LANGUAGE));
                String confirmation = c.getString(c.getColumnIndex(ACTION_CONFIRMATION));

                PageAction action = new PageAction(actionTitle, actionLink, actionStatus, actionLang, confirmation);
                actionList.add(action);
                c.moveToNext();
            }
        }
        c.close();
        return actionList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____ChannelDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public String getGroupOfTwoReceiverId(Integer channelKey) {
        Cursor cursor = null;
        try {
            SQLiteDatabase db = dbHelper.getReadableDatabase();
            String structuredNameWhere = "";

            structuredNameWhere += "channelKey = ? AND userId NOT IN ('" + MobiComUserPreference.getInstance(context).getUserId().replaceAll("'", "''") + "')";
            cursor = db.<mark>query</mark>(CHANNEL_USER_X, null, structuredNameWhere, new String[]{String.valueOf(channelKey)}, null, null, null);

            List<ChannelUserMapper> channelUserMappers = getListOfUsers(cursor);
            if (channelUserMappers != null && channelUserMappers.size() > 0) {
                ChannelUserMapper channelUserMapper = channelUserMappers.get(0);
                if (channelUserMapper != null) {
                    return channelUserMapper.getUserKey();
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>frostwire_____frostwire_____FavoritesStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/frostwire_____frostwire_____FavoritesStore.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Toggle the current song as favorite
     */     */
    public Long getSongId(final Long songId) {
        if (songId <= -1) {
            return null;
        }
        try {
            final String[] projection = new String[]{
                    FavoriteColumns.ID, FavoriteColumns.SONGNAME, FavoriteColumns.ALBUMNAME,
                    FavoriteColumns.ARTISTNAME, FavoriteColumns.PLAYCOUNT
            };
            final String selection = FavoriteColumns.ID + "=?";
            final String[] having = new String[]{
                    String.valueOf(songId)
            };
            Cursor cursor = readableDatabase.<mark>query</mark>(FavoriteColumns.NAME, projection, selection, having, null,
                    null, null, null);
            if (cursor != null && cursor.moveToFirst()) {
                final Long id = cursor.getLong(cursor.getColumnIndexOrThrow(FavoriteColumns.ID));
                cursor.close();
                return id;
            }
            if (cursor != null) {
                cursor.close();
            }
        } catch (Throwable e) {
            return null;
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dkim0419_____SoundRecorder_____DBHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dkim0419_____SoundRecorder_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query


    public RecordingItem getItemAt(int position) {
        SQLiteDatabase db = getReadableDatabase();
        String[] projection = {
                DBHelperItem._ID,
                DBHelperItem.COLUMN_NAME_RECORDING_NAME,
                DBHelperItem.COLUMN_NAME_RECORDING_FILE_PATH,
                DBHelperItem.COLUMN_NAME_RECORDING_LENGTH,
                DBHelperItem.COLUMN_NAME_TIME_ADDED
        };
        Cursor c = db.<mark>query</mark>(DBHelperItem.TABLE_NAME, projection, null, null, null, null, null);
        if (c.moveToPosition(position)) {
            RecordingItem item = new RecordingItem();
            item.setId(c.getInt(c.getColumnIndex(DBHelperItem._ID)));
            item.setName(c.getString(c.getColumnIndex(DBHelperItem.COLUMN_NAME_RECORDING_NAME)));
            item.setFilePath(c.getString(c.getColumnIndex(DBHelperItem.COLUMN_NAME_RECORDING_FILE_PATH)));
            item.setLength(c.getInt(c.getColumnIndex(DBHelperItem.COLUMN_NAME_RECORDING_LENGTH)));
            item.setTime(c.getLong(c.getColumnIndex(DBHelperItem.COLUMN_NAME_TIME_ADDED)));
            c.close();
            return item;
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____DBSearchUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/jamorham_____xDrip-plus_____DBSearchUtil.java

android.database.sqlite.SQLiteDatabase.query


    public static List<BgReadingStats> getReadings(boolean ordered) {
        try {
            Bounds bounds = new Bounds().invoke();

            String orderBy = ordered ? "calculated_value desc" : null;

            SQLiteDatabase db = Cache.openDatabase();
            Cursor cur = db.<mark>query</mark>("bgreadings", new String[]{"timestamp", "calculated_value"}, "timestamp >= ? AND timestamp <=  ? AND calculated_value > ? AND snyced == 0", new String[]{"" + bounds.start, "" + bounds.stop, CUTOFF}, null, null, orderBy);
            List<BgReadingStats> readings = new Vector<BgReadingStats>();
            BgReadingStats reading;
            if (cur.moveToFirst()) {
                do {
                    reading = new BgReadingStats();
                    reading.timestamp = (Long.parseLong(cur.getString(0)));
                    reading.calculated_value = (Double.parseDouble(cur.getString(1)));
                    readings.add(reading);
                } while (cur.moveToNext());
            }
            return readings;

        } catch (Exception e) {
            JoH.static_toast_long(e.getMessage());
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

/**
     * checks if this is a newly created database
     */    @NonNull
    public static StoredList getList(final int id) {
        init();
        if (id >= customListIdOffset) {
            final Cursor cursor = database.<mark>query</mark>(
                    dbTableLists,
                    new String[]{"_id", "title"},
                    "_id = ? ",
                    new String[] { String.valueOf(id - customListIdOffset) },
                    null,
                    null,
                    null);
            final List<StoredList> lists = getListsFromCursor(cursor);
            if (!lists.isEmpty()) {
                return lists.get(0);
            }
        }

        final Resources res = CgeoApplication.getInstance().getResources();
        if (id == PseudoList.ALL_LIST.id) {
            return new StoredList(PseudoList.ALL_LIST.id, res.getString(R.string.list_all_lists), getAllCachesCount());
        }

        // fall back to standard list in case of invalid list id
        return new StoredList(StoredList.STANDARD_LIST_ID, res.getString(R.string.list_inbox), (int) PreparedStatement.COUNT_CACHES_ON_STANDARD_LIST.simpleQueryForLong());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cping_____LGame_____RecordStoreSqlLite_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cping_____LGame_____RecordStoreSqlLite.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.insertOrThrow
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction


    public synchronized String[] listRecordStores() {
            Cursor resultCursor = database.<mark>query</mark>(TABLENAME_RECORDSTORE, new String[] {COLUMNNAME_RECORDSTORE_NAME}, null, null, null, null,null);
            String[] recordStores;
            try {
                    int numberOfRecordStores = resultCursor.getCount();
                    recordStores = new String[numberOfRecordStores];
                    for (int i = 0; i < numberOfRecordStores; i++) {
                            resultCursor.move(1);
                            recordStores[i] = resultCursor.getString(0);
                    }
            } finally {
                    resultCursor.close();
            }
            return recordStores;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wikimedia_____apps-android-wikipedia_____ReadingListDbHelper_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wikimedia_____apps-android-wikipedia_____ReadingListDbHelper.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    public List<ReadingListPage> getAllPageOccurrences(@NonNull PageTitle title) {
        List<ReadingListPage> pages = new ArrayList<>();
        SQLiteDatabase db = getReadableDatabase();
        try (Cursor cursor = db.<mark>query</mark>(ReadingListPageContract.TABLE, null,
                ReadingListPageContract.Col.SITE.getName() + " = ? AND "
                        + ReadingListPageContract.Col.LANG.getName() + " = ? AND "
                        + ReadingListPageContract.Col.NAMESPACE.getName() + " = ? AND "
                        + ReadingListPageContract.Col.TITLE.getName() + " = ? AND "
                        + ReadingListPageContract.Col.STATUS.getName() + " != ?",
                new String[]{title.getWikiSite().authority(), title.getWikiSite().languageCode(),
                        Integer.toString(title.namespace().code()), title.getDisplayText(),
                        Integer.toString(ReadingListPage.STATUS_QUEUE_FOR_DELETE)},
                null, null, null)) {
            while (cursor.moveToNext()) {
                pages.add(ReadingListPage.DATABASE_TABLE.fromCursor(cursor));
            }
        }
        return pages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>firebase_____firebase-android-sdk_____SQLiteEventStore_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/firebase_____firebase-android-sdk_____SQLiteEventStore.java

android.database.sqlite.SQLiteDatabase.query

/** Populate metadata into the events. */  /** Loads all events for a backend. */
  private List<PersistedEvent> loadEvents(SQLiteDatabase db, TransportContext transportContext) {
    List<PersistedEvent> events = new ArrayList<>();
    Long contextId = getTransportContextId(db, transportContext);
    if (contextId == null) {
      return events;
    }

    try (Cursor cursor =
        db.<mark>query</mark>(
            "events",
            new String[] {"_id", "transport_name", "timestamp_ms", "uptime_ms", "payload"},
            "context_id = ?",
            new String[] {contextId.toString()},
            null,
            null,
            null,
            String.valueOf(config.getLoadBatchSize()))) {
      while (cursor.moveToNext()) {
        long id = cursor.getLong(0);
        EventInternal event =
            EventInternal.builder()
                .setTransportName(cursor.getString(1))
                .setEventMillis(cursor.getLong(2))
                .setUptimeMillis(cursor.getLong(3))
                .setPayload(cursor.getBlob(4))
                .build();
        events.add(PersistedEvent.create(id, transportContext, event));
      }
    }
    return events;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>arpitkh96_____AmazeFileManager_____UtilsHandler_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/arpitkh96_____AmazeFileManager_____UtilsHandler.java

android.database.sqlite.SQLiteDatabase.query


    public ArrayList<String[]> getSmbList() {
        SQLiteDatabase sqLiteDatabase = getReadableDatabase();

        Cursor cursor = sqLiteDatabase.<mark>query</mark>(getTableForOperation(Operation.SMB), null,
                null, null, null, null, null);
        boolean hasNext = cursor.moveToFirst();
        ArrayList<String[]> row = new ArrayList<>();
        while (hasNext) {
            try {
                row.add(new String[] {
                        cursor.getString(cursor.getColumnIndex(COLUMN_NAME)),
                        SmbUtil.getSmbDecryptedPath(context, cursor.getString(cursor.getColumnIndex(COLUMN_PATH)))
                });
            } catch (GeneralSecurityException | IOException e) {
                e.printStackTrace();

                // failing to decrypt the path, removing entry from database
                Toast.makeText(context, context.getString(R.string.failed_smb_decrypt_path), Toast.LENGTH_LONG).show();
                removeSmbPath(cursor.getString(cursor.getColumnIndex(COLUMN_NAME)),
                        "");
                continue;
            }
            hasNext = cursor.moveToNext();
        }
        cursor.close();
        return row;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase.java

android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.close

/**
     * Move a preset to a new position
     * 
     * @param oldPos index of old position
     * @param newPos index of new position
     */    @NonNull
    private synchronized PresetInfo[] getPresets(@Nullable String value, boolean byURL) {
        SQLiteDatabase db = getReadableDatabase();
        Cursor dbresult = db.<mark>query</mark>(PRESETS_TABLE, new String[] { ID_FIELD, "name", "url", "lastupdate", "active", "usetranslations" },
                value == null ? null : (byURL ? "url = ?" : "id = ?"), value == null ? null : new String[] { value }, null, null, POSITION_FIELD);
        PresetInfo[] result = new PresetInfo[dbresult.getCount()];
        dbresult.moveToFirst();
        for (int i = 0; i < result.length; i++) {
            result[i] = new PresetInfo(dbresult.getString(0), dbresult.getString(1), dbresult.getString(2), dbresult.getString(3), dbresult.getInt(4) == 1,
                    dbresult.getInt(5) == 1);
            dbresult.moveToNext();
        }
        dbresult.<mark>close</mark>();
        db.<mark>close</mark>();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>quran_____quran_android_____DatabaseHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/quran_____quran_android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query

/**
   * @deprecated use {@link #getVerses(VerseRange, int)} instead
   * @param sura the sura
   * @param ayah the ayah
   * @return the result
   */
  private List<QuranText> expandHyperlinks(String table, List<QuranText> data, String rowIds) {
    SparseArray<String> expansions = new SparseArray<>();

    Cursor cursor = null;
    try {
      cursor = database.<mark>query</mark>(table, new String[]{ "rowid as _id", COL_TEXT },
          "rowid in (" + rowIds + ")", null, null, null, "rowid");
      while (cursor != null && cursor.moveToNext()) {
        int id = cursor.getInt(0);
        String text = cursor.getString(1);
        expansions.put(id, text);
      }
    } finally {
      DatabaseUtils.closeCursor(cursor);
    }

    List<QuranText> result = new ArrayList<>();
    for (int i = 0, size = data.size(); i < size; i++) {
      final QuranText ayah = data.get(i);
      final Integer linkId = TranslationUtil.getHyperlinkAyahId(ayah);
      if (linkId == null) {
        result.add(ayah);
      } else {
        final String expandedText = expansions.get(linkId);
        result.add(new QuranText(ayah.getSura(), ayah.getAyah(), ayah.getText(), expandedText));
      }
    }
    return result;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pwnall_____chromeview_____HttpAuthDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/pwnall_____chromeview_____HttpAuthDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Clears the HTTP authentication password database.
     */     */
    public String[] getHttpAuthUsernamePassword(String host, String realm) {
        if (host == null || realm == null || !waitForInit()){
            return null;
        }

        final String[] columns = new String[] {
            HTTPAUTH_USERNAME_COL, HTTPAUTH_PASSWORD_COL
        };
        final String selection = "(" + HTTPAUTH_HOST_COL + " == ?) AND " +
                "(" + HTTPAUTH_REALM_COL + " == ?)";

        String[] ret = null;
        Cursor cursor = null;
        try {
            cursor = mDatabase.<mark>query</mark>(HTTPAUTH_TABLE_NAME, columns, selection,
                    new String[] { host, realm }, null, null, null);
            if (cursor.moveToFirst()) {
                ret = new String[] {
                        cursor.getString(cursor.getColumnIndex(HTTPAUTH_USERNAME_COL)),
                        cursor.getString(cursor.getColumnIndex(HTTPAUTH_PASSWORD_COL)),
                };
            }
        } catch (IllegalStateException e) {
            Log.e(LOGTAG, "getHttpAuthUsernamePassword", e);
        } finally {
            if (cursor != null) cursor.close();
        }
        return ret;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mogoweb_____chromium_webview_____HttpAuthDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mogoweb_____chromium_webview_____HttpAuthDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Clears the HTTP authentication password database.
     */     */
    public String[] getHttpAuthUsernamePassword(String host, String realm) {
        if (host == null || realm == null || !waitForInit()) {
            return null;
        }

        final String[] columns = new String[] {
            HTTPAUTH_USERNAME_COL, HTTPAUTH_PASSWORD_COL
        };
        final String selection = "(" + HTTPAUTH_HOST_COL + " == ?) AND " +
                "(" + HTTPAUTH_REALM_COL + " == ?)";

        String[] ret = null;
        Cursor cursor = null;
        try {
            cursor = mDatabase.<mark>query</mark>(HTTPAUTH_TABLE_NAME, columns, selection,
                    new String[] { host, realm }, null, null, null);
            if (cursor.moveToFirst()) {
                ret = new String[] {
                        cursor.getString(cursor.getColumnIndex(HTTPAUTH_USERNAME_COL)),
                        cursor.getString(cursor.getColumnIndex(HTTPAUTH_PASSWORD_COL)),
                };
            }
        } catch (IllegalStateException e) {
            Log.e(LOGTAG, "getHttpAuthUsernamePassword", e);
        } finally {
            if (cursor != null) cursor.close();
        }
        return ret;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Deletescape-Media_____Lawnchair_____SavedWallpaperImages_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Deletescape-Media_____Lawnchair_____SavedWallpaperImages.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete


    public List<SavedWallpaperInfo> loadThumbnailsAndImageIdList() {
        List<SavedWallpaperInfo> result = new ArrayList<>();

        SQLiteDatabase db = mDb.getReadableDatabase();
        Cursor c = db.<mark>query</mark>(ImageDb.TABLE_NAME,
                new String[]{ImageDb.COLUMN_ID,
                        ImageDb.COLUMN_IMAGE_THUMBNAIL_FILENAME,
                        ImageDb.COLUMN_IMAGE_FILENAME}, // cols to return
                null, // select query
                null, // args to select query
                null,
                null,
                ImageDb.COLUMN_ID + " DESC",
                null);

        while (c.moveToNext()) {
            String filename = c.getString(1);
            File file = new File(mContext.getFilesDir(), filename);

            Bitmap thumb = BitmapFactory.decodeFile(file.getAbsolutePath());
            if (thumb != null) {
                result.add(new SavedWallpaperInfo(c.getInt(0),
                        new File(mContext.getFilesDir(), c.getString(2)),
                        new BitmapDrawable(mContext.getResources(), thumb)));
            }
        }
        c.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>LitePalFramework_____LitePal_____DBUtility_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/LitePalFramework_____LitePal_____DBUtility.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Test if the table name passed in exists in the database. Cases are
	 * ignored.
	 * 
	 * @param tableName
	 *            The table name.
	 * @return Return true if there's already a same name table exist, otherwise
	 *         return false.
	 */	 */
	public static boolean isIntermediateTable(String tableName, SQLiteDatabase db) {
		if (!TextUtils.isEmpty(tableName)) {
			if (tableName.matches("[0-9a-zA-Z]+_[0-9a-zA-Z]+")) {
				Cursor cursor = null;
				try {
					cursor = db.<mark>query</mark>(Const.TableSchema.TABLE_NAME, null, null, null, null, null,
							null);
					if (cursor.moveToFirst()) {
						do {
							String tableNameDB = cursor.getString(cursor
									.getColumnIndexOrThrow(Const.TableSchema.COLUMN_NAME));
							if (tableName.equalsIgnoreCase(tableNameDB)) {
								int tableType = cursor.getInt(cursor
										.getColumnIndexOrThrow(Const.TableSchema.COLUMN_TYPE));
								if (tableType == Const.TableSchema.INTERMEDIATE_JOIN_TABLE) {
									return true;
								}
								break;
							}
						} while (cursor.moveToNext());
					}
				} catch (Exception e) {
					e.printStackTrace();
				} finally {
					if (cursor != null) {
						cursor.close();
					}
				}
			}
		}
		return false;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public Iterable<Message> getMessagesIterable(final Conversation conversation) {
        return () -> {
            class MessageIterator implements Iterator<Message> {
                private SQLiteDatabase db = getReadableDatabase();
                private String[] selectionArgs = {conversation.getUuid()};
                private Cursor cursor = db.<mark>query</mark>(Message.TABLENAME, null, Message.CONVERSATION
                        + "=?", selectionArgs, null, null, Message.TIME_SENT
                        + " ASC", null);

                private MessageIterator() {
                    cursor.moveToFirst();
                }

                @Override
                public boolean hasNext() {
                    return !cursor.isAfterLast();
                }

                @Override
                public Message next() {
                    Message message = Message.fromCursor(cursor, conversation);
                    cursor.moveToNext();
                    return message;
                }

                @Override
                public void remove() {
                    throw new UnsupportedOperationException();
                }
            }
            return new MessageIterator();
        };
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	public List<LogEntry> getLogEntries(String uidCondition, String orderBy,
			int numOfRecords, String filterQuery) {
		SQLiteDatabase db = null;
		Cursor result = null;

		String whereClause = DatabaseSchema.LogEntrySchema.IS_DELETED + " = "
				+ String.valueOf(0) + " AND " + uidCondition;
		whereClause = whereClause.intern();

		List<LogEntry> logEntries = new ArrayList<LogEntry>();
		try {
			db = getReadableDatabase();
			result = db.<mark>query</mark>(DatabaseSchema.LogEntrySchema.TABLE_NAME,
					DatabaseSchema.LogEntrySchema.COLUMNS, whereClause, null,
					null, null, orderBy);

			if (result == null || result.getCount() == 0) {
				return logEntries;
			}
			result.moveToFirst();
			Log.d(LOG_TAG,
					"Number of Log entries found in DB : " + result.getCount());

			int index = 0;
			while (!result.isAfterLast() && index < numOfRecords) {
				LogEntry logEntry = getLogEntry(result);
				List<Packet> packets = getPackets(logEntry.getUid(),
						filterQuery);
				if (packets != null && packets.size() > 0) {
					logEntry.addPackets(packets);
					logEntries.add(logEntry);
					index = index + 1;
				}
				result.moveToNext();
			}
			return logEntries;
		} finally {
			if (result != null)
				result.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fastbootmobile_____encore_____MultiProviderDatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fastbootmobile_____encore_____MultiProviderDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    private void fetchPlaylists() {
        final Cursor c = mDatabase.<mark>query</mark>(TABLE_PLAYLIST, null, null, null, null, null, null);

        final int colindex_id = c.getColumnIndex(KEY_ID);
        final int colindex_name = c.getColumnIndex(KEY_PLAYLIST_NAME);

        if (c.moveToFirst()) {
            do {
                final long playlist_id = c.getLong(colindex_id);

                // Create the Omni entity
                Playlist pl = new Playlist("omni:playlist:" + playlist_id);
                pl.setIsLoaded(true);
                pl.setName(c.getString(colindex_name));
                pl.setProvider(mProviderIdentifier);
                pl.setSourceLogo(MultiProviderPlaylistProvider.LOGO_REF);

                // Ensure songs are fetched
                fetchSongs(pl, playlist_id, mDatabase);

                // Cache it
                mPlaylists.put(pl.getRef(), pl);
                mPlayListRefID.put(pl.getRef(), playlist_id);

                // Notify the app
                mCallback.playlistUpdated(pl);
            } while (c.moveToNext());
        }

        ProviderAggregator.getDefault().getCache().putAllProviderPlaylist(new ArrayList<>(mPlaylists.values()));

        c.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matt-allen_____repay-android_____DatabaseHandler_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/matt-allen_____repay-android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
	 * Replace friend data in database with that passed in here
	 * @param friend
	 */	 */
	public ArrayList<Debt> getDebtsByRepayID(final String repayID) throws SQLException, ParseException,
			CursorIndexOutOfBoundsException, NullPointerException {
		ArrayList<Debt> debts = null;
		SQLiteDatabase db = this.getReadableDatabase();
		Cursor c = db.<mark>query</mark>(Names.D_TABLENAME, new String[]{Names.D_DEBTID, Names.D_DATE, Names.D_AMOUNT, Names.D_DESCRIPTION},
				Names.D_REPAYID+"=?", new String[]{repayID}, null, null, null);

		if(c != null && c.getCount() > 0){
			c.moveToFirst();
			debts = new ArrayList<Debt>();
			do{
				SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);
				String description, dateString;
				Date date;
				// Try and catch errors to stop this failing silently
				try{
					dateString = c.getString(1);
					date = sdf.parse(dateString);
				} catch (Exception e){
					date = new Date();
				}
				try{
					description = c.getString(3);
				} catch (Exception e){
					description = "";
				}
				debts.add(new Debt(c.getInt(0), repayID, date, new BigDecimal(c.getString(2)), description));
			} while(c.moveToNext());
		}
		db.<mark>close</mark>();
		return debts;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Ansh1234_____AppDataReader_____SqliteDatabaseReader_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Ansh1234_____AppDataReader_____SqliteDatabaseReader.java

android.database.sqlite.SQLiteDatabase.query


  public static List getColumnTypes(Context context, String databaseName, String
      tableName) {

    if (context == null || Utils.isEmpty(databaseName) || Utils.isEmpty(tableName)) {
      return null;
    }

    SQLiteDatabase sqLiteDatabase;
    try {
      sqLiteDatabase = context.openOrCreateDatabase(databaseName, 0, null);
    } catch (Exception e) {
      e.printStackTrace();
      return null;
    }
    Cursor cursor = sqLiteDatabase.<mark>query</mark>(tableName, null, null, null, null, null, null);

    if (cursor == null) {
      return null;
    }


    ArrayList<Integer> tableColumnDataTypes = new ArrayList<>();

    //If no data is present, then give default width to show all the column names.
    if (!cursor.moveToFirst()) {
      int defaultWidth = (int) context.getResources().getDimension(R.dimen
          .com_awesomedroidapps_inappstoragereader_database_item_string_width);
      for (int i = 0; i < cursor.getColumnCount(); i++) {
        tableColumnDataTypes.add(defaultWidth);
      }
      return tableColumnDataTypes;
    }

    for (int i = 0; i < cursor.getColumnCount(); i++) {
      int columnType = cursor.getType(i);
      tableColumnDataTypes.add(columnType);
    }
    return tableColumnDataTypes;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>OneSignal_____OneSignal-Android-SDK_____NotificationSummaryManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/OneSignal_____OneSignal-Android-SDK_____NotificationSummaryManager.java

android.database.sqlite.SQLiteDatabase.query

   
   private static void restoreSummary(Context context, String group) {
      OneSignalDbHelper dbHelper = OneSignalDbHelper.getInstance(context);
      
      Cursor cursor = null;
      
      String[] whereArgs = { group };
      
      try {
         SQLiteDatabase readableDb = dbHelper.getReadableDbWithRetries();
         cursor = readableDb.<mark>query</mark>(
             NotificationTable.TABLE_NAME,
             NotificationRestorer.COLUMNS_FOR_RESTORE,
            NotificationTable.COLUMN_NAME_GROUP_ID + " = ? AND " +
             NotificationTable.COLUMN_NAME_DISMISSED + " = 0 AND " +
             NotificationTable.COLUMN_NAME_OPENED + " = 0 AND " +
             NotificationTable.COLUMN_NAME_IS_SUMMARY + " = 0",
             whereArgs,
             null,                           // group by
             null,                            // filter by row groups
             null
         );
   
         NotificationRestorer.showNotificationsFromCursor(context, cursor, 0);
      } catch (Throwable t) {
         OneSignal.Log(OneSignal.LOG_LEVEL.ERROR, "Error restoring notification records! ", t);
      } finally {
         if (cursor != null && !cursor.isClosed())
            cursor.close();
      }
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rovo89_____XposedInstaller_____RepoDb_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/rovo89_____XposedInstaller_____RepoDb.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public static Map<Long, Repository> getRepositories() {
        Map<Long, Repository> result = new LinkedHashMap<Long, Repository>(1);

        String[] projection = new String[]{
                RepositoriesColumns._ID,
                RepositoriesColumns.URL,
                RepositoriesColumns.TITLE,
                RepositoriesColumns.PARTIAL_URL,
                RepositoriesColumns.VERSION,
        };

        Cursor c = sDb.<mark>query</mark>(RepositoriesColumns.TABLE_NAME, projection, null, null, null, null, RepositoriesColumns._ID);
        while (c.moveToNext()) {
            Repository repo = new Repository();
            long id = c.getLong(c.getColumnIndexOrThrow(RepositoriesColumns._ID));
            repo.url = c.getString(c.getColumnIndexOrThrow(RepositoriesColumns.URL));
            repo.name = c.getString(c.getColumnIndexOrThrow(RepositoriesColumns.TITLE));
            repo.partialUrl = c.getString(c.getColumnIndexOrThrow(RepositoriesColumns.PARTIAL_URL));
            repo.version = c.getString(c.getColumnIndexOrThrow(RepositoriesColumns.VERSION));
            result.put(id, repo);
        }
        c.close();

        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * adds a new Preset with the given values to the Preset database
     * 
     * @param id the id
     * @param name the name of the new Preset
     * @param url any url for the preset
     * @param active if true this will be included in the currently avaliable presets
     */    @NonNull
    public PresetInfo[] getActivePresets() {
        SQLiteDatabase db = getReadableDatabase();
        Cursor dbresult = db.<mark>query</mark>(PRESETS_TABLE, new String[] { ID_FIELD, "name", "url", "lastupdate", "active", "usetranslations" }, "active=1", null, null,
                null, POSITION_FIELD);
        PresetInfo[] result = new PresetInfo[dbresult.getCount()];
        Log.d(LOGTAG, "#prefs " + result.length);
        dbresult.moveToFirst();
        for (int i = 0; i < result.length; i++) {
            Log.d(LOGTAG, "Reading pref " + i + " " + dbresult.getString(1));
            result[i] = new PresetInfo(dbresult.getString(0), dbresult.getString(1), dbresult.getString(2), dbresult.getString(3), dbresult.getInt(4) == 1,
                    dbresult.getInt(5) == 1);
            dbresult.moveToNext();
        }
        dbresult.<mark>close</mark>();
        db.<mark>close</mark>();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vanilla-music_____vanilla_____CoverCache_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vanilla-music_____vanilla_____CoverCache.java

android.database.sqlite.SQLiteDatabase.query

/**
		 * Stores a bitmap in the disk cache, does not update existing objects
		 *
		 * @param key The cover key to use
		 * @param Bitmap The bitmap to store
		 */		 */
		private void trim(long maxCacheSize) {
			SQLiteDatabase dbh = getWritableDatabase();
			long availableSpace = maxCacheSize - getUsedSpace();

			if (maxCacheSize == 0) {
				// Just drop the whole database (probably a call from evictAll)
				dbh.delete(TABLE_NAME, "1", null);
			} else if (availableSpace < 0) {
				// Try to evict all expired entries first
				int affected = dbh.delete(TABLE_NAME, "expires < ?", new String[] { Long.toString(getUnixTime())});
				if (affected > 0)
					availableSpace = maxCacheSize - getUsedSpace();

				if (availableSpace < 0) {
					// still not enough space: purge by expire date (this kills random rows as expire times are random)
					Cursor cursor = dbh.<mark>query</mark>(TABLE_NAME, META_PROJECTION, null, null, null, null, "expires ASC");
					if (cursor != null) {
						while (cursor.moveToNext() && availableSpace < 0) {
							int id = cursor.getInt(0);
							int size = cursor.getInt(1);
							dbh.delete(TABLE_NAME, "id=?", new String[] { Long.toString(id) });
							availableSpace += size;
						}
						cursor.close();
					}
				}
			}
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.query

	 */
	public void insertOrUpdateVersionWithActive(MVersionDb mv, boolean active) {
		final SQLiteDatabase db = helper.getWritableDatabase();
		final ContentValues cv = new ContentValues();
		cv.put(Db.Version.locale, mv.locale);
		cv.put(Db.Version.shortName, mv.shortName);
		cv.put(Db.Version.longName, mv.longName);
		cv.put(Db.Version.description, mv.description);
		cv.put(Db.Version.filename, mv.filename);
		cv.put(Db.Version.preset_name, mv.preset_name);
		cv.put(Db.Version.modifyTime, mv.modifyTime);
		cv.put(Db.Version.active, active); // special
		cv.put(Db.Version.ordering, mv.ordering);

		db.beginTransactionNonExclusive();
		try { // prevent insert for the same filename (absolute path), update instead
			try (Cursor c = db.<mark>query</mark>(Db.TABLE_Version, Array("_id", Db.Version.ordering), Db.Version.filename + "=?", Array(mv.filename), null, null, null)) {
				if (c.moveToNext()) {
					final long _id = c.getLong(0);
					final int ordering = c.getInt(1);

					mv.ordering = ordering;
					cv.put(Db.Version.ordering, ordering);

					db.update(Db.TABLE_Version, cv, "_id=?", ToStringArray(_id));
				} else {
					db.insert(Db.TABLE_Version, null, cv);
				}
			}

			db.setTransactionSuccessful();
		} finally {
			db.endTransaction();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.close

/**
     * Gets the preset data path for a preset with the given ID
     * 
     * @param id the id for the Preset
     * @return the preset data path
     */     */
    public synchronized void deletePreset(@NonNull String id) {
        if (ID_DEFAULT.equals(id)) {
            throw new IllegalOperationException("Cannot delete default");
        }
        SQLiteDatabase db = getWritableDatabase();
        db.delete(PRESETS_TABLE, "id = ?", new String[] { id });
        // need to renumber after deleting
        Cursor dbresult = db.<mark>query</mark>(PRESETS_TABLE, new String[] { ID_FIELD }, null, null, null, null, POSITION_FIELD);
        dbresult.moveToFirst();
        int count = dbresult.getCount();
        for (int i = 0; i < count; i++) {
            ContentValues values = new ContentValues();
            values.put(POSITION_FIELD, i);
            db.<mark>update</mark>(PRESETS_TABLE, values, "id = ?", new String[] { dbresult.getString(0) });
            dbresult.moveToNext();
        }
        dbresult.<mark>close</mark>();
        db.<mark>close</mark>();
        removePresetDirectory(id);
        if (id.equals(getCurrentAPI().preset)) {
            App.resetPresets();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____HelpPageDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____HelpPageDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static List<HelpPage> retrieve(SQLiteDatabase db, String lang) throws SQLException {
        List<HelpPage> pageList = new ArrayList<HelpPage>();

        Cursor c = db.<mark>query</mark>(TABLE_CONTENT_HELP, null, PAGE_LANGUAGE + "=?", new String[]{lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            while (!c.isAfterLast()) {
                String pageId = c.getString(c.getColumnIndex(PAGE_ID));
                String pageType = c.getString(c.getColumnIndex(PAGE_TYPE));
                String pageTitle = c.getString(c.getColumnIndex(PAGE_TITLE));
                String pageHeading = c.getString(c.getColumnIndex(PAGE_HEADING));
                String pageSectionOrder = c.getString(c.getColumnIndex(PAGE_SECTION_ORDER));
                String pageContent = c.getString(c.getColumnIndex(PAGE_CONTENT));

                List<PageItem> itemList = PageItemDbManager.retrieve(db, pageId, lang);

                HelpPage page = new HelpPage(pageId, lang, pageType, pageTitle, pageHeading,
                        pageSectionOrder, pageContent, itemList);
                pageList.add(page);
                c.moveToNext();
            }
        }
        c.close();
        return pageList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>k9mail_____k-9_____LocalFolder_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/k9mail_____k-9_____LocalFolder.java

android.database.sqlite.SQLiteDatabase.query


    private void loadMessageParts(SQLiteDatabase db, LocalMessage message) throws MessagingException {
        Map<Long, Part> partById = new HashMap<>();

        String[] columns = {
                "id",                   // 0
                "type",                 // 1
                "parent",               // 2
                "mime_type",            // 3
                "decoded_body_size",    // 4
                "display_name",         // 5
                "header",               // 6
                "encoding",             // 7
                "charset",              // 8
                "data_location",        // 9
                "data",                 // 10
                "preamble",             // 11
                "epilogue",             // 12
                "boundary",             // 13
                "content_id",           // 14
                "server_extra",         // 15
        };
        Cursor cursor = db.<mark>query</mark>("message_parts", columns, "root = ?",
                new String[] { String.valueOf(message.getMessagePartId()) }, null, null, "seq");
        try {
            while (cursor.moveToNext()) {
                loadMessagePart(message, partById, cursor);
            }
        } finally {
            cursor.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Neamar_____KISS_____DBHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Neamar_____KISS_____DBHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete

/**
     * Insert new tags for given id
     *
     * @param context android context
     * @param tag     tag to insert
     * @param record  record to insert
     */
    public static ArrayList<ShortcutRecord> getShortcuts(Context context) {
        ArrayList<ShortcutRecord> records = new ArrayList<>();
        SQLiteDatabase db = getDatabase(context);

        // Cursor query (String table, String[] columns, String selection,
        // String[] selectionArgs, String groupBy, String having, String
        // orderBy)
        Cursor cursor = db.<mark>query</mark>("shortcuts", new String[]{"name", "package", "icon", "intent_uri", "icon_blob"},
                null, null, null, null, null);

        cursor.moveToFirst();
        while (!cursor.isAfterLast()) {
            ShortcutRecord entry = new ShortcutRecord();

            entry.name = cursor.getString(0);
            entry.packageName = cursor.getString(1);
            entry.iconResource = cursor.getString(2);
            entry.intentUri = cursor.getString(3);
            entry.icon_blob = cursor.getBlob(4);

            records.add(entry);
            cursor.moveToNext();
        }
        cursor.close();

        return records;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____ValidatorRulesDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____ValidatorRulesDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Get all entries for a specific ruleset
     * 
     * @param database the database to query
     * @param name the ruleset name or null if we want the default entries
     * @return a Cursor pointing to the first entry
     */    @Nullable
    public static MultiHashMap<String, PatternAndAge> getDefaultResurvey(@NonNull SQLiteDatabase database) {
        MultiHashMap<String, PatternAndAge> result = null;
        Cursor dbresult = database.<mark>query</mark>(RESURVEY_TABLE, new String[] { KEY_FIELD, VALUE_FIELD, ISREGEXP_FIELD, DAYS_FIELD },
                RULESET_FIELD + " = " + DEFAULT_RULESET, null, null, null, KEY_FIELD + "," + VALUE_FIELD);

        if (dbresult.getCount() >= 1) {
            result = new MultiHashMap<>();
            boolean haveEntry = dbresult.moveToFirst();
            while (haveEntry) {
                PatternAndAge v = new PatternAndAge();
                v.setValue(dbresult.getString(1));
                v.setIsRegexp(dbresult.getInt(2) == 1 ? true : false);
                v.setAge(dbresult.getLong(3) * 24 * 3600); // days -> secs
                result.add(dbresult.getString(0), v);
                haveEntry = dbresult.moveToNext();
            }
        }
        dbresult.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Yuncun_____AbusiveGymReminder_____MsgAndDayRecords_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Yuncun_____AbusiveGymReminder_____MsgAndDayRecords.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

    /**DAY RECORDS STUFF**/
    public DayRecord createDayRecord(DayRecord day) {
        String comment=day.getComment();
        Date date = day.getDate();
        boolean isGymDay = day.isGymDay();
        boolean beenToGym = day.beenToGym();
        String servis = day.getSerializedVisitsList();

        ContentValues values = new ContentValues();
        values.put(MsgDBHelper.COLUMN_DAYRECORDS, comment);
        values.put(MsgDBHelper.COLUMN_DATE, Util.dateToString(date));
        values.put(MsgDBHelper.COLUMN_BEENTOGYM, (beenToGym) ? 1 : 0);
        values.put(MsgDBHelper.COLUMN_ISGYMDAY, (isGymDay) ? 1 : 0);

        if (servis==null){
            values.putNull(MsgDBHelper.COLUMN_VISITS);
        }else{

            values.put(MsgDBHelper.COLUMN_VISITS, servis);
        }
        long insertId = mDatabase.insert(MsgDBHelper.TABLE_DAYRECORDS, null,
                values);
        Cursor cursor = mDatabase.<mark>query</mark>(MsgDBHelper.TABLE_DAYRECORDS,
                allColumnsDayRecords, MsgDBHelper.COLUMN_ID + " = " + insertId, null,
                null, null, null);
        cursor.moveToFirst();
        DayRecord newComment = cursorToDayRecord(cursor);
        cursor.close();
        return newComment;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiprox_____WaniKani-for-Android_____DatabaseManager_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiprox_____WaniKani-for-Android_____DatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public static LevelProgression getLevelProgression() {
        Cursor c = null;

        try {
            c = db.<mark>query</mark>(
                    LevelProgressionTable.TABLE_NAME,
                    LevelProgressionTable.COLUMNS,
                    null,
                    null,
                    null,
                    null,
                    null
            );

            if (c != null && c.moveToFirst()) {
                return new LevelProgression(
                        c.getInt(c.getColumnIndexOrThrow(LevelProgressionTable.COLUMN_NAME_ID)),
                        c.getInt(c.getColumnIndexOrThrow(LevelProgressionTable.COLUMN_NAME_RADICALS_PROGRESS)),
                        c.getInt(c.getColumnIndexOrThrow(LevelProgressionTable.COLUMN_NAME_RADICALS_TOTAL)),
                        c.getInt(c.getColumnIndexOrThrow(LevelProgressionTable.COLUMN_NAME_REVIEWS_KANJI_PROGRESS)),
                        c.getInt(c.getColumnIndexOrThrow(LevelProgressionTable.COLUMN_NAME_REVIEWS_KANJI_TOTAL))
                );
            } else {
                Log.e(TAG, "No study queue found; returning null");
                return null;
            }
        } finally {
            if (c != null) {
                c.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AOKP_____frameworks_base_____AccountsDb_18.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AOKP_____frameworks_base_____AccountsDb.java

android.database.sqlite.SQLiteDatabase.query


    Map<String, Integer> findMetaAuthUid() {
        SQLiteDatabase db = mDeDatabase.getReadableDatabase();
        Cursor metaCursor = db.<mark>query</mark>(
                TABLE_META,
                new String[]{META_KEY, META_VALUE},
                SELECTION_META_BY_AUTHENTICATOR_TYPE,
                new String[]{META_KEY_FOR_AUTHENTICATOR_UID_FOR_TYPE_PREFIX + "%"},
                null /* groupBy */,
                null /* having */,
                META_KEY);
        Map<String, Integer> map = new LinkedHashMap<>();
        try {
            while (metaCursor.moveToNext()) {
                String type = TextUtils
                        .split(metaCursor.getString(0), META_KEY_DELIMITER)[1];
                String uidStr = metaCursor.getString(1);
                if (TextUtils.isEmpty(type) || TextUtils.isEmpty(uidStr)) {
                    // Should never happen.
                    Slog.e(TAG, "Auth type empty: " + TextUtils.isEmpty(type)
                            + ", uid empty: " + TextUtils.isEmpty(uidStr));
                    continue;
                }
                int uid = Integer.parseInt(metaCursor.getString(1));
                map.put(type, uid);
            }
        } finally {
            metaCursor.close();
        }
        return map;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>QuantumBadger_____RedReader_____CacheDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/QuantumBadger_____RedReader_____CacheDbManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL


	synchronized LinkedList<CacheEntry> select(final URI url, final String user, final UUID session) {

		final String[] fields = {FIELD_ID, FIELD_URL, FIELD_USER, FIELD_SESSION, FIELD_TIMESTAMP, FIELD_STATUS, FIELD_TYPE, FIELD_MIMETYPE};

		final SQLiteDatabase db = this.getReadableDatabase();

		final String queryString;
		final String[] queryParams;

		if(session == null) {
			queryString = String.format(Locale.US, "%s=%d AND %s=? AND %s=?", FIELD_STATUS, STATUS_DONE, FIELD_URL, FIELD_USER);
			queryParams = new String[] {url.toString(), user};

		} else {
			queryString = String.format(Locale.US, "%s=%d AND %s=? AND %s=? AND %s=?", FIELD_STATUS, STATUS_DONE, FIELD_URL, FIELD_USER, FIELD_SESSION);
			queryParams = new String[] {url.toString(), user, session.toString()};
		}

		final Cursor cursor = db.<mark>query</mark>(TABLE, fields, queryString, queryParams, null, null, FIELD_TIMESTAMP + " DESC");

		final LinkedList<CacheEntry> result = new LinkedList<>();

		// TODO can this even happen?
		if (cursor == null) {
			BugReportActivity.handleGlobalError(context, "Cursor was null after query");
			return null;
		}

		while(cursor.moveToNext()) {
			result.add(new CacheEntry(cursor));
		}

		cursor.close();

		return result;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<HashMap<String, Object>> loadComments(int blogID) {

		Vector<HashMap<String, Object>> returnVector = new Vector<HashMap<String, Object>>();
		Cursor c = db.<mark>query</mark>(COMMENTS_TABLE,
				new String[]{"blogID", "postID", "iCommentID", "author",
						"comment", "commentDate", "commentDateFormatted",
						"status", "url", "email", "postTitle"}, "blogID="
						+ blogID, null, null, null, null
		);

		int numRows = c.getCount();
		c.moveToFirst();

		for (int i = 0; i < numRows; i++) {
			if (c.getString(0) != null) {
				HashMap<String, Object> returnHash = new HashMap<String, Object>();
				returnHash.put("blogID", c.getString(0));
				returnHash.put("postID", c.getInt(1));
				returnHash.put("commentID", c.getInt(2));
				returnHash.put("author", c.getString(3));
				returnHash.put("comment", c.getString(4));
				returnHash.put("commentDate", c.getString(5));
				returnHash.put("commentDateFormatted", c.getString(6));
				returnHash.put("status", c.getString(7));
				returnHash.put("url", c.getString(8));
				returnHash.put("email", c.getString(9));
				returnHash.put("postTitle", c.getString(10));
				returnVector.add(i, returnHash);
			}
			c.moveToNext();
		}
		c.close();

		if (numRows == 0) {
			returnVector = null;
		}

		return returnVector;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codeka_____wwmmo_____ChatStore_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codeka_____wwmmo_____ChatStore.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query

  /** Gets count messages starting from startTime and going back in time. */
  public List<ChatMessage> getMessagesAfter(Long roomId, long time) {
    String query;
    if (roomId == null) {
      query = "room_id IS NULL";
    } else {
      query = "room_id = ?";
    }
    query += " AND date_posted > ?";

    String[] queryArgs = new String[roomId == null ? 1 : 2];
    int index = 0;
    if (roomId != null) {
      queryArgs[index++] = String.format(Locale.US, "%d", roomId);
    }
    queryArgs[index] = String.format(Locale.US, "%d", time);

    ArrayList<ChatMessage> msgs = new ArrayList<>();
    SQLiteDatabase db = helper.<mark>getReadableDatabase</mark>();
    try (
        Cursor cursor = db.<mark>query</mark>(
            name + "_messages",
            new String[] { "msg" } /* columns */,
            query /* selection */,
            queryArgs/* selectionArgs */,
            null /* groupBy */,
            null /* having */,
            "date_posted DESC" /* orderBy */)) {
      while (cursor.moveToNext()) {
        msgs.add(ChatMessage.ADAPTER.decode(cursor.getBlob(0)));
      }
      Collections.reverse(msgs); // Make it oldest-first.
    } catch (IOException e) {
      log.error("Error fetching chat messages.", e);
    }
    return msgs;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceIM_____Silence_____ThreadDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/SilenceIM_____Silence_____ThreadDatabase.java

android.database.sqlite.SQLiteDatabase.query


  public Cursor getFilteredConversationList(List<String> filter) {
    if (filter == null || filter.size() == 0)
      return null;

    List<Long> rawRecipientIds = DatabaseFactory.getAddressDatabase(context).getCanonicalAddressIds(filter);

    if (rawRecipientIds == null || rawRecipientIds.size() == 0)
      return null;

    SQLiteDatabase   db                      = databaseHelper.getReadableDatabase();
    List<List<Long>> partitionedRecipientIds = Util.partition(rawRecipientIds, 900);
    List<Cursor>     cursors                 = new LinkedList<>();

    for (List<Long> recipientIds : partitionedRecipientIds) {
      StringBuilder selection     = new StringBuilder(RECIPIENT_IDS + " = ?");
      String[]      selectionArgs = new String[recipientIds.size()];

      for (int i=0;i<recipientIds.size()-1;i++)
        selection.append(" OR " + RECIPIENT_IDS + " = ?");

      int i= 0;
      for (long id : recipientIds) {
        selectionArgs[i++] = String.valueOf(id);
      }

      cursors.add(db.<mark>query</mark>(TABLE_NAME, null, selection.toString(), selectionArgs, null, null, DATE + " DESC"));
    }

    Cursor cursor = cursors.size() > 1 ? new MergeCursor(cursors.toArray(new Cursor[cursors.size()])) : cursors.get(0);
    setNotifyConverationListListeners(cursor);
    return cursor;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>shouldit_____android-proxy_____DataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/shouldit_____android-proxy_____DataSource.java

android.database.sqlite.SQLiteDatabase.query


    public Map<Long, ProxyEntity> getAllProxiesWithTAGs()
    {
        App.getTraceUtils().startTrace(TAG,"getAllProxiesWithTAGs", Log.DEBUG);
        SQLiteDatabase database = DatabaseSQLiteOpenHelper.getInstance(context).getReadableDatabase();

        Map<Long, ProxyEntity> proxies = new HashMap<Long, ProxyEntity>();

        Cursor cursor = database.<mark>query</mark>(DatabaseSQLiteOpenHelper.TABLE_PROXIES, DatabaseSQLiteOpenHelper.TABLE_PROXIES_COLUMNS, null, null, null, null, DatabaseSQLiteOpenHelper.COLUMN_PROXY_HOST + " ASC");
//        App.getTraceUtils().partialTrace(TAG,"getAllProxiesWithTAGs", "query", Log.DEBUG);

        cursor.moveToFirst();
        while (!cursor.isAfterLast())
        {
            ProxyEntity proxy = cursorToProxy(cursor);
            proxies.put(proxy.getId(), proxy);
            cursor.moveToNext();
        }
        cursor.close();
//        App.getTraceUtils().partialTrace(TAG, "getAllProxiesWithTAGs", "cursor", Log.DEBUG);

        // TODO: enable tags reading
//        for (long proxyId : proxies.keySet())
//        {
//            ProxyEntity proxy = proxies.get(proxyId);
//            proxy.setTags(getTagsForProxy(proxy.getId()));
//        }

        App.getTraceUtils().stopTrace(TAG, "getAllProxiesWithTAGs", Log.DEBUG);
        return proxies;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.beginTransactionNonExclusive
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction


	public LogEntry getLogEntry(long uid, String filterSelectionQuery) {
		SQLiteDatabase db = null;
		Cursor result = null;

		String orderBy = DatabaseSchema.LogEntrySchema.TIME + " ASC ";
		orderBy = orderBy.intern();

		String whereClause = DatabaseSchema.LogEntrySchema.IS_DELETED + " = "
				+ String.valueOf(0) + " AND "
				+ DatabaseSchema.LogEntrySchema.UID + " = "
				+ String.valueOf(uid);
		whereClause = whereClause.intern();

		try {
			db = getReadableDatabase();

			result = db.<mark>query</mark>(DatabaseSchema.LogEntrySchema.TABLE_NAME,
					DatabaseSchema.LogEntrySchema.COLUMNS, whereClause, null,
					null, null, orderBy);

			if (result == null || result.getCount() == 0) {
				return null;
			}
			result.moveToFirst();
			Log.d(LOG_TAG,
					"Number of Log entries found in DB : " + result.getCount());

			LogEntry logEntry = getLogEntry(result);
			List<Packet> packets = getPackets(logEntry.getUid(),
					filterSelectionQuery);
			if (packets != null && packets.size() > 0) {
				logEntry.addPackets(packets);
			}
			return logEntry;
		} finally {
			if (result != null)
				result.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns the public key of the recovery service.
     *
     * @param userId The userId of the profile the application is running under.
     * @param uid The uid of the application who initializes the local recovery components.
     *
     * @hide
     */     */
    public int getPlatformKeyGenerationId(int userId) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();
        String[] projection = {
                UserMetadataEntry.COLUMN_NAME_PLATFORM_KEY_GENERATION_ID};
        String selection =
                UserMetadataEntry.COLUMN_NAME_USER_ID + " = ?";
        String[] selectionArguments = {
                Integer.toString(userId)};

        try (
            Cursor cursor = db.<mark>query</mark>(
                UserMetadataEntry.TABLE_NAME,
                projection,
                selection,
                selectionArguments,
                /*groupBy=*/ null,
                /*having=*/ null,
                /*orderBy=*/ null)
        ) {
            if (cursor.getCount() == 0) {
                return -1;
            }
            cursor.moveToFirst();
            return cursor.getInt(
                    cursor.getColumnIndexOrThrow(
                            UserMetadataEntry.COLUMN_NAME_PLATFORM_KEY_GENERATION_ID));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bpellin_____keepassdroid_____FileDbHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/bpellin_____keepassdroid_____FileDbHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL

	
	public long createFile(String fileName, String keyFile) {
		
		// Check to see if this filename is already used
		Cursor cursor;
		try {
			cursor = mDb.<mark>query</mark>(true, FILE_TABLE, new String[] {KEY_FILE_ID}, 
					KEY_FILE_FILENAME + "=?", new String[] {fileName}, null, null, null, null);
		} catch (Exception e ) {
			assert(true);
			return -1;
		}
		
		long result;
		// If there is an existing entry update it with the new key file
		if ( cursor.getCount() > 0 ) {
			cursor.moveToFirst();
			long id = cursor.getLong(cursor.getColumnIndexOrThrow(KEY_FILE_ID));
			
			ContentValues vals = new ContentValues();
			vals.put(KEY_FILE_KEYFILE, keyFile);
			vals.put(KEY_FILE_UPDATED, System.currentTimeMillis());
			
			result = mDb.update(FILE_TABLE, vals, KEY_FILE_ID + " = " + id, null);
		
		// Otherwise add the new entry
		} else {
			ContentValues vals = new ContentValues();
			vals.put(KEY_FILE_FILENAME, fileName);
			vals.put(KEY_FILE_KEYFILE, keyFile);
			vals.put(KEY_FILE_UPDATED, System.currentTimeMillis());
			
			result = mDb.insert(FILE_TABLE, null, vals);
			
		}
		// Delete all but the last five records
		try {
			deleteAllBut(MAX_FILES);
		} catch (Exception e) {
			e.printStackTrace();
			assert(true);
		}
		
		cursor.close();
		
		return result;
		
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Pkmmte_____PkRSS_____FavoriteDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Pkmmte_____PkRSS_____FavoriteDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
	 * Removes a specified Article from this database based on its ID value.
	 * @param article Article to remove. May contain dummy data as long as the id is valid.
	 */	 */
	public Article get(int id) {
		// Get Read Access
		SQLiteDatabase db = this.getReadableDatabase();

		// Execute query with specified id
		Cursor cursor = db.<mark>query</mark>(TABLE_ARTICLES,
		                         new String[] {KEY_TAGS, KEY_MEDIA_CONTENT, KEY_SOURCE, KEY_IMAGE, KEY_TITLE, KEY_DESCRIPTION, KEY_CONTENT, KEY_COMMENTS, KEY_AUTHOR,
			                         KEY_DATE, KEY_ID}, KEY_ID + "=?", new String[] {String.valueOf(id)}, null, null, null, null);
		Article article = null;

		try {
			// Attempt to retrieve article
			if (cursor != null) {
				cursor.moveToFirst();
				article = new Article(null, Arrays.asList(cursor.getString(0).split("_PCX_")), Article.MediaContent.fromByteArray(cursor.getBlob(1)), Uri.parse(cursor.getString(2)),
				                      Uri.parse(cursor.getString(3)), cursor.getString(4), cursor.getString(5), cursor.getString(6),
				                      cursor.getString(7), cursor.getString(8), cursor.getLong(9), cursor.getInt(10));
			}
		} finally {
			// Close Cursor
			if (cursor != null) cursor.<mark>close</mark>();
		}

		// Close & Return
		db.<mark>close</mark>();
		return article;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dsolonenko_____financisto_____ReportDataByPeriod_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dsolonenko_____financisto_____ReportDataByPeriod.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * @return The list of data points (month period and value)
	 */	 */
	private void init(Context context, Calendar startDate, int periodLength, Currency currency, String filterColumn, int[] filterId, MyEntityManager em) {
		this.context = context;
		this.periodLength = periodLength;
		startDate.set(startDate.get(Calendar.YEAR), startDate.get(Calendar.MONTH), 01, 00, 00, 00);
		this.startDate = startDate;
		
		SQLiteDatabase db = em.db();
		Cursor cursor = null;

		fillEmptyList(startDate, periodLength);

		try {
			// search accounts for which the reference currency is the given currency
			int[] accounts = getAccountsByCurrency(currency, db);
			if (accounts.length==0) {
				max=min=0;
				absMax=absMin=0;
				return;
			}
			
			// prepare query based on given report parameters
			String where = getWhereClause(filterColumn, filterId, accounts);
			String[] pars = getWherePars(startDate, periodLength, filterId, accounts);
			// query data
			cursor = db.<mark>query</mark>(TRANSACTION_TABLE, new String[]{filterColumn, TransactionColumns.from_amount.name(), TransactionColumns.datetime.name(), TransactionColumns.datetime.name()},
					   where, pars, null, null, TransactionColumns.datetime.name());
			// extract data and fill statistics
			extractData(cursor); 

		} finally {
			if (cursor!=null) cursor.close();
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____WebViewDatabaseClassic_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____WebViewDatabaseClassic.java

android.database.sqlite.SQLiteDatabase.query

/**
     * @see WebViewDatabase#hasHttpAuthUsernamePassword
     */     */
    String[] getUsernamePassword(String schemePlusHost) {
        if (schemePlusHost == null || !checkInitialized()) {
            return null;
        }

        final String[] columns = new String[] {
                PASSWORD_USERNAME_COL, PASSWORD_PASSWORD_COL
        };
        final String selection = "(" + PASSWORD_HOST_COL + " == ?)";
        synchronized (mPasswordLock) {
            String[] ret = null;
            Cursor cursor = null;
            try {
                cursor = sDatabase.<mark>query</mark>(mTableNames[TABLE_PASSWORD_ID],
                        columns, selection, new String[] { schemePlusHost }, null,
                        null, null);
                if (cursor.moveToFirst()) {
                    ret = new String[2];
                    ret[0] = cursor.getString(
                            cursor.getColumnIndex(PASSWORD_USERNAME_COL));
                    ret[1] = cursor.getString(
                            cursor.getColumnIndex(PASSWORD_PASSWORD_COL));
                }
            } catch (IllegalStateException e) {
                Log.e(LOGTAG, "getUsernamePassword", e);
            } finally {
                if (cursor != null) cursor.close();
            }
            return ret;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiprox_____WaniKani-for-Android_____DatabaseManager_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiprox_____WaniKani-for-Android_____DatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public static StudyQueue getStudyQueue() {
        Cursor c = null;

        try {
            c = db.<mark>query</mark>(
                    StudyQueueTable.TABLE_NAME,
                    StudyQueueTable.COLUMNS,
                    null,
                    null,
                    null,
                    null,
                    null
            );

            if (c != null && c.moveToFirst()) {
                return new StudyQueue(
                        c.getInt(c.getColumnIndexOrThrow(StudyQueueTable.COLUMN_NAME_ID)),
                        c.getInt(c.getColumnIndexOrThrow(StudyQueueTable.COLUMN_NAME_LESSONS_AVAILABLE)),
                        c.getInt(c.getColumnIndexOrThrow(StudyQueueTable.COLUMN_NAME_REVIEWS_AVAILABLE)),
                        c.getInt(c.getColumnIndexOrThrow(StudyQueueTable.COLUMN_NAME_REVIEWS_AVAILABLE_NEXT_HOUR)),
                        c.getInt(c.getColumnIndexOrThrow(StudyQueueTable.COLUMN_NAME_REVIEWS_AVAILABLE_NEXT_DAY)),
                        c.getLong(c.getColumnIndexOrThrow(StudyQueueTable.COLUMN_NAME_NEXT_REVIEW_DATE))
                );
            } else {
                Log.e(TAG, "No study queue found; returning null");
                return null;
            }
        } finally {
            if (c != null) {
                c.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____IpMemoryStoreDatabase_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____IpMemoryStoreDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.execSQL

    @Nullable
    static byte[] retrieveBlob(@NonNull final SQLiteDatabase db, @NonNull final String key,
            @NonNull final String clientId, @NonNull final String name) {
        final Cursor cursor = db.<mark>query</mark>(PrivateDataContract.TABLENAME,
                DATA_COLUMN, // columns
                PrivateDataContract.COLNAME_L2KEY + " = ? AND " // selection
                + PrivateDataContract.COLNAME_CLIENT + " = ? AND "
                + PrivateDataContract.COLNAME_DATANAME + " = ?",
                new String[] { key, clientId, name }, // selectionArgs
                null, // groupBy
                null, // having
                null); // orderBy
        // The query above is querying by (composite) primary key, so it should not be possible to
        // get more than one result here. 0 results means the key was not found.
        if (cursor.getCount() != 1) return null;
        cursor.moveToFirst();
        final byte[] result = cursor.getBlob(0); // index in the DATA_COLUMN array
        cursor.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaojianglaile_____Calendar_____ScheduleDao_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiaojianglaile_____Calendar_____ScheduleDao.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public List<Integer> getTaskHintByWeek(int firstYear, int firstMonth, int firstDay, int endYear, int endMonth, int endDay) {
        List<Integer> taskHint = new ArrayList<>();
        SQLiteDatabase db = mHelper.getReadableDatabase();
        Cursor cursor1 = db.<mark>query</mark>(JeekDBConfig.SCHEDULE_TABLE_NAME, new String[]{JeekDBConfig.SCHEDULE_DAY},
                String.format("%s=? and %s=? and %s>=?", JeekDBConfig.SCHEDULE_YEAR, JeekDBConfig.SCHEDULE_MONTH, JeekDBConfig.SCHEDULE_DAY),
                new String[]{String.valueOf(firstYear), String.valueOf(firstMonth), String.valueOf(firstDay)}, null, null, null);
        while (cursor1.moveToNext()) {
            taskHint.add(cursor1.getInt(0));
        }
        cursor1.<mark>close</mark>();
        Cursor cursor2 = db.<mark>query</mark>(JeekDBConfig.SCHEDULE_TABLE_NAME, new String[]{JeekDBConfig.SCHEDULE_DAY},
                String.format("%s=? and %s=? and %s<=?", JeekDBConfig.SCHEDULE_YEAR, JeekDBConfig.SCHEDULE_MONTH, JeekDBConfig.SCHEDULE_DAY),
                new String[]{String.valueOf(endYear), String.valueOf(endMonth), String.valueOf(endDay)}, null, null, null);
        while (cursor2.moveToNext()) {
            taskHint.add(cursor2.getInt(0));
        }
        cursor2.<mark>close</mark>();
        db.<mark>close</mark>();
        mHelper.<mark>close</mark>();
        return taskHint;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____MeasurementManager_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____MeasurementManager.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.close

/**
     * Gets a list of deleted measurements IDs.
     *
     * @return
     */     */
    public String getPicID(String ID, PicTypes type) {
        Log.d(TAG, "picID");
        String name = null;
        switch (type) {
            case FRONT:
                name = DBContract.Measurement.COLUMN_NAME_PIC_FRONT_ID;
                break;
            case SIDE:
                name = DBContract.Measurement.COLUMN_NAME_PIC_SIDE_ID;
                break;
            case BACK:
                name = DBContract.Measurement.COLUMN_NAME_PIC_BACK_ID;
                break;
        }
        this.database = this.dbHandler.getReadableDatabase();
        Cursor cursor = database
                .<mark>query</mark>(DBContract.Measurement.TABLE_NAME,
                        new String[]{name},
                        DBContract.Measurement.COLUMN_NAME_ID + " = '" + ID + "'"
                        , null, null, null, null);
        if (cursor.moveToFirst()) {
            String val = cursor.getString(0);
            cursor.<mark>close</mark>();
            database.<mark>close</mark>();
            return val;
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fashiontec_____bodyapps-android_____MeasurementManager_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fashiontec_____bodyapps-android_____MeasurementManager.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Removes the given ID from delete table.
     *
     * @param ID
     */     */
    public void delMeasurement(String ID, int personID) {
        Log.d(TAG, "delMeasurement");
        this.database = this.dbHandler.getReadableDatabase();
        boolean delPerson = false;
        Cursor cursor = database
                .<mark>query</mark>(DBContract.Measurement.TABLE_NAME,
                        new String[]{DBContract.Measurement.COLUMN_NAME_ID},
                        DBContract.Measurement.COLUMN_NAME_PERSON_ID + " = '" + personID + "'"
                        , null, null, null, null);
        if (!cursor.moveToFirst()) {
            delPerson = true;
        }
        cursor.close();
        database.close();
        this.database = this.dbHandler.getWritableDatabase();
        if (delPerson) {
            database.delete(DBContract.Person.TABLE_NAME,
                    DBContract.Person.COLUMN_NAME_ID + " ='" + ID + "'",
                    null);
        }
        database.delete(DBContract.Measurement.TABLE_NAME,
                DBContract.Measurement.COLUMN_NAME_ID + " ='" + ID + "'",
                null);
        ContentValues values = new ContentValues();
        values.put(DBContract.Delete.COLUMN_NAME_FILE_ID, ID);
        database.insert(DBContract.Delete.TABLE_NAME, null, values);
        database.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>UweTrottmann_____SeriesGuide_____PurchaseDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/UweTrottmann_____SeriesGuide_____PurchaseDataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Insert or update the subscription record by receiptId
     *
     * @param receiptId The receipt id
     * @param userId Amazon user id
     * @param dateFrom Timestamp for subscription's valid from date
     * @param dateTo Timestamp for subscription's valid to date. less than 1 means cancel date not
     * set, the subscription in active status.
     * @param sku The sku
     */    @Nullable
    public PurchaseRecord getLatestEntitlementRecordBySku(String userId, String sku) {
        Timber.d("getEntitlementRecordBySku: userId (%s), sku (%s)", userId, sku);

        final String where = AmazonBillingSQLiteHelper.COLUMN_USER_ID + " = ? and "
                + AmazonBillingSQLiteHelper.COLUMN_SKU + " = ?";
        final Cursor cursor = database.<mark>query</mark>(AmazonBillingSQLiteHelper.TABLE_PURCHASES, allColumns,
                where, new String[] { userId, sku }, null, null,
                AmazonBillingSQLiteHelper.COLUMN_DATE_FROM + " desc ");
        final PurchaseRecord result;
        cursor.moveToFirst();
        if (cursor.isAfterLast()) {
            result = null;
            Timber.d("getEntitlementRecordBySku: no record found ");
        } else {
            result = cursorToPurchaseRecord(cursor);
            Timber.d("getEntitlementRecordBySku: found ");
        }
        cursor.close();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____HostDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Update the parameters of a port forward in the database.
	 * @param pfb {@link PortForwardBean} to save
	 * @return true on success
	 */	 */
	public KnownHosts getKnownHosts() {
		KnownHosts known = new KnownHosts();

		synchronized (dbLock) {
			SQLiteDatabase db = this.getReadableDatabase();
			Cursor c = db.<mark>query</mark>(TABLE_HOSTS, new String[] { FIELD_HOST_HOSTNAME,
					FIELD_HOST_PORT, FIELD_HOST_HOSTKEYALGO, FIELD_HOST_HOSTKEY },
					null, null, null, null, null);

			if (c != null) {
				int COL_HOSTNAME = c.getColumnIndexOrThrow(FIELD_HOST_HOSTNAME),
					COL_PORT = c.getColumnIndexOrThrow(FIELD_HOST_PORT),
					COL_HOSTKEYALGO = c.getColumnIndexOrThrow(FIELD_HOST_HOSTKEYALGO),
					COL_HOSTKEY = c.getColumnIndexOrThrow(FIELD_HOST_HOSTKEY);

				while (c.moveToNext()) {
					String hostname = c.getString(COL_HOSTNAME),
						hostkeyalgo = c.getString(COL_HOSTKEYALGO);
					int port = c.getInt(COL_PORT);
					byte[] hostkey = c.getBlob(COL_HOSTKEY);

					if (hostkeyalgo == null || hostkeyalgo.length() == 0) continue;
					if (hostkey == null || hostkey.length == 0) continue;

					try {
						known.addHostkey(new String[] { String.format("%s:%d", hostname, port) }, hostkeyalgo, hostkey);
					} catch(Exception e) {
						Log.e(TAG, "Problem while adding a known host from database", e);
					}
				}

				c.close();
			}
		}

		return known;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____DatabaseBackend_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____DatabaseBackend.java

android.database.sqlite.SQLiteDatabase.query


    public List<String> markFileAsDeleted(final File file, final boolean internal) {
        SQLiteDatabase db = this.getReadableDatabase();
        String selection;
        String[] selectionArgs;
        if (internal) {
            final String name = file.getName();
            if (name.endsWith(".pgp")) {
                selection = "(" + Message.RELATIVE_FILE_PATH + " IN(?,?) OR (" + Message.RELATIVE_FILE_PATH + "=? and encryption in(1,4))) and type in (1,2,5)";
                selectionArgs = new String[]{file.getAbsolutePath(), name, name.substring(0, name.length() - 4)};
            } else {
                selection = Message.RELATIVE_FILE_PATH + " IN(?,?) and type in (1,2,5)";
                selectionArgs = new String[]{file.getAbsolutePath(), name};
            }
        } else {
            selection = Message.RELATIVE_FILE_PATH + "=? and type in (1,2,5)";
            selectionArgs = new String[]{file.getAbsolutePath()};
        }
        final List<String> uuids = new ArrayList<>();
        Cursor cursor = db.<mark>query</mark>(Message.TABLENAME, new String[]{Message.UUID}, selection, selectionArgs, null, null, null);
        while (cursor != null && cursor.moveToNext()) {
            uuids.add(cursor.getString(0));
        }
        if (cursor != null) {
            cursor.close();
        }
        markFileAsDeleted(uuids);
        return uuids;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>k9mail_____k-9_____MigrationTo51_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/k9mail_____k-9_____MigrationTo51.java

android.database.sqlite.SQLiteDatabase.query


    private static MimeStructureState insertAttachments(SQLiteDatabase db, File attachmentDirOld, File attachmentDirNew,
            long messageId, MimeStructureState structureState) {
        Cursor cursor = db.<mark>query</mark>("attachments",
                new String[] {
                        "id", "size", "name", "mime_type", "store_data",
                        "content_uri", "content_id", "content_disposition"
                },
                "message_id = ?", new String[] { Long.toString(messageId) }, null, null, null);

        try {
            while (cursor.moveToNext()) {
                long id = cursor.getLong(0);
                int size = cursor.getInt(1);
                String name = cursor.getString(2);
                String mimeType = cursor.getString(3);
                String storeData = cursor.getString(4);
                String contentUriString = cursor.getString(5);
                String contentId = cursor.getString(6);
                String contentDisposition = cursor.getString(7);

                structureState =
                        insertMimeAttachmentPart(db, attachmentDirOld, attachmentDirNew, structureState, id, size, name,
                                mimeType, storeData, contentUriString, contentId, contentDisposition);

            }
        } finally {
            cursor.close();
        }

        return structureState;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____WebViewDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____WebViewDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
     *  Find out if there are any HTTP authentication passwords saved.   
     *
     * @return TRUE if there are passwords saved
     */     */
    String[] getUsernamePassword(String schemePlusHost) {
        if (schemePlusHost == null || !checkInitialized()) {
            return null;
        }

        final String[] columns = new String[] {
                PASSWORD_USERNAME_COL, PASSWORD_PASSWORD_COL
        };
        final String selection = "(" + PASSWORD_HOST_COL + " == ?)";
        synchronized (mPasswordLock) {
            String[] ret = null;
            Cursor cursor = null;
            try {
                cursor = mDatabase.<mark>query</mark>(mTableNames[TABLE_PASSWORD_ID],
                        columns, selection, new String[] { schemePlusHost }, null,
                        null, null);
                if (cursor.moveToFirst()) {
                    ret = new String[2];
                    ret[0] = cursor.getString(
                            cursor.getColumnIndex(PASSWORD_USERNAME_COL));
                    ret[1] = cursor.getString(
                            cursor.getColumnIndex(PASSWORD_PASSWORD_COL));
                }
            } catch (IllegalStateException e) {
                Log.e(LOGTAG, "getUsernamePassword", e);
            } finally {
                if (cursor != null) cursor.close();
            }
            return ret;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____PubkeyDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____PubkeyDatabase.java

android.database.sqlite.SQLiteDatabase.query


	private List<PubkeyBean> getPubkeys(String selection, String[] selectionArgs) {
		List<PubkeyBean> pubkeys = new ArrayList<>();

		Cursor c = mDb.<mark>query</mark>(TABLE_PUBKEYS, null, selection, selectionArgs, null, null, null);

		if (c != null) {
			final int COL_ID = c.getColumnIndexOrThrow("_id"),
				COL_NICKNAME = c.getColumnIndexOrThrow(FIELD_PUBKEY_NICKNAME),
				COL_TYPE = c.getColumnIndexOrThrow(FIELD_PUBKEY_TYPE),
				COL_PRIVATE = c.getColumnIndexOrThrow(FIELD_PUBKEY_PRIVATE),
				COL_PUBLIC = c.getColumnIndexOrThrow(FIELD_PUBKEY_PUBLIC),
				COL_ENCRYPTED = c.getColumnIndexOrThrow(FIELD_PUBKEY_ENCRYPTED),
				COL_STARTUP = c.getColumnIndexOrThrow(FIELD_PUBKEY_STARTUP),
				COL_CONFIRMUSE = c.getColumnIndexOrThrow(FIELD_PUBKEY_CONFIRMUSE),
				COL_LIFETIME = c.getColumnIndexOrThrow(FIELD_PUBKEY_LIFETIME);

			while (c.moveToNext()) {
				PubkeyBean pubkey = new PubkeyBean();

				pubkey.setId(c.getLong(COL_ID));
				pubkey.setNickname(c.getString(COL_NICKNAME));
				pubkey.setType(c.getString(COL_TYPE));
				pubkey.setPrivateKey(c.getBlob(COL_PRIVATE));
				pubkey.setPublicKey(c.getBlob(COL_PUBLIC));
				pubkey.setEncrypted(c.getInt(COL_ENCRYPTED) > 0);
				pubkey.setStartup(c.getInt(COL_STARTUP) > 0);
				pubkey.setConfirmUse(c.getInt(COL_CONFIRMUSE) > 0);
				pubkey.setLifetime(c.getInt(COL_LIFETIME));

				pubkeys.add(pubkey);
			}

			c.close();
		}

		return pubkeys;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<Object> loadPost(int blogID, boolean isPage, long id) {
		Vector<Object> values = null;

		int pageInt = 0;
		if (isPage)
			pageInt = 1;
		Cursor c = db.<mark>query</mark>(POSTS_TABLE, null, "blogID=" + blogID + " AND id="
				+ id + " AND isPage=" + pageInt, null, null, null, null);

		if (c.getCount() > 0) {
			c.moveToFirst();
			if (c.getString(0) != null) {
				values = new Vector<Object>();
				values.add(c.getLong(0));
				values.add(c.getString(1));
				values.add(c.getString(2));
				values.add(c.getString(3));
				values.add(c.getLong(4));
				values.add(c.getLong(5));
				values.add(c.getString(6));
				values.add(c.getString(7));
				values.add(c.getString(8));
				values.add(c.getString(9));
				values.add(c.getInt(10));
				values.add(c.getInt(11));
				values.add(c.getString(12));
				values.add(c.getString(13));
				values.add(c.getString(14));
				values.add(c.getString(15));
				values.add(c.getString(16));
				values.add(c.getString(17));
				values.add(c.getString(18));
				values.add(c.getString(19));
				values.add(c.getString(20));
				values.add(c.getString(21));
				values.add(c.getString(22));
				values.add(c.getString(23));
				values.add(c.getDouble(24));
				values.add(c.getDouble(25));
				values.add(c.getInt(26));
				values.add(c.getInt(27));
				values.add(c.getInt(28));
				values.add(c.getInt(29));
			}
		}
		c.close();

		return values;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>arpitkh96_____AmazeFileManager_____UtilsHandler_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/arpitkh96_____AmazeFileManager_____UtilsHandler.java

android.database.sqlite.SQLiteDatabase.query


    public List<String[]> getSftpList()
    {
        SQLiteDatabase sqLiteDatabase = getReadableDatabase();

        Cursor cursor = sqLiteDatabase.<mark>query</mark>(getTableForOperation(Operation.SFTP),
                new String[]{COLUMN_NAME,COLUMN_PATH},
                null, null, null, null, COLUMN_ID);

        boolean hasNext = cursor.moveToFirst();
        ArrayList<String[]> retval = new ArrayList<String[]>();
        while(hasNext)
        {
            String path = SshClientUtils.decryptSshPathAsNecessary(cursor.getString(cursor.getColumnIndex(COLUMN_PATH)));

            if(path == null) {
                Log.e("ERROR", "Error decrypting path: " + cursor.getString(cursor.getColumnIndex(COLUMN_PATH)));

                // failing to decrypt the path, removing entry from database
                Toast.makeText(context,
                        context.getString(R.string.failed_smb_decrypt_path),
                        Toast.LENGTH_LONG).show();
//                    removeSmbPath(cursor.getString(cursor.getColumnIndex(COLUMN_NAME)),
//                            "");
                continue;
            } else {
                retval.add(new String[]{
                    cursor.getString(cursor.getColumnIndex(COLUMN_NAME)),
                    path
                });
            }
            hasNext = cursor.moveToNext();
        }
        cursor.close();
        return retval;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>connectbot_____connectbot_____HostDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/connectbot_____connectbot_____HostDatabase.java

android.database.sqlite.SQLiteDatabase.query

/**
	 * Unset any hosts using a pubkey ID that has been deleted.
	 * @param pubkeyId
	 */	@Override
	public KnownHosts getKnownHosts() {
		KnownHosts known = new KnownHosts();

		Cursor c = mDb.<mark>query</mark>(TABLE_HOSTS + " LEFT OUTER JOIN " + TABLE_KNOWNHOSTS
						+ " ON " + TABLE_HOSTS + "._id = "
						+ TABLE_KNOWNHOSTS + "." + FIELD_KNOWNHOSTS_HOSTID,
				new String[] {FIELD_HOST_HOSTNAME, FIELD_HOST_PORT, FIELD_KNOWNHOSTS_HOSTKEYALGO,
						FIELD_KNOWNHOSTS_HOSTKEY},
				null, null, null, null, null);

		if (c != null) {
			int COL_HOSTNAME = c.getColumnIndexOrThrow(FIELD_HOST_HOSTNAME),
					COL_PORT = c.getColumnIndexOrThrow(FIELD_HOST_PORT),
					COL_HOSTKEYALGO = c.getColumnIndexOrThrow(FIELD_KNOWNHOSTS_HOSTKEYALGO),
					COL_HOSTKEY = c.getColumnIndexOrThrow(FIELD_KNOWNHOSTS_HOSTKEY);

			while (c.moveToNext()) {
				String hostname = c.getString(COL_HOSTNAME);
				String hostkeyalgo = c.getString(COL_HOSTKEYALGO);
				int port = c.getInt(COL_PORT);
				byte[] hostkey = c.getBlob(COL_HOSTKEY);

				if (hostkeyalgo == null || hostkeyalgo.length() == 0) continue;
				if (hostkey == null || hostkey.length == 0) continue;

				try {
					known.addHostkey(new String[] {String.format(Locale.US, "%s:%d", hostname, port)},
							hostkeyalgo, hostkey);
				} catch (Exception e) {
					Log.e(TAG, "Problem while adding a known host from database", e);
				}
			}

			c.close();
		}

		return known;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Sets the {@code generationId} of the platform key for user {@code userId}.
     *
     * @return The primary key ID of the relation.
     */     */
    public @NonNull Map<String, Integer> getStatusForAllKeys(int uid) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();
        String[] projection = {
                KeysEntry._ID,
                KeysEntry.COLUMN_NAME_ALIAS,
                KeysEntry.COLUMN_NAME_RECOVERY_STATUS};
        String selection =
                KeysEntry.COLUMN_NAME_UID + " = ?";
        String[] selectionArguments = {Integer.toString(uid)};

        try (
            Cursor cursor = db.<mark>query</mark>(
                KeysEntry.TABLE_NAME,
                projection,
                selection,
                selectionArguments,
                /*groupBy=*/ null,
                /*having=*/ null,
                /*orderBy=*/ null)
        ) {
            HashMap<String, Integer> statuses = new HashMap<>();
            while (cursor.moveToNext()) {
                String alias = cursor.getString(
                        cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_ALIAS));
                int recoveryStatus = cursor.getInt(
                        cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_RECOVERY_STATUS));
                statuses.put(alias, recoveryStatus);
            }
            return statuses;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dsolonenko_____financisto_____DatabaseAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dsolonenko_____financisto_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction


    private long insertCategory(String field, long categoryId, String title, int type) {
        int num = 0;
        SQLiteDatabase db = db();
        Cursor c = db.<mark>query</mark>(CATEGORY_TABLE, new String[]{field},
                CategoryColumns._id + "=?", new String[]{String.valueOf(categoryId)}, null, null, null);
        try {
            if (c.moveToFirst()) {
                num = c.getInt(0);
            }
        } finally {
            c.close();
        }
        String[] args = new String[]{String.valueOf(num)};
        db.<mark>execSQL</mark>(INSERT_CATEGORY_UPDATE_RIGHT, args);
        db.<mark>execSQL</mark>(INSERT_CATEGORY_UPDATE_LEFT, args);
        ContentValues values = new ContentValues();
        values.put(CategoryColumns.title.name(), title);
        int left = num + 1;
        int right = num + 2;
        values.put(CategoryColumns.left.name(), left);
        values.put(CategoryColumns.right.name(), right);
        values.put(CategoryColumns.type.name(), type);
        long id = db.insert(CATEGORY_TABLE, null, values);
        updateChildCategoriesType(type, left, right);
        return id;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


	public Vector<HashMap<String, Object>> loadDrafts(int blogID,
	                                                  boolean loadPages) {

		Vector<HashMap<String, Object>> returnVector = new Vector<HashMap<String, Object>>();
		Cursor c;
		if (loadPages)
			c = db.<mark>query</mark>(POSTS_TABLE, new String[]{"id", "title",
							"post_status", "uploaded", "date_created_gmt",
							"post_status"}, "blogID=" + blogID
							+ " AND localDraft=1 AND uploaded=0 AND isPage=1", null,
					null, null, null
			);
		else
			c = db.<mark>query</mark>(POSTS_TABLE, new String[]{"id", "title",
							"post_status", "uploaded", "date_created_gmt",
							"post_status"}, "blogID=" + blogID
							+ " AND localDraft=1 AND uploaded=0 AND isPage=0", null,
					null, null, null
			);

		int numRows = c.getCount();
		c.moveToFirst();

		for (int i = 0; i < numRows; ++i) {
			if (c.getString(0) != null) {
				HashMap<String, Object> returnHash = new HashMap<String, Object>();
				returnHash.put("id", c.getString(0));
				returnHash.put("title", c.getString(1));
				returnHash.put("status", c.getString(2));
				returnHash.put("uploaded", c.getInt(3));
				returnHash.put("date_created_gmt", c.getLong(4));
				returnHash.put("post_status", c.getString(5));
				returnVector.add(i, returnHash);
			}
			c.moveToNext();
		}
		c.close();

		if (numRows == 0) {
			returnVector = null;
		}

		return returnVector;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>QuickBlox_____quickblox-android-sdk_____QbUsersDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/QuickBlox_____quickblox-android-sdk_____QbUsersDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public ArrayList<QBUser> getAllUsers() {
        ArrayList<QBUser> allUsers = new ArrayList<>();
        DbHelper dbHelper = new DbHelper(mContext);
        SQLiteDatabase db = dbHelper.getWritableDatabase();
        Cursor c = db.<mark>query</mark>(DbHelper.DB_TABLE_NAME, null, null, null, null, null, null);

        if (c.moveToFirst()) {
            int userIdColIndex = c.getColumnIndex(DbHelper.DB_COLUMN_USER_ID);
            int userLoginColIndex = c.getColumnIndex(DbHelper.DB_COLUMN_USER_LOGIN);
            int userPassColIndex = c.getColumnIndex(DbHelper.DB_COLUMN_USER_PASSWORD);
            int userFullNameColIndex = c.getColumnIndex(DbHelper.DB_COLUMN_USER_FULL_NAME);
            int userTagColIndex = c.getColumnIndex(DbHelper.DB_COLUMN_USER_TAG);

            do {
                QBUser qbUser = new QBUser();

                qbUser.setFullName(c.getString(userFullNameColIndex));
                qbUser.setLogin(c.getString(userLoginColIndex));
                qbUser.setId(c.getInt(userIdColIndex));
                qbUser.setPassword(c.getString(userPassColIndex));

                StringifyArrayList<String> tags = new StringifyArrayList<>();
                tags.add(c.getString(userTagColIndex));
                qbUser.setTags(tags);

                allUsers.add(qbUser);
            } while (c.moveToNext());
        }

        c.close();
        dbHelper.close();

        return allUsers;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<HashMap<String, Object>> loadUploadedPosts(Context ctx,
	                                                         int blogID, boolean loadPages) {

		Vector<HashMap<String, Object>> returnVector = new Vector<HashMap<String, Object>>();
		Cursor c;
		if (loadPages)
			c = db.<mark>query</mark>(POSTS_TABLE,
					new String[]{"id", "blogID", "postid", "title",
							"date_created_gmt", "dateCreated", "post_status"},
					"blogID=" + blogID + " AND localDraft != 1 AND isPage=1",
					null, null, null, null
			);
		else
			c = db.<mark>query</mark>(POSTS_TABLE,
					new String[]{"id", "blogID", "postid", "title",
							"date_created_gmt", "dateCreated", "post_status"},
					"blogID=" + blogID + " AND localDraft != 1 AND isPage=0",
					null, null, null, null
			);

		int numRows = c.getCount();
		c.moveToFirst();

		for (int i = 0; i < numRows; ++i) {
			if (c.getString(0) != null) {
				HashMap<String, Object> returnHash = new HashMap<String, Object>();
				returnHash.put("id", c.getInt(0));
				returnHash.put("blogID", c.getString(1));
				returnHash.put("postID", c.getString(2));
				returnHash.put("title", c.getString(3));
				returnHash.put("date_created_gmt", c.getLong(4));
				returnHash.put("dateCreated", c.getLong(5));
				returnHash.put("post_status", c.getString(6));
				returnVector.add(i, returnHash);
			}
			c.moveToNext();
		}
		c.close();

		if (numRows == 0) {
			returnVector = null;
		}

		return returnVector;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codeka_____wwmmo_____ChatStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codeka_____wwmmo_____ChatStore.java

android.database.sqlite.SQLiteOpenHelper.getReadableDatabase
android.database.sqlite.SQLiteDatabase.query

/** Gets all messages, regardless of room, from the given start time. */  /** Gets count messages starting from startTime and going back in time. */
  public List<ChatMessage> getMessages(Long roomId, long startTime, int count) {
    String query;
    if (roomId == null) {
      query = "room_id IS NULL";
    } else {
      query = "room_id = ?";
    }
    query += " AND date_posted <= ?";

    String[] queryArgs = new String[roomId == null ? 1 : 2];
    int index = 0;
    if (roomId != null) {
      queryArgs[index++] = String.format(Locale.US, "%d", roomId);
    }
    queryArgs[index] = String.format(Locale.US, "%d", startTime);

    ArrayList<ChatMessage> msgs = new ArrayList<>();
    SQLiteDatabase db = helper.<mark>getReadableDatabase</mark>();
    try (
        Cursor cursor = db.<mark>query</mark>(
            name + "_messages",
            new String[] { "msg" } /* columns */,
            query /* selection */,
            queryArgs/* selectionArgs */,
            null /* groupBy */,
            null /* having */,
            "date_posted DESC" /* orderBy */,
            String.format(Locale.US, "%d", count) /* limit */)) {
      while (cursor.moveToNext()) {
        msgs.add(ChatMessage.ADAPTER.decode(cursor.getBlob(0)));
      }
      Collections.reverse(msgs); // Make it oldest-first.
    } catch (IOException e) {
      log.error("Error fetching chat messages.", e);
    }
    return msgs;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Active root of trust for the recovery agent.
     *
     * @param userId The userId of the profile the application is running under.
     * @param uid The uid of the application.
     * @param rootAlias The root of trust alias.
     * @return The primary key of the updated row, or -1 if failed.
     *
     * @hide
     */     */
    public @NonNull List<Integer> getRecoveryAgents(int userId) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();

        String[] projection = { RecoveryServiceMetadataEntry.COLUMN_NAME_UID };
        String selection = RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID + " = ?";
        String[] selectionArguments = { Integer.toString(userId) };

        try (
            Cursor cursor = db.<mark>query</mark>(
                    RecoveryServiceMetadataEntry.TABLE_NAME,
                    projection,
                    selection,
                    selectionArguments,
                    /*groupBy=*/ null,
                    /*having=*/ null,
                    /*orderBy=*/ null)
        ) {
            int count = cursor.getCount();
            ArrayList<Integer> result = new ArrayList<>(count);
            while (cursor.moveToNext()) {
                int uid = cursor.getInt(
                        cursor.getColumnIndexOrThrow(RecoveryServiceMetadataEntry.COLUMN_NAME_UID));
                result.add(uid);
            }
            return result;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zhongku_____mpvue-weex_____DefaultWXStorage_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zhongku_____mpvue-weex_____DefaultWXStorage.java

android.database.sqlite.SQLiteDatabase.query


    private String performGetItem(String key) {
        SQLiteDatabase database = mDatabaseSupplier.getDatabase();
        if (database == null) {
            return null;
        }

        Cursor c = database.<mark>query</mark>(WXSQLiteOpenHelper.TABLE_STORAGE,
                new String[]{WXSQLiteOpenHelper.COLUMN_VALUE},
                WXSQLiteOpenHelper.COLUMN_KEY + "=?",
                new String[]{key},
                null, null, null);
        try {
            if (c.moveToNext()) {
                ContentValues values = new ContentValues();
                //update timestamp
                values.put(WXSQLiteOpenHelper.COLUMN_TIMESTAMP, WXSQLiteOpenHelper.sDateFormatter.format(new Date()));
                int updateResult = mDatabaseSupplier.getDatabase().update(WXSQLiteOpenHelper.TABLE_STORAGE, values, WXSQLiteOpenHelper.COLUMN_KEY + "= ?", new String[]{key});

                WXLogUtils.d(WXSQLiteOpenHelper.TAG_STORAGE, "update timestamp " + (updateResult == 1 ? "success" : "failed") + " for operation [getItem(key = " + key + ")]");
                return c.getString(c.getColumnIndex(WXSQLiteOpenHelper.COLUMN_VALUE));
            } else {
                return null;
            }
        } catch (Exception e) {
            WXLogUtils.e(WXSQLiteOpenHelper.TAG_STORAGE, "DefaultWXStorage occurred an exception when execute getItem:" + e.getMessage());
            return null;
        } finally {
            c.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TaskController_15.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TaskController.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Open the notes database. If it cannot be opened, try to create a new
     * instance of the database. If it cannot be created, throw an exception to
     * signal the failure
     *
     * @return this (self reference, allowing this to be chained in an
     *         initialization call)
     * @throws SQLException if the database could be neither opened or created
     */
    public ArrayList<TaskModelForWidget> getTasksForWidget(String limit) {

    	Cursor cursor = database.<mark>query</mark>(tasksTable, TaskModelForWidget.FIELD_LIST,
    	        AbstractTaskModel.PROGRESS_PERCENTAGE + " < " +
                AbstractTaskModel.COMPLETE_PERCENTAGE + " AND (" +
                AbstractTaskModel.HIDDEN_UNTIL + " ISNULL OR " + AbstractTaskModel.HIDDEN_UNTIL + " < " +
                System.currentTimeMillis() + ")", null, null, null,
                AbstractTaskModel.IMPORTANCE + " * " + (5 * 24 * 3600 * 1000L) +
                    " + CASE WHEN MAX(pdd, ddd) = 0 THEN " +
                    (System.currentTimeMillis() + (7 * 24 * 3600 * 1000L)) +
                    " ELSE (CASE WHEN pdd = 0 THEN ddd ELSE pdd END) END ASC", limit);

    	try {
            ArrayList<TaskModelForWidget> list = new ArrayList<TaskModelForWidget>();
            for(cursor.moveToFirst(); !cursor.isAfterLast(); cursor.moveToNext())
                list.add(new TaskModelForWidget(cursor));
            return list;
    	} finally {
    	    cursor.close();
    	}
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>brave_____browser-android_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/brave_____browser-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public int getRecentHistoryRecordId(String url){
        int result = -1;
        SQLiteDatabase db = getReadableDatabase();

        try {
            Cursor cursor = db.<mark>query</mark>(TABLE_LINK_HISTORY, // a. table
                                        LINK_HISTORY_COLUMNS, // b. column names
                                        " " + KEY_URL + " = ?", // c. selections
                                        new String[] { String.valueOf(url) }, // d. selections args
                                        null, // e. group by
                                        null, // f. having
                                        " " + KEY_TIME + " DESC", // g. order by
                                        null); // h. limit
            if (cursor != null && cursor.getCount() > 0) {
                cursor.moveToFirst();

                // If there is a history entry for this URL from the last 12 hours...
                int id = Integer.parseInt(cursor.getString(0));
                long time = cursor.getLong(1);
                long timeDelta = System.currentTimeMillis() - time;
                if (timeDelta < 12 * 60 * 60 * 1000) {
                    result = id;
                }
            }
        } catch (IllegalStateException ex) {
            CrashTracking.log("DatabaseHelper.getRecentHistoryRecordId() IllegalStateException");
        }

        db.<mark>close</mark>();
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DroidPlanner_____Tower_____SessionDB_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/DroidPlanner_____Tower_____SessionDB.java

android.database.sqlite.SQLiteDatabase.query


    public SessionData getSessionData(long sessionId){
        SQLiteDatabase db = getReadableDatabase();

        String[] projection = {SessionData.COLUMN_NAME_START_TIME,
            SessionData.COLUMN_NAME_END_TIME, SessionData.COLUMN_NAME_CONNECTION_TYPE,
            SessionData.COLUMN_NAME_TLOG_LOGGING_URI, SessionData.COLUMN_NAME_LABEL};

        String selection = SessionData._ID + " LIKE ?";
        String[] selectionArgs = {String.valueOf(sessionId)};

        Cursor cursor = db.<mark>query</mark>(SessionData.TABLE_NAME, projection, selection, selectionArgs, null,
            null, null);
        SessionData sessionData = null;
        if(cursor.moveToFirst()){
            long startTime = cursor.getLong(cursor.getColumnIndex(SessionData.COLUMN_NAME_START_TIME));
            long endTime = cursor.getLong(cursor.getColumnIndex(SessionData.COLUMN_NAME_END_TIME));
            String connectionTypeLabel = cursor.getString(cursor.getColumnIndex(SessionData.COLUMN_NAME_CONNECTION_TYPE));
            String tlogEncodedUri = cursor.getString(cursor.getColumnIndex(SessionData.COLUMN_NAME_TLOG_LOGGING_URI));
            Uri tlogLoggingUri = Uri.parse(tlogEncodedUri);
            String sessionLabel = cursor.getString(cursor.getColumnIndex(SessionData.COLUMN_NAME_LABEL));

            sessionData = new SessionData(sessionId, startTime, endTime, connectionTypeLabel, tlogLoggingUri, sessionLabel);
        }

        cursor.close();
        return sessionData;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>todoroo_____astrid_____TagController_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/todoroo_____astrid_____TagController.java

android.database.sqlite.SQLiteDatabase.query

/** Returns a TaskModelForView corresponding to the given TagIdentifier */     **/
    public LinkedList<TaskIdentifier> getUntaggedTasks() throws SQLException {
    	HashSet<Long> ids = new HashSet<Long>();

    	String[] tagMapColumns = new String[] { TagToTaskMapping.TASK };
    	Cursor tagMapCursor = tagToTaskMapDatabase.<mark>query</mark>(tagTaskTable,
    			tagMapColumns, null, null, TagToTaskMapping.TASK, null,
    			TagToTaskMapping.TASK + " ASC");

    	SQLiteDatabase taskDatabase = new TaskModelDatabaseHelper(context,
    			tasksTable, tasksTable).getReadableDatabase();
    	String[] taskColumns = new String[] { KEY_ROWID };
    	Cursor taskCursor = taskDatabase.<mark>query</mark>(tasksTable, taskColumns,
    			null, null, null, null, KEY_ROWID + " ASC");

    	LinkedList<TaskIdentifier> list = new LinkedList<TaskIdentifier>();
        try {
        	if(taskCursor.getCount() == 0)
        		return list;

        	do {
        		taskCursor.moveToNext();
                ids.add(taskCursor.getLong(0));
            } while(!taskCursor.isLast());

        	if(tagMapCursor.getCount() > 0) {
        		do {
        			tagMapCursor.moveToNext();
                    ids.remove(tagMapCursor.getLong(0));
                } while(!tagMapCursor.isLast());
        	}
        } finally {
        	taskCursor.close();
        	tagMapCursor.close();
        	taskDatabase.close();
        }

        for(Long id : ids)
        	list.add(new TaskIdentifier(id));
    	return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____SettingsProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____SettingsProvider.java

android.database.sqlite.SQLiteDatabase.query

    // Slurp all values (if sane in number & size) into cache.
    private void fullyPopulateCache(DatabaseHelper dbHelper, String table, SettingsCache cache) {
        SQLiteDatabase db = dbHelper.getReadableDatabase();
        Cursor c = db.<mark>query</mark>(
            table,
            new String[] { Settings.NameValueTable.NAME, Settings.NameValueTable.VALUE },
            null, null, null, null, null,
            "" + (MAX_CACHE_ENTRIES + 1) /* limit */);
        try {
            synchronized (cache) {
                cache.evictAll();
                cache.setFullyMatchesDisk(true);  // optimistic
                int rows = 0;
                while (c.moveToNext()) {
                    rows++;
                    String name = c.getString(0);
                    String value = c.getString(1);
                    cache.populate(name, value);
                }
                if (rows > MAX_CACHE_ENTRIES) {
                    // Somewhat redundant, as removeEldestEntry() will
                    // have already done this, but to be explicit:
                    cache.setFullyMatchesDisk(false);
                    Log.d(TAG, "row count exceeds max cache entries for table " + table);
                }
                if (LOCAL_LOGV) Log.d(TAG, "cache for settings table '" + table
                        + "' rows=" + rows + "; fullycached=" + cache.fullyMatchesDisk());
            }
        } finally {
            c.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query

    @NonNull
    public static Geocache loadCacheTexts(final String geocode) {
        final Geocache partial = new Geocache();

        // in case of database issues, we still need to return a result to avoid endless loops
        partial.setDescription(StringUtils.EMPTY);
        partial.setShortDescription(StringUtils.EMPTY);
        partial.setHint(StringUtils.EMPTY);
        partial.setLocation(StringUtils.EMPTY);

        init();

        try {
            final Cursor cursor = database.<mark>query</mark>(
                    dbTableCaches,
                    new String[] { "description", "shortdesc", "hint", "location" },
                    "geocode = ?",
                    new String[] { geocode },
                    null,
                    null,
                    null,
                    "1");

            if (cursor.moveToFirst()) {
                partial.setDescription(StringUtils.defaultString(cursor.getString(0)));
                partial.setShortDescription(StringUtils.defaultString(cursor.getString(1)));
                partial.setHint(StringUtils.defaultString(cursor.getString(2)));
                partial.setLocation(StringUtils.defaultString(cursor.getString(3)));
            }

            cursor.close();
        } catch (final SQLiteDoneException ignored) {
            // Do nothing, it only means we have no information on the cache
        } catch (final Exception e) {
            Log.e("DataStore.getCacheDescription", e);
        }

        return partial;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zhongku_____mpvue-weex_____DefaultWXStorage_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zhongku_____mpvue-weex_____DefaultWXStorage.java

android.database.sqlite.SQLiteDatabase.query

     * */
    private boolean trimToSize() {
        SQLiteDatabase database = mDatabaseSupplier.getDatabase();
        if (database == null) {
            return false;
        }

        List<String> toEvict = new ArrayList<>();
        int num = 0;

        Cursor c = database.<mark>query</mark>(WXSQLiteOpenHelper.TABLE_STORAGE, new String[]{WXSQLiteOpenHelper.COLUMN_KEY, WXSQLiteOpenHelper.COLUMN_PERSISTENT}, null, null, null, null, WXSQLiteOpenHelper.COLUMN_TIMESTAMP + " ASC");
        try {
            int evictSize = c.getCount() / 10;
            while (c.moveToNext()) {
                String key = c.getString(c.getColumnIndex(WXSQLiteOpenHelper.COLUMN_KEY));
                boolean persistent = c.getInt(c.getColumnIndex(WXSQLiteOpenHelper.COLUMN_PERSISTENT)) == 1;
                if (!persistent && key != null) {
                    num++;
                    toEvict.add(key);
                    if (num == evictSize) {
                        break;
                    }
                }
            }
        } catch (Exception e) {
            WXLogUtils.e(WXSQLiteOpenHelper.TAG_STORAGE, "DefaultWXStorage occurred an exception when execute trimToSize:" + e.getMessage());
        } finally {
            c.close();
        }

        if (num <= 0) {
            return false;
        }

        for (String key : toEvict) {
            performRemoveItem(key);
        }
        WXLogUtils.e(WXSQLiteOpenHelper.TAG_STORAGE, "remove " + num + " items by lru");
        return true;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____WebViewDatabaseClassic_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____WebViewDatabaseClassic.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Set password. Tuple (PASSWORD_HOST_COL, PASSWORD_USERNAME_COL) is unique.
     *
     * @param schemePlusHost The scheme and host for the password
     * @param username The username for the password. If it is null, it means
     *            password can't be saved.
     * @param password The password
     */
    private static void upgradeDatabaseFromV10ToV11() {
        int oldVersion = sDatabase.getVersion();

        if (oldVersion >= 11) {
            // Nothing to do.
            return;
        }

        // Clear out old java stack cookies - this data is now stored in
        // a separate database managed by the Chrome stack.
        sDatabase.execSQL("DROP TABLE IF EXISTS cookies");

        // Likewise for the old cache table.
        sDatabase.execSQL("DROP TABLE IF EXISTS cache");

        // Update form autocomplete  URLs to match new ICS formatting.
        Cursor c = sDatabase.<mark>query</mark>(mTableNames[TABLE_FORMURL_ID], null, null,
                null, null, null, null);
        while (c.moveToNext()) {
            String urlId = Long.toString(c.getLong(c.getColumnIndex(ID_COL)));
            String url = c.getString(c.getColumnIndex(FORMURL_URL_COL));
            ContentValues cv = new ContentValues(1);
            cv.put(FORMURL_URL_COL, WebTextView.urlForAutoCompleteData(url));
            sDatabase.update(mTableNames[TABLE_FORMURL_ID], cv, ID_COL + "=?",
                    new String[] { urlId });
        }
        c.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vx_____connectbot_____PubkeyDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/vx_____connectbot_____PubkeyDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


	private List<PubkeyBean> getPubkeys(String selection, String[] selectionArgs) {
		SQLiteDatabase db = getReadableDatabase();

		List<PubkeyBean> pubkeys = new LinkedList<PubkeyBean>();

		Cursor c = db.<mark>query</mark>(TABLE_PUBKEYS, null, selection, selectionArgs, null, null, null);

		if (c != null) {
			final int COL_ID = c.getColumnIndexOrThrow("_id"),
				COL_NICKNAME = c.getColumnIndexOrThrow(FIELD_PUBKEY_NICKNAME),
				COL_TYPE = c.getColumnIndexOrThrow(FIELD_PUBKEY_TYPE),
				COL_PRIVATE = c.getColumnIndexOrThrow(FIELD_PUBKEY_PRIVATE),
				COL_PUBLIC = c.getColumnIndexOrThrow(FIELD_PUBKEY_PUBLIC),
				COL_ENCRYPTED = c.getColumnIndexOrThrow(FIELD_PUBKEY_ENCRYPTED),
				COL_STARTUP = c.getColumnIndexOrThrow(FIELD_PUBKEY_STARTUP),
				COL_CONFIRMUSE = c.getColumnIndexOrThrow(FIELD_PUBKEY_CONFIRMUSE),
				COL_LIFETIME = c.getColumnIndexOrThrow(FIELD_PUBKEY_LIFETIME);

			while (c.moveToNext()) {
				PubkeyBean pubkey = new PubkeyBean();

				pubkey.setId(c.getLong(COL_ID));
				pubkey.setNickname(c.getString(COL_NICKNAME));
				pubkey.setType(c.getString(COL_TYPE));
				pubkey.setPrivateKey(c.getBlob(COL_PRIVATE));
				pubkey.setPublicKey(c.getBlob(COL_PUBLIC));
				pubkey.setEncrypted(c.getInt(COL_ENCRYPTED) > 0);
				pubkey.setStartup(c.getInt(COL_STARTUP) > 0);
				pubkey.setConfirmUse(c.getInt(COL_CONFIRMUSE) > 0);
				pubkey.setLifetime(c.getInt(COL_LIFETIME));

				pubkeys.add(pubkey);
			}

			c.<mark>close</mark>();
		}

		db.<mark>close</mark>();

		return pubkeys;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fookwood_____Launcher3_____LauncherProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fookwood_____Launcher3_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.query

/**
         * Replaces all shortcuts of type {@link Favorites#ITEM_TYPE_SHORTCUT} which have a valid
         * launcher activity target with {@link Favorites#ITEM_TYPE_APPLICATION}.
         */     */
    private ArrayList<Long> deleteEmptyFolders() {
        ArrayList<Long> folderIds = new ArrayList<>();
        SQLiteDatabase db = mOpenHelper.getWritableDatabase();
        try (SQLiteTransaction t = new SQLiteTransaction(db)) {
            // Select folders whose id do not match any container value.
            String selection = LauncherSettings.Favorites.ITEM_TYPE + " = "
                    + LauncherSettings.Favorites.ITEM_TYPE_FOLDER + " AND "
                    + LauncherSettings.Favorites._ID +  " NOT IN (SELECT " +
                            LauncherSettings.Favorites.CONTAINER + " FROM "
                                + Favorites.TABLE_NAME + ")";
            try (Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME,
                    new String[] {LauncherSettings.Favorites._ID},
                    selection, null, null, null, null)) {
                LauncherDbUtils.iterateCursor(c, 0, folderIds);
            }
            if (!folderIds.isEmpty()) {
                db.delete(Favorites.TABLE_NAME, Utilities.createDbSelectionQuery(
                        LauncherSettings.Favorites._ID, folderIds), null);
            }
            t.commit();
        } catch (SQLException ex) {
            Log.e(TAG, ex.getMessage(), ex);
            folderIds.clear();
        }
        return folderIds;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker41_____article-android_____DataSource_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker41_____article-android_____DataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Gets a list of categories and the number of articles that each contains, since the provided
     * timestamp.
     *
     * @param timestamp the timestamp to query articles starting at.
     * @return a list of categories.
     */     */
    public Source getSource(long remoteId) {
        Cursor cursor = database.<mark>query</mark>(
                SourceModel.TABLE + " s left outer join " + CategoryModel.TABLE + " c on " +
                        "s." + SourceModel.COLUMN_CATEGORY_ID + " = " +
                        "c." + CategoryModel.COLUMN_ID,
                new String[] {
                        "s." + SourceModel.COLUMN_ID + " as s" + SourceModel.COLUMN_ID,
                        "s." + SourceModel.COLUMN_NAME + " as s" + SourceModel.COLUMN_NAME,
                        "s." + SourceModel.COLUMN_IMAGE_URL + " as s" + SourceModel.COLUMN_IMAGE_URL,
                        "s." + SourceModel.COLUMN_REMOTE_ID + " as s" + SourceModel.COLUMN_REMOTE_ID,
                        "c." + CategoryModel.COLUMN_ID + " as c" + CategoryModel.COLUMN_ID,
                        "c." + CategoryModel.COLUMN_NAME + " as c" + CategoryModel.COLUMN_NAME
                },
                "s." + SourceModel.COLUMN_REMOTE_ID + "=?",
                new String[] {Long.toString(remoteId)},
                null,
                null,
                null);

        if (cursor.moveToFirst()) {
            Source source = new Source(cursor);
            cursor.close();
            return source;
        } else {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tigerguixh_____QuickNews_____ChannelDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tigerguixh_____QuickNews_____ChannelDao.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.close

    @Override
    public Map<String, String> viewCache(String selection,
            String[] selectionArgs) {
        SQLiteDatabase database = null;
        Cursor cursor = null;
        Map<String, String> map = new HashMap<String, String>();
        try {
            database = helper.getReadableDatabase();
            database.<mark>beginTransaction</mark>();
            cursor = database.<mark>query</mark>(true, SQLHelper.TABLE_CHANNEL, null, selection,
                    selectionArgs, null, null, null, null);
            int cols_len = cursor.getColumnCount();
            while (cursor.moveToNext()) {
                for (int i = 0; i < cols_len; i++) {
                    String cols_name = cursor.getColumnName(i);
                    String cols_values = cursor.getString(cursor
                            .getColumnIndex(cols_name));
                    if (cols_values == null) {
                        cols_values = "";
                    }
                    map.put(cols_name, cols_values);
                }
            }
            database.<mark>setTransactionSuccessful</mark>();
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (database != null) {
                database.<mark>endTransaction</mark>();
                cursor.<mark>close</mark>();
                database.<mark>close</mark>();
            }
        }
        return map;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____DatabaseAdapter_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____DatabaseAdapter.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Returns an attribute from a specific column in the database for a specific record and specific table.
     * <p>The attribute is returned as a string which can then be converted to another type if
     * the caller was expecting something other type </p>
     * <p>This method is an override of {@link #getAttribute(String, String)} which allows to select a value from a
     * different table than the one of current adapter instance
     * </p>
     * @param tableName Database table name. See {@link DatabaseSchema}
     * @param recordUID GUID of the record
     * @param columnName Name of the column to be retrieved
     * @return String value of the column entry
     * @throws IllegalArgumentException if either the {@code recordUID} or {@code columnName} do not exist in the database
     */     */
    public AccountType getAccountType(@NonNull String accountUID){
        String type = "";
        Cursor c = mDb.<mark>query</mark>(DatabaseSchema.AccountEntry.TABLE_NAME,
                new String[]{DatabaseSchema.AccountEntry.COLUMN_TYPE},
                DatabaseSchema.AccountEntry.COLUMN_UID + "=?",
                new String[]{accountUID}, null, null, null);
        try {
            if (c.moveToFirst()) {
                type = c.getString(c.getColumnIndexOrThrow(DatabaseSchema.AccountEntry.COLUMN_TYPE));
            } else {
                throw new IllegalArgumentException("account " + accountUID + " does not exist in DB");
            }
        } finally {
            c.close();
        }
        return AccountType.valueOf(type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Fetches all Geocoders matching the given ID, or all Geocoders if id is null
     * 
     * @param id null to fetch all Geocoders, or the id to fetch a specific one
     * @return an array of Geocoder objects
     */     */
    public synchronized void movePreset(int oldPos, int newPos) {
        if (oldPos == newPos) {
            return;
        }
        SQLiteDatabase db = getWritableDatabase();
        Cursor dbresult = db.<mark>query</mark>(PRESETS_TABLE, new String[] { ID_FIELD }, null, null, null, null, POSITION_FIELD);
        dbresult.moveToFirst();
        int count = dbresult.getCount();
        for (int i = 0; i < count; i++) {
            ContentValues values = new ContentValues();
            if (i == oldPos) {
                values.put(POSITION_FIELD, newPos);
            } else if (oldPos < newPos) { // moving down
                if (i < oldPos || i > newPos) {
                    dbresult.moveToNext();
                    continue;
                }
                values.put(POSITION_FIELD, i - 1); // move everything in between up
            } else {
                if (i > oldPos || i < newPos) {
                    dbresult.moveToNext();
                    continue;
                }
                values.put(POSITION_FIELD, i + 1); // move everything in between down
            }
            db.update(PRESETS_TABLE, values, "id = ?", new String[] { dbresult.getString(0) });
            dbresult.moveToNext();
        }
        dbresult.<mark>close</mark>();
        db.<mark>close</mark>();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker41_____article-android_____DataSource_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker41_____article-android_____DataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Gets a list of categories and the number of articles that each contains, since the provided
     * timestamp.
     *
     * @param timestamp the timestamp to query articles starting at.
     * @return a list of categories.
     */     */
    public List<Source> getSources() {
        Cursor cursor = database.<mark>query</mark>(
                SourceModel.TABLE + " s left outer join " + CategoryModel.TABLE + " c on " +
                        "s." + SourceModel.COLUMN_CATEGORY_ID + " = " +
                        "c." + CategoryModel.COLUMN_ID,
                new String[] {
                        "s." + SourceModel.COLUMN_ID + " as s" + SourceModel.COLUMN_ID,
                        "s." + SourceModel.COLUMN_NAME + " as s" + SourceModel.COLUMN_NAME,
                        "s." + SourceModel.COLUMN_IMAGE_URL + " as s" + SourceModel.COLUMN_IMAGE_URL,
                        "s." + SourceModel.COLUMN_REMOTE_ID + " as s" + SourceModel.COLUMN_REMOTE_ID,
                        "c." + CategoryModel.COLUMN_ID + " as c" + CategoryModel.COLUMN_ID,
                        "c." + CategoryModel.COLUMN_NAME + " as c" + CategoryModel.COLUMN_NAME
                },
                null,
                null,
                null,
                null,
                "s" + SourceModel.COLUMN_NAME + " asc");

        List<Source> sources = new ArrayList<>();
        if (cursor != null && cursor.moveToFirst()) {
            do {
                sources.add(new Source(cursor));
            } while (cursor.moveToNext());
            cursor.close();
        }

        return sources;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>enricocid_____LaunchEnr_____LauncherProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/enricocid_____LaunchEnr_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.query

/**
         * Replaces all shortcuts of type {@link Favorites#ITEM_TYPE_SHORTCUT} which have a valid
         * launcher activity target with {@link Favorites#ITEM_TYPE_APPLICATION}.
         */     */
    private ArrayList<Long> deleteEmptyFolders() {
        ArrayList<Long> folderIds = new ArrayList<>();
        SQLiteDatabase db = mOpenHelper.getWritableDatabase();
        db.beginTransaction();
        try {
            // Select folders whose id do not match any container value.
            String selection = LauncherSettings.Favorites.ITEM_TYPE + " = "
                    + LauncherSettings.Favorites.ITEM_TYPE_FOLDER + " AND "
                    + LauncherSettings.Favorites._ID +  " NOT IN (SELECT " +
                            LauncherSettings.Favorites.CONTAINER + " FROM "
                                + Favorites.TABLE_NAME + ")";
            Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME,
                    new String[] {LauncherSettings.Favorites._ID},
                    selection, null, null, null, null);
            while (c.moveToNext()) {
                folderIds.add(c.getLong(0));
            }
            c.close();
            if (!folderIds.isEmpty()) {
                db.delete(Favorites.TABLE_NAME, Utilities.createDbSelectionQuery(
                        LauncherSettings.Favorites._ID, folderIds), null);
            }
            db.setTransactionSuccessful();
        } catch (SQLException ex) {
            ex.printStackTrace();
            folderIds.clear();
        } finally {
            db.endTransaction();
        }
        return folderIds;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
     * @param playlistId the id by which to get the correct {@link org.tomahawk.libtomahawk.collection.Playlist}
     * @return the stored {@link org.tomahawk.libtomahawk.collection.Playlist} with playlistId as
     * its id
     */     */
    public Playlist getEmptyPlaylist(String playlistId) {
        String[] columns = new String[]{TomahawkSQLiteHelper.PLAYLISTS_COLUMN_NAME,
                TomahawkSQLiteHelper.PLAYLISTS_COLUMN_CURRENTREVISION,
                TomahawkSQLiteHelper.PLAYLISTS_COLUMN_HATCHETID,
                TomahawkSQLiteHelper.PLAYLISTS_COLUMN_TOPARTISTS};

        Cursor playlistsCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_PLAYLISTS,
                columns, TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID + " = ?",
                new String[]{playlistId}, null, null, null);
        if (playlistsCursor.moveToFirst()) {
            Playlist playlist = Playlist.get(playlistId);
            playlist.setName(playlistsCursor.getString(0));
            playlist.setCurrentRevision(playlistsCursor.getString(1));
            playlist.setHatchetId(playlistsCursor.getString(2));
            String rawTopArtistsString = playlistsCursor.getString(3);
            if (rawTopArtistsString != null && rawTopArtistsString.length() > 0) {
                playlist.setTopArtistNames(rawTopArtistsString.split("\t\t"));
            }
            playlistsCursor.close();
            playlist.setCount(getPlaylistTrackCount(playlistId));
            return playlist;
        }
        playlistsCursor.close();
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Store the given query as a lovedItem, if isLoved is true. Otherwise remove(unlove) the
     * query.
     */     */
    public long getPlaylistTrackCount(String playlistId) {
        long trackCount = -1;
        String[] columns = new String[]{TomahawkSQLiteHelper.PLAYLISTS_COLUMN_TRACKCOUNT};
        Cursor playlistsCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_PLAYLISTS,
                columns, TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID + " = ?",
                new String[]{playlistId}, null, null, null);
        if (playlistsCursor.moveToFirst()) {
            if (playlistsCursor.isNull(0)) {
                // if no trackcount is stored, we calculate it and store it
                trackCount = DatabaseUtils.queryNumEntries(mDatabase,
                        TomahawkSQLiteHelper.TABLE_TRACKS,
                        TomahawkSQLiteHelper.TRACKS_COLUMN_PLAYLISTID + " = ?",
                        new String[]{playlistId});
                mDatabase.beginTransaction();
                ContentValues values = new ContentValues();
                values.put(TomahawkSQLiteHelper.PLAYLISTS_COLUMN_TRACKCOUNT, trackCount);
                mDatabase.update(TomahawkSQLiteHelper.TABLE_PLAYLISTS, values,
                        TomahawkSQLiteHelper.PLAYLISTS_COLUMN_ID + " = ?",
                        new String[]{playlistId});
                mDatabase.setTransactionSuccessful();
                mDatabase.endTransaction();
            } else {
                trackCount = playlistsCursor.getLong(0);
            }
        }
        playlistsCursor.close();
        return trackCount;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ChainsDD_____Superuser_____PermissionsProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ChainsDD_____Superuser_____PermissionsProvider.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete

    @Override
    public int update(Uri uri, ContentValues values, String selection,
            String[] selectionArgs) {
        if (!ensureDb()) return -1;

        int count = 0;

        switch (sUriMatcher.match(uri)) {
        case APP_ID:
            count = mDb.update(Apps.TABLE_NAME, values,
                    Apps._ID + "=" + uri.getPathSegments().get(1) +
                    (!TextUtils.isEmpty(selection)? " AND (" +
                            selection  + ")":""),
                    selectionArgs);
            Cursor c = mDb.<mark>query</mark>(Apps.TABLE_NAME,
                    null,
                    Apps._ID + "=" + uri.getPathSegments().get(1) +
                    (!TextUtils.isEmpty(selection)? " AND (" +
                            selection  + ")":""),
                    selectionArgs,
                    null, null, null);
            if (c.moveToFirst()) {
                Util.writeStoreFile(mContext,
                        c.getInt(c.getColumnIndex(Apps.UID)),
                        c.getInt(c.getColumnIndex(Apps.EXEC_UID)),
                        c.getString(c.getColumnIndex(Apps.EXEC_CMD)),
                        c.getInt(c.getColumnIndex(Apps.ALLOW)));
            }
            c.close();
            break;
        default:
            throw new IllegalArgumentException("Unsupported URI: " + uri);
        }

        getContext().getContentResolver().notifyChange(uri, null);
        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>kabouzeid_____Phonograph_____HistoryStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/kabouzeid_____Phonograph_____HistoryStore.java

android.database.sqlite.SQLiteDatabase.query


    public void addSongId(final long songId) {
        if (songId == -1) {
            return;
        }

        final SQLiteDatabase database = getWritableDatabase();
        database.beginTransaction();

        try {
            // remove previous entries
            removeSongId(songId);

            // add the entry
            final ContentValues values = new ContentValues(2);
            values.put(RecentStoreColumns.ID, songId);
            values.put(RecentStoreColumns.TIME_PLAYED, System.currentTimeMillis());
            database.insert(RecentStoreColumns.NAME, null, values);

            // if our db is too large, delete the extra items
            Cursor oldest = null;
            try {
                oldest = database.<mark>query</mark>(RecentStoreColumns.NAME,
                        new String[]{RecentStoreColumns.TIME_PLAYED}, null, null, null, null,
                        RecentStoreColumns.TIME_PLAYED + " ASC");

                if (oldest != null && oldest.getCount() > MAX_ITEMS_IN_DB) {
                    oldest.moveToPosition(oldest.getCount() - MAX_ITEMS_IN_DB);
                    long timeOfRecordToKeep = oldest.getLong(0);

                    database.delete(RecentStoreColumns.NAME,
                            RecentStoreColumns.TIME_PLAYED + " < ?",
                            new String[]{String.valueOf(timeOfRecordToKeep)});

                }
            } finally {
                if (oldest != null) {
                    oldest.close();
                }
            }
        } finally {
            database.setTransactionSuccessful();
            database.endTransaction();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.query


	public List<Marker> listMarkers(Marker.Kind kind, long label_id, String sortColumn, boolean sortAscending) {
		final SQLiteDatabase db = helper.getReadableDatabase();
		final String sortClause = sortColumn + (Db.Marker.caption.equals(sortColumn)? " collate NOCASE ": "") + (sortAscending? " asc": " desc");

		final List<Marker> res = new ArrayList<>();
		final Cursor c;
		if (label_id == 0) { // no restrictions
			c = db.<mark>query</mark>(Db.TABLE_Marker, null, Db.Marker.kind + "=?", new String[]{String.valueOf(kind.code)}, null, null, sortClause);
		} else if (label_id == MarkerListActivity.LABELID_noLabel) { // only without label
			c = db.rawQuery("select " + Db.TABLE_Marker + ".* from " + Db.TABLE_Marker + " where " + Db.TABLE_Marker + "." + Db.Marker.kind + "=? and " + Db.TABLE_Marker + "." + Db.Marker.gid + " not in (select distinct " + Db.Marker_Label.marker_gid + " from " + Db.TABLE_Marker_Label + ") order by " + Db.TABLE_Marker + "." + sortClause, new String[] {String.valueOf(kind.code)});
		} else { // filter by label_id
			final Label label = getLabelById(label_id);
			c = db.rawQuery("select " + Db.TABLE_Marker + ".* from " + Db.TABLE_Marker + ", " + Db.TABLE_Marker_Label + " where " + Db.Marker.kind + "=? and " + Db.TABLE_Marker + "." + Db.Marker.gid + " = " + Db.TABLE_Marker_Label + "." + Db.Marker_Label.marker_gid + " and " + Db.TABLE_Marker_Label + "." + Db.Marker_Label.label_gid + "=? order by " + Db.TABLE_Marker + "." + sortClause, new String[]{String.valueOf(kind.code), label.gid});
		}

		try {
			while (c.moveToNext()) {
				res.add(markerFromCursor(c));
			}
		} finally {
			c.close();
		}

		return res;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____WebViewDatabase_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____WebViewDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert

/**
     * Get all the values for a form entry with "name" in a given site
     *
     * @param url The url of the site
     * @param name The name of the form entry
     * @return A list of values. Return empty list if nothing is found.
     */     */
    String[] getHttpAuthUsernamePassword(String host, String realm) {
        if (host == null || realm == null || !checkInitialized()){
            return null;
        }

        final String[] columns = new String[] {
                HTTPAUTH_USERNAME_COL, HTTPAUTH_PASSWORD_COL
        };
        final String selection = "(" + HTTPAUTH_HOST_COL + " == ?) AND ("
                + HTTPAUTH_REALM_COL + " == ?)";
        synchronized (mHttpAuthLock) {
            String[] ret = null;
            Cursor cursor = null;
            try {
                cursor = mDatabase.<mark>query</mark>(mTableNames[TABLE_HTTPAUTH_ID],
                        columns, selection, new String[] { host, realm }, null,
                        null, null);
                if (cursor.moveToFirst()) {
                    ret = new String[2];
                    ret[0] = cursor.getString(
                            cursor.getColumnIndex(HTTPAUTH_USERNAME_COL));
                    ret[1] = cursor.getString(
                            cursor.getColumnIndex(HTTPAUTH_PASSWORD_COL));
                }
            } catch (IllegalStateException e) {
                Log.e(LOGTAG, "getHttpAuthUsernamePassword", e);
            } finally {
                if (cursor != null) cursor.close();
            }
            return ret;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____ActivityDataSource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____ActivityDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

     */
    public synchronized int favoriteExists(long tweetId, int account) {
        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(ActivitySQLiteHelper.TABLE_ACTIVITY,
                    allColumns,
                    ActivitySQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " +
                            ActivitySQLiteHelper.COLUMN_TWEET_ID + " = " + tweetId + " AND " +
                            ActivitySQLiteHelper.COLUMN_TYPE + " = " + TYPE_FAVORITES,
                    null,
                    null,
                    null,
                    ActivitySQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(ActivitySQLiteHelper.TABLE_ACTIVITY,
                    allColumns,
                    ActivitySQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " +
                            ActivitySQLiteHelper.COLUMN_TWEET_ID + " = " + tweetId + " AND " +
                            ActivitySQLiteHelper.COLUMN_TYPE + " = " + TYPE_FAVORITES,
                    null,
                    null,
                    null,
                    ActivitySQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        if (cursor.moveToFirst()) {
            int count = cursor.getInt(cursor.getColumnIndex(ActivitySQLiteHelper.COLUMN_FAV_COUNT));
            try {
                cursor.close();
            } catch (Exception e) { }
            return count;
        } else {
            try {
                cursor.close();
            } catch (Exception e) { }
            return -1;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____WebViewDatabaseClassic_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____WebViewDatabaseClassic.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert

/**
     * Get all the values for a form entry with "name" in a given site
     *
     * @param url The url of the site
     * @param name The name of the form entry
     * @return A list of values. Return empty list if nothing is found.
     */     */
    String[] getHttpAuthUsernamePassword(String host, String realm) {
        if (host == null || realm == null || !checkInitialized()){
            return null;
        }

        final String[] columns = new String[] {
                HTTPAUTH_USERNAME_COL, HTTPAUTH_PASSWORD_COL
        };
        final String selection = "(" + HTTPAUTH_HOST_COL + " == ?) AND ("
                + HTTPAUTH_REALM_COL + " == ?)";
        synchronized (mHttpAuthLock) {
            String[] ret = null;
            Cursor cursor = null;
            try {
                cursor = sDatabase.<mark>query</mark>(mTableNames[TABLE_HTTPAUTH_ID],
                        columns, selection, new String[] { host, realm }, null,
                        null, null);
                if (cursor.moveToFirst()) {
                    ret = new String[2];
                    ret[0] = cursor.getString(
                            cursor.getColumnIndex(HTTPAUTH_USERNAME_COL));
                    ret[1] = cursor.getString(
                            cursor.getColumnIndex(HTTPAUTH_PASSWORD_COL));
                }
            } catch (IllegalStateException e) {
                Log.e(LOGTAG, "getHttpAuthUsernamePassword", e);
            } finally {
                if (cursor != null) cursor.close();
            }
            return ret;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiprox_____WaniKani-for-Android_____DatabaseManager_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiprox_____WaniKani-for-Android_____DatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public static User getUser() {
        Cursor c = null;

        try {
            c = db.<mark>query</mark>(
                    UsersTable.TABLE_NAME,
                    UsersTable.COLUMNS,
                    null,
                    null,
                    null,
                    null,
                    null
            );

            if (c != null && c.moveToFirst()) {
                return new User(
                        c.getString(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_USERNAME)),
                        c.getString(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_GRAVATAR)),
                        c.getInt(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_LEVEL)),
                        c.getString(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_TITLE)),
                        c.getString(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_ABOUT)),
                        c.getString(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_WEBSITE)),
                        c.getString(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_TWITTER)),
                        c.getInt(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_TOPICS_COUNT)),
                        c.getInt(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_POSTS_COUNT)),
                        c.getLong(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_CREATION_DATE)),
                        c.getLong(c.getColumnIndexOrThrow(UsersTable.COLUMN_NAME_VACATION_DATE))
                );
            } else {
                Log.e(TAG, "No users found; returning null");
                return null;
            }
        } finally {
            if (c != null) {
                c.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

     */
    public List<InfoRequestData> getLoggedOps() {
        List<InfoRequestData> loggedOps = new ArrayList<>();
        String[] columns = new String[]{TomahawkSQLiteHelper.INFOSYSTEMOPLOG_COLUMN_ID,
                TomahawkSQLiteHelper.INFOSYSTEMOPLOG_COLUMN_TYPE,
                TomahawkSQLiteHelper.INFOSYSTEMOPLOG_COLUMN_HTTPTYPE,
                TomahawkSQLiteHelper.INFOSYSTEMOPLOG_COLUMN_JSONSTRING,
                TomahawkSQLiteHelper.INFOSYSTEMOPLOG_COLUMN_PARAMS};

        Cursor opLogCursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_INFOSYSTEMOPLOG,
                columns, null, null, null, null,
                TomahawkSQLiteHelper.INFOSYSTEMOPLOG_COLUMN_TIMESTAMP + " DESC");
        opLogCursor.moveToFirst();
        while (!opLogCursor.isAfterLast()) {
            String requestId = IdGenerator.getSessionUniqueStringId();
            String paramJsonString = opLogCursor.getString(4);
            QueryParams params = null;
            if (paramJsonString != null) {
                params = GsonHelper.get().fromJson(paramJsonString, QueryParams.class);
            }
            InfoRequestData infoRequestData = new InfoRequestData(requestId, opLogCursor.getInt(1),
                    params, opLogCursor.getInt(0), opLogCursor.getInt(2), opLogCursor.getString(3),
                    true);
            loggedOps.add(infoRequestData);
            opLogCursor.moveToNext();
        }
        opLogCursor.close();
        return loggedOps;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>evernote_____android-job_____JobStorage_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/evernote_____android-job_____JobStorage.java

android.database.sqlite.SQLiteDatabase.query


    public Set<JobRequest> getAllJobRequests(@Nullable String tag, boolean includeStarted) {
        Set<JobRequest> result = new HashSet<>();

        SQLiteDatabase database = null;
        Cursor cursor = null;

        mLock.readLock().lock();

        try {
            String where; // filter started requests
            String[] args;
            if (TextUtils.isEmpty(tag)) {
                where = includeStarted ? null : WHERE_NOT_STARTED;
                args = null;
            } else {
                where = includeStarted ? "" : (WHERE_NOT_STARTED + " AND ");
                where += COLUMN_TAG + "=?";
                args = new String[]{tag};
            }

            database = getDatabase();
            cursor = database.<mark>query</mark>(JOB_TABLE_NAME, null, where, args, null, null, null);

            @SuppressLint("UseSparseArrays")
            HashMap<Integer, JobRequest> cachedRequests = new HashMap<>(mCacheId.snapshot());

            while (cursor != null && cursor.moveToNext()) {
                // check in cache first, can avoid creating many JobRequest objects
                Integer id = cursor.getInt(cursor.getColumnIndex(COLUMN_ID));
                if (!didFailToDelete(id)) {
                    if (cachedRequests.containsKey(id)) {
                        result.add(cachedRequests.get(id));
                    } else {
                        result.add(JobRequest.fromCursor(cursor));
                    }
                }
            }
        } catch (Exception e) {
            CAT.e(e, "could not load all jobs");

        } finally {
            closeCursor(cursor);
            closeDatabase(database);
            mLock.readLock().unlock();
        }

        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>darshakframework_____darshak_____DarshakDBHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/darshakframework_____darshak_____DarshakDBHelper.java

android.database.sqlite.SQLiteDatabase.query


	public EventDetails getOldestUnconsumedEvent() {
		SQLiteDatabase db = null;
		Cursor result = null;

		String orderBy = DatabaseSchema.CellularEvent.EVENT_TIME + " ASC ";
		orderBy.intern();

		String whereClause = DatabaseSchema.CellularEvent.EVENT_CONSUMED
				+ " = 0 ";
		whereClause = whereClause.intern();

		try {
			db = getReadableDatabase();
			db.beginTransactionNonExclusive();

			result = db.<mark>query</mark>(DatabaseSchema.CellularEvent.TABLE_NAME,
					DatabaseSchema.CellularEvent.COLUMNS, whereClause, null,
					null, null, orderBy);

			if (result == null || result.getCount() == 0) {
				return null;
			}
			result.moveToFirst();

			long uid = result
					.getLong(result
							.getColumnIndexOrThrow(DatabaseSchema.CellularEvent.EVENT_UID));

			int eventCode = result
					.getInt(result
							.getColumnIndexOrThrow(DatabaseSchema.CellularEvent.EVENT_CODE));
			Event event = Event.getMatchingEvent(eventCode);

			long eventReportedAt = result
					.getLong(result
							.getColumnIndexOrThrow(DatabaseSchema.CellularEvent.EVENT_TIME));

			int nwTypeCode = result
					.getInt(result
							.getColumnIndexOrThrow(DatabaseSchema.CellularEvent.EVENT_NW_TYPE));
			NetworkType nwType = NetworkType.getMatchingNetworkType(nwTypeCode);

			String nwOperator = result
					.getString(result
							.getColumnIndexOrThrow(DatabaseSchema.CellularEvent.EVENT_NW_OP));

			EventDetails eventDetails = new EventDetails(uid, event,
					eventReportedAt, nwType, nwOperator);

			// Mark event consumed.
			consumeEventDetails(eventDetails);
			return eventDetails;
		} finally {
			if (result != null)
				result.close();
			if (db != null) {
				db.setTransactionSuccessful();
				db.endTransaction();
			}
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>firebase_____firebase-android-sdk_____SqlPersistenceStorageEngine_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/firebase_____firebase-android-sdk_____SqlPersistenceStorageEngine.java

android.database.sqlite.SQLiteDatabase.query

  @Override
  public List<TrackedQuery> loadTrackedQueries() {
    String[] columns =
        new String[] {
          TRACKED_QUERY_ID_COLUMN_NAME,
          TRACKED_QUERY_PATH_COLUMN_NAME,
          TRACKED_QUERY_PARAMS_COLUMN_NAME,
          TRACKED_QUERY_LAST_USE_COLUMN_NAME,
          TRACKED_QUERY_COMPLETE_COLUMN_NAME,
          TRACKED_QUERY_ACTIVE_COLUMN_NAME
        };
    long start = System.currentTimeMillis();
    Cursor cursor =
        database.<mark>query</mark>(
            TRACKED_QUERY_TABLE,
            columns,
            null,
            null,
            null,
            null,
            /*orderBy=*/ TRACKED_QUERY_ID_COLUMN_NAME);

    List<TrackedQuery> queries = new ArrayList<TrackedQuery>();
    try {
      while (cursor.moveToNext()) {
        long id = cursor.getLong(0);
        Path path = new Path(cursor.getString(1));
        String paramsStr = cursor.getString(2);
        Map<String, Object> paramsObject;
        try {
          paramsObject = JsonMapper.parseJson(paramsStr);
        } catch (IOException e) {
          throw new RuntimeException(e);
        }
        QuerySpec query = QuerySpec.fromPathAndQueryObject(path, paramsObject);
        long lastUse = cursor.getLong(3);
        boolean complete = cursor.getInt(4) != 0;
        boolean active = cursor.getInt(5) != 0;
        TrackedQuery trackedQuery = new TrackedQuery(id, query, lastUse, complete, active);
        queries.add(trackedQuery);
      }
      long duration = System.currentTimeMillis() - start;
      if (logger.logsDebug()) {
        logger.debug(String.format("Loaded %d tracked queries in %dms", queries.size(), duration));
      }
      return queries;
    } finally {
      cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>duckduckgo_____android_____LegacyDb_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/duckduckgo_____android_____LegacyDb.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL


    public boolean isSaved(String id) {
        boolean out = false;
        Cursor c = null;
        try {
            c = this.db.<mark>query</mark>(LegacyDbContracts.FEED_TABLE.TABLE_NAME, null, LegacyDbContracts.FEED_TABLE._ID + "=? AND " + LegacyDbContracts.FEED_TABLE.COLUMN_FAVORITE + "!='F'", new String[]{id}, null, null, null);
            out = c.moveToFirst();
        } finally {
            if (c != null) {
                c.close();
            }
        }
        return out;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>1hakr_____AnExplorer_____RecentsProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/1hakr_____AnExplorer_____RecentsProvider.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/**
     * Purge all internal data whose authority matches the given
     * {@link Predicate}.
     */    @Override
    public Cursor <mark>query</mark>(Uri uri, String[] projection, String selection, String[] selectionArgs,
            String sortOrder) {
        final SQLiteDatabase db = mHelper.getReadableDatabase();
        switch (sMatcher.match(uri)) {
            case URI_RECENT:
                final long cutoff = System.currentTimeMillis() - MAX_HISTORY_IN_MILLIS;
                return db.<mark>query</mark>(TABLE_RECENT, projection, RecentColumns.TIMESTAMP + ">" + cutoff,
                        null, null, null, sortOrder);
            case URI_STATE:
                final String authority = uri.getPathSegments().get(1);
                final String rootId = uri.getPathSegments().get(2);
                final String documentId = uri.getPathSegments().get(3);
                return db.<mark>query</mark>(TABLE_STATE, projection, StateColumns.AUTHORITY + "=? AND "
                        + StateColumns.ROOT_ID + "=? AND " + StateColumns.DOCUMENT_ID + "=?",
                        new String[] { authority, rootId, documentId }, null, null, sortOrder);
            case URI_RESUME:
                final String packageName = uri.getPathSegments().get(1);
                return db.<mark>query</mark>(TABLE_RESUME, projection, ResumeColumns.PACKAGE_NAME + "=?",
                        new String[] { packageName }, null, null, sortOrder);
            default:
                return null;
                //throw new UnsupportedOperationException("Unsupported Uri " + uri);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>siacs_____Conversations_____ExportBackupService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/siacs_____Conversations_____ExportBackupService.java

android.database.sqlite.SQLiteDatabase.query


    private static void accountExport(SQLiteDatabase db, String uuid, PrintWriter writer) {
        final StringBuilder builder = new StringBuilder();
        final Cursor accountCursor = db.<mark>query</mark>(Account.TABLENAME, null, Account.UUID + "=?", new String[]{uuid}, null, null, null);
        while (accountCursor != null && accountCursor.moveToNext()) {
            builder.append("INSERT INTO ").append(Account.TABLENAME).append("(");
            for (int i = 0; i < accountCursor.getColumnCount(); ++i) {
                if (i != 0) {
                    builder.append(',');
                }
                builder.append(accountCursor.getColumnName(i));
            }
            builder.append(") VALUES(");
            for (int i = 0; i < accountCursor.getColumnCount(); ++i) {
                if (i != 0) {
                    builder.append(',');
                }
                final String value = accountCursor.getString(i);
                if (value == null || Account.ROSTERVERSION.equals(accountCursor.getColumnName(i))) {
                    builder.append("NULL");
                } else if (value.matches("\\d+")) {
                    int intValue = Integer.parseInt(value);
                    if (Account.OPTIONS.equals(accountCursor.getColumnName(i))) {
                        intValue |= 1 << Account.OPTION_DISABLED;
                    }
                    builder.append(intValue);
                } else {
                    DatabaseUtils.appendEscapedSQLString(builder, value);
                }
            }
            builder.append(")");
            builder.append(';');
            builder.append('\n');
        }
        if (accountCursor != null) {
            accountCursor.close();
        }
        writer.append(builder.toString());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____MentionsDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____MentionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int account) {

        boolean mutedMentions = sharedPrefs.getBoolean("show_muted_mentions", false);
        String users = sharedPrefs.getString("muted_users", "");
        String hashtags = sharedPrefs.getString("muted_hashtags", "");
        String expressions = sharedPrefs.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = MentionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        if (!users.equals("") && !mutedMentions) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, null, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, null, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cgeo_____cgeo_____DataStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cgeo_____cgeo_____DataStore.java

android.database.sqlite.SQLiteDatabase.query


    public static boolean isThere(final String geocode, final String guid, final boolean checkTime) {
        init();

        long dataDetailedUpdate = 0;
        int dataDetailed = 0;

        try {
            final Cursor cursor;

            if (StringUtils.isNotBlank(geocode)) {
                cursor = database.<mark>query</mark>(
                        dbTableCaches,
                        new String[]{"detailed", "detailedupdate", "updated"},
                        "geocode = ?",
                        new String[]{geocode},
                        null,
                        null,
                        null,
                        "1");
            } else if (StringUtils.isNotBlank(guid)) {
                cursor = database.<mark>query</mark>(
                        dbTableCaches,
                        new String[]{"detailed", "detailedupdate", "updated"},
                        "guid = ?",
                        new String[]{guid},
                        null,
                        null,
                        null,
                        "1");
            } else {
                return false;
            }

            if (cursor.moveToFirst()) {
                dataDetailed = cursor.getInt(0);
                dataDetailedUpdate = cursor.getLong(1);
            }

            cursor.close();
        } catch (final Exception e) {
            Log.e("DataStore.isThere", e);
        }

        if (dataDetailed == 0) {
            // we want details, but these are not stored
            return false;
        }

        if (checkTime && dataDetailedUpdate < (System.currentTimeMillis() - DAYS_AFTER_CACHE_IS_DELETED)) {
            // we want to check time for detailed cache, but data are older than 3 days
            return false;
        }

        // we have some cache
        return true;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fookwood_____Launcher3_____LauncherProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fookwood_____Launcher3_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.bindLong
android.database.sqlite.SQLiteStatement.executeUpdateDelete

/**
         * Recreates workspace table and migrates data to the new table.
         */        @TargetApi(Build.VERSION_CODES.O)
        public void removeGhostWidgets(SQLiteDatabase db) {
            // Get all existing widget ids.
            final AppWidgetHost host = newLauncherWidgetHost();
            final int[] allWidgets;
            try {
                // Although the method was defined in O, it has existed since the beginning of time,
                // so it might work on older platforms as well.
                allWidgets = host.getAppWidgetIds();
            } catch (IncompatibleClassChangeError e) {
                Log.e(TAG, "getAppWidgetIds not supported", e);
                return;
            }
            final HashSet<Integer> validWidgets = new HashSet<>();
            try (Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME,
                    new String[] {Favorites.APPWIDGET_ID },
                    "itemType=" + Favorites.ITEM_TYPE_APPWIDGET, null, null, null, null)) {
                while (c.moveToNext()) {
                    validWidgets.add(c.getInt(0));
                }
            } catch (SQLException ex) {
                Log.w(TAG, "Error getting widgets list", ex);
                return;
            }
            for (int widgetId : allWidgets) {
                if (!validWidgets.contains(widgetId)) {
                    try {
                        FileLog.d(TAG, "Deleting invalid widget " + widgetId);
                        host.deleteAppWidgetId(widgetId);
                    } catch (RuntimeException e) {
                        // Ignore
                    }
                }
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageDbManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____PageDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static Page retrieve(SQLiteDatabase db, String pageId, String lang) throws SQLException {
        Page page = null;

        Cursor c = db.<mark>query</mark>(TABLE_PAGE, null, PAGE_ID + "=? AND " + PAGE_LANGUAGE + "=?", new String[]{pageId, lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            String pageType = c.getString(c.getColumnIndex(PAGE_TYPE));
            String pageTitle = c.getString(c.getColumnIndex(PAGE_TITLE));
            String pageIntro = c.getString(c.getColumnIndex(PAGE_INTRODUCTION));
            String pageWarning = c.getString(c.getColumnIndex(PAGE_WARNING));
            String pageComponent = c.getString(c.getColumnIndex(PAGE_COMPONENT));
            String pageContent = c.getString(c.getColumnIndex(PAGE_CONTENT));
            String successId = c.getString(c.getColumnIndex(PAGE_SUCCESS_ID));
            String failedId = c.getString(c.getColumnIndex(PAGE_FAILED_ID));
            String heading = c.getString(c.getColumnIndex(PAGE_HEADING));
            String secOrder = c.getString(c.getColumnIndex(PAGE_SECTION_ORDER));

            List<PageStatus> statusList = PageStatusDbManager.retrieve(db, pageId, lang);
            List<PageAction> actionList = PageActionDbManager.retrieve(db, pageId, lang);
            List<PageItem> itemList = PageItemDbManager.retrieve(db, pageId, lang);
            PageTimer timer = PageTimerDbManager.retrieve(db, pageId, lang);
            List<PageChecklist> checkList = PageChecklistDbManager.retrieve(db, pageId, lang);

            page = new Page(pageId, lang, pageType, pageTitle, pageIntro, pageWarning, pageComponent, statusList, actionList,
                    itemList, pageContent, timer, successId, failedId, checkList, heading, secOrder);
        }
        c.close();
        return page;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____AccountManagerService_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    private void dumpUser(UserAccounts userAccounts, FileDescriptor fd, PrintWriter fout,
            String[] args, boolean isCheckinRequest) {
        synchronized (userAccounts.cacheLock) {
            final SQLiteDatabase db = userAccounts.openHelper.getReadableDatabase();

            if (isCheckinRequest) {
                // This is a checkin request. *Only* upload the account types and the count of each.
                Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, ACCOUNT_TYPE_COUNT_PROJECTION,
                        null, null, ACCOUNTS_TYPE, null, null);
                try {
                    while (cursor.moveToNext()) {
                        // print type,count
                        fout.println(cursor.getString(0) + "," + cursor.getString(1));
                    }
                } finally {
                    if (cursor != null) {
                        cursor.close();
                    }
                }
            } else {
                Account[] accounts = getAccountsFromCacheLocked(userAccounts, null /* type */,
                        Process.myUid(), null);
                fout.println("Accounts: " + accounts.length);
                for (Account account : accounts) {
                    fout.println("  " + account);
                }

                fout.println();
                synchronized (mSessions) {
                    final long now = SystemClock.elapsedRealtime();
                    fout.println("Active Sessions: " + mSessions.size());
                    for (Session session : mSessions.values()) {
                        fout.println("  " + session.toDebugString(now));
                    }
                }

                fout.println();
                mAuthenticatorCache.dump(fd, fout, args, userAccounts.userId);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_browser_____BrowserProvider2_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_browser_____BrowserProvider2.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Does a query to find the matching bookmarks and updates each one with the provided values.
     */    // With this, that drops to 0 or 1, depending on if the thumbnail changed.
    private boolean shouldUpdateImages(
            SQLiteDatabase db, String url, ContentValues values) {
        final String[] projection = new String[] {
                Images.FAVICON,
                Images.THUMBNAIL,
                Images.TOUCH_ICON,
        };
        Cursor cursor = db.<mark>query</mark>(TABLE_IMAGES, projection, Images.URL + "=?",
                new String[] { url }, null, null, null);
        byte[] nfavicon = values.getAsByteArray(Images.FAVICON);
        byte[] nthumb = values.getAsByteArray(Images.THUMBNAIL);
        byte[] ntouch = values.getAsByteArray(Images.TOUCH_ICON);
        byte[] cfavicon = null;
        byte[] cthumb = null;
        byte[] ctouch = null;
        try {
            if (cursor.getCount() <= 0) {
                return nfavicon != null || nthumb != null || ntouch != null;
            }
            while (cursor.moveToNext()) {
                if (nfavicon != null) {
                    cfavicon = cursor.getBlob(0);
                    if (!Arrays.equals(nfavicon, cfavicon)) {
                        return true;
                    }
                }
                if (nthumb != null) {
                    cthumb = cursor.getBlob(1);
                    if (!Arrays.equals(nthumb, cthumb)) {
                        return true;
                    }
                }
                if (ntouch != null) {
                    ctouch = cursor.getBlob(2);
                    if (!Arrays.equals(ntouch, ctouch)) {
                        return true;
                    }
                }
            }
        } finally {
            cursor.close();
        }
        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____launcher3_____LauncherProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____launcher3_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
     * Overridden in tests
     */    @Override
    public int <mark>delete</mark>(Uri uri, String selection, String[] selectionArgs) {
        createDbIfNotExists();
        SqlArguments args = new SqlArguments(uri, selection, selectionArgs);

        SQLiteDatabase db = mOpenHelper.getWritableDatabase();

        if (Binder.getCallingPid() != Process.myPid()
                && Favorites.TABLE_NAME.equalsIgnoreCase(args.table)) {
            String widgetSelection = TextUtils.isEmpty(args.where) ? "1=1" : args.where;
            widgetSelection = String.format(Locale.ENGLISH, "%1$s = %2$d AND ( %3$s )",
                    Favorites.ITEM_TYPE, Favorites.ITEM_TYPE_APPWIDGET, widgetSelection);
            try (Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME, new String[] { Favorites.APPWIDGET_ID },
                    widgetSelection, args.args, null, null, null)) {
                AppWidgetHost host = new AppWidgetHost(getContext(), Launcher.APPWIDGET_HOST_ID);
                while (c.moveToNext()) {
                    int widgetId = c.getInt(0);
                    if (widgetId != AppWidgetManager.INVALID_APPWIDGET_ID) {
                        try {
                            host.deleteAppWidgetId(widgetId);
                        } catch (RuntimeException e) {
                            Log.e(TAG, "Error deleting widget id " + widgetId, e);
                        }
                    }
                }
            }
        }
        int count = db.<mark>delete</mark>(args.table, args.where, args.args);
        if (count > 0) {
            notifyListeners();
            reloadLauncherIfExternal();
        }
        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>naman14_____Timber_____SearchHistory_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/naman14_____Timber_____SearchHistory.java

android.database.sqlite.SQLiteDatabase.query


    public void addSearchString(final String searchString) {
        if (searchString == null) {
            return;
        }

        String trimmedString = searchString.trim();

        if (trimmedString.isEmpty()) {
            return;
        }

        final SQLiteDatabase database = mMusicDatabase.getWritableDatabase();
        database.beginTransaction();

        try {

            database.delete(SearchHistoryColumns.NAME,
                    SearchHistoryColumns.SEARCHSTRING + " = ? COLLATE NOCASE",
                    new String[]{trimmedString});

            final ContentValues values = new ContentValues(2);
            values.put(SearchHistoryColumns.SEARCHSTRING, trimmedString);
            values.put(SearchHistoryColumns.TIMESEARCHED, System.currentTimeMillis());
            database.insert(SearchHistoryColumns.NAME, null, values);

            Cursor oldest = null;
            try {
                database.<mark>query</mark>(SearchHistoryColumns.NAME,
                        new String[]{SearchHistoryColumns.TIMESEARCHED}, null, null, null, null,
                        SearchHistoryColumns.TIMESEARCHED + " ASC");

                if (oldest != null && oldest.getCount() > MAX_ITEMS_IN_DB) {
                    oldest.moveToPosition(oldest.getCount() - MAX_ITEMS_IN_DB);
                    long timeOfRecordToKeep = oldest.getLong(0);

                    database.delete(SearchHistoryColumns.NAME,
                            SearchHistoryColumns.TIMESEARCHED + " < ?",
                            new String[]{String.valueOf(timeOfRecordToKeep)});

                }
            } finally {
                if (oldest != null) {
                    oldest.close();
                    oldest = null;
                }
            }
        } finally {
            database.setTransactionSuccessful();
            database.endTransaction();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Deletescape-Media_____Lawnchair_____LauncherProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/Deletescape-Media_____Lawnchair_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
     * Overridden in tests
     */    @Override
    public int <mark>delete</mark>(@NonNull Uri uri, String selection, String[] selectionArgs) {
        createDbIfNotExists();
        SqlArguments args = new SqlArguments(uri, selection, selectionArgs);

        SQLiteDatabase db = mOpenHelper.getWritableDatabase();

        if (Binder.getCallingPid() != Process.myPid()
                && Favorites.TABLE_NAME.equalsIgnoreCase(args.table)) {
            String widgetSelection = TextUtils.isEmpty(args.where) ? "1=1" : args.where;
            widgetSelection = String.format(Locale.ENGLISH, "%1$s = %2$d AND ( %3$s )",
                    Favorites.ITEM_TYPE, Favorites.ITEM_TYPE_APPWIDGET, widgetSelection);
            try (Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME, new String[]{Favorites.APPWIDGET_ID},
                    widgetSelection, args.args, null, null, null)) {
                AppWidgetHost host = new AppWidgetHost(getContext(), Launcher.APPWIDGET_HOST_ID);
                while (c.moveToNext()) {
                    int widgetId = c.getInt(0);
                    if (widgetId != AppWidgetManager.INVALID_APPWIDGET_ID) {
                        try {
                            host.deleteAppWidgetId(widgetId);
                        } catch (RuntimeException e) {
                            Log.e(TAG, "Error deleting widget id " + widgetId, e);
                        }
                    }
                }
            }
        }
        int count = db.<mark>delete</mark>(args.table, args.where, args.args);
        if (count > 0) {
            notifyListeners();
            reloadLauncherIfExternal();
        }
        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____WebViewDatabaseClassic_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____WebViewDatabaseClassic.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
     * @see WebViewDatabase#hasFormData
     */     */
    void setFormData(String url, HashMap<String, String> formdata) {
        if (url == null || formdata == null || !checkInitialized()) {
            return;
        }

        final String selection = "(" + FORMURL_URL_COL + " == ?)";
        synchronized (mFormLock) {
            long urlid = -1;
            Cursor cursor = null;
            try {
                cursor = sDatabase.<mark>query</mark>(mTableNames[TABLE_FORMURL_ID],
                        ID_PROJECTION, selection, new String[] { url }, null, null,
                        null);
                if (cursor.moveToFirst()) {
                    urlid = cursor.getLong(cursor.getColumnIndex(ID_COL));
                } else {
                    ContentValues c = new ContentValues();
                    c.put(FORMURL_URL_COL, url);
                    urlid = sDatabase.insert(
                            mTableNames[TABLE_FORMURL_ID], null, c);
                }
            } catch (IllegalStateException e) {
                Log.e(LOGTAG, "setFormData", e);
            } finally {
                if (cursor != null) cursor.close();
            }
            if (urlid >= 0) {
                Set<Entry<String, String>> set = formdata.entrySet();
                Iterator<Entry<String, String>> iter = set.iterator();
                ContentValues map = new ContentValues();
                map.put(FORMDATA_URLID_COL, urlid);
                while (iter.hasNext()) {
                    Entry<String, String> entry = iter.next();
                    map.put(FORMDATA_NAME_COL, entry.getKey());
                    map.put(FORMDATA_VALUE_COL, entry.getValue());
                    sDatabase.insert(mTableNames[TABLE_FORMDATA_ID], null, map);
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____launcher3_____LauncherProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____launcher3_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.bindLong
android.database.sqlite.SQLiteStatement.executeUpdateDelete
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteStatement.close

/**
         * Recreates workspace table and migrates data to the new table.
         */     */
    private ArrayList<Long> deleteEmptyFolders() {
        ArrayList<Long> folderIds = new ArrayList<>();
        SQLiteDatabase db = mOpenHelper.getWritableDatabase();
        db.<mark>beginTransaction</mark>();
        try {
            // Select folders whose id do not match any container value.
            String selection = LauncherSettings.Favorites.ITEM_TYPE + " = "
                    + LauncherSettings.Favorites.ITEM_TYPE_FOLDER + " AND "
                    + LauncherSettings.Favorites._ID +  " NOT IN (SELECT " +
                            LauncherSettings.Favorites.CONTAINER + " FROM "
                                + Favorites.TABLE_NAME + ")";
            Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME,
                    new String[] {LauncherSettings.Favorites._ID},
                    selection, null, null, null, null);
            while (c.moveToNext()) {
                folderIds.add(c.getLong(0));
            }
            c.<mark>close</mark>();
            if (!folderIds.isEmpty()) {
                db.delete(Favorites.TABLE_NAME, Utilities.createDbSelectionQuery(
                        LauncherSettings.Favorites._ID, folderIds), null);
            }
            db.<mark>setTransactionSuccessful</mark>();
        } catch (SQLException ex) {
            Log.e(TAG, ex.getMessage(), ex);
            folderIds.clear();
        } finally {
            db.<mark>endTransaction</mark>();
        }
        return folderIds;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fookwood_____Launcher3_____LauncherProvider_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/fookwood_____Launcher3_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.insertOrThrow

         */
        @Thunk void convertShortcutsToLauncherActivities(SQLiteDatabase db) {
            try (SQLiteTransaction t = new SQLiteTransaction(db);
                 // Only consider the primary user as other users can't have a shortcut.
                 Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME,
                         new String[] { Favorites._ID, Favorites.INTENT},
                         "itemType=" + Favorites.ITEM_TYPE_SHORTCUT +
                                 " AND profileId=" + getDefaultUserSerial(),
                         null, null, null, null);
                 SQLiteStatement updateStmt = db.compileStatement("UPDATE favorites SET itemType="
                         + Favorites.ITEM_TYPE_APPLICATION + " WHERE _id=?")
            ) {
                final int idIndex = c.getColumnIndexOrThrow(Favorites._ID);
                final int intentIndex = c.getColumnIndexOrThrow(Favorites.INTENT);

                while (c.moveToNext()) {
                    String intentDescription = c.getString(intentIndex);
                    Intent intent;
                    try {
                        intent = Intent.parseUri(intentDescription, 0);
                    } catch (URISyntaxException e) {
                        Log.e(TAG, "Unable to parse intent", e);
                        continue;
                    }

                    if (!Utilities.isLauncherAppTarget(intent)) {
                        continue;
                    }

                    long id = c.getLong(idIndex);
                    updateStmt.bindLong(1, id);
                    updateStmt.executeUpdateDelete();
                }
                t.commit();
            } catch (SQLException ex) {
                Log.w(TAG, "Error deduping shortcuts", ex);
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>enricocid_____LaunchEnr_____LauncherProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/enricocid_____LaunchEnr_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.bindLong
android.database.sqlite.SQLiteStatement.executeUpdateDelete
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteStatement.close

/**
         * Recreates workspace table and migrates data to the new table.
         */         */
        void removeGhostWidgets(SQLiteDatabase db) {
            // Get all existing widget ids.
            final AppWidgetHost host = newLauncherWidgetHost();
            final int[] allWidgets;
            try {
                Method getter = AppWidgetHost.class.getDeclaredMethod("getAppWidgetIds");
                getter.setAccessible(true);
                allWidgets = (int[]) getter.invoke(host);
            } catch (Exception e) {
                e.printStackTrace();
                return;
            }
            try {
                Cursor c = db.<mark>query</mark>(Favorites.TABLE_NAME,
                        new String[] {Favorites.APPWIDGET_ID },
                        "itemType=" + Favorites.ITEM_TYPE_APPWIDGET, null, null, null, null);
                HashSet<Integer> validWidgets = new HashSet<>();
                while (c.moveToNext()) {
                    validWidgets.add(c.getInt(0));
                }
                c.<mark>close</mark>();

                for (int widgetId : allWidgets) {
                    if (!validWidgets.contains(widgetId)) {
                        try {
                            host.deleteAppWidgetId(widgetId);
                        } catch (RuntimeException e) {
                            // Ignore
                        }
                    }
                }
            } catch (SQLException ex) {
                ex.printStackTrace();
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____MentionsDataSource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____MentionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getUnreadCursor(int account) {

        boolean mutedMentions = sharedPrefs.getBoolean("show_muted_mentions", false);
        String users = sharedPrefs.getString("muted_users", "");
        String hashtags = sharedPrefs.getString("muted_hashtags", "");
        String expressions = sharedPrefs.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = MentionsSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + MentionsSQLiteHelper.COLUMN_UNREAD + " = ?";

        if (!users.equals("") && !mutedMentions) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, new String[] {account + "", "1"}, null, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, new String[] {account + "", "1"}, null, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____MentionsDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____MentionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int account) {

        boolean mutedMentions = sharedPrefs.getBoolean("show_muted_mentions", false);
        String users = sharedPrefs.getString("muted_users", "");
        String hashtags = sharedPrefs.getString("muted_hashtags", "");
        String expressions = sharedPrefs.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = MentionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        if (!users.equals("") && !mutedMentions) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("") && !mutedMentions) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("") && !mutedMentions) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, MentionsSQLiteHelper.COLUMN_TWEET_ID, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, MentionsSQLiteHelper.COLUMN_TWEET_ID, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>murgo_____IrssiNotifier_____DataAccess_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/murgo_____IrssiNotifier_____DataAccess.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    private List<IrcMessage> getMessagesForChannel(SQLiteDatabase database, Channel channel) {
        synchronized (DataAccess.class) {
            Cursor cursor = database.<mark>query</mark>("IrcMessage", new String[] {
                    "message", "nick", "serverTimestamp", "shown", "externalId", "clearedFromFeed", "id"
            }, "channelId = ?", new String[] {
                Long.toString(channel.getId())
            }, null, null, "serverTimestamp DESC", "50");
            cursor.moveToFirst();
            List<IrcMessage> list = new ArrayList<IrcMessage>();
    
            int colMessage = cursor.getColumnIndex("message");
            int colNick = cursor.getColumnIndex("nick");
            int colServerTimestamp = cursor.getColumnIndex("serverTimestamp");
            int colExternalId = cursor.getColumnIndex("externalId");
            int colShown = cursor.getColumnIndex("shown");
            int colClearedFromFeed = cursor.getColumnIndex("clearedFromFeed");
            int colId = cursor.getColumnIndex("id");
    
            while (!cursor.isAfterLast()) {
                IrcMessage message = new IrcMessage();
                message.setMessage(cursor.getString(colMessage));
                message.setNick(cursor.getString(colNick));
                message.setServerTimestamp(cursor.getLong(colServerTimestamp));
                message.setExternalId(cursor.getString(colExternalId));
                message.setChannel(channel.getName());
                message.setShown(cursor.getInt(colShown) != 0);
                message.setClearedFromFeed(cursor.getInt(colClearedFromFeed) != 0);
                message.setId(cursor.getLong(colId));
    
                list.add(message);
                cursor.moveToNext();
            }
    
            cursor.<mark>close</mark>();
            Collections.reverse(list);
            return list;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaojianglaile_____Calendar_____ScheduleDao_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiaojianglaile_____Calendar_____ScheduleDao.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public List<Schedule> getScheduleByDate(int year, int month, int day) {
        List<Schedule> schedules = new ArrayList<>();
        SQLiteDatabase db = mHelper.getReadableDatabase();
        Cursor cursor = db.<mark>query</mark>(JeekDBConfig.SCHEDULE_TABLE_NAME, null,
                String.format("%s=? and %s=? and %s=?", JeekDBConfig.SCHEDULE_YEAR,
                        JeekDBConfig.SCHEDULE_MONTH, JeekDBConfig.SCHEDULE_DAY), new String[]{String.valueOf(year), String.valueOf(month), String.valueOf(day)}, null, null, null);
        Schedule schedule;
        while (cursor.moveToNext()) {
            schedule = new Schedule();
            schedule.setId(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_ID)));
            schedule.setColor(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_COLOR)));
            schedule.setTitle(cursor.getString(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_TITLE)));
            schedule.setLocation(cursor.getString(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_LOCATION)));
            schedule.setDesc(cursor.getString(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_DESC)));
            schedule.setState(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_STATE)));
            schedule.setYear(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_YEAR)));
            schedule.setMonth(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_MONTH)));
            schedule.setDay(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_DAY)));
            schedule.setTime(cursor.getLong(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_TIME)));
            schedule.setEventSetId(cursor.getInt(cursor.getColumnIndex(JeekDBConfig.SCHEDULE_EVENT_SET_ID)));
            schedules.add(schedule);
        }
        cursor.<mark>close</mark>();
        db.<mark>close</mark>();
        mHelper.<mark>close</mark>();
        return schedules;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wildabeast_____BarcodeScanner_____HistoryManager_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/wildabeast_____BarcodeScanner_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/**
   * <p>Builds a text representation of the scanning history. Each scan is encoded on one
   * line, terminated by a line break (\r\n). The values in each line are comma-separated,
   * and double-quoted. Double-quotes within values are escaped with a sequence of two
   * double-quotes. The fields output are:</p>
   *
   * <ul>
   *  <li>Raw text</li>
   *  <li>Display text</li>
   *  <li>Format (e.g. QR_CODE)</li>
   *  <li>Timestamp</li>
   *  <li>Formatted version of timestamp</li>
   * </ul>
   */
  public void addHistoryItemDetails(String itemID, String itemDetails) {
    // As we're going to do an update only we don't need need to worry
    // about the preferences; if the item wasn't saved it won't be udpated
    SQLiteOpenHelper helper = new DBHelper(activity);
    SQLiteDatabase db = null;    
    Cursor cursor = null;
    try {
      db = helper.<mark>getWritableDatabase</mark>();
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                        ID_DETAIL_COL_PROJECTION,
                        DBHelper.TEXT_COL + "=?",
                        new String[] { itemID },
                        null,
                        null,
                        DBHelper.TIMESTAMP_COL + " DESC",
                        "1");
      String oldID = null;
      String oldDetails = null;
      if (cursor.moveToNext()) {
        oldID = cursor.getString(0);
        oldDetails = cursor.getString(1);
      }

      if (oldID != null) {
        String newDetails = oldDetails == null ? itemDetails : oldDetails + " : " + itemDetails;
        ContentValues values = new ContentValues();
        values.put(DBHelper.DETAILS_COL, newDetails);
        db.update(DBHelper.TABLE_NAME, values, DBHelper.ID_COL + "=?", new String[] { oldID });
      }

    } finally {
      close(cursor, db);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____WebViewDatabase_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____WebViewDatabase.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
     * Find out if there is form data saved.
     *
     * @return TRUE if there is form data in the database
     */     */
    void setFormData(String url, HashMap<String, String> formdata) {
        if (url == null || formdata == null || !checkInitialized()) {
            return;
        }

        final String selection = "(" + FORMURL_URL_COL + " == ?)";
        synchronized (mFormLock) {
            long urlid = -1;
            Cursor cursor = null;
            try {
                cursor = mDatabase.<mark>query</mark>(mTableNames[TABLE_FORMURL_ID],
                        ID_PROJECTION, selection, new String[] { url }, null, null,
                        null);
                if (cursor.moveToFirst()) {
                    urlid = cursor.getLong(cursor.getColumnIndex(ID_COL));
                } else {
                    ContentValues c = new ContentValues();
                    c.put(FORMURL_URL_COL, url);
                    urlid = mDatabase.insert(
                            mTableNames[TABLE_FORMURL_ID], null, c);
                }
            } catch (IllegalStateException e) {
                Log.e(LOGTAG, "setFormData", e);
            } finally {
                if (cursor != null) cursor.close();
            }
            if (urlid >= 0) {
                Set<Entry<String, String>> set = formdata.entrySet();
                Iterator<Entry<String, String>> iter = set.iterator();
                ContentValues map = new ContentValues();
                map.put(FORMDATA_URLID_COL, urlid);
                while (iter.hasNext()) {
                    Entry<String, String> entry = iter.next();
                    map.put(FORMDATA_NAME_COL, entry.getKey());
                    map.put(FORMDATA_VALUE_COL, entry.getValue());
                    mDatabase.insert(mTableNames[TABLE_FORMDATA_ID], null, map);
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____MigrationHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____MigrationHelper.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Copies the contents of the file in {@code src} to {@code dst} and then deletes the {@code src} if copy was successful.
     * If the file copy was unsuccessful, the src file will not be deleted.
     * @param src Source file
     * @param dst Destination file
     * @throws IOException if an error occurred during the file copy
     */     */
    static String getFullyQualifiedAccountName(SQLiteDatabase db, String accountUID){
        //get the parent account UID of the account
        Cursor cursor = db.<mark>query</mark>(AccountEntry.TABLE_NAME,
                new String[] {AccountEntry.COLUMN_PARENT_ACCOUNT_UID},
                AccountEntry.COLUMN_UID + " = ?",
                new String[]{accountUID},
                null, null, null, null);

        String parentAccountUID = null;
        if (cursor != null && cursor.moveToFirst()){
            parentAccountUID = cursor.getString(cursor.getColumnIndexOrThrow(AccountEntry.COLUMN_PARENT_ACCOUNT_UID));
            cursor.close();
        }

        //get the name of the account
        cursor = db.<mark>query</mark>(AccountEntry.TABLE_NAME,
                new String[]{AccountEntry.COLUMN_NAME},
                AccountEntry.COLUMN_UID + " = ?",
                new String[]{accountUID}, null, null, null);

        String accountName = null;
        if (cursor != null && cursor.moveToFirst()){
            accountName = cursor.getString(cursor.getColumnIndexOrThrow(AccountEntry.COLUMN_NAME));
            cursor.close();
        }

        String gnucashRootAccountUID = getGnuCashRootAccountUID(db);
        if (parentAccountUID == null || accountName == null
            || parentAccountUID.equalsIgnoreCase(gnucashRootAccountUID)){
            return accountName;
        }

        String parentAccountName = getFullyQualifiedAccountName(db, parentAccountUID);

        return parentAccountName + AccountsDbAdapter.ACCOUNT_NAME_SEPARATOR + accountName;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____MentionsDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____MentionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getWidgetCursor(int account) {

        boolean mutedMentions = sharedPrefs.getBoolean("show_muted_mentions", false);
        String users = sharedPrefs.getString("muted_users", "");
        String hashtags = sharedPrefs.getString("muted_hashtags", "");
        String expressions = sharedPrefs.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = MentionsSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        if (!users.equals("") && !mutedMentions) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("") && !mutedMentions) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("") && !mutedMentions) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, MentionsSQLiteHelper.COLUMN_TWEET_ID, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " DESC", "150");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, null, MentionsSQLiteHelper.COLUMN_TWEET_ID, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " DESC", "150");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____IpMemoryStoreDatabase_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____IpMemoryStoreDatabase.java

android.database.sqlite.SQLiteDatabase.query

    // Status.{SUCCESS, ERROR_*}
    static int dropNumberOfRecords(@NonNull final SQLiteDatabase db, int number) {
        if (number <= 0) {
            return Status.ERROR_ILLEGAL_ARGUMENT;
        }

        // Queries number of NetworkAttributes that start from the lowest expiryDate.
        final Cursor cursor = db.<mark>query</mark>(NetworkAttributesContract.TABLENAME,
                new String[] {NetworkAttributesContract.COLNAME_EXPIRYDATE}, // columns
                null, // selection
                null, // selectionArgs
                null, // groupBy
                null, // having
                NetworkAttributesContract.COLNAME_EXPIRYDATE, // orderBy
                Integer.toString(number)); // limit
        if (cursor == null || cursor.getCount() <= 0) return Status.ERROR_GENERIC;
        cursor.moveToLast();

        //Get the expiryDate from last record.
        final long expiryDate = getLong(cursor, NetworkAttributesContract.COLNAME_EXPIRYDATE, 0);
        cursor.close();

        db.beginTransaction();
        try {
            // Deletes NetworkAttributes that expiryDate are lower than given value.
            db.delete(NetworkAttributesContract.TABLENAME,
                    NetworkAttributesContract.COLNAME_EXPIRYDATE + " <= ?",
                    new String[]{Long.toString(expiryDate)});
            db.setTransactionSuccessful();
        } catch (SQLiteException e) {
            Log.e(TAG, "Could not delete data from memory store", e);
            return Status.ERROR_STORAGE;
        } finally {
            db.endTransaction();
        }

        // Execute vacuuming here if above operation has no exception. If above operation got
        // exception, vacuuming can be ignored for reducing unnecessary consumption.
        try {
            db.execSQL("VACUUM");
        } catch (SQLiteException e) {
            // Do nothing.
        }
        return Status.SUCCESS;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>naman14_____Timber_____RecentStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/naman14_____Timber_____RecentStore.java

android.database.sqlite.SQLiteDatabase.query


    public void addSongId(final long songId) {
        final SQLiteDatabase database = mMusicDatabase.getWritableDatabase();
        database.beginTransaction();

        try {

            Cursor mostRecentItem = null;
            try {
                mostRecentItem = queryRecentIds("1");
                if (mostRecentItem != null && mostRecentItem.moveToFirst()) {
                    if (songId == mostRecentItem.getLong(0)) {
                        return;
                    }
                }
            } finally {
                if (mostRecentItem != null) {
                    mostRecentItem.close();
                    mostRecentItem = null;
                }
            }


            final ContentValues values = new ContentValues(2);
            values.put(RecentStoreColumns.ID, songId);
            values.put(RecentStoreColumns.TIMEPLAYED, System.currentTimeMillis());
            database.insert(RecentStoreColumns.NAME, null, values);

            Cursor oldest = null;
            try {
                oldest = database.<mark>query</mark>(RecentStoreColumns.NAME,
                        new String[]{RecentStoreColumns.TIMEPLAYED}, null, null, null, null,
                        RecentStoreColumns.TIMEPLAYED + " ASC");

                if (oldest != null && oldest.getCount() > MAX_ITEMS_IN_DB) {
                    oldest.moveToPosition(oldest.getCount() - MAX_ITEMS_IN_DB);
                    long timeOfRecordToKeep = oldest.getLong(0);

                    database.delete(RecentStoreColumns.NAME,
                            RecentStoreColumns.TIMEPLAYED + " < ?",
                            new String[]{String.valueOf(timeOfRecordToKeep)});

                }
            } finally {
                if (oldest != null) {
                    oldest.close();
                    oldest = null;
                }
            }
        } finally {
            database.setTransactionSuccessful();
            database.endTransaction();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mvarnagiris_____financius-public_____DBMigration_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mvarnagiris_____financius-public_____DBMigration.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert


    private static String v19MigrateAccounts(SQLiteDatabase db, String tempCurrenciesTable) {
        final String oldTableName = "accounts";
        final String tempTableName = "temp_" + oldTableName;
        db.<mark>execSQL</mark>("alter table " + oldTableName + " rename to " + tempTableName);
        db.<mark>execSQL</mark>(Tables.Accounts.createScript());
        DBHelper.createIndex(db, Tables.Accounts.ID);

        final String[] projection = {oldTableName + "_server_id", "currencies_server_id",
                oldTableName + "_title", oldTableName + "_note", oldTableName + "_show_in_totals"};
        final String selection = oldTableName + "_delete_state = 0 and " + oldTableName + "_origin = 1";
        final String tables = tempTableName + " inner join " + tempCurrenciesTable + " on " +
                tempCurrenciesTable + "._id=" + oldTableName + "_currency_id";
        final Cursor cursor = db.<mark>query</mark>(tables, projection, selection, null, null, null, null);
        if (cursor != null && cursor.moveToFirst()) {
            final CurrencyFormat currencyFormat = new CurrencyFormat();
            final Account account = new Account();
            account.setModelState(ModelState.Normal);
            account.setSyncState(SyncState.None);
            account.setCurrencyCode(currencyFormat.getCode());
            do {
                account.setId(cursor.getString(0));
                currencyFormat.setId(cursor.getString(1));
                account.setTitle(cursor.getString(2));
                account.setNote(cursor.getString(3));
                account.setIncludeInTotals(cursor.getInt(4) != 0);
                db.<mark>insert</mark>(Tables.Accounts.TABLE_NAME, null, account.asContentValues());
            } while (cursor.moveToNext());
        }

        return tempTableName;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matt-allen_____repay-android_____DatabaseHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/matt-allen_____repay-android_____DatabaseHandler.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
	 * Convenience method for knowing how many friend entries are in the database
	 * @return Number of friends in database
	 * @throws NullPointerException If no records are found
	 */	@Override
	public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
		if (oldVersion==1 && newVersion==2){
			// Change to include a debtID
			try{
				ArrayList<Debt> debts = new ArrayList<Debt>();
				Cursor c;
				// Get all current debts from database
				c = db.<mark>query</mark>(Names.D_TABLENAME, new String[]{Names.D_REPAYID, Names.D_DATE, Names.D_AMOUNT, Names.D_DESCRIPTION},
						null, null, null, null, null);
				c.moveToFirst();
				SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);
				do{
					// Entering 0 for debtID since it isn't put into the database
					debts.add(new Debt(0, c.getString(0), sdf.parse(c.getString(1)), new BigDecimal(c.getString(2)), c.getString(3)));
				} while (c.moveToNext());

				// Drop old table and create new one
				db.execSQL(String.format("ALTER TABLE %s RENAME TO oldDebts", Names.D_TABLENAME));
				db.execSQL(String.format("CREATE TABLE %s (%s INTEGER PRIMARY KEY AUTOINCREMENT, %s TEXT NOT NULL, "
								+ "%s TEXT, %s TEXT, %s TEXT, FOREIGN KEY(%s) REFERENCES %s(%s))", Names.D_TABLENAME,
						Names.D_DEBTID, Names.D_REPAYID, Names.D_DATE, Names.D_AMOUNT,
						Names.D_DESCRIPTION, Names.D_REPAYID, Names.F_TABLENAME, Names.F_REPAYID));

				// Add data back in new format
				ContentValues values;
				for(int i=0;i<=debts.size()-1;i++){
					values = new ContentValues();
					values.put(Names.D_REPAYID, debts.get(i).getRepayID());
					values.put(Names.D_AMOUNT, debts.get(i).getAmount().toString());
					values.put(Names.D_DATE, debts.get(i).getDate().toString());
					values.put(Names.D_DESCRIPTION, debts.get(i).getDescription());
					db.insert(Names.D_TABLENAME, null, values);
				}
			} catch (Exception e){
				Log.e(TAG, e.getMessage());
				e.printStackTrace();
			}
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>phimpme_____phimpme-android-v1_____WordPressDB_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/phimpme_____phimpme-android-v1_____WordPressDB.java

android.database.sqlite.SQLiteDatabase.query


	public Vector<Object> loadSettings(int id) {

		Cursor c = db.<mark>query</mark>(SETTINGS_TABLE, new String[]{"url", "blogName",
				"username", "password", "httpuser", "httppassword",
				"imagePlacement", "centerThumbnail", "fullSizeImage",
				"maxImageWidth", "maxImageWidthId", "runService", "blogId",
				"location", "dotcomFlag", "dotcom_username", "dotcom_password",
				"api_key", "api_blogid", "wpVersion", "postFormats",
				"lastCommentId", "isScaledImage", "scaledImgWidth", "homeURL", "blog_options"}, "id=" + id, null, null, null, null);

		int numRows = c.getCount();
		c.moveToFirst();

		Vector<Object> returnVector = new Vector<Object>();
		if (numRows > 0) {
			if (c.getString(0) != null) {
				returnVector.add(c.getString(0));
				returnVector.add(c.getString(1));
				returnVector.add(c.getString(2));
				returnVector.add(decryptPassword(c.getString(3)));
				if (c.getString(4) == null) {
					returnVector.add("");
				} else {
					returnVector.add(c.getString(4));
				}
				if (c.getString(5) == null) {
					returnVector.add("");
				} else {
					returnVector.add(decryptPassword(c.getString(5)));
				}
				returnVector.add(c.getString(6));
				returnVector.add(c.getInt(7));
				returnVector.add(c.getInt(8));
				returnVector.add(c.getString(9));
				returnVector.add(c.getInt(10));
				returnVector.add(c.getInt(11));
				returnVector.add(c.getInt(12));
				returnVector.add(c.getInt(13));
				returnVector.add(c.getInt(14));
				returnVector.add(c.getString(15));
				returnVector.add(decryptPassword(c.getString(16)));
				returnVector.add(c.getString(17));
				returnVector.add(c.getString(18));
				returnVector.add(c.getString(19));
				returnVector.add(c.getString(20));
				returnVector.add(c.getInt(21));
				returnVector.add(c.getInt(22));
				returnVector.add(c.getInt(23));
				returnVector.add(c.getString(24));
				returnVector.add(c.getString(25));
			} else {
				returnVector = null;
			}
		} else {
			returnVector = null;
		}
		c.close();

		return returnVector;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____MentionsDataSource_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____MentionsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getUnreadCursor(int account) {

        boolean mutedMentions = sharedPrefs.getBoolean("show_muted_mentions", false);
        String users = sharedPrefs.getString("muted_users", "");
        String hashtags = sharedPrefs.getString("muted_hashtags", "");
        String expressions = sharedPrefs.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = MentionsSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + MentionsSQLiteHelper.COLUMN_UNREAD + " = ?";

        if (!users.equals("") && !mutedMentions) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("") && !mutedMentions) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("") && !mutedMentions) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + MentionsSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, new String[] {account + "", "1"}, MentionsSQLiteHelper.COLUMN_TWEET_ID, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(MentionsSQLiteHelper.TABLE_MENTIONS,
                    allColumns, where, new String[] {account + "", "1"}, MentionsSQLiteHelper.COLUMN_TWEET_ID, null, MentionsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_browser_____BrowserProvider2_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_browser_____BrowserProvider2.java

android.database.sqlite.SQLiteDatabase.query


    private Object[] appendBookmarksIfFolder(String selection, String[] selectionArgs) {
        final SQLiteDatabase db = mOpenHelper.getReadableDatabase();
        final String[] bookmarksProjection = new String[] {
                Bookmarks._ID, // 0
                Bookmarks.IS_FOLDER // 1
        };
        StringBuilder newSelection = new StringBuilder(selection);
        List<String> newSelectionArgs = new ArrayList<String>();

        Cursor cursor = null;
        try {
            cursor = db.<mark>query</mark>(TABLE_BOOKMARKS, bookmarksProjection,
                    selection, selectionArgs, null, null, null);
            if (cursor != null) {
                while (cursor.moveToNext()) {
                    String id = Long.toString(cursor.getLong(0));
                    newSelectionArgs.add(id);
                    if (cursor.getInt(1) != 0) {
                        // collect bookmarks in this folder
                        Object[] bookmarks = appendBookmarksIfFolder(
                                Bookmarks.PARENT + "=?", new String[] { id });
                        String[] bookmarkIds = (String[]) bookmarks[1];
                        if (bookmarkIds.length > 0) {
                            newSelection.append(" OR " + TABLE_BOOKMARKS + "._id IN (");
                            for (String bookmarkId : bookmarkIds) {
                                newSelection.append("?,");
                                newSelectionArgs.add(bookmarkId);
                            }
                            newSelection.deleteCharAt(newSelection.length() - 1);
                            newSelection.append(")");
                        }
                    }
                }
            }
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }

        return new Object[] {
                newSelection.toString(),
                newSelectionArgs.toArray(new String[newSelectionArgs.size()])
        };
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageDbManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/PanicInitiative_____PanicButton_____PageDbManager.java

android.database.sqlite.SQLiteDatabase.query


    public static List<Page> retrieve(SQLiteDatabase db, String lang) throws SQLException {
        List<Page> pageList = new ArrayList<Page>();

        Cursor c = db.<mark>query</mark>(TABLE_PAGE, null, PAGE_LANGUAGE + "=?", new String[]{lang}, null, null, null);
        if (c != null && c.getCount() > 0) {
            c.moveToFirst();
            while (!c.isAfterLast()) {
                String pageId = c.getString(c.getColumnIndex(PAGE_ID));
                String pageType = c.getString(c.getColumnIndex(PAGE_TYPE));
                String pageTitle = c.getString(c.getColumnIndex(PAGE_TITLE));
                String pageIntro = c.getString(c.getColumnIndex(PAGE_INTRODUCTION));
                String pageWarning = c.getString(c.getColumnIndex(PAGE_WARNING));
                String pageComponent = c.getString(c.getColumnIndex(PAGE_COMPONENT));
                String pageContent = c.getString(c.getColumnIndex(PAGE_CONTENT));
                String successId = c.getString(c.getColumnIndex(PAGE_SUCCESS_ID));
                String failedId = c.getString(c.getColumnIndex(PAGE_FAILED_ID));
                String heading = c.getString(c.getColumnIndex(PAGE_HEADING));
                String secOrder = c.getString(c.getColumnIndex(PAGE_SECTION_ORDER));

                List<PageStatus> statusList = PageStatusDbManager.retrieve(db, pageId, lang);
                List<PageAction> actionList = PageActionDbManager.retrieve(db, pageId, lang);
                List<PageItem> itemList = PageItemDbManager.retrieve(db, pageId, lang);
                PageTimer timer = PageTimerDbManager.retrieve(db, pageId, lang);
                List<PageChecklist> checkList = PageChecklistDbManager.retrieve(db, pageId, lang);

                Page page = new Page(pageId, lang, pageType, pageTitle, pageIntro, pageWarning, pageComponent,
                        statusList, actionList, itemList, pageContent, timer, successId, failedId, checkList, heading, secOrder);
                pageList.add(page);
                c.moveToNext();
            }
        }
        c.close();
        return pageList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Sets a binary value in the database.
     *
     * @param userId The userId of the profile the application is running under.
     * @param uid The uid of the application who initialized the local recovery components.
     * @param key defined in {@code RecoveryServiceMetadataEntry}
     * @param value new value.
     * @return The primary key of the inserted row, or -1 if failed.
     *
     * @hide
     */     */
    private Long getLong(int userId, int uid, String key) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();

        String[] projection = {
                RecoveryServiceMetadataEntry._ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_UID,
                key};
        String selection =
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID + " = ? AND "
                        + RecoveryServiceMetadataEntry.COLUMN_NAME_UID + " = ?";
        String[] selectionArguments = {Integer.toString(userId), Integer.toString(uid)};

        try (
            Cursor cursor = db.<mark>query</mark>(
                    RecoveryServiceMetadataEntry.TABLE_NAME,
                    projection,
                    selection,
                    selectionArguments,
                    /*groupBy=*/ null,
                    /*having=*/ null,
                    /*orderBy=*/ null)
        ) {
            int count = cursor.getCount();
            if (count == 0) {
                return null;
            }
            if (count > 1) {
                Log.wtf(TAG,
                        String.format(Locale.US,
                                "%d entries found for userId=%d uid=%d. "
                                        + "Should only ever be 0 or 1.", count, userId, uid));
                return null;
            }
            cursor.moveToFirst();
            int idx = cursor.getColumnIndexOrThrow(key);
            if (cursor.isNull(idx)) {
                return null;
            } else {
                return cursor.getLong(idx);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitoyarzun_____zxingfragmentlib_____HistoryManager_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mitoyarzun_____zxingfragmentlib_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/**
   * <p>Builds a text representation of the scanning history. Each scan is encoded on one
   * line, terminated by a line break (\r\n). The values in each line are comma-separated,
   * and double-quoted. Double-quotes within values are escaped with a sequence of two
   * double-quotes. The fields output are:</p>
   *
   * <ul>
   *  <li>Raw text</li>
   *  <li>Display text</li>
   *  <li>Format (e.g. QR_CODE)</li>
   *  <li>Timestamp</li>
   *  <li>Formatted version of timestamp</li>
   * </ul>
   */
  public void addHistoryItemDetails(String itemID, String itemDetails) {
    // As we're going to do an update only we don't need need to worry
    // about the preferences; if the item wasn't saved it won't be udpated
    SQLiteOpenHelper helper = new DBHelper(activity);
    SQLiteDatabase db = null;    
    Cursor cursor = null;
    try {
      db = helper.<mark>getWritableDatabase</mark>();
      cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                        ID_DETAIL_COL_PROJECTION,
                        DBHelper.TEXT_COL + "=?",
                        new String[] { itemID },
                        null,
                        null,
                        DBHelper.TIMESTAMP_COL + " DESC",
                        "1");
      String oldID = null;
      String oldDetails = null;
      if (cursor.moveToNext()) {
        oldID = cursor.getString(0);
        oldDetails = cursor.getString(1);
      }

      if (oldID != null) {
        String newDetails;
        if (oldDetails == null) {
          newDetails = itemDetails;
        } else if (oldDetails.contains(itemDetails)) {
          newDetails = null;
        } else {
          newDetails = oldDetails + " : " + itemDetails;
        } 
        if (newDetails != null) {
          ContentValues values = new ContentValues();
          values.put(DBHelper.DETAILS_COL, newDetails);
          db.update(DBHelper.TABLE_NAME, values, DBHelper.ID_COL + "=?", new String[] { oldID });
        }
      }

    } finally {
      close(cursor, db);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____FavoriteTweetsDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____FavoriteTweetsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int account) {

        String where = FavoriteTweetsSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + FavoriteTweetsSQLiteHelper.TABLE_FAVORITE_TWEETS + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            try {
                count = statement.simpleQueryForLong();
            } catch (Exception x) {
                return null;
            }
        }
        Log.v("talon_database", "FavoriteTweets database has " + count + " entries");
        if (count > timelineSize) {
            try {
                cursor = database.<mark>query</mark>(FavoriteTweetsSQLiteHelper.TABLE_FAVORITE_TWEETS,
                        allColumns, where, null, null, null, FavoriteTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - timelineSize) + "," + timelineSize);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(FavoriteTweetsSQLiteHelper.TABLE_FAVORITE_TWEETS,
                        allColumns, where, null, null, null, FavoriteTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - timelineSize) + "," + timelineSize);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(FavoriteTweetsSQLiteHelper.TABLE_FAVORITE_TWEETS,
                        allColumns, where, null, null, null, FavoriteTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(FavoriteTweetsSQLiteHelper.TABLE_FAVORITE_TWEETS,
                        allColumns, where, null, null, null, FavoriteTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Sets a binary value in the database.
     *
     * @param userId The userId of the profile the application is running under.
     * @param uid The uid of the application who initialized the local recovery components.
     * @param rootAlias The root of trust alias.
     * @param key defined in {@code RootOfTrustEntry}
     * @param value new value.
     * @return The primary key of the inserted row, or -1 if failed.
     *
     * @hide
     */     */
    private byte[] getBytes(int userId, int uid, String key) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();

        String[] projection = {
                RecoveryServiceMetadataEntry._ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_UID,
                key};
        String selection =
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID + " = ? AND "
                        + RecoveryServiceMetadataEntry.COLUMN_NAME_UID + " = ?";
        String[] selectionArguments = {Integer.toString(userId), Integer.toString(uid)};

        try (
            Cursor cursor = db.<mark>query</mark>(
                    RecoveryServiceMetadataEntry.TABLE_NAME,
                    projection,
                    selection,
                    selectionArguments,
                    /*groupBy=*/ null,
                    /*having=*/ null,
                    /*orderBy=*/ null)
        ) {
            int count = cursor.getCount();
            if (count == 0) {
                return null;
            }
            if (count > 1) {
                Log.wtf(TAG,
                        String.format(Locale.US,
                                "%d entries found for userId=%d uid=%d. "
                                        + "Should only ever be 0 or 1.", count, userId, uid));
                return null;
            }
            cursor.moveToFirst();
            int idx = cursor.getColumnIndexOrThrow(key);
            if (cursor.isNull(idx)) {
                return null;
            } else {
                return cursor.getBlob(idx);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.beginTransactionNonExclusive
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
	 * Get the highlight color rgb of several verses.
	 * @return the color rgb or -1 if there are multiple colors.
	 */	 */
	public void updateOrInsertPartialHighlight(final int ari, final int colorRgb, final CharSequence verseText, final int startOffset, final int endOffset) {
		final SQLiteDatabase db = helper.getWritableDatabase();

		db.<mark>beginTransactionNonExclusive</mark>();
		try {
			// order by modifyTime desc so we modify the latest one and remove earlier ones if they exist.
			final Cursor c = db.<mark>query</mark>(Db.TABLE_Marker, null, Db.Marker.ari + "=? and " + Db.Marker.kind + "=?", ToStringArray(ari, Marker.Kind.highlight.code), null, null, Db.Marker.modifyTime + " desc");
			try {
				final int hashCode = Highlights.hashCode(verseText.toString());
				final Date now = new Date();

				if (c.moveToNext()) { // check if marker exists
					{ // modify the latest one
						final Marker marker = markerFromCursor(c);
						marker.modifyTime = now;
						marker.caption = Highlights.encode(colorRgb, hashCode, startOffset, endOffset);
						db.<mark>update</mark>(Db.TABLE_Marker, markerToContentValues(marker), "_id=?", ToStringArray(marker._id));
					}

					// remove earlier ones if they exist (caused by sync)
					while (c.moveToNext()) {
						final long _id = c.getLong(c.getColumnIndexOrThrow("_id"));
						db.<mark>delete</mark>(Db.TABLE_Marker, "_id=?", ToStringArray(_id));
					}
				} else { // insert
					final Marker marker = Marker.createNewMarker(ari, Marker.Kind.highlight, Highlights.encode(colorRgb, hashCode, startOffset, endOffset), 1, now, now);
					db.<mark>insert</mark>(Db.TABLE_Marker, null, markerToContentValues(marker));
				}
			} finally {
				c.close();
			}
			db.<mark>setTransactionSuccessful</mark>();
		} finally {
			db.<mark>endTransaction</mark>();
		}

		Sync.notifySyncNeeded(SyncShadow.SYNC_SET_MABEL);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____AccountManagerService_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    protected void dump(FileDescriptor fd, PrintWriter fout, String[] args) {
        if (mContext.checkCallingOrSelfPermission(android.Manifest.permission.DUMP)
                != PackageManager.PERMISSION_GRANTED) {
            fout.println("Permission Denial: can't dump AccountsManager from from pid="
                    + Binder.getCallingPid() + ", uid=" + Binder.getCallingUid()
                    + " without permission " + android.Manifest.permission.DUMP);
            return;
        }

        synchronized (mCacheLock) {
            final SQLiteDatabase db = mOpenHelper.getReadableDatabase();

            final boolean isCheckinRequest = scanArgs(args, "--checkin") || scanArgs(args, "-c");

            if (isCheckinRequest) {
                // This is a checkin request. *Only* upload the account types and the count of each.
                Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS, ACCOUNT_TYPE_COUNT_PROJECTION,
                        null, null, ACCOUNTS_TYPE, null, null);
                try {
                    while (cursor.moveToNext()) {
                        // print type,count
                        fout.println(cursor.getString(0) + "," + cursor.getString(1));
                    }
                } finally {
                    if (cursor != null) {
                        cursor.close();
                    }
                }
            } else {
                Account[] accounts = getAccountsFromCacheLocked(null /* type */);
                fout.println("Accounts: " + accounts.length);
                for (Account account : accounts) {
                    fout.println("  " + account);
                }

                fout.println();
                synchronized (mSessions) {
                    final long now = SystemClock.elapsedRealtime();
                    fout.println("Active Sessions: " + mSessions.size());
                    for (Session session : mSessions.values()) {
                        fout.println("  " + session.toDebugString(now));
                    }
                }

                fout.println();
                mAuthenticatorCache.dump(fd, fout, args);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>M66B_____NetGuard_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/M66B_____NetGuard_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public void updateUsage(Usage usage, String dname) {
        lock.writeLock().lock();
        try {
            SQLiteDatabase db = this.getWritableDatabase();
            db.beginTransactionNonExclusive();
            try {
                // There is a segmented index on uid, version, protocol, daddr and dport
                String selection = "uid = ? AND version = ? AND protocol = ? AND daddr = ? AND dport = ?";
                String[] selectionArgs = new String[]{
                        Integer.toString(usage.Uid),
                        Integer.toString(usage.Version),
                        Integer.toString(usage.Protocol),
                        dname == null ? usage.DAddr : dname,
                        Integer.toString(usage.DPort)
                };

                Cursor cursor = db.<mark>query</mark>("access", new String[]{"sent", "received", "connections"}, selection, selectionArgs, null, null, null);
                long sent = 0;
                long received = 0;
                int connections = 0;
                int colSent = cursor.getColumnIndex("sent");
                int colReceived = cursor.getColumnIndex("received");
                int colConnections = cursor.getColumnIndex("connections");
                if (cursor.moveToNext()) {
                    sent = cursor.isNull(colSent) ? 0 : cursor.getLong(colSent);
                    received = cursor.isNull(colReceived) ? 0 : cursor.getLong(colReceived);
                    connections = cursor.isNull(colConnections) ? 0 : cursor.getInt(colConnections);
                }
                cursor.close();

                ContentValues cv = new ContentValues();
                cv.put("sent", sent + usage.Sent);
                cv.put("received", received + usage.Received);
                cv.put("connections", connections + 1);

                int rows = db.update("access", cv, selection, selectionArgs);
                if (rows != 1)
                    Log.e(TAG, "Update usage failed rows=" + rows);

                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
        } finally {
            lock.writeLock().unlock();
        }

        notifyAccessChanged();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Updates status for given key.
     * @param uid of the application
     * @param alias of the key
     * @param status - new status
     * @return number of updated entries.
     * @hide
     **/     */
    @Nullable public WrappedKey getKey(int uid, String alias) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();
        String[] projection = {
                KeysEntry._ID,
                KeysEntry.COLUMN_NAME_NONCE,
                KeysEntry.COLUMN_NAME_WRAPPED_KEY,
                KeysEntry.COLUMN_NAME_GENERATION_ID,
                KeysEntry.COLUMN_NAME_RECOVERY_STATUS};
        String selection =
                KeysEntry.COLUMN_NAME_UID + " = ? AND "
                + KeysEntry.COLUMN_NAME_ALIAS + " = ?";
        String[] selectionArguments = { Integer.toString(uid), alias };

        try (
            Cursor cursor = db.<mark>query</mark>(
                KeysEntry.TABLE_NAME,
                projection,
                selection,
                selectionArguments,
                /*groupBy=*/ null,
                /*having=*/ null,
                /*orderBy=*/ null)
        ) {
            int count = cursor.getCount();
            if (count == 0) {
                return null;
            }
            if (count > 1) {
                Log.wtf(TAG,
                        String.format(Locale.US,
                                "%d WrappedKey entries found for uid=%d alias='%s'. "
                                        + "Should only ever be 0 or 1.", count, uid, alias));
                return null;
            }
            cursor.moveToFirst();
            byte[] nonce = cursor.getBlob(
                    cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_NONCE));
            byte[] keyMaterial = cursor.getBlob(
                    cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_WRAPPED_KEY));
            int generationId = cursor.getInt(
                    cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_GENERATION_ID));
            int recoveryStatus = cursor.getInt(
                    cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_RECOVERY_STATUS));
            return new WrappedKey(nonce, keyMaterial, generationId, recoveryStatus);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zxing_____zxing_____HistoryManager_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/zxing_____zxing_____HistoryManager.java

android.database.sqlite.SQLiteOpenHelper.getWritableDatabase
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/**
   * <p>Builds a text representation of the scanning history. Each scan is encoded on one
   * line, terminated by a line break (\r\n). The values in each line are comma-separated,
   * and double-quoted. Double-quotes within values are escaped with a sequence of two
   * double-quotes. The fields output are:</p>
   *
   * <ol>
   *  <li>Raw text</li>
   *  <li>Display text</li>
   *  <li>Format (e.g. QR_CODE)</li>
   *  <li>Unix timestamp (milliseconds since the epoch)</li>
   *  <li>Formatted version of timestamp</li>
   *  <li>Supplemental info (e.g. price info for a product barcode)</li>
   * </ol>
   */
  public void addHistoryItemDetails(String itemID, String itemDetails) {
    // As we're going to do an update only we don't need need to worry
    // about the preferences; if the item wasn't saved it won't be udpated
    SQLiteOpenHelper helper = new DBHelper(activity);
    try (SQLiteDatabase db = helper.<mark>getWritableDatabase</mark>();
         Cursor cursor = db.<mark>query</mark>(DBHelper.TABLE_NAME,
                                  ID_DETAIL_COL_PROJECTION,
                                  DBHelper.TEXT_COL + "=?",
                                  new String[] { itemID },
                                  null,
                                  null,
                                  DBHelper.TIMESTAMP_COL + " DESC",
                                  "1")) {
      String oldID = null;
      String oldDetails = null;
      if (cursor.moveToNext()) {
        oldID = cursor.getString(0);
        oldDetails = cursor.getString(1);
      }

      if (oldID != null) {
        String newDetails;
        if (oldDetails == null) {
          newDetails = itemDetails;
        } else if (oldDetails.contains(itemDetails)) {
          newDetails = null;
        } else {
          newDetails = oldDetails + " : " + itemDetails;
        } 
        if (newDetails != null) {
          ContentValues values = new ContentValues();
          values.put(DBHelper.DETAILS_COL, newDetails);
          db.update(DBHelper.TABLE_NAME, values, DBHelper.ID_COL + "=?", new String[] { oldID });
        }
      }
    } catch (SQLException sqle) {
      Log.w(TAG, sqle);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cyclestreets_____android_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cyclestreets_____android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.bindString
android.database.sqlite.SQLiteStatement.bindString
android.database.sqlite.SQLiteStatement.execute
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.bindString
android.database.sqlite.SQLiteStatement.bindString
android.database.sqlite.SQLiteStatement.execute

/**
   * Helper function that parses a given table into a string
   * and returns it for easy printing. The string consists of
   * the table name and then each row is iterated through with
   * column_name: value pairs printed out.
   *
   * Courtesy of https://stackoverflow.com/a/27003490/2108057
   *
   * @param db the database to get the table from
   * @param tableName the the name of the table to parse
   */
  private void upgradeTo2(final SQLiteDatabase db) {
    try {
      db.<mark>execSQL</mark>("ALTER TABLE route ADD COLUMN waypoints TEXT");
      final Cursor cursor = db.<mark>query</mark>(ROUTE_TABLE,
          new String[] { BaseColumns._ID, "start_lat", "start_long", "end_lat", "end_long" },
          null,
          null,
          null,
          null,
          null);
      if (cursor.moveToFirst())
        do {
          final StringBuilder sb = new StringBuilder();
          sb.append("UPDATE route SET waypoints='")
            .append(cursor.getInt(1))
            .append(',')
            .append(cursor.getInt(2))
            .append('|')
            .append(cursor.getInt(3))
            .append(',')
            .append(cursor.getInt(4))
            .append("' WHERE ")
            .append(BaseColumns._ID).append(" = ").append(cursor.getInt(0));

          final String updateStmt = sb.toString();
          db.<mark>compileStatement</mark>(updateStmt).<mark>execute</mark>();
        } while (cursor.moveToNext());

      if (!cursor.isClosed())
        cursor.close();
    } catch (Exception e) {
      System.out.println(e.getMessage());
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yukuku_____androidbible_____InternalDb_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/yukuku_____androidbible_____InternalDb.java

android.database.sqlite.SQLiteDatabase.beginTransactionNonExclusive
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction


	public void updateOrInsertHighlights(int ari_bookchapter, IntArrayList selectedVerses_1, int colorRgb) {
		final SQLiteDatabase db = helper.getWritableDatabase();

		db.<mark>beginTransactionNonExclusive</mark>();
		try {
			final String[] params = ToStringArray(null /* for the ari */, Marker.Kind.highlight.code);

			// every requested verses
			for (int i = 0; i < selectedVerses_1.size(); i++) {
				final int ari = Ari.encodeWithBc(ari_bookchapter, selectedVerses_1.get(i));
				params[0] = String.valueOf(ari);

				// order by modifyTime desc so we modify the latest one and remove earlier ones if they exist.
				final Cursor c = db.<mark>query</mark>(Db.TABLE_Marker, null, Db.Marker.ari + "=? and " + Db.Marker.kind + "=?", params, null, null, Db.Marker.modifyTime + " desc");
				try {
					if (c.moveToNext()) { // check if marker exists
						{ // modify the latest one
							final Marker marker = markerFromCursor(c);
							marker.modifyTime = new Date();
							if (colorRgb != -1) {
								marker.caption = Highlights.encode(colorRgb);
								db.<mark>update</mark>(Db.TABLE_Marker, markerToContentValues(marker), "_id=?", ToStringArray(marker._id));
							} else {
								// delete entry
								db.delete(Db.TABLE_Marker, "_id=?", ToStringArray(marker._id));
							}
						}

						// remove earlier ones if they exist (caused by sync)
						while (c.moveToNext()) {
							final long _id = c.getLong(c.getColumnIndexOrThrow("_id"));
							db.delete(Db.TABLE_Marker, "_id=?", ToStringArray(_id));
						}
					} else {
						if (colorRgb == -1) {
							// no need to do, from no color to no color
						} else {
							final Date now = new Date();
							final Marker marker = Marker.createNewMarker(ari, Marker.Kind.highlight, Highlights.encode(colorRgb), 1, now, now);
							db.<mark>insert</mark>(Db.TABLE_Marker, null, markerToContentValues(marker));
						}
					}
				} finally {
					c.close();
				}
			}
			db.<mark>setTransactionSuccessful</mark>();
		} finally {
			db.<mark>endTransaction</mark>();
		}

		Sync.notifySyncNeeded(SyncShadow.SYNC_SET_MABEL);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____MigrationHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____MigrationHelper.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

     */
    static int upgradeDbToVersion10(SQLiteDatabase db){
        Log.i(DatabaseHelper.LOG_TAG, "Upgrading database to version 9");
        int oldVersion = 9;

        db.<mark>beginTransaction</mark>();
        try {
            Cursor cursor = db.<mark>query</mark>(ScheduledActionEntry.TABLE_NAME,
                    new String[]{ScheduledActionEntry.COLUMN_UID, ScheduledActionEntry.COLUMN_TAG},
                    ScheduledActionEntry.COLUMN_TYPE + " = ?",
                    new String[]{ScheduledAction.ActionType.BACKUP.name()},
                    null, null, null);

            ContentValues contentValues = new ContentValues();
            while (cursor.moveToNext()){
                String paramString = cursor.getString(cursor.getColumnIndexOrThrow(ScheduledActionEntry.COLUMN_TAG));
                String[] tokens = paramString.split(";");
                ExportParams params = new ExportParams(ExportFormat.valueOf(tokens[0]));
                params.setExportTarget(ExportParams.ExportTarget.valueOf(tokens[1]));
                params.setDeleteTransactionsAfterExport(Boolean.parseBoolean(tokens[3]));

                boolean exportAll = Boolean.parseBoolean(tokens[2]);
                if (exportAll){
                    params.setExportStartTime(TimestampHelper.getTimestampFromEpochZero());
                } else {
                    Timestamp timestamp = PreferencesHelper.getLastExportTime();
                    params.setExportStartTime(timestamp);
                }

                String uid = cursor.getString(cursor.getColumnIndexOrThrow(ScheduledActionEntry.COLUMN_UID));
                contentValues.clear();
                contentValues.put(ScheduledActionEntry.COLUMN_UID, uid);
                contentValues.put(ScheduledActionEntry.COLUMN_TAG, params.toCsv());
                db.insert(ScheduledActionEntry.TABLE_NAME, null, contentValues);
            }

            cursor.close();

            db.<mark>setTransactionSuccessful</mark>();
            oldVersion = 10;
        } finally {
            db.<mark>endTransaction</mark>();
        }
        return oldVersion;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ChainsDD_____Superuser_____PermissionsProvider_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ChainsDD_____Superuser_____PermissionsProvider.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.query

    @Override
    public int delete(Uri uri, String selection, String[] selectionArgs) {
        if (!ensureDb()) return -1;

        int count = 0;

        switch (sUriMatcher.match(uri)) {
        case APP_ID:
        	int uid = 0, execUid = 0;
        	String cmd = null;
            Cursor c = mDb.<mark>query</mark>(Apps.TABLE_NAME,
                    new String[] { Apps.UID, Apps.EXEC_UID, Apps.EXEC_CMD },
                    Apps._ID + "=" + uri.getPathSegments().get(1) +
                    (!TextUtils.isEmpty(selection)? " AND (" +
                            selection  + ")":""),
                    selectionArgs,
                    null, null, null);
            if (c.moveToFirst()) {
            	uid = c.getInt(c.getColumnIndex(Apps.UID));
            	execUid = c.getInt(c.getColumnIndex(Apps.EXEC_UID));
            	cmd = c.getString(c.getColumnIndex(Apps.EXEC_CMD));
            }
            c.close();
            count = mDb.delete(Apps.TABLE_NAME,
                    Apps._ID + "=" + uri.getPathSegments().get(1) +
                    (!TextUtils.isEmpty(selection)? " AND (" +
                            selection  + ")":""),
                    selectionArgs);
            Util.deleteStoreFile(mContext, uid, execUid, cmd);
            // No break here so we can fall through and delete associated logs
        case APP_ID_LOGS:
        case LOGS_APP_ID:
            count += mDb.delete(Logs.TABLE_NAME,
                    Logs.APP_ID + "=" + uri.getPathSegments().get(1) +
                    (!TextUtils.isEmpty(selection)? " AND (" +
                            selection  + ")":""),
                    selectionArgs);
            break;
        case APP_CLEAN:
            count = mDb.delete(Apps.TABLE_NAME, selection, selectionArgs);
            break;
        case LOGS:
            count = mDb.delete(Logs.TABLE_NAME, selection, selectionArgs);
            break;
        default:
            throw new IllegalArgumentException("Unsupported URI: " + uri);
        }
        getContext().getContentResolver().notifyChange(uri, null);
        getContext().getContentResolver().notifyChange(Apps.CONTENT_URI, null);
        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mvarnagiris_____financius-public_____DBMigration_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mvarnagiris_____financius-public_____DBMigration.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert


    private static String v19MigrateCategories(SQLiteDatabase db) {
        final String oldTableName = "categories";
        final String tempTableName = "temp_" + oldTableName;
        db.<mark>execSQL</mark>("alter table " + oldTableName + " rename to " + tempTableName);
        db.<mark>execSQL</mark>(Tables.Categories.createScript());
        DBHelper.createIndex(db, Tables.Categories.ID);

        final String[] projection = {oldTableName + "_server_id", oldTableName + "_title",
                oldTableName + "_color", oldTableName + "_type", oldTableName + "_order",
                oldTableName + "_level"};
        final String selection = oldTableName + "_delete_state = 0 and " + oldTableName + "_origin = 1";
        final Cursor cursor = db.<mark>query</mark>(tempTableName, projection, selection, null, null, null, null);
        if (cursor != null && cursor.moveToFirst()) {
            final Category category = new Category();
            category.setModelState(ModelState.Normal);
            category.setSyncState(SyncState.None);
            final Tag tag = new Tag();
            tag.setModelState(ModelState.Normal);
            tag.setSyncState(SyncState.None);
            do {
                final int level = cursor.getInt(5);
                if (level == 1) {
                    category.setId(cursor.getString(0));
                    category.setTitle(cursor.getString(1));
                    category.setColor(cursor.getInt(2));
                    category.setSortOrder(cursor.getInt(4));
                    final int categoryType = cursor.getInt(3);
                    category.setTransactionType(categoryType == 0 ? TransactionType.Income : categoryType == 1 ? TransactionType.Expense : TransactionType.Transfer);
                    db.<mark>insert</mark>(Tables.Categories.TABLE_NAME, null, category.asContentValues());
                } else {
                    tag.setId(cursor.getString(0));
                    tag.setTitle(cursor.getString(1));
                    db.<mark>insert</mark>(Tables.Tags.TABLE_NAME, null, tag.asContentValues());
                }
            } while (cursor.moveToNext());
        }

        return tempTableName;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>enricocid_____LaunchEnr_____LauncherProvider_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/enricocid_____LaunchEnr_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.insertOrThrow
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

         */
        @Thunk void convertShortcutsToLauncherActivities(SQLiteDatabase db) {
            db.<mark>beginTransaction</mark>();
            Cursor c = null;
            SQLiteStatement updateStmt = null;

            try {
                // Only consider the primary user as other users can't have a shortcut.
                long userSerial = getDefaultUserSerial();
                c = db.<mark>query</mark>(Favorites.TABLE_NAME, new String[] {
                        Favorites._ID,
                        Favorites.INTENT,
                    }, "itemType=" + Favorites.ITEM_TYPE_SHORTCUT + " AND profileId=" + userSerial,
                    null, null, null, null);

                updateStmt = db.compileStatement("UPDATE favorites SET itemType="
                        + Favorites.ITEM_TYPE_APPLICATION + " WHERE _id=?");

                final int idIndex = c.getColumnIndexOrThrow(Favorites._ID);
                final int intentIndex = c.getColumnIndexOrThrow(Favorites.INTENT);

                while (c.moveToNext()) {
                    String intentDescription = c.getString(intentIndex);
                    Intent intent;
                    try {
                        intent = Intent.parseUri(intentDescription, 0);
                    } catch (URISyntaxException e) {
                        e.printStackTrace();
                        continue;
                    }

                    if (!Utilities.isLauncherAppTarget(intent)) {
                        continue;
                    }

                    long id = c.getLong(idIndex);
                    updateStmt.bindLong(1, id);
                    updateStmt.executeUpdateDelete();
                }
                db.<mark>setTransactionSuccessful</mark>();
            } catch (SQLException ex) {
                ex.printStackTrace();
            } finally {
                db.<mark>endTransaction</mark>();
                if (c != null) {
                    c.close();
                }
                if (updateStmt != null) {
                    updateStmt.close();
                }
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Sets a long value in the database.
     *
     * @param userId The userId of the profile the application is running under.
     * @param uid The uid of the application who initialized the local recovery components.
     * @param rootAlias The root of trust alias.
     * @param key defined in {@code RootOfTrustEntry}
     * @param value new value.
     * @return The primary key of the inserted row, or -1 if failed.
     *
     * @hide
     */     */
    private byte[] getBytes(int userId, int uid, String rootAlias, String key) {
        rootAlias = mTestOnlyInsecureCertificateHelper.getDefaultCertificateAliasIfEmpty(rootAlias);
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();

        String[] projection = {
                RootOfTrustEntry._ID,
                RootOfTrustEntry.COLUMN_NAME_USER_ID,
                RootOfTrustEntry.COLUMN_NAME_UID,
                RootOfTrustEntry.COLUMN_NAME_ROOT_ALIAS,
                key};
        String selection =
                RootOfTrustEntry.COLUMN_NAME_USER_ID + " = ? AND "
                        + RootOfTrustEntry.COLUMN_NAME_UID + " = ? AND "
                        + RootOfTrustEntry.COLUMN_NAME_ROOT_ALIAS + " = ?";
        String[] selectionArguments = {Integer.toString(userId), Integer.toString(uid), rootAlias};

        try (
            Cursor cursor = db.<mark>query</mark>(
                    RootOfTrustEntry.TABLE_NAME,
                    projection,
                    selection,
                    selectionArguments,
                    /*groupBy=*/ null,
                    /*having=*/ null,
                    /*orderBy=*/ null)
        ) {
            int count = cursor.getCount();
            if (count == 0) {
                return null;
            }
            if (count > 1) {
                Log.wtf(TAG,
                        String.format(Locale.US,
                                "%d entries found for userId=%d uid=%d. "
                                        + "Should only ever be 0 or 1.", count, userId, uid));
                return null;
            }
            cursor.moveToFirst();
            int idx = cursor.getColumnIndexOrThrow(key);
            if (cursor.isNull(idx)) {
                return null;
            } else {
                return cursor.getBlob(idx);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tomahawk-player_____tomahawk-android_____DatabaseHelper_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/tomahawk-player_____tomahawk-android_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized boolean isMediaDirWhiteListed(String path) {
        Cursor cursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_MEDIADIRS,
                new String[]{TomahawkSQLiteHelper.MEDIADIRS_PATH},
                TomahawkSQLiteHelper.MEDIADIRS_PATH + "= ? AND "
                        + TomahawkSQLiteHelper.MEDIADIRS_BLACKLISTED + "= ?",
                new String[]{path, String.valueOf(FALSE)}, null, null, null);
        boolean isWhitelisted = cursor.moveToFirst();
        cursor.close();
        if (!isWhitelisted) {
            cursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_MEDIADIRS,
                    new String[]{TomahawkSQLiteHelper.MEDIADIRS_PATH},
                    "? LIKE " + TomahawkSQLiteHelper.MEDIADIRS_PATH + " || '%' AND "
                            + TomahawkSQLiteHelper.MEDIADIRS_BLACKLISTED + "= ?",
                    new String[]{path, String.valueOf(FALSE)}, null, null, null);
            isWhitelisted = cursor.moveToFirst();
            if (isWhitelisted) {
                List<String> paths = new ArrayList<>();
                while (!cursor.isAfterLast()) {
                    paths.add(cursor.getString(0));
                    cursor.moveToNext();
                }
                cursor.close();
                int wlDrillDownLevel = getMaxSlashCount(paths);
                cursor = mDatabase.<mark>query</mark>(TomahawkSQLiteHelper.TABLE_MEDIADIRS,
                        new String[]{TomahawkSQLiteHelper.MEDIADIRS_PATH},
                        "? LIKE " + TomahawkSQLiteHelper.MEDIADIRS_PATH + " || '%' AND "
                                + TomahawkSQLiteHelper.MEDIADIRS_BLACKLISTED + "= ?",
                        new String[]{path, String.valueOf(TRUE)}, null, null, null);
                if (!cursor.moveToFirst()) {
                    isWhitelisted = true;
                } else {
                    paths = new ArrayList<>();
                    while (!cursor.isAfterLast()) {
                        paths.add(cursor.getString(0));
                        cursor.moveToNext();
                    }
                    cursor.close();
                    int blDrillDownLevel = getMaxSlashCount(paths);
                    isWhitelisted = wlDrillDownLevel > blDrillDownLevel;
                }
            }
            cursor.close();
        }
        return isWhitelisted;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____launcher3_____LauncherProvider_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____launcher3_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.insertOrThrow
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

         */
        @Thunk void convertShortcutsToLauncherActivities(SQLiteDatabase db) {
            db.<mark>beginTransaction</mark>();
            Cursor c = null;
            SQLiteStatement updateStmt = null;

            try {
                // Only consider the primary user as other users can't have a shortcut.
                long userSerial = getDefaultUserSerial();
                c = db.<mark>query</mark>(Favorites.TABLE_NAME, new String[] {
                        Favorites._ID,
                        Favorites.INTENT,
                    }, "itemType=" + Favorites.ITEM_TYPE_SHORTCUT + " AND profileId=" + userSerial,
                    null, null, null, null);

                updateStmt = db.compileStatement("UPDATE favorites SET itemType="
                        + Favorites.ITEM_TYPE_APPLICATION + " WHERE _id=?");

                final int idIndex = c.getColumnIndexOrThrow(Favorites._ID);
                final int intentIndex = c.getColumnIndexOrThrow(Favorites.INTENT);

                while (c.moveToNext()) {
                    String intentDescription = c.getString(intentIndex);
                    Intent intent;
                    try {
                        intent = Intent.parseUri(intentDescription, 0);
                    } catch (URISyntaxException e) {
                        Log.e(TAG, "Unable to parse intent", e);
                        continue;
                    }

                    if (!Utilities.isLauncherAppTarget(intent)) {
                        continue;
                    }

                    long id = c.getLong(idIndex);
                    updateStmt.bindLong(1, id);
                    updateStmt.executeUpdateDelete();
                }
                db.<mark>setTransactionSuccessful</mark>();
            } catch (SQLException ex) {
                Log.w(TAG, "Error deduping shortcuts", ex);
            } finally {
                db.<mark>endTransaction</mark>();
                if (c != null) {
                    c.close();
                }
                if (updateStmt != null) {
                    updateStmt.close();
                }
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker41_____article-android_____DataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker41_____article-android_____DataSource.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Gets all saved articles in the database.
     *
     * NOTE: this method does not return the content associated with the article, that would be
     *       slow as some articles can get very large.
     */     */
    public Article getArticle(String url) {
        // remove any extra query parameters from the url
        url = ArticleUtils.removeUrlParameters(url);

        Cursor cursor = database.<mark>query</mark>(
                ArticleModel.TABLE + " a left outer join " + ContentModel.TABLE + " c " +
                        "on a." + ArticleModel.COLUMN_ID + " = c." + ContentModel.COLUMN_ARTICLE_ID,
                new String[] {
                        "a." + ArticleModel.COLUMN_ID + " as " + ArticleModel.COLUMN_ID,
                        "a." + ArticleModel.COLUMN_ALIAS + " as " + ArticleModel.COLUMN_ALIAS,
                        "a." + ArticleModel.COLUMN_URL + " as " + ArticleModel.COLUMN_URL,
                        "a." + ArticleModel.COLUMN_TITLE + " as " + ArticleModel.COLUMN_TITLE,
                        "a." + ArticleModel.COLUMN_DESCRIPTION + " as " + ArticleModel.COLUMN_DESCRIPTION,
                        "a." + ArticleModel.COLUMN_IMAGE + " as " + ArticleModel.COLUMN_IMAGE,
                        "a." + ArticleModel.COLUMN_AUTHOR + " as " + ArticleModel.COLUMN_AUTHOR,
                        "a." + ArticleModel.COLUMN_SOURCE + " as " + ArticleModel.COLUMN_SOURCE,
                        "a." + ArticleModel.COLUMN_DOMAIN + " as " + ArticleModel.COLUMN_DOMAIN,
                        "a." + ArticleModel.COLUMN_DURATION + " as " + ArticleModel.COLUMN_DURATION,
                        "a." + ArticleModel.COLUMN_INSERTED_AT + " as " + ArticleModel.COLUMN_INSERTED_AT,
                        "a." + ArticleModel.COLUMN_IS_ARTICLE + " as " + ArticleModel.COLUMN_IS_ARTICLE,
                        "a." + ArticleModel.COLUMN_SAVED + " as " + ArticleModel.COLUMN_SAVED,
                        "c." + ContentModel.COLUMN_CONTENT + " as " + ContentModel.COLUMN_CONTENT,
                },
                ArticleModel.COLUMN_URL + "=?",
                new String[] { url },
                null,
                null,
                null);

        if (cursor != null && cursor.moveToFirst()) {
            Article article = new Article(cursor);
            cursor.close();
            return article;
        } else {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____WebViewDatabase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____WebViewDatabase.java

android.database.sqlite.SQLiteDatabase.query

     */
    ArrayList<Cookie> getCookiesForDomain(String domain) {
        ArrayList<Cookie> list = new ArrayList<Cookie>();
        if (domain == null || !checkInitialized()) {
            return list;
        }

        synchronized (mCookieLock) {
            final String[] columns = new String[] {
                    ID_COL, COOKIES_DOMAIN_COL, COOKIES_PATH_COL,
                    COOKIES_NAME_COL, COOKIES_VALUE_COL, COOKIES_EXPIRES_COL,
                    COOKIES_SECURE_COL
            };
            final String selection = "(" + COOKIES_DOMAIN_COL
                    + " GLOB '*' || ?)";
            Cursor cursor = null;
            try {
                cursor = mDatabase.<mark>query</mark>(mTableNames[TABLE_COOKIES_ID],
                        columns, selection, new String[] { domain }, null, null,
                        null);
                if (cursor.moveToFirst()) {
                    int domainCol = cursor.getColumnIndex(COOKIES_DOMAIN_COL);
                    int pathCol = cursor.getColumnIndex(COOKIES_PATH_COL);
                    int nameCol = cursor.getColumnIndex(COOKIES_NAME_COL);
                    int valueCol = cursor.getColumnIndex(COOKIES_VALUE_COL);
                    int expiresCol = cursor.getColumnIndex(COOKIES_EXPIRES_COL);
                    int secureCol = cursor.getColumnIndex(COOKIES_SECURE_COL);
                    do {
                        Cookie cookie = new Cookie();
                        cookie.domain = cursor.getString(domainCol);
                        cookie.path = cursor.getString(pathCol);
                        cookie.name = cursor.getString(nameCol);
                        cookie.value = cursor.getString(valueCol);
                        if (cursor.isNull(expiresCol)) {
                            cookie.expires = -1;
                        } else {
                            cookie.expires = cursor.getLong(expiresCol);
                        }
                        cookie.secure = cursor.getShort(secureCol) != 0;
                        cookie.mode = Cookie.MODE_NORMAL;
                        list.add(cookie);
                    } while (cursor.moveToNext());
                }
            } catch (IllegalStateException e) {
                Log.e(LOGTAG, "getCookiesForDomain", e);
            } finally {
                if (cursor != null) cursor.close();
            }
            return list;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Sets a long value in the database.
     *
     * @param userId The userId of the profile the application is running under.
     * @param uid The uid of the application who initialized the local recovery components.
     * @param key defined in {@code RecoveryServiceMetadataEntry}
     * @param value new value.
     * @return The primary key of the inserted row, or -1 if failed.
     *
     * @hide
     */     */
    public @Nullable String getActiveRootOfTrust(int userId, int uid) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();

        String[] projection = {
                RecoveryServiceMetadataEntry._ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_UID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_ACTIVE_ROOT_OF_TRUST};
        String selection =
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID + " = ? AND "
                        + RecoveryServiceMetadataEntry.COLUMN_NAME_UID + " = ?";
        String[] selectionArguments = {Integer.toString(userId), Integer.toString(uid)};

        try (
                Cursor cursor = db.<mark>query</mark>(
                        RecoveryServiceMetadataEntry.TABLE_NAME,
                        projection,
                        selection,
                        selectionArguments,
                        /*groupBy=*/ null,
                        /*having=*/ null,
                        /*orderBy=*/ null)
        ) {
            int count = cursor.getCount();
            if (count == 0) {
                return null;
            }
            if (count > 1) {
                Log.wtf(TAG,
                        String.format(Locale.US,
                                "%d deviceId entries found for userId=%d uid=%d. "
                                        + "Should only ever be 0 or 1.", count, userId, uid));
                return null;
            }
            cursor.moveToFirst();
            int idx = cursor.getColumnIndexOrThrow(
                    RecoveryServiceMetadataEntry.COLUMN_NAME_ACTIVE_ROOT_OF_TRUST);
            if (cursor.isNull(idx)) {
                return null;
            }
            String result = cursor.getString(idx);
            if (TextUtils.isEmpty(result)) {
                return null;
            }
            return result;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mvarnagiris_____financius-public_____DBMigration_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mvarnagiris_____financius-public_____DBMigration.java

android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert


    private static String v19MigrateCurrencies(SQLiteDatabase db) {
        final String oldTableName = "currencies";
        final String tempTableName = "temp_" + oldTableName;
        db.<mark>execSQL</mark>("alter table " + oldTableName + " rename to " + tempTableName);
        db.<mark>execSQL</mark>(Tables.CurrencyFormats.createScript());
        DBHelper.createIndex(db, Tables.CurrencyFormats.ID);

        final String[] projection = {oldTableName + "_server_id", oldTableName + "_code",
                oldTableName + "_symbol", oldTableName + "_decimals",
                oldTableName + "_decimal_separator", oldTableName + "_group_separator",
                oldTableName + "_symbol_format", oldTableName + "_is_default",
                oldTableName + "_exchange_rate"};
        final String selection = oldTableName + "_delete_state = 0";
        final Cursor cursor = db.<mark>query</mark>(tempTableName, projection, selection, null, null, null, null);
        if (cursor != null && cursor.moveToFirst()) {
            final CurrencyFormat currencyFormat = new CurrencyFormat();
            currencyFormat.setModelState(ModelState.Normal);
            currencyFormat.setSyncState(SyncState.None);
            do {
                currencyFormat.setId(cursor.getString(0));
                currencyFormat.setCode(cursor.getString(1));
                currencyFormat.setSymbol(cursor.getString(2));
                final String symbolPositionOld = cursor.getString(6);
                final SymbolPosition symbolPosition = "LF".equals(symbolPositionOld) ? SymbolPosition.FarLeft :
                        "LC".equals(symbolPositionOld) ? SymbolPosition.CloseLeft :
                                "RC".equals(symbolPositionOld) ? SymbolPosition.CloseRight : SymbolPosition.FarRight;
                currencyFormat.setSymbolPosition(symbolPosition);
                currencyFormat.setDecimalSeparator(DecimalSeparator.fromSymbol(cursor.getString(4)));
                currencyFormat.setGroupSeparator(GroupSeparator.fromSymbol(cursor.getString(5)));
                currencyFormat.setDecimalCount(cursor.getInt(3));
                db.<mark>insert</mark>(Tables.CurrencyFormats.TABLE_NAME, null, currencyFormat.asContentValues());
            } while (cursor.moveToNext());
        }

        return tempTableName;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Updates the public key of the recovery service into the database.
     *
     * @param userId The uid of the profile the application is running under.
     * @param uid The uid of the application to whom the key belongs.
     * @param publicKey The public key of the recovery service.
     * @return The primary key of the inserted row, or -1 if failed.
     *
     * @hide
     */     */
    public Map<String, WrappedKey> getAllKeys(int userId, int recoveryAgentUid,
            int platformKeyGenerationId) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();
        String[] projection = {
                KeysEntry._ID,
                KeysEntry.COLUMN_NAME_NONCE,
                KeysEntry.COLUMN_NAME_WRAPPED_KEY,
                KeysEntry.COLUMN_NAME_ALIAS,
                KeysEntry.COLUMN_NAME_RECOVERY_STATUS};
        String selection =
                KeysEntry.COLUMN_NAME_USER_ID + " = ? AND "
                + KeysEntry.COLUMN_NAME_UID + " = ? AND "
                + KeysEntry.COLUMN_NAME_GENERATION_ID + " = ?";
        String[] selectionArguments = {
                Integer.toString(userId),
                Integer.toString(recoveryAgentUid),
                Integer.toString(platformKeyGenerationId)
            };

        try (
            Cursor cursor = db.<mark>query</mark>(
                KeysEntry.TABLE_NAME,
                projection,
                selection,
                selectionArguments,
                /*groupBy=*/ null,
                /*having=*/ null,
                /*orderBy=*/ null)
        ) {
            HashMap<String, WrappedKey> keys = new HashMap<>();
            while (cursor.moveToNext()) {
                byte[] nonce = cursor.getBlob(
                        cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_NONCE));
                byte[] keyMaterial = cursor.getBlob(
                        cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_WRAPPED_KEY));
                String alias = cursor.getString(
                        cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_ALIAS));
                int recoveryStatus = cursor.getInt(
                        cursor.getColumnIndexOrThrow(KeysEntry.COLUMN_NAME_RECOVERY_STATUS));
                keys.put(alias, new WrappedKey(nonce, keyMaterial, platformKeyGenerationId,
                        recoveryStatus));
            }
            return keys;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Android-Blur-Launcher_____LauncherProvider_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Android-Blur-Launcher_____LauncherProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.insertOrThrow
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

         */
        @Thunk void convertShortcutsToLauncherActivities(SQLiteDatabase db) {
            db.<mark>beginTransaction</mark>();
            Cursor c = null;
            SQLiteStatement updateStmt = null;

            try {
                // Only consider the primary user as other users can't have a shortcut.
                long userSerial = getDefaultUserSerial();
                c = db.<mark>query</mark>(Favorites.TABLE_NAME, new String[] {
                        Favorites._ID,
                        Favorites.INTENT,
                    }, "itemType=" + Favorites.ITEM_TYPE_SHORTCUT + " AND profileId=" + userSerial,
                    null, null, null, null);

                updateStmt = db.compileStatement("UPDATE favorites SET itemType="
                        + LauncherSettings.Favorites.ITEM_TYPE_APPLICATION + " WHERE _id=?");

                final int idIndex = c.getColumnIndexOrThrow(LauncherSettings.Favorites._ID);
                final int intentIndex = c.getColumnIndexOrThrow(LauncherSettings.Favorites.INTENT);

                while (c.moveToNext()) {
                    String intentDescription = c.getString(intentIndex);
                    Intent intent;
                    try {
                        intent = Intent.parseUri(intentDescription, 0);
                    } catch (URISyntaxException e) {
                        Log.e(TAG, "Unable to parse intent", e);
                        continue;
                    }

                    if (!Utilities.isLauncherAppTarget(intent)) {
                        continue;
                    }

                    long id = c.getLong(idIndex);
                    updateStmt.bindLong(1, id);
                    updateStmt.executeUpdateDelete();
                }
                db.<mark>setTransactionSuccessful</mark>();
            } catch (SQLException ex) {
                Log.w(TAG, "Error deduping shortcuts", ex);
            } finally {
                db.<mark>endTransaction</mark>();
                if (c != null) {
                    c.close();
                }
                if (updateStmt != null) {
                    updateStmt.close();
                }
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>firebase_____firebase-android-sdk_____SqlPersistenceStorageEngine_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/firebase_____firebase-android-sdk_____SqlPersistenceStorageEngine.java

android.database.sqlite.SQLiteDatabase.query

  @Override
  public List<UserWriteRecord> loadUserWrites() {
    String[] columns =
        new String[] {
          WRITE_ID_COLUMN_NAME,
          PATH_COLUMN_NAME,
          WRITE_TYPE_COLUMN_NAME,
          WRITE_PART_COLUMN_NAME,
          WRITE_NODE_COLUMN_NAME
        };
    long start = System.currentTimeMillis();
    Cursor cursor =
        database.<mark>query</mark>(
            WRITES_TABLE,
            columns,
            null,
            null,
            null,
            null,
            WRITE_ID_COLUMN_NAME + ", " + WRITE_PART_COLUMN_NAME);

    List<UserWriteRecord> writes = new ArrayList<UserWriteRecord>();
    try {
      while (cursor.moveToNext()) {
        long writeId = cursor.getLong(0);
        Path path = new Path(cursor.getString(1));
        String type = cursor.getString(2);
        byte[] serialized;
        if (cursor.isNull(3)) {
          // single part write
          serialized = cursor.getBlob(4);
        } else {
          // multi part write
          List<byte[]> parts = new ArrayList<byte[]>();
          do {
            parts.add(cursor.getBlob(4));
          } while (cursor.moveToNext() && cursor.getLong(0) == writeId);
          // move cursor one back so it points to last part of writes
          cursor.moveToPrevious();
          serialized = joinBytes(parts);
        }
        String serializedString = new String(serialized, UTF8_CHARSET);
        Object writeValue = JsonMapper.parseJsonValue(serializedString);
        UserWriteRecord record;
        if (WRITE_TYPE_OVERWRITE.equals(type)) {
          Node set = NodeUtilities.NodeFromJSON(writeValue);
          record = new UserWriteRecord(writeId, path, set, /*visible=*/ true);
        } else if (WRITE_TYPE_MERGE.equals(type)) {
          @SuppressWarnings("unchecked")
          CompoundWrite merge = CompoundWrite.fromValue((Map<String, Object>) writeValue);
          record = new UserWriteRecord(writeId, path, merge);
        } else {
          throw new IllegalStateException("Got invalid write type: " + type);
        }
        writes.add(record);
      }
      long duration = System.currentTimeMillis() - start;
      if (logger.logsDebug()) {
        logger.debug(String.format("Loaded %d writes in %dms", writes.size(), duration));
      }
      return writes;
    } catch (IOException e) {
      throw new RuntimeException("Failed to load writes", e);
    } finally {
      cursor.close();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiprox_____WaniKani-for-Android_____DatabaseManager_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiprox_____WaniKani-for-Android_____DatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public static SRSDistribution getSrsDistribution() {
        Cursor c = null;

        try {
            c = db.<mark>query</mark>(
                    SRSDistributionTable.TABLE_NAME,
                    SRSDistributionTable.COLUMNS,
                    null,
                    null,
                    null,
                    null,
                    null
            );

            if (c != null && c.moveToFirst()) {
                return new SRSDistribution(
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_ID)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_APPRENTICE_RADICALS)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_APPRENTICE_KANJI)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_APPRENTICE_VOCABULARY)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_GURU_RADICALS)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_GURU_KANJI)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_GURU_VOCABULARY)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_MASTER_RADICALS)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_MASTER_KANJI)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_MASTER_VOCABULARY)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_ENLIGHTENED_RADICALS)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_ENLIGHTENED_KANJI)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_ENLIGHTENED_VOCABULARY)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_BURNED_RADICALS)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_BURNED_KANJI)),
                        c.getInt(c.getColumnIndexOrThrow(SRSDistributionTable.COLUMN_NAME_BURNED_VOCABULARY))
                );
            } else {
                Log.e(TAG, "No srs distribution found; returning null");
                return null;
            }
        } finally {
            if (c != null) {
                c.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____MBTileProviderDataBase_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____MBTileProviderDataBase.java

android.database.sqlite.SQLiteDatabase.isOpen
android.database.sqlite.SQLiteDatabase.query

/**
     * Get min and max zoom from the existing tiles
     * 
     * This tries first MBTiles 1.3 metadata snd then checks the tiles, likely rather expensive for a large number of
     * tiles
     * 
     * @return an int array holding the min zoom in the first, max zoom in the second element or null
     */     */
    public InputStream getTileStream(@NonNull final MapTile aTile) throws IOException {
        if (DEBUGMODE) {
            Log.d(MapTileFilesystemProvider.DEBUG_TAG, "Trying to retrieve " + aTile + " from db");
        }
        try {
            if (mDatabase.<mark>isOpen</mark>()) {
                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
                    SQLiteStatement get = null;
                    try {
                        get = getStatements.acquire();
                        if (get == null) {
                            Log.e(DEBUG_TAG, "statement null");
                            return null;
                        }
                        bindTile(aTile, get);
                        return new ParcelFileDescriptor.AutoCloseInputStream(get.simpleQueryForBlobFileDescriptor());
                    } catch (SQLiteDoneException sde) {
                        // nothing found
                        return null;
                    } finally {
                        if (get != null) {
                            getStatements.release(get);
                        }
                    }
                } else { // old and slow
                    final Cursor c = mDatabase.<mark>query</mark>(T_MBTILES, new String[] { T_MBTILES_DATA }, T_MBTILES_WHERE,
                            new String[] { aTile.rendererID, Integer.toString(aTile.zoomLevel), Integer.toString(aTile.x), Integer.toString(aTile.y) }, null,
                            null, null);
                    try {
                        if (c.moveToFirst()) {
                            return new ByteArrayInputStream(c.getBlob(c.getColumnIndexOrThrow(T_MBTILES_DATA)));
                        }
                    } finally {
                        c.close();
                    }
                }
            }
        } catch (SQLiteException sex) { // handle these exceptions the same
            throw new IOException(sex.getMessage());
        }
        if (DEBUGMODE) {
            Log.d(MapTileFilesystemProvider.DEBUG_TAG, "Tile not found in DB");
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>nfcgate_____nfcgate_____LoggingDetailFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/nfcgate_____nfcgate_____LoggingDetailFragment.java

android.database.sqlite.SQLiteDatabase.query

        @Override
        protected Cursor doInBackground(Long... SessionID) {
            Log.d(TAG, "doInBackground: Started");
            // Get a DB object
            SessionLoggingDbHelper dbHelper = new SessionLoggingDbHelper(getActivity());
            mDB = dbHelper.getReadableDatabase();

            // Construct query
            // Define Projection
            String[] projection = {
                    SessionLoggingContract.SessionEvent._ID,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_SESSION_ID,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_DATE,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_TYPE,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_NFCDATA,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_UID,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_ATQA,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_SAK,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_HIST,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_NFCDATA_PREFILTER,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_UID_PREFILTER,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_ATQA_PREFILTER,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_SAK_PREFILTER,
                    SessionLoggingContract.SessionEvent.COLUMN_NAME_HIST_PREFILTER,
            };
            // Define Sort order
            String sortorder = SessionLoggingContract.SessionEvent._ID + " ASC";
            // Define Selection
            String selection = SessionLoggingContract.SessionEvent.COLUMN_NAME_SESSION_ID + " LIKE ?";
            // Define Selection Arguments
            Log.i(TAG, "doInBackground: SessionID = " + SessionID[0]);
            String[] selectionArgs = { String.valueOf(SessionID[0]) };

            // Perform query
            Log.d(TAG, "doInBackground: Performing query");
            Cursor c = mDB.<mark>query</mark>(
                    SessionLoggingContract.SessionEvent.TABLE_NAME,  // Target Table
                    projection,    // Which fields are we interested in?
                    selection,     // Selection clause
                    selectionArgs, // Arguments to clause
                    null,          // Grouping (not desired in this case)
                    null,          // Filtering (not desired in this case)
                    sortorder      // Sort order
            );

            Log.d(TAG, "doInBackground: Query done, returning");
            return c;
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getFavUsersCursor(int account) {

        String screennames = FavoriteUsersDataSource.getInstance(context).getNames(account);
        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND (";

        if (!screennames.equals("")) {
            String[] split = screennames.split("  ");
            for (int i = 0; i <split.length; i++) {
                String s = split[i];
                if (i != 0) {
                    where += " OR ";
                }
                where += HomeSQLiteHelper.COLUMN_SCREEN_NAME + " LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " LIKE '" + s + "'";
            }
        } else {
            where += HomeSQLiteHelper.COLUMN_SCREEN_NAME + " = '' OR " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " is NULL";
        }

        where += ")";

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            try {
                count = statement.simpleQueryForLong();
            } catch (Exception x) {
                return null;
            }
        }
        if (count > 200) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dogriffiths_____HeadFirstAndroid_____TopLevelActivity_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dogriffiths_____HeadFirstAndroid_____TopLevelActivity.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_top_level);
        //Create an OnItemClickListener
        AdapterView.OnItemClickListener itemClickListener =
            new AdapterView.OnItemClickListener() {
                public void onItemClick(AdapterView<?> listView,
                                        View v,
                                        int position,
                                        long id) {
                    if (position == 0) {
                        Intent intent = new Intent(TopLevelActivity.this,
                                                   DrinkCategoryActivity.class);
                        startActivity(intent);
                    }
                }
            };
        //Add the listener to the list view
        ListView listView = (ListView) findViewById(R.id.list_options);
        listView.setOnItemClickListener(itemClickListener);

        //Populate the list_favorites ListView from a cursor
        ListView listFavorites = (ListView)findViewById(R.id.list_favorites);
        try {
            SQLiteOpenHelper starbuzzDatabaseHelper = new StarbuzzDatabaseHelper(this);
            db = starbuzzDatabaseHelper.getReadableDatabase();
            favoritesCursor = db.<mark>query</mark>("DRINK",
                                       new String[] { "_id", "NAME"}, "FAVORITE = 1",
                                       null, null, null, null);
            CursorAdapter favoriteAdapter =
                new SimpleCursorAdapter(TopLevelActivity.this,
                                        android.R.layout.simple_list_item_1,
                                        favoritesCursor,
                                        new String[]{"NAME"},
                                        new int[]{android.R.id.text1}, 0);
            listFavorites.setAdapter(favoriteAdapter);
        } catch(SQLiteException e) {
            Toast toast = Toast.makeText(this, "Database unavailable", Toast.LENGTH_SHORT);
            toast.show();
        }

        //Navigate to DrinkActivity if a drink is clicked
        listFavorites.setOnItemClickListener(new AdapterView.OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> listView, View v, int position, long id) {
                    Intent intent = new Intent(TopLevelActivity.this, DrinkActivity.class);
                    intent.putExtra(DrinkActivity.EXTRA_DRINKNO, (int)id);
                    startActivity(intent);
                }
            });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____HomeDataSource_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getFavUsersCursor(int account) {

        String screennames = FavoriteUsersDataSource.getInstance(context).getNames();
        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND (";

        if (!screennames.equals("")) {
            String[] split = screennames.split("  ");
            for (int i = 0; i <split.length; i++) {
                String s = split[i];
                if (i != 0) {
                    where += " OR ";
                }
                where += HomeSQLiteHelper.COLUMN_SCREEN_NAME + " LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " LIKE '" + s + "'";
            }
        } else {
            where += HomeSQLiteHelper.COLUMN_SCREEN_NAME + " = '' OR " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " is NULL";
        }

        where += ")";

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            try {
                count = statement.simpleQueryForLong();
            } catch (Exception x) {
                return null;
            }
        }
        if (count > 500) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 500) + "," + 500);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 500) + "," + 500);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____RecoverableKeyStoreDb_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____RecoverableKeyStoreDb.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Updates the counterId
     *
     * @param userId The userId of the profile the application is running under.
     * @param uid The uid of the application.
     * @param counterId The counterId.
     * @return The primary key of the inserted row, or -1 if failed.
     *
     * @hide
     */     */
    public @NonNull int[] getRecoverySecretTypes(int userId, int uid) {
        SQLiteDatabase db = mKeyStoreDbHelper.getReadableDatabase();

        String[] projection = {
                RecoveryServiceMetadataEntry._ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_UID,
                RecoveryServiceMetadataEntry.COLUMN_NAME_SECRET_TYPES};
        String selection =
                RecoveryServiceMetadataEntry.COLUMN_NAME_USER_ID + " = ? AND "
                        + RecoveryServiceMetadataEntry.COLUMN_NAME_UID + " = ?";
        String[] selectionArguments = {Integer.toString(userId), Integer.toString(uid)};

        try (
                Cursor cursor = db.<mark>query</mark>(
                        RecoveryServiceMetadataEntry.TABLE_NAME,
                        projection,
                        selection,
                        selectionArguments,
                        /*groupBy=*/ null,
                        /*having=*/ null,
                        /*orderBy=*/ null)
        ) {
            int count = cursor.getCount();
            if (count == 0) {
                return new int[]{};
            }
            if (count > 1) {
                Log.wtf(TAG,
                        String.format(Locale.US,
                                "%d deviceId entries found for userId=%d uid=%d. "
                                        + "Should only ever be 0 or 1.", count, userId, uid));
                return new int[]{};
            }
            cursor.moveToFirst();
            int idx = cursor.getColumnIndexOrThrow(
                    RecoveryServiceMetadataEntry.COLUMN_NAME_SECRET_TYPES);
            if (cursor.isNull(idx)) {
                return new int[]{};
            }
            String csv = cursor.getString(idx);
            if (TextUtils.isEmpty(csv)) {
                return new int[]{};
            }
            String[] types = csv.split(",");
            int[] result = new int[types.length];
            for (int i = 0; i < types.length; i++) {
                try {
                    result[i] = Integer.parseInt(types[i]);
                } catch (NumberFormatException e) {
                    Log.wtf(TAG, "String format error " + e);
                }
            }
            return result;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dmfs_____opentasks_____FTSDatabaseHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dmfs_____opentasks_____FTSDatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

/**
     * Queries the task database to get a cursor with the search results.
     *
     * @param db
     *         The {@link SQLiteDatabase}.
     * @param searchString
     *         The search query string.
     * @param projection
     *         The database projection for the query.
     * @param selection
     *         The selection for the query.
     * @param selectionArgs
     *         The arguments for the query.
     * @param sortOrder
     *         The sorting order of the query.
     *
     * @return A cursor of the task database with the search result.
     */     */
    private static Set<Long> ngramIds(SQLiteDatabase db, Set<String> ngrams)
    {
        if (ngrams.size() == 0)
        {
            return Collections.emptySet();
        }

        Set<String> missingNgrams = new HashSet<>(ngrams);
        Set<Long> ngramIds = new HashSet<>(ngrams.size() * 2);

        for (Iterable<String> chunk : new Chunked<>(NGRAM_SEARCH_CHUNK_SIZE, ngrams))
        {
            // build selection and arguments for each chunk
            // we can't do this in a single query because the length of sql statement and number of arguments is limited.

            StringBuilder selection = new StringBuilder(NGramColumns.TEXT);
            selection.append(" in (");
            boolean first = true;
            List<String> arguments = new ArrayList<>(NGRAM_SEARCH_CHUNK_SIZE);
            for (String ngram : chunk)
            {
                if (first)
                {
                    first = false;
                }
                else
                {
                    selection.append(",");
                }
                selection.append("?");
                arguments.add(ngram);
            }
            selection.append(" )");

            try (Cursor c = db.<mark>query</mark>(FTS_NGRAM_TABLE, new String[] { NGramColumns.NGRAM_ID, NGramColumns.TEXT }, selection.toString(),
                    arguments.toArray(new String[0]), null, null, null))
            {
                while (c.moveToNext())
                {
                    // remove the ngrams we already have in the table
                    missingNgrams.remove(c.getString(1));
                    // remember its id
                    ngramIds.add(c.getLong(0));
                }
            }
        }

        ContentValues values = new ContentValues(1);

        // now insert the missing ngrams and store their ids
        for (String ngram : missingNgrams)
        {
            values.put(NGramColumns.TEXT, ngram);
            ngramIds.add(db.insert(FTS_NGRAM_TABLE, null, values));
        }
        return ngramIds;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>LitePalFramework_____LitePal_____DataHandler_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/LitePalFramework_____LitePal_____DataHandler.java

android.database.sqlite.SQLiteDatabase.query

     */
    protected void setGenericValueToModel(LitePalSupport baseObj, List<Field> supportedGenericFields,
                                          Map<Field, GenericModel> genericModelMap) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException {
        for (Field field : supportedGenericFields) {
            String tableName, genericValueColumnName, genericValueIdColumnName, getMethodName;
            Cursor cursor = null;
            GenericModel genericModel = genericModelMap.get(field);
            if (genericModel == null) {
                String genericTypeName = getGenericTypeName(field);
                if (baseObj.getClassName().equals(genericTypeName)) {
                    genericValueColumnName = DBUtility.getM2MSelfRefColumnName(field);
                    getMethodName = "getLong";
                } else {
                    genericValueColumnName = DBUtility.convertToValidColumnName(field.getName());
                    getMethodName = genGetColumnMethod(field);
                }
                tableName = DBUtility.getGenericTableName(baseObj.getClassName(), field.getName());
                genericValueIdColumnName = DBUtility.getGenericValueIdColumnName(baseObj.getClassName());
                GenericModel model = new GenericModel();
                model.setTableName(tableName);
                model.setValueColumnName(genericValueColumnName);
                model.setValueIdColumnName(genericValueIdColumnName);
                model.setGetMethodName(getMethodName);
                genericModelMap.put(field, model);
            } else {
                tableName = genericModel.getTableName();
                genericValueColumnName = genericModel.getValueColumnName();
                genericValueIdColumnName = genericModel.getValueIdColumnName();
                getMethodName = genericModel.getGetMethodName();
            }
            try {
                cursor = mDatabase.<mark>query</mark>(tableName, null, genericValueIdColumnName + " = ?",
                        new String[]{ String.valueOf(baseObj.getBaseObjId()) }, null, null, null);
                if (cursor.moveToFirst()) {
                    do {
                        int columnIndex = cursor.getColumnIndex(BaseUtility.changeCase(genericValueColumnName));
                        if (columnIndex != -1) {
                            setToModelByReflection(baseObj, field, columnIndex, getMethodName, cursor);
                        }
                    } while (cursor.moveToNext());
                }
            } finally {
                if (cursor != null) {
                    cursor.close();
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getWidgetCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " DESC", "150");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " DESC", "150");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getUnreadCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + HomeSQLiteHelper.COLUMN_UNREAD + " = ?";

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, new String[] {account + "", "1"}, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, new String[] {account + "", "1"}, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____HomeDataSource_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getWidgetCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");
        clients = clients.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " DESC", "150");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " DESC", "150");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____HomeDataSource_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getUnreadCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");
        clients = clients.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = ? AND " + HomeSQLiteHelper.COLUMN_UNREAD + " = ?";

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;
        try {
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, new String[] {account + "", "1"}, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, new String[] {account + "", "1"}, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xamarin_____XobotOS_____AccountManagerService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xamarin_____XobotOS_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query


    private void validateAccountsAndPopulateCache() {
        synchronized (mCacheLock) {
            final SQLiteDatabase db = mOpenHelper.getWritableDatabase();
            boolean accountDeleted = false;
            Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS,
                    new String[]{ACCOUNTS_ID, ACCOUNTS_TYPE, ACCOUNTS_NAME},
                    null, null, null, null, null);
            try {
                mAccountCache.clear();
                final HashMap<String, ArrayList<String>> accountNamesByType =
                        new HashMap<String, ArrayList<String>>();
                while (cursor.moveToNext()) {
                    final long accountId = cursor.getLong(0);
                    final String accountType = cursor.getString(1);
                    final String accountName = cursor.getString(2);
                    if (mAuthenticatorCache.getServiceInfo(
                            AuthenticatorDescription.newKey(accountType)) == null) {
                        Log.d(TAG, "deleting account " + accountName + " because type "
                                + accountType + " no longer has a registered authenticator");
                        db.delete(TABLE_ACCOUNTS, ACCOUNTS_ID + "=" + accountId, null);
                        accountDeleted = true;
                        final Account account = new Account(accountName, accountType);
                        mUserDataCache.remove(account);
                        mAuthTokenCache.remove(account);
                    } else {
                        ArrayList<String> accountNames = accountNamesByType.get(accountType);
                        if (accountNames == null) {
                            accountNames = new ArrayList<String>();
                            accountNamesByType.put(accountType, accountNames);
                        }
                        accountNames.add(accountName);
                    }
                }
                for (HashMap.Entry<String, ArrayList<String>> cur
                        : accountNamesByType.entrySet()) {
                    final String accountType = cur.getKey();
                    final ArrayList<String> accountNames = cur.getValue();
                    final Account[] accountsForType = new Account[accountNames.size()];
                    int i = 0;
                    for (String accountName : accountNames) {
                        accountsForType[i] = new Account(accountName, accountType);
                        ++i;
                    }
                    mAccountCache.put(accountType, accountsForType);
                }
            } finally {
                cursor.close();
                if (accountDeleted) {
                    sendAccountsChangedBroadcast();
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>naman14_____Timber_____SongPlayCount_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/naman14_____Timber_____SongPlayCount.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
     * @param songId The song Id to remove.
     */     */
    public long[] getTopPlayedResultsForList(long[] ids) {
        final int MAX_NUMBER_SONGS_TO_ANALYZE = 250;

        if (ids == null || ids.length == 0) {
            return null;
        }

        HashSet<Long> uniqueIds = new HashSet<Long>(ids.length);

        // create the list of ids to select against
        StringBuilder selection = new StringBuilder();
        selection.append(SongPlayCountColumns.ID);
        selection.append(" IN (");

        // add the first element to handle the separator case for the first element
        uniqueIds.add(ids[0]);
        selection.append(ids[0]);

        for (int i = 1; i < ids.length; i++) {
            // if the new id doesn't exist
            if (uniqueIds.add(ids[i])) {
                // append a separator
                selection.append(",");

                // append the id
                selection.append(ids[i]);

                // for performance reasons, only look at a certain number of songs
                // in case their playlist is ridiculously large
                if (uniqueIds.size() >= MAX_NUMBER_SONGS_TO_ANALYZE) {
                    break;
                }
            }
        }

        // close out the selection
        selection.append(")");

        long[] sortedList = new long[uniqueIds.size()];

        // now query for the songs
        final SQLiteDatabase database = mMusicDatabase.getReadableDatabase();
        Cursor topSongsCursor = null;
        int idx = 0;

        try {
            topSongsCursor = database.<mark>query</mark>(SongPlayCountColumns.NAME,
                    new String[]{SongPlayCountColumns.ID}, selection.toString(), null, null,
                    null, SongPlayCountColumns.PLAYCOUNTSCORE + " DESC");

            if (topSongsCursor != null && topSongsCursor.moveToFirst()) {
                do {
                    // for each id found, add it to the list and remove it from the unique ids
                    long id = topSongsCursor.getLong(0);
                    sortedList[idx++] = id;
                    uniqueIds.remove(id);
                } while (topSongsCursor.moveToNext());
            }
        } finally {
            if (topSongsCursor != null) {
                topSongsCursor.close();
                topSongsCursor = null;
            }
        }

        // append the remaining items - these are songs that haven't been played recently
        Iterator<Long> iter = uniqueIds.iterator();
        while (iter.hasNext()) {
            sortedList[idx++] = iter.next();
        }

        return sortedList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____MessageDatabaseService_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____MessageDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public List<Message> getScheduledMessages(Long time) {
        SQLiteDatabase db = dbHelper.getReadableDatabase();
        if (!DBUtils.isTableExists(db, MobiComDatabaseHelper.SCHEDULE_SMS_TABLE_NAME)) {
            dbHelper.close();
            return new ArrayList<Message>();
        }

        List<Message> messages = new ArrayList<Message>();
        Cursor cursor = null;
        try {
            if (time != null) {
                cursor = db.<mark>query</mark>(MobiComDatabaseHelper.SCHEDULE_SMS_TABLE_NAME, null, MobiComDatabaseHelper.TIMESTAMP + " <= ?", new String[]{
                        time + ""}, null, null, null);
            } else {
                cursor = db.<mark>query</mark>(MobiComDatabaseHelper.SCHEDULE_SMS_TABLE_NAME, null, null, null, null, null, null);
            }

            cursor.moveToFirst();
            if (cursor.getCount() > 0) {
                do {
                    String createdTime = cursor.getString(cursor.getColumnIndex(MobiComDatabaseHelper.TIMESTAMP));
                    //SMS Creation From DB......
                    Message message = new Message();
                    message.setCreatedAtTime(Long.valueOf(createdTime));

                    message.setScheduledAt(cursor.getLong(cursor.getColumnIndex(MobiComDatabaseHelper.TIMESTAMP)));

                    message.setMessage(cursor
                            .getString(cursor.getColumnIndex(MobiComDatabaseHelper.SMS)));
                    message.setType(cursor
                            .getShort(cursor.getColumnIndex(MobiComDatabaseHelper.SMS_TYPE)));
                    message.setSource(cursor.getShort(cursor.getColumnIndex("source")));
                    message.setContactIds(cursor
                            .getString(cursor.getColumnIndex(MobiComDatabaseHelper.CONTACTID)));
                    message.setTo(cursor
                            .getString(cursor.getColumnIndex(MobiComDatabaseHelper.TO_FIELD)));
                    message.setKeyString(cursor
                            .getString(cursor.getColumnIndex(MobiComDatabaseHelper.SMS_KEY_STRING)));
                    message.setStoreOnDevice("1".equals(cursor.getString(cursor.getColumnIndex(MobiComDatabaseHelper.STORE_ON_DEVICE_COLUMN))));

                    if (cursor.getColumnIndex(MobiComDatabaseHelper.TIME_TO_LIVE) != -1) {
                        int timeToLive = cursor.getInt(cursor.getColumnIndex(MobiComDatabaseHelper.TIME_TO_LIVE));
                        message.setTimeToLive(timeToLive == 0 ? null : timeToLive);
                    }

                    messages.add(message);
                } while (cursor.moveToNext());
            }
            return messages;
        } finally {
            if (cursor != null) {
                cursor.close();
            }
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dmfs_____opentasks_____TaskValueDelegate_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dmfs_____opentasks_____TaskValueDelegate.java

android.database.sqlite.SQLiteDatabase.query

    @Override
    public InstanceAdapter insert(SQLiteDatabase db, InstanceAdapter entityAdapter, boolean isSyncAdapter)
    {
        TaskAdapter taskAdapter = entityAdapter.taskAdapter();
        if (taskAdapter.valueOf(TaskAdapter.ORIGINAL_INSTANCE_ID) != null)
        {
            // this is going to be an override to an existing task - make sure we add an RDATE first
            long masterTaskId = taskAdapter.valueOf(TaskAdapter.ORIGINAL_INSTANCE_ID);
            DateTime originalTime = taskAdapter.valueOf(TaskAdapter.ORIGINAL_INSTANCE_TIME);
            // get the master and add an rdate
            try (Cursor c = db.<mark>query</mark>(TaskDatabaseHelper.Tables.TASKS, null /* all */, TaskContract.Tasks._ID + "=" + masterTaskId, null, null, null, null))
            {
                if (c.moveToFirst())
                {
                    TaskAdapter masterTaskAdapter = new CursorContentValuesTaskAdapter(masterTaskId, c, new ContentValues());
                    if (masterTaskAdapter.valueOf(TaskAdapter.ORIGINAL_INSTANCE_ID) != null)
                    {
                        throw new IllegalArgumentException("Can't add an instance to an override instance");
                    }
                    DateTime masterDate = new Backed<DateTime>(new FirstPresent<>(new Seq<>(
                            new NullSafe<>(masterTaskAdapter.valueOf(TaskAdapter.DTSTART)),
                            new NullSafe<>(masterTaskAdapter.valueOf(TaskAdapter.DUE)))), () -> null).value();
                    if (!masterTaskAdapter.isRecurring() && masterDate != null)
                    {
                        // master is not recurring yet, also add its start as an RDATE
                        appendDate(masterTaskAdapter, TaskAdapter.RDATE, TaskAdapter.EXDATE, masterDate);
                    }
                    // TODO: should we throw if the new master has no DTSTART?
                    appendDate(masterTaskAdapter, TaskAdapter.RDATE, TaskAdapter.EXDATE, originalTime);
                    mDelegate.update(db, masterTaskAdapter, false);

                }
                else
                {
                    throw new IllegalArgumentException(String.format(Locale.ENGLISH, "No task with _ID %d found", masterTaskId));
                }
            }
        }

        // move on with inserting the instance
        TaskAdapter taskResult = mDelegate.insert(db, entityAdapter.taskAdapter(), false);

        try (Cursor c = db.<mark>query</mark>(TaskDatabaseHelper.Tables.INSTANCES, new String[] { TaskContract.Instances._ID },
                TaskContract.Instances.TASK_ID + "=" + taskResult.id(), null, null, null, null))
        {
            // the cursor should contain exactly one row after this operation
            c.moveToFirst();
            return new ContentValuesInstanceAdapter(c.getLong(0), new ContentValues());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____MBTileProviderDataBase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____MBTileProviderDataBase.java

android.database.sqlite.SQLiteDatabase.isOpen
android.database.sqlite.SQLiteStatement.simpleQueryForBlobFileDescriptor
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteException.getMessage

/**
     * Bind the tile values to the prepared statement
     * 
     * @param aTile the tile descriptor
     * @param get the prepared statement
     */     */
    public byte[] getTile(@NonNull final MapTile aTile) throws IOException {
        if (DEBUGMODE) {
            Log.d(MapTileFilesystemProvider.DEBUG_TAG, "Trying to retrieve " + aTile + " from db");
        }
        try {
            if (mDatabase.<mark>isOpen</mark>()) {
                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
                    SQLiteStatement get = null;
                    try {
                        get = getStatements.acquire();
                        if (get == null) {
                            Log.e(DEBUG_TAG, "statement null");
                            return null;
                        }
                        bindTile(aTile, get);
                        ParcelFileDescriptor.AutoCloseInputStream acis = new ParcelFileDescriptor.AutoCloseInputStream(get.<mark>simpleQueryForBlobFileDescriptor</mark>());
                        ByteArrayOutputStream bos = new ByteArrayOutputStream();

                        byte[] buffer = new byte[4096];
                        int bytesRead;
                        while ((bytesRead = acis.read(buffer)) != -1) {
                            bos.write(buffer, 0, bytesRead);
                        }
                        acis.close();
                        return bos.toByteArray();
                    } catch (SQLiteDoneException sde) {
                        // nothing found
                        return null;
                    } finally {
                        if (get != null) {
                            getStatements.release(get);
                        }
                    }
                } else { // old and slow
                    final Cursor c = mDatabase.<mark>query</mark>(T_MBTILES, new String[] { T_MBTILES_DATA }, T_MBTILES_WHERE,
                            new String[] { aTile.rendererID, Integer.toString(aTile.zoomLevel), Integer.toString(aTile.x), Integer.toString(aTile.y) }, null,
                            null, null);
                    try {
                        if (c.moveToFirst()) {
                            return c.getBlob(c.getColumnIndexOrThrow(T_MBTILES_DATA));
                        }
                    } finally {
                        c.close();
                    }
                }
            }
        } catch (SQLiteException sex) { // handle these exceptions the same
            throw new IOException(sex.<mark>getMessage</mark>());
        }
        if (DEBUGMODE) {
            Log.d(MapTileFilesystemProvider.DEBUG_TAG, "Tile not found in DB");
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>M66B_____XPrivacy_____PrivacyService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/M66B_____XPrivacy_____PrivacyService.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

	@Override
	public List<PRestriction> getUsageList(int uid, String restrictionName) throws RemoteException {
		List<PRestriction> result = new ArrayList<PRestriction>();
		try {
			enforcePermission(-1);
			SQLiteDatabase dbUsage = getDbUsage();
			int userId = Util.getUserId(Binder.getCallingUid());

			mLockUsage.readLock().lock();
			try {
				dbUsage.<mark>beginTransaction</mark>();
				try {
					String sFrom = Long.toString(new Date().getTime() - cMaxUsageDataHours * 60L * 60L * 1000L);
					Cursor cursor;
					if (uid == 0) {
						if ("".equals(restrictionName))
							cursor = dbUsage.<mark>query</mark>(cTableUsage, new String[] { "uid", "restriction", "method",
									"restricted", "time", "extra", "value" }, "time>?", new String[] { sFrom }, null,
									null, "time DESC");
						else
							cursor = dbUsage.<mark>query</mark>(cTableUsage, new String[] { "uid", "restriction", "method",
									"restricted", "time", "extra", "value" }, "restriction=? AND time>?", new String[] {
									restrictionName, sFrom }, null, null, "time DESC");
					} else {
						if ("".equals(restrictionName))
							cursor = dbUsage.<mark>query</mark>(cTableUsage, new String[] { "uid", "restriction", "method",
									"restricted", "time", "extra", "value" }, "uid=? AND time>?", new String[] {
									Integer.toString(uid), sFrom }, null, null, "time DESC");
						else
							cursor = dbUsage.<mark>query</mark>(cTableUsage, new String[] { "uid", "restriction", "method",
									"restricted", "time", "extra", "value" }, "uid=? AND restriction=? AND time>?",
									new String[] { Integer.toString(uid), restrictionName, sFrom }, null, null,
									"time DESC");
					}

					if (cursor == null)
						Util.log(null, Log.WARN, "Database cursor null (usage data)");
					else
						try {
							int count = 0;
							while (count++ < cMaxUsageDataCount && cursor.moveToNext()) {
								PRestriction data = new PRestriction();
								data.uid = cursor.getInt(0);
								data.restrictionName = cursor.getString(1);
								data.methodName = cursor.getString(2);
								data.restricted = (cursor.getInt(3) > 0);
								data.time = cursor.getLong(4);
								data.extra = cursor.getString(5);
								if (cursor.isNull(6))
									data.value = null;
								else
									data.value = cursor.getString(6);
								if (userId == 0 || Util.getUserId(data.uid) == userId)
									result.add(data);
							}
						} finally {
							cursor.close();
						}

					dbUsage.<mark>setTransactionSuccessful</mark>();
				} finally {
					dbUsage.<mark>endTransaction</mark>();
				}
			} finally {
				mLockUsage.readLock().unlock();
			}
		} catch (Throwable ex) {
			Util.bug(null, ex);
			throw new RemoteException(ex.toString());
		}
		return result;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____MigrationHelper_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____MigrationHelper.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
     * Cancel the existing alarm for the scheduled service and restarts/reschedules the service
     */     */
    static int upgradeDbToVersion11(SQLiteDatabase db){
        Log.i(DatabaseHelper.LOG_TAG, "Upgrading database to version 9");
        int oldVersion = 10;

        db.<mark>beginTransaction</mark>();
        try {
            Cursor cursor = db.<mark>query</mark>(ScheduledActionEntry.TABLE_NAME, null,
                    ScheduledActionEntry.COLUMN_TYPE + "= ?",
                    new String[]{ScheduledAction.ActionType.BACKUP.name()}, null, null, null);

            Map<String, String> uidToTagMap = new HashMap<>();
            while (cursor.moveToNext()) {
                String uid = cursor.getString(cursor.getColumnIndexOrThrow(ScheduledActionEntry.COLUMN_UID));
                String tag = cursor.getString(cursor.getColumnIndexOrThrow(ScheduledActionEntry.COLUMN_TAG));
                String[] tokens = tag.split(";");
                try {
                    Timestamp timestamp = TimestampHelper.getTimestampFromUtcString(tokens[2]);
                } catch (IllegalArgumentException ex) {
                    tokens[2] = TimestampHelper.getUtcStringFromTimestamp(PreferencesHelper.getLastExportTime());
                } finally {
                    tag = TextUtils.join(";", tokens);
                }
                uidToTagMap.put(uid, tag);
            }

            cursor.close();

            ContentValues contentValues = new ContentValues();
            for (Map.Entry<String, String> entry : uidToTagMap.entrySet()) {
                contentValues.clear();
                contentValues.put(ScheduledActionEntry.COLUMN_TAG, entry.getValue());
                db.<mark>update</mark>(ScheduledActionEntry.TABLE_NAME, contentValues,
                        ScheduledActionEntry.COLUMN_UID + " = ?", new String[]{entry.getKey()});
            }

            db.<mark>setTransactionSuccessful</mark>();
            oldVersion = 11;
        } finally {
            db.<mark>endTransaction</mark>();
        }
        return oldVersion;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cping_____LGame_____RecordStoreSqlLite_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/cping_____LGame_____RecordStoreSqlLite.java

android.database.sqlite.SQLiteDatabase.query


    public synchronized int addRecord(long recordStoreFk, byte[] data) throws RecordStoreException {
            Cursor result = database.<mark>query</mark>(RecordStoreSqlLite.TABLENAME_RECORDSTORE, null, COLUMNNAME_RECORDSTORE_RECORDSTORE_PK+" = ?", new String[] {recordStoreFk+""}, null, null, null);
            int version;
            int nextRecordId;
            int numberOfRecords;
            int size;
            try {
                    result.moveToFirst();
                    int indexOfColumn;
                    indexOfColumn = result.getColumnIndex(RecordStoreSqlLite.COLUMNNAME_RECORDSTORE_VERSION);
                    version = result.getInt(indexOfColumn);

                    indexOfColumn = result.getColumnIndex(RecordStoreSqlLite.COLUMNNAME_RECORDSTORE_NEXTID);
                    nextRecordId = result.getInt(indexOfColumn);

                    indexOfColumn = result.getColumnIndex(RecordStoreSqlLite.COLUMNNAME_RECORDSTORE_NUMBER_OF_RECORDS);
                    numberOfRecords = result.getInt(indexOfColumn);

                    indexOfColumn = result.getColumnIndex(RecordStoreSqlLite.COLUMNNAME_RECORDSTORE_SIZE);
                    size = result.getInt(indexOfColumn);
            } finally {
                    result.close();
            }

            ContentValues values;
            values = new ContentValues();
            values.put(COLUMNNAME_RECORD_DATA, data);
            values.put(COLUMNNAME_RECORD_RECORDNUMBER, nextRecordId);
            values.put(COLUMNNAME_RECORD_RECORDSTORE_FK, recordStoreFk);
            try {
                    database.beginTransaction();
                    database.insertOrThrow(TABLENAME_RECORD, null, values);
                    database.setTransactionSuccessful();
                    database.endTransaction();
            } catch (SQLException e) {
                    throw new RecordStoreException(e.toString());
            }

            values.clear();
            int newVersion = version + 1;
            int newNextId = nextRecordId + 1;
            int newNumberOfRecords = numberOfRecords + 1;
            int recordStoreSize = size + data.length;
            values.put(COLUMNNAME_RECORDSTORE_VERSION, newVersion);
            values.put(COLUMNNAME_RECORDSTORE_NEXTID, newNextId);
            values.put(COLUMNNAME_RECORDSTORE_NUMBER_OF_RECORDS, newNumberOfRecords);
            values.put(COLUMNNAME_RECORDSTORE_SIZE, recordStoreSize);
            try {
                    database.beginTransaction();
                    database.update(TABLENAME_RECORDSTORE, values, COLUMNNAME_RECORDSTORE_RECORDSTORE_PK + "= ?" , new String[] {Long.toString(recordStoreFk)});
                    database.setTransactionSuccessful();
                    database.endTransaction();
            } catch (Exception e) {
                    throw new RecordStoreException(e.toString());
            }
            return nextRecordId;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dreeves_____TagTime_____PingsDbAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dreeves_____TagTime_____PingsDbAdapter.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

/**
	 * Update the indicated ping using the details provided.
	 * 
	 * @param pingid
	 *            id of ping to update
	 * @param pingnotes
	 *            new note to associate with the ping
	 * @return true if the note was successfully updated, false otherwise
	 */		@Override
		public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
			if (oldVersion < 2) {
				Log.w(TAG, "Upgrading database from version " + oldVersion + " to " + newVersion
						+ ", which will destroy all old data");
				db.execSQL("DROP TABLE IF EXISTS pings");
				db.execSQL("DROP TABLE IF EXISTS tags");
				db.execSQL("DROP TABLE IF EXISTS tag_ping");
				onCreate(db);
			} else {
				if (oldVersion < 5 && newVersion >= 5) {
					Log.w(TAG, "Upgrading database from version " + oldVersion + " to " + newVersion
							+ " calculating caches..");
					db.execSQL("ALTER TABLE tags ADD COLUMN used_cache integer");
					db.beginTransaction();
					try {
						// Calculate the first cache.
						Cursor all_tags = db.<mark>query</mark>(TAGS_TABLE, new String[] { KEY_ROWID, KEY_TAG }, null, null, null,
								null, null);
						Integer current_tag_id = 0;
						ContentValues uses_values = new ContentValues();

						all_tags.moveToFirst();
						while (!all_tags.isAfterLast()) {
							current_tag_id = all_tags.getInt(0);
							Cursor count_cr = db.rawQuery("SELECT COUNT(_id) FROM tag_ping WHERE tag_id = ?",
									new String[] { current_tag_id.toString() });
							count_cr.moveToFirst();
							uses_values.put(KEY_USED_CACHE, count_cr.getInt(0));

							if (LOCAL_LOGV) Log.v(TAG, "upgrading the tag entry cache - " + all_tags.getString(1)
									+ " has " + uses_values.getAsString(KEY_USED_CACHE));
							db.update(TAGS_TABLE, uses_values, "_id = ?", new String[] { current_tag_id.toString() });
							all_tags.moveToNext();
						}
						db.setTransactionSuccessful();
					} finally {
						db.endTransaction();
					}
				}

				if (oldVersion < 6 && newVersion >= 6) {
					Log.w(TAG, "Upgrading database from version " + oldVersion + " to " + newVersion
							+ " adding missing ping durations (45 mins)...");
					db.execSQL("ALTER TABLE pings ADD COLUMN period integer");
					db.beginTransaction();
					try {
						// Calculate the first cache.
						Cursor all_pings = db.<mark>query</mark>(PINGS_TABLE, new String[] { KEY_ROWID }, null, null, null, null,
								null);
						Integer current_ping_id = 0;
						ContentValues period_values = new ContentValues();
						period_values.put(KEY_PERIOD, 45);

						all_pings.moveToFirst();
						while (!all_pings.isAfterLast()) {
							current_ping_id = all_pings.getInt(0);

							db.update(PINGS_TABLE, period_values, "_id = ?",
									new String[] { current_ping_id.toString() });
							all_pings.moveToNext();
						}
						db.setTransactionSuccessful();
					} finally {
						db.endTransaction();
					}
				}
			}
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____GlobalResultsStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____GlobalResultsStore.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close


    public ArrayList<UiBenchmarkResult> loadTestResults(String testName, int runId) {
        SQLiteDatabase db = getReadableDatabase();
        ArrayList<UiBenchmarkResult> resultList = new ArrayList<>();
        try {
            String[] columnsToQuery = new String[] {
                    "name",
                    "run_id",
                    "iteration",
                    "unknown_delay",
                    "input",
                    "animation",
                    "layout",
                    "draw",
                    "sync",
                    "command_issue",
                    "swap_buffers",
                    "total_duration",
            };

            Cursor cursor = db.<mark>query</mark>(
                    UI_RESULTS_TABLE, columnsToQuery, "run_id=? AND name=?",
                    new String[] { Integer.toString(runId), testName }, null, null, "iteration");

            double[] values = new double[columnsToQuery.length - 3];

            while (cursor.moveToNext()) {
                int iteration = cursor.getInt(cursor.getColumnIndexOrThrow("iteration"));

                values[0] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("unknown_delay"));
                values[1] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("input"));
                values[2] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("animation"));
                values[3] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("layout"));
                values[4] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("draw"));
                values[5] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("sync"));
                values[6] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("command_issue"));
                values[7] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("swap_buffers"));
                values[8] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("total_duration"));

                UiBenchmarkResult iterationResult;
                if (resultList.size() == iteration) {
                    iterationResult = new UiBenchmarkResult(values);
                    resultList.add(iteration, iterationResult);
                } else {
                    iterationResult = resultList.get(iteration);
                    iterationResult.update(values);
                }
            }

            cursor.<mark>close</mark>();
        } finally {
            db.<mark>close</mark>();
        }

        int total = resultList.get(0).getTotalFrameCount();
        for (int i = 0; i < total; i++) {
            System.out.println(""+ resultList.get(0).getMetricAtIndex(0, FrameMetrics.TOTAL_DURATION));
        }

        return resultList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>murgo_____IrssiNotifier_____DataAccess_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/murgo_____IrssiNotifier_____DataAccess.java

android.database.sqlite.SQLiteDatabase.query

     */
    public boolean handleMessage(IrcMessage message) {
        synchronized (DataAccess.class) {
            SQLiteDatabase database = null;
            try {
                database = getWritableDatabase();
                boolean isNew = true;

                if (message.getExternalId() != null) {
                    Cursor cur = database.<mark>query</mark>("IrcMessage", new String[] { "externalId", "message" },
                            "externalId = ?", new String[] { message.getExternalId() }, null, null, null, "1");
                    if (cur.moveToFirst()) {
                        isNew = false;
                        int messageIndex = cur.getColumnIndex("message");
                        if (cur.getString(messageIndex).equals(message.getMessage())) {
                            cur.close();
                            return false;
                        }
                    }
                    cur.close();
                }

                String channelName = message.getLogicalChannel();
                List<Channel> channels = getChannels(database);
    
                int biggestOrder = 0;
                Channel found = null;
                for (Channel ch : channels) {
                    biggestOrder = Math.max(biggestOrder, ch.getOrder() + 1);
                    if (ch.getName().equalsIgnoreCase(channelName)) {
                        found = ch;
                        break;
                    }
                }
    
                long channelId;
                if (found == null) {
                    ContentValues values = new ContentValues();
                    values.put("name", channelName);
                    values.put("orderIndex", biggestOrder);
                    channelId = database.insert("Channel", null, values);
                } else {
                    channelId = found.getId();
                }
    
                ContentValues messageValues = new ContentValues();
                messageValues.put("channelId", channelId);
                messageValues.put("message", message.getMessage());
                messageValues.put("nick", message.getNick());
                messageValues.put("serverTimestamp", message.getServerTimestamp().getTime());
                messageValues.put("externalId", message.getExternalId());

                if (isNew) {
                    messageValues.put("shown", 0);
                    database.insert("IrcMessage", null, messageValues);
                } else {
                    database.update("IrcMessage", messageValues, "externalId = ?", new String[] {
                            message.getExternalId()
                    });
                }
            } catch (Exception e) {
                e.printStackTrace();
                return false;
            } finally {
                if (database != null)
                    database.close();
            }
            return true;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>OneSignal_____OneSignal-Android-SDK_____GenerateNotificationRunner_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/OneSignal_____OneSignal-Android-SDK_____GenerateNotificationRunner.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query

   @Test
   public void shouldHandleBasicNotifications() throws Exception {
      // Make sure the notification got posted and the content is correct.
      Bundle bundle = getBaseNotifBundle();
      NotificationBundleProcessor_ProcessFromGCMIntentService(blankActivity, bundle, null);
      assertEquals(notifMessage, ShadowRoboNotificationManager.getLastShadowNotif().getContentText());
      assertEquals(1, ShadowBadgeCountUpdater.lastCount);

      // Should have 1 DB record with the correct time stamp
      SQLiteDatabase readableDb = OneSignalDbHelper.getInstance(blankActivity).getReadableDatabase();
      Cursor cursor = readableDb.<mark>query</mark>(NotificationTable.TABLE_NAME, new String[] { "created_time" }, null, null, null, null, null);
      assertEquals(1, cursor.getCount());
      // Time stamp should be set and within a small range.
      long currentTime = System.currentTimeMillis() / 1000;
      cursor.moveToFirst();
      assertTrue(cursor.getLong(0) > currentTime - 2 && cursor.getLong(0) <= currentTime);
      cursor.close();

      // Should get marked as opened.
      NotificationOpenedProcessor_processFromContext(blankActivity, createOpenIntent(bundle));
      cursor = readableDb.<mark>query</mark>(NotificationTable.TABLE_NAME, new String[] { "opened", "android_notification_id" }, null, null, null, null, null);
      cursor.moveToFirst();
      assertEquals(1, cursor.getInt(0));
      assertEquals(0, ShadowBadgeCountUpdater.lastCount);
      cursor.close();

      // Should not display a duplicate notification, count should still be 1
      NotificationBundleProcessor_ProcessFromGCMIntentService(blankActivity, bundle, null);
      readableDb = OneSignalDbHelper.getInstance(blankActivity).getReadableDatabase();
      cursor = readableDb.<mark>query</mark>(NotificationTable.TABLE_NAME, null, null, null, null, null, null);
      assertEquals(1, cursor.getCount());
      assertEquals(0, ShadowBadgeCountUpdater.lastCount);
      cursor.close();

      // Display a second notification
      bundle = getBaseNotifBundle("UUID2");
      NotificationBundleProcessor_ProcessFromGCMIntentService(blankActivity, bundle, null);

      // Go forward 4 weeks
      // Note: Does not effect the SQL function strftime
      ShadowSystemClock.setCurrentTimeMillis(System.currentTimeMillis() + 2419201L * 1000L);

      // Display a 3rd notification
      // Should of been added for a total of 2 records now.
      // First opened should of been cleaned up, 1 week old non opened notification should stay, and one new record.
      bundle = getBaseNotifBundle("UUID3");
      NotificationBundleProcessor_ProcessFromGCMIntentService(blankActivity, bundle, null);
      readableDb = OneSignalDbHelper.getInstance(blankActivity).getReadableDatabase();
      cursor = readableDb.<mark>query</mark>(NotificationTable.TABLE_NAME, new String[] { }, null, null, null, null, null);

      assertEquals(1, cursor.getCount());

      cursor.close();
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____MessageDatabaseService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/AppLozic_____Applozic-Android-SDK_____MessageDatabaseService.java

android.database.sqlite.SQLiteDatabase.query


    public List<Message> getMessages(Long startTime, Long endTime, Contact contact, Channel channel, Integer conversationId) {
        String structuredNameWhere = "";
        List<String> structuredNameParamsList = new ArrayList<String>();

        if (channel != null && channel.getKey() != null) {
            structuredNameWhere += "channelKey = ? AND ";
            structuredNameParamsList.add(String.valueOf(channel.getKey()));
        } else {
            structuredNameWhere += "channelKey = ? AND ";
            structuredNameParamsList.add("0");
        }
        if (contact != null && !TextUtils.isEmpty(contact.getContactIds())) {
            structuredNameWhere += "contactNumbers = ? AND ";
            structuredNameParamsList.add(contact.getContactIds());
        }
        if (startTime != null) {
            structuredNameWhere += "createdAt >= ? AND ";
            structuredNameParamsList.add(String.valueOf(startTime));
        }
        if (endTime != null) {
            structuredNameWhere += "createdAt < ? AND ";
            structuredNameParamsList.add(String.valueOf(endTime));
        }
        if (BroadcastService.isContextBasedChatEnabled() && conversationId != null && conversationId != 0) {
            structuredNameWhere += "conversationId = ? AND ";
            structuredNameParamsList.add(String.valueOf(conversationId));
        }
        structuredNameWhere += "messageContentType not in ( ?,? ) AND ";
        structuredNameParamsList.add(String.valueOf(Message.ContentType.HIDDEN.getValue()));
        structuredNameParamsList.add(String.valueOf(Message.ContentType.VIDEO_CALL_NOTIFICATION_MSG.getValue()));
        structuredNameWhere += "deleted = ? AND ";
        structuredNameParamsList.add("0");
        structuredNameWhere += "hidden = ? AND ";
        structuredNameParamsList.add("0");
        structuredNameWhere += "replyMessage != ? AND ";
        structuredNameParamsList.add(String.valueOf(Message.ReplyMessage.HIDE_MESSAGE.getValue()));

        MobiComUserPreference userPreferences = MobiComUserPreference.getInstance(context);
        if (!userPreferences.isDisplayCallRecordEnable()) {
            structuredNameWhere += "type != ? AND type != ? AND ";
            structuredNameParamsList.add(String.valueOf(Message.MessageType.CALL_INCOMING.getValue()));
            structuredNameParamsList.add(String.valueOf(Message.MessageType.CALL_OUTGOING.getValue()));
        }

        if (!TextUtils.isEmpty(structuredNameWhere)) {
            structuredNameWhere = structuredNameWhere.substring(0, structuredNameWhere.length() - 5);
        }

        SQLiteDatabase db = dbHelper.getReadableDatabase();
        try {
            Cursor cursor = db.<mark>query</mark>("sms", null, structuredNameWhere, structuredNameParamsList.toArray(new String[structuredNameParamsList.size()]), null, null, "createdAt asc");
            return MessageDatabaseService.getMessageList(cursor);
        } finally {
            dbHelper.close();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_frameworks_base_____GlobalResultsStore_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_frameworks_base_____GlobalResultsStore.java

android.database.sqlite.SQLiteDatabase.query


    public HashMap<String, ArrayList<UiBenchmarkResult>> loadDetailedResults(int runId) {
        SQLiteDatabase db = getReadableDatabase();
        HashMap<String, ArrayList<UiBenchmarkResult>> results = new HashMap<>();
        try {
            String[] columnsToQuery = new String[] {
                    "name",
                    "run_id",
                    "iteration",
                    "unknown_delay",
                    "input",
                    "animation",
                    "layout",
                    "draw",
                    "sync",
                    "command_issue",
                    "swap_buffers",
                    "total_duration",
            };

            Cursor cursor = db.<mark>query</mark>(
                    UI_RESULTS_TABLE, columnsToQuery, "run_id=?",
                    new String[] { Integer.toString(runId) }, null, null, "name, iteration");

            double[] values = new double[columnsToQuery.length - 3];
            while (cursor.moveToNext()) {
                int iteration = cursor.getInt(cursor.getColumnIndexOrThrow("iteration"));
                String name = cursor.getString(cursor.getColumnIndexOrThrow("name"));
                ArrayList<UiBenchmarkResult> resultList = results.get(name);
                if (resultList == null) {
                    resultList = new ArrayList<>();
                    results.put(name, resultList);
                }

                values[0] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("unknown_delay"));
                values[1] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("input"));
                values[2] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("animation"));
                values[3] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("layout"));
                values[4] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("draw"));
                values[5] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("sync"));
                values[6] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("command_issue"));
                values[7] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("swap_buffers"));
                values[8] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("total_duration"));
                values[8] = cursor.getDouble(
                        cursor.getColumnIndexOrThrow("total_duration"));

                UiBenchmarkResult iterationResult;
                if (resultList.size() == iteration) {
                    iterationResult = new UiBenchmarkResult(values);
                    resultList.add(iterationResult);
                } else {
                    iterationResult = resultList.get(iteration);
                    iterationResult.update(values);
                }
            }

            cursor.close();
        } finally {
            db.close();
        }

        return results;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____AdvancedPrefDatabase.java

android.database.sqlite.SQLiteDatabase.query

/** @return the API object representing the currently selected API */    @Override
    public synchronized void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        Log.d(LOGTAG, "Upgrading API DB");
        if (oldVersion <= 1 && newVersion >= 2) {
            db.execSQL("ALTER TABLE apis ADD COLUMN showicon INTEGER DEFAULT 0");
        }
        if (oldVersion <= 2 && newVersion >= 3) {
            db.execSQL("ALTER TABLE apis ADD COLUMN oauth INTEGER DEFAULT 0");
            db.execSQL("ALTER TABLE apis ADD COLUMN accesstoken TEXT DEFAULT NULL");
            db.execSQL("ALTER TABLE apis ADD COLUMN accesstokensecret TEXT DEFAULT NULL");
            db.execSQL("UPDATE apis SET url='" + Urls.DEFAULT_API + "' WHERE id='" + ID_DEFAULT + "'");
        }
        if (oldVersion <= 3 && newVersion >= 4) {
            db.execSQL("ALTER TABLE presets ADD COLUMN active INTEGER DEFAULT 0");
            db.execSQL("UPDATE presets SET active=1 WHERE id='default'");
        }
        if (oldVersion <= 4 && newVersion >= 5) {
            db.execSQL("UPDATE apis SET url='" + Urls.DEFAULT_API + "' WHERE id='" + ID_DEFAULT + "'");
        }
        if (oldVersion <= 5 && newVersion >= 6) {
            db.execSQL("ALTER TABLE apis ADD COLUMN readonlyurl TEXT DEFAULT NULL");
            db.execSQL("ALTER TABLE apis ADD COLUMN notesurl TEXT DEFAULT NULL");
        }
        if (oldVersion <= 6 && newVersion >= 7) {
            addAPI(db, ID_DEFAULT_NO_HTTPS, Urls.DEFAULT_API_NO_HTTPS_NAME, Urls.DEFAULT_API_NO_HTTPS, null, "", "", ID_DEFAULT_NO_HTTPS, true);
        }
        if (oldVersion <= 7 && newVersion >= 8) {
            db.execSQL("CREATE TABLE geocoders (id TEXT, type TEXT, version INTEGER DEFAULT 0, name TEXT, url TEXT, active INTEGER DEFAULT 0)");
            addGeocoder(db, ID_DEFAULT_GEOCODER_NOMINATIM, ID_DEFAULT_GEOCODER_NOMINATIM, GeocoderType.NOMINATIM, 0, Urls.DEFAULT_NOMINATIM_SERVER, true);
            addGeocoder(db, ID_DEFAULT_GEOCODER_PHOTON, ID_DEFAULT_GEOCODER_PHOTON, GeocoderType.PHOTON, 0, Urls.DEFAULT_PHOTON_SERVER, true);
        }
        if (oldVersion <= 8 && newVersion >= 9) {
            addAPI(db, ID_SANDBOX, Urls.DEFAULT_SANDBOX_API_NAME, Urls.DEFAULT_SANDBOX_API, null, "", "", ID_SANDBOX, true);
        }
        if (oldVersion <= 9 && newVersion >= 10) {
            db.execSQL("ALTER TABLE presets ADD COLUMN position INTEGER DEFAULT 0");
            Cursor dbresult = db.<mark>query</mark>(PRESETS_TABLE, new String[] { ID_FIELD }, null, null, null, null, null);
            dbresult.moveToFirst();
            int count = dbresult.getCount();
            for (int i = 0; i < count; i++) {
                ContentValues values = new ContentValues();
                values.put(POSITION_FIELD, i);
                db.update(PRESETS_TABLE, values, "id = ?", new String[] { dbresult.getString(0) });
                dbresult.moveToNext();
            }
            dbresult.close();
        }
        if (oldVersion <= 10 && newVersion >= 11) {
            db.execSQL("ALTER TABLE presets ADD COLUMN usetranslations INTEGER DEFAULT 1");
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ChainsDD_____Superuser_____PermissionsProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ChainsDD_____Superuser_____PermissionsProvider.java

android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.query

    @Override
    public Uri insert(Uri uri, ContentValues values) {
        if (!ensureDb()) return null;

        long rowId = 0;
        Uri returnUri = null;

        switch (sUriMatcher.match(uri)) {
        case APPS:
            // TODO: Check validity of incoming data before inserting it
            try {
                rowId = mDb.insertOrThrow(Apps.TABLE_NAME, null, values);
            } catch (SQLException e) {
                String where = Apps.UID + "=? AND " + Apps.EXEC_UID + "=? AND "
                        + Apps.EXEC_CMD + "=?";
                String[] whereArgs = new String[] { values.getAsString(Apps.UID),
                        values.getAsString(Apps.EXEC_UID),
                        values.getAsString(Apps.EXEC_CMD)};
                mDb.<mark>update</mark>(Apps.TABLE_NAME, values,
                        where,
                        whereArgs);
                Cursor c = mDb.<mark>query</mark>(Apps.TABLE_NAME, new String[] { Apps._ID },
                        where,
                        whereArgs,
                        null, null, null);
                if (c.moveToFirst()) {
                    rowId = c.getLong(0);
                }
                c.close();
            }

            if (values.getAsInteger(Apps.ALLOW) != Apps.AllowType.ASK) {
                ContentValues logValues = new ContentValues();
                logValues.put(Logs.APP_ID, rowId);
                logValues.put(Logs.DATE, System.currentTimeMillis());
                logValues.put(Logs.TYPE, Logs.LogType.CREATE);
                mDb.insert(Logs.TABLE_NAME, null, logValues);
                
                Util.writeStoreFile(mContext,
                        values.getAsInteger(Apps.UID),
                        values.getAsInteger(Apps.EXEC_UID),
                        values.getAsString(Apps.EXEC_CMD),
                        values.getAsInteger(Apps.ALLOW));
            }
            returnUri = ContentUris.withAppendedId(Apps.CONTENT_URI, rowId);

            break;
        case APP_ID_LOGS:
        case LOGS_APP_ID:
            // TODO: Check validity of incoming data before inserting it
            values.put(Logs.APP_ID, uri.getPathSegments().get(1));
            rowId = mDb.insert(Logs.TABLE_NAME, null, values);
            returnUri = ContentUris.withAppendedId(Logs.CONTENT_URI, rowId);
            // Logs are special, they should also notify of a change to the uri
            // logs/app_id, and all apps uri
            getContext().getContentResolver().notifyChange(
                    ContentUris.withAppendedId(Logs.CONTENT_URI,
                            Long.parseLong(uri.getPathSegments().get(1))),
                    null);
            getContext().getContentResolver().notifyChange(Apps.CONTENT_URI, null);
            break;
        default:
            throw new IllegalArgumentException("Unsupported URI: " + uri);
        }

        if (rowId > -1) {
            getContext().getContentResolver().notifyChange(returnUri, null);
            return returnUri;
        }
        throw new SQLException("Failed to insert row into " + uri);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____MigrationHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____MigrationHelper.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
     * Upgrades the database from version 8 to version 9.
     * <p>This migration accomplishes the following:
     *  <ul>
     *      <li>Adds a commodities table to the database</li>
     *      <li>Adds prices table to the database</li>
     *      <li>Add separate columns for split value and quantity</li>
     *      <li>Migrate amounts to use the correct denominations for the currency</li>
     *  </ul>
     * </p>
     * @param db SQLite Database to be upgraded
     * @return New database version (9) if upgrade successful, old version (8) if unsuccessful
     * @throws RuntimeException if the default commodities could not be imported
     */     */
    static int upgradeDbToVersion6(SQLiteDatabase db) {
        int oldVersion = 5;
        String addFullAccountNameQuery = " ALTER TABLE " + AccountEntry.TABLE_NAME
                + " ADD COLUMN " + AccountEntry.COLUMN_FULL_NAME + " varchar(255) ";
        db.<mark>execSQL</mark>(addFullAccountNameQuery);

        //update all existing accounts with their fully qualified name
        Cursor cursor = db.<mark>query</mark>(AccountEntry.TABLE_NAME,
                new String[]{AccountEntry._ID, AccountEntry.COLUMN_UID},
                null, null, null, null, null);
        while(cursor != null && cursor.moveToNext()){
            String uid = cursor.getString(cursor.getColumnIndexOrThrow(AccountEntry.COLUMN_UID));
            String fullName = getFullyQualifiedAccountName(db, uid);

            if (fullName == null)
                continue;

            ContentValues contentValues = new ContentValues();
            contentValues.put(AccountEntry.COLUMN_FULL_NAME, fullName);

            long id = cursor.getLong(cursor.getColumnIndexOrThrow(AccountEntry._ID));
            db.<mark>update</mark>(AccountEntry.TABLE_NAME, contentValues, AccountEntry._ID + " = " + id, null);
        }

        if (cursor != null) {
            cursor.close();
        }

        oldVersion = 6;
        return oldVersion;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>malmstein_____yahnac_____HNewsProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/malmstein_____yahnac_____HNewsProvider.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

    @Override
    public Uri <mark>insert</mark>(Uri uri, ContentValues values) {
        final SQLiteDatabase db = mOpenHelper.getWritableDatabase();
        final int match = sUriMatcher.match(uri);
        Uri returnUri;

        switch (match) {
            case STORY: {
                Cursor exists = db.<mark>query</mark>(HNewsContract.TABLE_ITEM_NAME,
                        new String[]{HNewsContract.StoryEntry.ITEM_ID},
                        HNewsContract.StoryEntry.ITEM_ID + " = ?",
                        new String[]{values.getAsString(HNewsContract.StoryEntry.ITEM_ID)},
                        null,
                        null,
                        null);
                if (exists.moveToLast()) {
                    long _id = db.<mark>update</mark>(HNewsContract.TABLE_ITEM_NAME, values, HNewsContract.StoryEntry.ITEM_ID + " = ?",
                            new String[]{values.getAsString(HNewsContract.StoryEntry.ITEM_ID)});
                    if (_id > 0) {
                        returnUri = HNewsContract.StoryEntry.buildStoryUriWith(_id);
                    } else {
                        throw new android.database.SQLException("Failed to insert row into " + uri);
                    }
                } else {
                    long _id = db.<mark>insert</mark>(HNewsContract.TABLE_ITEM_NAME, null, values);
                    if (_id > 0) {
                        returnUri = HNewsContract.StoryEntry.buildStoryUriWith(_id);
                    } else {
                        throw new android.database.SQLException("Failed to insert row into " + uri);
                    }
                }
                exists.close();
                break;
            }
            case COMMENT: {
                long _id = db.<mark>insert</mark>(HNewsContract.TABLE_COMMENTS_NAME, null, values);
                if (_id > 0) {
                    returnUri = HNewsContract.CommentsEntry.buildCommentUriWith(_id);
                } else {
                    throw new android.database.SQLException("Failed to insert row into " + uri);
                }
                break;
            }

            case BOOKMARK: {
                long _id = db.<mark>insert</mark>(HNewsContract.TABLE_BOOKMARKS_NAME, null, values);
                if (_id > 0) {
                    returnUri = HNewsContract.BookmarkEntry.buildBookmarksUriWith(_id);
                } else {
                    throw new android.database.SQLException("Failed to insert row into " + uri);
                }
                break;
            }
            default:
                throw new UnsupportedOperationException("Unknown uri: " + uri);
        }
        getContext().getContentResolver().notifyChange(uri, null);
        return returnUri;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>shardul_____Android_____DatabaseOpenHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/shardul_____Android_____DatabaseOpenHelper.java

android.database.sqlite.SQLiteDatabase.query

	@Override
	public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
		log("Database upgrading to : " + newVersion + ", oldVersion : "
				+ oldVersion);
		final long starTimeMillis = System.currentTimeMillis();
		log("Upgrade init on : " + new Date().toString());

		log("Caching old database", true);
		if (cacheOldDB()) {
			log("Caching old completed ", false);

			log("Dropping old tables before recreating schema", true);

			ArrayList<String> oldTableNames = getTableNamesFromDB(db);

			for (String tableName : oldTableNames) {
				db.execSQL("DROP TABLE " + tableName);
				log("dropped : " + tableName, true);
			}

			log("Dropping tables completed", false);

			this.version = newVersion;
			log("Creating new schema, version : " + newVersion, true);
			onCreate(db);
			log("Schema creation completed", true);

			File oldDatabase = new File(CACHE_DIRECTORY + File.separator
					+ DatabaseOpenHelper.DATABASE_NAME + ".old");

			SQLiteDatabase oldDb = SQLiteDatabase.openDatabase(
					oldDatabase.toString(), null, SQLiteDatabase.OPEN_READONLY);

			SQLiteDatabase newDb = db;

			ArrayList<String> newTableNames = getTableNamesFromDB(newDb);

			for (String newTableName : newTableNames) {
				if (oldTableNames.contains(newTableName)) {
					Cursor oldTableDataCursor = oldDb.<mark>query</mark>(newTableName, null,
							null, null, null, null, null);

					if (oldTableDataCursor.moveToNext()) {
						oldTableDataCursor.moveToPrevious();

						Cursor columnsCursor = newDb.rawQuery(
								"PRAGMA table_info(" + newTableName + ");",
								null);

						if (columnsCursor.moveToNext()) {
							columnsCursor.moveToPrevious();

							final int columnNameIndex = columnsCursor
									.getColumnIndex("name");

							ArrayList<String> newColumnNames = new ArrayList<String>(
									columnsCursor.getCount());

							while (columnsCursor.moveToNext()) {
								newColumnNames.add(columnsCursor
										.getString(columnNameIndex));
							}

							String[] oldTableCols = oldTableDataCursor
									.getColumnNames();

							ArrayList<Integer> validIndexes = new ArrayList<Integer>();

							for (int i = 0; i < oldTableCols.length; i++) {
								String oldtableCol = oldTableCols[i];
								if (newColumnNames.contains(oldtableCol)) {
									validIndexes.add(i);
								}
							}

							if (validIndexes.size() > 0) {

								while (oldTableDataCursor.moveToNext()) {

									ContentValues recordValues = new ContentValues();
									for (int i = 0; i < validIndexes.size(); i++) {
										Integer validIndex = validIndexes
												.get(i);

										if (oldTableDataCursor
												.isNull(validIndex))
											continue;

										recordValues.put(
												oldTableCols[validIndex],
												oldTableDataCursor
														.getString(validIndex));
									}

									newDb.insert(newTableName, null,
											recordValues);

								}
							}
						}

					}

					oldTableDataCursor.close();
				}
			}

			// oldDatabase.delete();

		} else {
			log("Caching old database FAILED");
		}

		log("Total time for upgrading: "
				+ (System.currentTimeMillis() - starTimeMillis) + " ms");
		log("Upgrade finished on : " + new Date().toString());
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____AccountManagerService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____AccountManagerService.java

android.database.sqlite.SQLiteDatabase.query

     */
    private void validateAccountsInternal(
            UserAccounts accounts, boolean invalidateAuthenticatorCache) {
        if (invalidateAuthenticatorCache) {
            mAuthenticatorCache.invalidateCache(accounts.userId);
        }

        final HashSet<AuthenticatorDescription> knownAuth = Sets.newHashSet();
        for (RegisteredServicesCache.ServiceInfo<AuthenticatorDescription> service :
                mAuthenticatorCache.getAllServices(accounts.userId)) {
            knownAuth.add(service.type);
        }

        synchronized (accounts.cacheLock) {
            final SQLiteDatabase db = accounts.openHelper.getWritableDatabase();
            boolean accountDeleted = false;
            Cursor cursor = db.<mark>query</mark>(TABLE_ACCOUNTS,
                    new String[]{ACCOUNTS_ID, ACCOUNTS_TYPE, ACCOUNTS_NAME},
                    null, null, null, null, null);
            try {
                accounts.accountCache.clear();
                final HashMap<String, ArrayList<String>> accountNamesByType =
                        new LinkedHashMap<String, ArrayList<String>>();
                while (cursor.moveToNext()) {
                    final long accountId = cursor.getLong(0);
                    final String accountType = cursor.getString(1);
                    final String accountName = cursor.getString(2);

                    if (!knownAuth.contains(AuthenticatorDescription.newKey(accountType))) {
                        Slog.w(TAG, "deleting account " + accountName + " because type "
                                + accountType + " no longer has a registered authenticator");
                        db.delete(TABLE_ACCOUNTS, ACCOUNTS_ID + "=" + accountId, null);
                        accountDeleted = true;
                        final Account account = new Account(accountName, accountType);
                        accounts.userDataCache.remove(account);
                        accounts.authTokenCache.remove(account);
                    } else {
                        ArrayList<String> accountNames = accountNamesByType.get(accountType);
                        if (accountNames == null) {
                            accountNames = new ArrayList<String>();
                            accountNamesByType.put(accountType, accountNames);
                        }
                        accountNames.add(accountName);
                    }
                }
                for (Map.Entry<String, ArrayList<String>> cur
                        : accountNamesByType.entrySet()) {
                    final String accountType = cur.getKey();
                    final ArrayList<String> accountNames = cur.getValue();
                    final Account[] accountsForType = new Account[accountNames.size()];
                    int i = 0;
                    for (String accountName : accountNames) {
                        accountsForType[i] = new Account(accountName, accountType);
                        ++i;
                    }
                    accounts.accountCache.put(accountType, accountsForType);
                }
            } finally {
                cursor.close();
                if (accountDeleted) {
                    sendAccountsChangedBroadcast(accounts.userId);
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rovo89_____XposedInstaller_____RepoDb_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/rovo89_____XposedInstaller_____RepoDb.java

android.database.sqlite.SQLiteDatabase.query


    public static Cursor queryModuleOverview(int sortingOrder,
                                             CharSequence filterText) {
        // Columns
        String[] projection = new String[]{
                "m." + ModulesColumns._ID,
                "m." + ModulesColumns.PKGNAME,
                "m." + ModulesColumns.TITLE,
                "m." + ModulesColumns.SUMMARY,
                "m." + ModulesColumns.CREATED,
                "m." + ModulesColumns.UPDATED,

                "v." + ModuleVersionsColumns.NAME + " AS " + OverviewColumns.LATEST_VERSION,
                "i." + InstalledModulesColumns.VERSION_NAME + " AS " + OverviewColumns.INSTALLED_VERSION,

                "(CASE WHEN m." + ModulesColumns.PKGNAME + " = '" + ModuleUtil.getInstance().getFrameworkPackageName()
                        + "' THEN 1 ELSE 0 END) AS " + OverviewColumns.IS_FRAMEWORK,

                "(CASE WHEN i." + InstalledModulesColumns.VERSION_NAME + " IS NOT NULL"
                        + " THEN 1 ELSE 0 END) AS " + OverviewColumns.IS_INSTALLED,

                "(CASE WHEN v." + ModuleVersionsColumns.CODE + " > " + InstalledModulesColumns.VERSION_CODE
                        + " THEN 1 ELSE 0 END) AS " + OverviewColumns.HAS_UPDATE,
        };

        // Conditions
        String where = ModulesColumns.PREFERRED + " = 1";
        String whereArgs[] = null;
        if (!TextUtils.isEmpty(filterText)) {
            where += " AND (m." + ModulesColumns.TITLE + " LIKE ?"
                    + " OR m." + ModulesColumns.SUMMARY + " LIKE ?"
                    + " OR m." + ModulesColumns.DESCRIPTION + " LIKE ?"
                    + " OR m." + ModulesColumns.AUTHOR + " LIKE ?)";
            String filterTextArg = "%" + filterText + "%";
            whereArgs = new String[]{filterTextArg, filterTextArg, filterTextArg, filterTextArg};
        }

        // Sorting order
        StringBuilder sbOrder = new StringBuilder();
        if (sortingOrder == SORT_CREATED) {
            sbOrder.append(OverviewColumns.CREATED);
            sbOrder.append(" DESC,");
        } else if (sortingOrder == SORT_UPDATED) {
            sbOrder.append(OverviewColumns.UPDATED);
            sbOrder.append(" DESC,");
        }
        sbOrder.append(OverviewColumns.IS_FRAMEWORK);
        sbOrder.append(" DESC, ");
        sbOrder.append(OverviewColumns.HAS_UPDATE);
        sbOrder.append(" DESC, ");
        sbOrder.append(OverviewColumns.IS_INSTALLED);
        sbOrder.append(" DESC, ");
        sbOrder.append("m.");
        sbOrder.append(OverviewColumns.TITLE);
        sbOrder.append(" COLLATE NOCASE, ");
        sbOrder.append("m.");
        sbOrder.append(OverviewColumns.PKGNAME);

        // Query
        Cursor c = sDb.<mark>query</mark>(
                ModulesColumns.TABLE_NAME + " AS m"
                    + " LEFT JOIN " + ModuleVersionsColumns.TABLE_NAME + " AS v"
                        + " ON v." + ModuleVersionsColumns._ID + " = m." + ModulesColumns.LATEST_VERSION
                    + " LEFT JOIN " + InstalledModulesColumns.TABLE_NAME + " AS i"
                        + " ON i." + InstalledModulesColumns.PKGNAME + " = m." + ModulesColumns.PKGNAME,
                projection, where, whereArgs, null, null, sbOrder.toString());

        // Cache column indexes
        OverviewColumnsIndexes.fillFromCursor(c);

        return c;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getWearCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");
        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        expressions = expressions.replaceAll("'", "''");

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND (" + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL)" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            try {
                count = statement.simpleQueryForLong();
            } catch (Exception x) {
                return null;
            }
        }
        int position = getPosition(sharedPreferences.getInt("current_account", 1));

        try {
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", count - position + "," + position);
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", count - position + "," + position);
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>OneSignal_____OneSignal-Android-SDK_____NotificationSummaryManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/OneSignal_____OneSignal-Android-SDK_____NotificationSummaryManager.java

android.database.sqlite.SQLiteDatabase.query

   
   private static Cursor internalUpdateSummaryNotificationAfterChildRemoved(Context context, SQLiteDatabase writableDb, String group, boolean dismissed) {
      Cursor cursor = writableDb.<mark>query</mark>(
          NotificationTable.TABLE_NAME,
          new String[] { NotificationTable.COLUMN_NAME_ANDROID_NOTIFICATION_ID, // return columns
              NotificationTable.COLUMN_NAME_CREATED_TIME },
          NotificationTable.COLUMN_NAME_GROUP_ID + " = ? AND " + // Where String
              NotificationTable.COLUMN_NAME_DISMISSED + " = 0 AND " +
              NotificationTable.COLUMN_NAME_OPENED + " = 0 AND " +
              NotificationTable.COLUMN_NAME_IS_SUMMARY + " = 0" ,
          new String[] { group }, // whereArgs
          null, null,
          NotificationTable._ID + " DESC");   // sort order, new to old);
   
      int notifsInGroup = cursor.getCount();
   
      // If all individual notifications consumed
      //   - Remove summary notification from the shade.
      //   - Mark summary notification as consumed.
      if (notifsInGroup == 0) {
         cursor.close();
   
         Integer androidNotifId = getSummaryNotificationId(writableDb, group);
         if (androidNotifId == null)
            return cursor;
      
         // Remove the summary notification from the shade.
         NotificationManager notificationManager = (NotificationManager)context.getSystemService(Context.NOTIFICATION_SERVICE);
         notificationManager.cancel(androidNotifId);
      
         // Mark the summary notification as opened or dismissed.
         ContentValues values = new ContentValues();
         values.put(dismissed ? NotificationTable.COLUMN_NAME_DISMISSED : NotificationTable.COLUMN_NAME_OPENED, 1);
         writableDb.update(NotificationTable.TABLE_NAME,
             values,
             NotificationTable.COLUMN_NAME_ANDROID_NOTIFICATION_ID + " = " + androidNotifId,
             null);
         return cursor;
      }
   
      // Only a single notification now in the group
      //   - Need to recreate a summary notification so it looks like a normal notifications since we
      //        only have one notification now.
      if (notifsInGroup == 1) {
         cursor.close();
         Integer androidNotifId = getSummaryNotificationId(writableDb, group);
         if (androidNotifId == null)
            return cursor;
         restoreSummary(context, group);
         return cursor;
      }
      
      // 2 or more still left in the group
      //  - Just need to update the summary notification.
      //  - Don't need start a broadcast / service as the extender doesn't support overriding
      //      the summary notification.
      try {
         cursor.moveToFirst();
         Long datetime = cursor.getLong(cursor.getColumnIndex(NotificationTable.COLUMN_NAME_CREATED_TIME));
         cursor.close();
   
         Integer androidNotifId = getSummaryNotificationId(writableDb, group);
         if (androidNotifId == null)
            return cursor;
         
         NotificationGenerationJob notifJob = new NotificationGenerationJob(context);
         notifJob.restoring = true;
         notifJob.shownTimeStamp = datetime;
      
         JSONObject payload = new JSONObject();
         payload.put("grp", group);
         notifJob.jsonPayload = payload;
      
         GenerateNotification.updateSummaryNotification(notifJob);
      } catch (JSONException e) {}
      
      return cursor;
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____HomeDataSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getWearCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");
        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        expressions = expressions.replaceAll("'", "''");
        clients = clients.replaceAll("'", "''");

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND (" + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL)" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            try {
                count = statement.simpleQueryForLong();
            } catch (Exception x) {
                return null;
            }
        }
        int position = getPosition(sharedPreferences.getInt("current_account", 1));

        try {
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", count - position + "," + position);
        } catch (Exception e) {
            open();
            cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                    allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", count - position + "," + position);
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiprox_____WaniKani-for-Android_____DatabaseManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiprox_____WaniKani-for-Android_____DatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public static RecentUnlocksList getRecentUnlocks(int limit) {
        RecentUnlocksList list = new RecentUnlocksList();

        Cursor c = null;

        try {
            c = db.<mark>query</mark>(
                    RecentUnlocksTable.TABLE_NAME,
                    RecentUnlocksTable.COLUMNS,
                    null,
                    null,
                    null,
                    null,
                    null,
                    String.valueOf(limit)
            );

            if (c != null && c.moveToFirst()) {
                do {
                    UnlockItem item = new UnlockItem(
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_ID)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_CHARACTER)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_KANA)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_MEANING)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_IMAGE)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_ONYOMI)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_KUNYOMI)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_IMPORTANT_READING)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_LEVEL)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_ITEM_TYPE)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_SRS)),
                            c.getLong(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_UNLOCKED_DATE)),
                            c.getLong(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_AVAILABLE_DATE)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_BURNED)) == 1,
                            c.getLong(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_BURNED_DATE)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_MEANING_CORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_MEANING_INCORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_MEANING_MAX_STREAK)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_MEANING_CURRENT_STREAK)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_READING_CORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_READING_INCORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_READING_MAX_STREAK)),
                            c.getInt(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_READING_CURRENT_STREAK)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_MEANING_NOTE)),
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_USER_SYNONYMS)) != null
                                    ? c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_USER_SYNONYMS)).split(",")
                                    : null,
                            c.getString(c.getColumnIndexOrThrow(RecentUnlocksTable.COLUMN_NAME_READING_NOTE))
                    );
                    list.add(item);
                } while (c.moveToNext());
            }
        } finally {
            if (c != null) {
                c.close();
            }
        }

        return list.size() != 0 ? list : null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____ListDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____ListDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(long listId) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = ListSQLiteHelper.COLUMN_LIST_ID + " = " + listId;

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (noRetweets) {
            where += " AND " + ListSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + ListSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;
        String sql = "SELECT COUNT(*) FROM " + ListSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            count = statement.simpleQueryForLong();
        }
        Log.v("talon_database", "list database has " + count + " entries");
        if (count > 400) {
            try {
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC",
                        (count - 400) + "," + 400);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC",
                        (count - 400) + "," + 400);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>k9mail_____k-9_____MigrationTo51_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/k9mail_____k-9_____MigrationTo51.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insertOrThrow

     */
    public static void db51MigrateMessageFormat(SQLiteDatabase db, MigrationsHelper migrationsHelper) {
        renameOldMessagesTableAndCreateNew(db);

        copyMessageMetadataToNewTable(db);

        File attachmentDirNew, attachmentDirOld;
        Account account = migrationsHelper.getAccount();
        attachmentDirNew = StorageManager.getInstance(migrationsHelper.getContext()).getAttachmentDirectory(
                account.getUuid(), account.getLocalStorageProviderId());
        attachmentDirOld = renameOldAttachmentDirAndCreateNew(account, attachmentDirNew);

        Cursor msgCursor = db.<mark>query</mark>("messages_old",
                new String[] { "id", "flags", "html_content", "text_content", "mime_type", "attachment_count" },
                null, null, null, null, null);
        try {
            Timber.d("migrating %d messages", msgCursor.getCount());
            ContentValues cv = new ContentValues();
            while (msgCursor.moveToNext()) {
                long messageId = msgCursor.getLong(0);
                String messageFlags = msgCursor.getString(1);
                String htmlContent = msgCursor.getString(2);
                String textContent = msgCursor.getString(3);
                String mimeType = msgCursor.getString(4);
                int attachmentCount = msgCursor.getInt(5);

                try {
                    updateFlagsForMessage(db, messageId, messageFlags, migrationsHelper);
                    MimeHeader mimeHeader = loadHeaderFromHeadersTable(db, messageId);

                    MimeStructureState structureState = MimeStructureState.getNewRootState();

                    boolean messageHadSpecialFormat = false;

                    // we do not rely on the protocol parameter here but guess by the multipart structure
                    boolean isMaybePgpMimeEncrypted = attachmentCount == 2
                            && MimeUtil.isSameMimeType(mimeType, "multipart/encrypted");
                    if (isMaybePgpMimeEncrypted) {
                        MimeStructureState maybeStructureState =
                                migratePgpMimeEncryptedContent(db, messageId, attachmentDirOld, attachmentDirNew,
                                        mimeHeader, structureState);
                        if (maybeStructureState != null) {
                            structureState = maybeStructureState;
                            messageHadSpecialFormat = true;
                        }
                    }

                    if (!messageHadSpecialFormat) {
                        boolean isSimpleStructured = attachmentCount == 0 &&
                                Utility.isAnyMimeType(mimeType, "text/plain", "text/html", "multipart/alternative");
                        if (isSimpleStructured) {
                            structureState = migrateSimpleMailContent(db, htmlContent, textContent,
                                    mimeType, mimeHeader, structureState);
                        } else {
                            mimeType = "multipart/mixed";
                            structureState =
                                    migrateComplexMailContent(db, attachmentDirOld, attachmentDirNew, messageId,
                                            htmlContent, textContent, mimeHeader, structureState);
                        }
                    }

                    cv.clear();
                    cv.put("mime_type", mimeType);
                    cv.put("message_part_id", structureState.rootPartId);
                    cv.put("attachment_count", attachmentCount);
                    db.update("messages", cv, "id = ?", new String[] { Long.toString(messageId) });
                } catch (IOException e) {
                    Timber.e(e, "error inserting into database");
                }
            }

        } finally {
            msgCursor.close();
        }

        cleanUpOldAttachmentDirectory(attachmentDirOld);

        dropOldMessagesTable(db);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>scoute-dich_____K9-MailClient_____MigrationTo51_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/scoute-dich_____K9-MailClient_____MigrationTo51.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insertOrThrow

     */
    public static void db51MigrateMessageFormat(SQLiteDatabase db, MigrationsHelper migrationsHelper) {
        renameOldMessagesTableAndCreateNew(db);

        copyMessageMetadataToNewTable(db);

        File attachmentDirNew, attachmentDirOld;
        Account account = migrationsHelper.getAccount();
        attachmentDirNew = StorageManager.getInstance(K9.app).getAttachmentDirectory(
                account.getUuid(), account.getLocalStorageProviderId());
        attachmentDirOld = renameOldAttachmentDirAndCreateNew(account, attachmentDirNew);

        Cursor msgCursor = db.<mark>query</mark>("messages_old",
                new String[] { "id", "flags", "html_content", "text_content", "mime_type", "attachment_count" },
                null, null, null, null, null);
        try {
            Log.d(K9.LOG_TAG, "migrating " + msgCursor.getCount() + " messages");
            ContentValues cv = new ContentValues();
            while (msgCursor.moveToNext()) {
                long messageId = msgCursor.getLong(0);
                String messageFlags = msgCursor.getString(1);
                String htmlContent = msgCursor.getString(2);
                String textContent = msgCursor.getString(3);
                String mimeType = msgCursor.getString(4);
                int attachmentCount = msgCursor.getInt(5);

                try {
                    updateFlagsForMessage(db, messageId, messageFlags, migrationsHelper);
                    MimeHeader mimeHeader = loadHeaderFromHeadersTable(db, messageId);

                    MimeStructureState structureState = MimeStructureState.getNewRootState();

                    boolean messageHadSpecialFormat = false;

                    // we do not rely on the protocol parameter here but guess by the multipart structure
                    boolean isMaybePgpMimeEncrypted = attachmentCount == 2
                            && MimeUtil.isSameMimeType(mimeType, "multipart/encrypted");
                    if (isMaybePgpMimeEncrypted) {
                        MimeStructureState maybeStructureState =
                                migratePgpMimeEncryptedContent(db, messageId, attachmentDirOld, attachmentDirNew,
                                        mimeHeader, structureState);
                        if (maybeStructureState != null) {
                            structureState = maybeStructureState;
                            messageHadSpecialFormat = true;
                        }
                    }

                    if (!messageHadSpecialFormat) {
                        boolean isSimpleStructured = attachmentCount == 0 &&
                                Utility.isAnyMimeType(mimeType, "text/plain", "text/html", "multipart/alternative");
                        if (isSimpleStructured) {
                            structureState = migrateSimpleMailContent(db, htmlContent, textContent,
                                    mimeType, mimeHeader, structureState);
                        } else {
                            mimeType = "multipart/mixed";
                            structureState =
                                    migrateComplexMailContent(db, attachmentDirOld, attachmentDirNew, messageId,
                                            htmlContent, textContent, mimeHeader, structureState);
                        }
                    }

                    cv.clear();
                    cv.put("mime_type", mimeType);
                    cv.put("message_part_id", structureState.rootPartId);
                    cv.put("attachment_count", attachmentCount);
                    db.update("messages", cv, "id = ?", new String[] { Long.toString(messageId) });
                } catch (IOException e) {
                    Log.e(K9.LOG_TAG, "error inserting into database", e);
                }
            }

        } finally {
            msgCursor.close();
        }

        cleanUpOldAttachmentDirectory(attachmentDirOld);

        dropOldMessagesTable(db);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____UserTweetsDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____UserTweetsDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(long userId) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = UserTweetsSQLiteHelper.COLUMN_USER_ID + " = " + userId;

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + UserTweetsSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + UserTweetsSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + UserTweetsSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (noRetweets) {
            where += " AND " + UserTweetsSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + UserTweetsSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;
        String sql = "SELECT COUNT(*) FROM " + UserTweetsSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            count = statement.simpleQueryForLong();
        }
        Log.v("talon_database", "list database has " + count + " entries");
        int maxListSize = AppSettings.getInstance(context).userTweetsSize;
        if (count > maxListSize) {
            try {
                cursor = database.<mark>query</mark>(UserTweetsSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        UserTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC",
                        (count - maxListSize) + "," + maxListSize);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(UserTweetsSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        UserTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC",
                        (count - maxListSize) + "," + maxListSize);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(UserTweetsSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        UserTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(UserTweetsSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        UserTweetsSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MarcusWolschon_____osmeditor4android_____PhotoIndex_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/MarcusWolschon_____osmeditor4android_____PhotoIndex.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.close

/**
     * Query the in memory index for Photos
     * 
     * @param index the index
     * @param box the BoundingBox we are interested in
     * @return a List of Photos
     */     */
    public synchronized void createOrUpdateIndex() {
        Log.d(LOGTAG, "starting scan");
        // determine at least a few of the possible mount points
        File sdcard = Environment.getExternalStorageDirectory();
        ArrayList<String> mountPoints = new ArrayList<>();
        mountPoints.add(sdcard.getAbsolutePath());
        mountPoints.add(sdcard.getAbsolutePath() + Paths.DIRECTORY_PATH_EXTERNAL_SD_CARD);
        File storageDir = new File(Paths.DIRECTORY_PATH_STORAGE);
        File[] list = storageDir.listFiles();
        if (list != null) {
            for (File f : list) {
                if (f.exists() && f.isDirectory() && !sdcard.getAbsolutePath().equals(f.getAbsolutePath())) {
                    Log.d(LOGTAG, "Adding mount point " + f.getAbsolutePath());
                    mountPoints.add(f.getAbsolutePath());
                }
            }
        }

        try {
            SQLiteDatabase db = getWritableDatabase();
            Cursor dbresult = db.<mark>query</mark>("directories", new String[] { "dir", "last_scan" }, null, null, null, null, null, null);
            int dirCount = dbresult.getCount();
            dbresult.moveToFirst();
            // loop over the directories configured
            for (int i = 0; i < dirCount; i++) {
                String dir = dbresult.getString(0);
                long lastScan = dbresult.getLong(1);
                Log.d(LOGTAG, dbresult.getString(0) + " " + dbresult.getLong(1));
                // loop over all possible mount points
                for (String m : mountPoints) {
                    File indir = new File(m + "/" + dir);
                    Log.d(LOGTAG, "Scanning directory " + indir.getAbsolutePath());
                    if (indir.exists()) {
                        Cursor dbresult2 = db.<mark>query</mark>("photos", new String[] { "distinct dir" }, "dir LIKE '" + indir.getAbsolutePath() + "%'", null, null, null,
                                null, null);
                        int dirCount2 = dbresult2.getCount();
                        dbresult2.moveToFirst();
                        for (int j = 0; j < dirCount2; j++) {
                            String dir2 = dbresult2.getString(0);
                            Log.d(LOGTAG, "Checking dir " + dir2);
                            File pDir = new File(dir2);
                            if (!pDir.exists()) {
                                Log.d(LOGTAG, "Deleting entries for gone dir " + dir2);
                                db.delete("photos", "dir = ?", new String[] { dir2 });
                            }
                            dbresult2.moveToNext();
                        }
                        dbresult2.<mark>close</mark>();
                        scanDir(db, indir.getAbsolutePath(), lastScan);
                        ContentValues values = new ContentValues();
                        Log.d(LOGTAG, "updating last scan for " + indir.getName() + " to " + System.currentTimeMillis());
                        values.put("last_scan", System.currentTimeMillis());
                        db.update("directories", values, "dir = ?", new String[] { indir.getName() });
                    } else {
                        Log.d(LOGTAG, "Directory " + indir.getAbsolutePath() + " doesn't exist");
                        // remove all entries for this directory
                        db.delete("photos", "dir = ?", new String[] { indir.getAbsolutePath() });
                        db.delete("photos", "dir LIKE ?", new String[] { indir.getAbsolutePath() + "/%" });
                    }
                }
                dbresult.moveToNext();
            }
            dbresult.<mark>close</mark>();
            db.<mark>close</mark>();
        } catch (SQLiteException ex) {
            // Don't crash just report
            ACRAHelper.nocrashReport(ex, ex.getMessage());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____ListDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____ListDataSource.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(long listId) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");

        expressions = expressions.replaceAll("'", "''");

        String where = ListSQLiteHelper.COLUMN_LIST_ID + " = " + listId;

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + ListSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (noRetweets) {
            where += " AND " + ListSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + ListSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;
        String sql = "SELECT COUNT(*) FROM " + ListSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.compileStatement(sql);
        } catch (Exception e) {
            open();
            statement = database.compileStatement(sql);
        }
        long count;
        try {
            count = statement.simpleQueryForLong();
        } catch (Exception e) {
            open();
            count = statement.simpleQueryForLong();
        }
        Log.v("talon_database", "list database has " + count + " entries");
        int maxListSize = AppSettings.getInstance(context).listSize;
        if (count > maxListSize) {
            try {
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC",
                        (count - maxListSize) + "," + maxListSize);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC",
                        (count - maxListSize) + "," + maxListSize);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(ListSQLiteHelper.TABLE_HOME,
                        allColumns,
                        where,
                        null,
                        null,
                        null,
                        ListSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiprox_____WaniKani-for-Android_____DatabaseManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiprox_____WaniKani-for-Android_____DatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public static CriticalItemsList getCriticalItems(int percentage) {
        CriticalItemsList list = new CriticalItemsList();

        String whereClause = CriticalItemsTable.COLUMN_NAME_PERCENTAGE + " < ?";
        String[] whereArgs = {
                String.valueOf(percentage)
        };

        Cursor c = null;

        try {
            c = db.<mark>query</mark>(
                    CriticalItemsTable.TABLE_NAME,
                    CriticalItemsTable.COLUMNS,
                    whereClause,
                    whereArgs,
                    null,
                    null,
                    null
            );

            if (c != null && c.moveToFirst()) {
                do {
                    CriticalItem item = new CriticalItem(
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_ID)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_CHARACTER)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_KANA)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_MEANING)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_IMAGE)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_ONYOMI)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_KUNYOMI)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_IMPORTANT_READING)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_LEVEL)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_ITEM_TYPE)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_SRS)),
                            c.getLong(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_UNLOCKED_DATE)),
                            c.getLong(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_AVAILABLE_DATE)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_BURNED)) == 1,
                            c.getLong(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_BURNED_DATE)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_MEANING_CORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_MEANING_INCORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_MEANING_MAX_STREAK)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_MEANING_CURRENT_STREAK)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_READING_CORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_READING_INCORRECT)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_READING_MAX_STREAK)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_READING_CURRENT_STREAK)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_MEANING_NOTE)),
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_USER_SYNONYMS)) != null
                                    ? c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_USER_SYNONYMS)).split(",")
                                    : null,
                            c.getString(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_READING_NOTE)),
                            c.getInt(c.getColumnIndexOrThrow(CriticalItemsTable.COLUMN_NAME_PERCENTAGE))
                    );
                    list.add(item);
                } while (c.moveToNext());
            }
        } finally {
            if (c != null) {
                c.close();
            }
        }

        return list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>felixb_____callmeter_____DataProvider_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/felixb_____callmeter_____DataProvider.java

android.database.sqlite.SQLiteQueryBuilder.&ltinit&gt
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.appendWhere
android.database.sqlite.SQLiteQueryBuilder.setTables
android.database.sqlite.SQLiteQueryBuilder.query

    @Override
    public Uri insert(final Uri uri, final ContentValues values) {
        Log.d(TAG, "insert(", uri, ",", values, ")");
        final SQLiteDatabase db = mOpenHelper.getWritableDatabase();
        assert db != null;
        long ret;
        switch (URI_MATCHER.match(uri)) {
            case LOGS:
                ret = db.insert(Logs.TABLE, null, values);
                break;
            case WEBSMS:
                ret = db.insert(WebSMS.TABLE, null, values);
                break;
            case SIPCALL:
                ret = db.insert(SipCall.TABLE, null, values);
                break;
            case PLANS:
                if (!values.containsKey(Plans.ORDER)) {
                    final Cursor c = db.<mark>query</mark>(Plans.TABLE, new String[]{Plans.ORDER}, null, null,
                            null, null, Plans.ORDER + " DESC");
                    if (c != null && c.moveToFirst()) {
                        values.put(Plans.ORDER, c.getInt(0) + 1);
                    }
                    if (c != null && !c.isClosed()) {
                        c.close();
                    }
                }
                ret = db.insert(Plans.TABLE, null, values);
                break;
            case RULES:
                if (!values.containsKey(Rules.ORDER)) {
                    final Cursor c = db.<mark>query</mark>(Rules.TABLE, new String[]{Plans.ORDER}, null, null,
                            null, null, Rules.ORDER + " DESC");
                    if (c != null && c.moveToFirst()) {
                        values.put(Rules.ORDER, c.getInt(0) + 1);
                    }
                    if (c != null && !c.isClosed()) {
                        c.close();
                    }
                }
                ret = db.insert(Rules.TABLE, null, values);
                break;
            case NUMBERS:
                ret = db.insert(Numbers.TABLE, null, values);
                break;
            case NUMBERS_GROUP:
                ret = db.insert(NumbersGroup.TABLE, null, values);
                break;
            case HOURS:
                ret = db.insert(Hours.TABLE, null, values);
                break;
            case HOURS_GROUP:
                ret = db.insert(HoursGroup.TABLE, null, values);
                break;
            default:
                throw new IllegalArgumentException("Unknown Uri " + uri);
        }
        if (ret < 0) {
            Log.d(TAG, "insert(): null");
            return null;
        } else {
            //noinspection ConstantConditions
            getContext().getContentResolver().notifyChange(uri, null);
            final Uri u = ContentUris.withAppendedId(uri, ret);
            Log.d(TAG, "insert(): ", u);
            return u;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>felixb_____callmeter_____DataProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/felixb_____callmeter_____DataProvider.java

android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.insert

    @Override
    public int delete(final Uri uri, final String selection, final String[] selectionArgs) {
        Log.d(TAG, "delete(", uri, ",", selection, ")");
        SQLiteDatabase db = mOpenHelper.getWritableDatabase();
        assert db != null;
        //noinspection ConstantConditions
        ContentResolver cr = getContext().getContentResolver();
        assert cr != null;
        int ret;
        long id;
        Cursor c;
        String w;
        switch (URI_MATCHER.match(uri)) {
            case LOGS:
                ret = db.delete(Logs.TABLE, selection, selectionArgs);
                break;
            case LOGS_ID:
                ret = db.delete(Logs.TABLE,
                        DbUtils.sqlAnd(Logs.ID + "=" + ContentUris.parseId(uri), selection),
                        selectionArgs);
                break;
            case PLANS_ID:
                ret = db.delete(Plans.TABLE,
                        DbUtils.sqlAnd(Plans.ID + "=" + ContentUris.parseId(uri), selection),
                        selectionArgs);
                break;
            case RULES_ID:
                ret = db.delete(Rules.TABLE,
                        DbUtils.sqlAnd(Rules.ID + "=" + ContentUris.parseId(uri), selection),
                        selectionArgs);
                break;
            case NUMBERS_ID:
                id = ContentUris.parseId(uri);
                w = DbUtils.sqlAnd(Numbers.ID + "=" + id, selection);
                c = db.<mark>query</mark>(Numbers.TABLE, new String[]{Numbers.GID}, w, selectionArgs, null, null,
                        null);
                if (c != null && c.moveToFirst()) {
                    final long gid = c.getLong(0);
                    cr.notifyChange(ContentUris.withAppendedId(Numbers.GROUP_URI, gid), null);
                }
                if (c != null && !c.isClosed()) {
                    c.close();
                }
                ret = db.delete(Numbers.TABLE, w, selectionArgs);
                break;
            case NUMBERS_GID:
            case NUMBERS_GROUP_ID:
                id = ContentUris.parseId(uri);
                ret = db.delete(Numbers.TABLE, DbUtils.sqlAnd(Numbers.GID + "=" + id, selection),
                        selectionArgs);
                ret += db.delete(NumbersGroup.TABLE, NumbersGroup.ID + " = " + id, null);
                break;
            case HOURS_ID:
                id = ContentUris.parseId(uri);
                w = DbUtils.sqlAnd(Hours.ID + "=" + id, selection);
                c = db.<mark>query</mark>(Hours.TABLE, new String[]{Hours.GID}, w, selectionArgs, null, null,
                        null);
                if (c != null && c.moveToFirst()) {
                    final long gid = c.getLong(0);
                    cr.notifyChange(ContentUris.withAppendedId(Hours.GROUP_URI, gid), null);
                }
                if (c != null && !c.isClosed()) {
                    c.close();
                }
                ret = db.delete(Hours.TABLE,
                        DbUtils.sqlAnd(Hours.ID + "=" + ContentUris.parseId(uri), selection),
                        selectionArgs);
                break;
            case HOURS_GID:
            case HOURS_GROUP_ID:
                id = ContentUris.parseId(uri);
                ret = db.delete(Hours.TABLE, DbUtils.sqlAnd(Hours.GID + "=" + id, selection),
                        selectionArgs);
                ret += db.delete(HoursGroup.TABLE, HoursGroup.ID + " = " + id, null);
                break;
            default:
                throw new IllegalArgumentException("Unknown Uri " + uri);
        }
        if (ret > 0) {
            cr.notifyChange(uri, null);
        }
        return ret;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiprox_____WaniKani-for-Android_____DatabaseManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/xiprox_____WaniKani-for-Android_____DatabaseManager.java

android.database.sqlite.SQLiteDatabase.query


    public static ItemsList getItems(BaseItem.ItemType itemType, int[] levels) {
        ItemsList list = new ItemsList();

        for (int level : levels) {
            String whereClause = ItemsTable.COLUMN_NAME_ITEM_TYPE + " = ?" + " AND "
                    + ItemsTable.COLUMN_NAME_LEVEL + " = ?";
            String[] whereArgs = {
                    itemType.toString(),
                    String.valueOf(level)
            };

            Cursor c = null;

            try {
                c = db.<mark>query</mark>(
                        ItemsTable.TABLE_NAME,
                        ItemsTable.COLUMNS,
                        whereClause,
                        whereArgs,
                        null,
                        null,
                        null
                );

                if (c != null && c.moveToFirst()) {
                    do {
                        BaseItem item = new BaseItem(
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_ID)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_CHARACTER)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_KANA)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_MEANING)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_IMAGE)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_ONYOMI)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_KUNYOMI)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_IMPORTANT_READING)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_LEVEL)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_ITEM_TYPE)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_SRS)),
                                c.getLong(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_UNLOCKED_DATE)),
                                c.getLong(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_AVAILABLE_DATE)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_BURNED)) == 1,
                                c.getLong(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_BURNED_DATE)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_MEANING_CORRECT)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_MEANING_INCORRECT)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_MEANING_MAX_STREAK)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_MEANING_CURRENT_STREAK)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_READING_CORRECT)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_READING_INCORRECT)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_READING_MAX_STREAK)),
                                c.getInt(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_READING_CURRENT_STREAK)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_MEANING_NOTE)),
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_USER_SYNONYMS)) != null
                                        ? c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_USER_SYNONYMS)).split(",")
                                        : null,
                                c.getString(c.getColumnIndexOrThrow(ItemsTable.COLUMN_NAME_READING_NOTE))
                        );
                        list.add(item);
                    } while (c.moveToNext());
                }
            } finally {
                if (c != null) {
                    c.close();
                }
            }
        }

        return list.size() != 0 ? list : null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>k9mail_____k-9_____MigrationTo51_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/k9mail_____k-9_____MigrationTo51.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    private static MimeStructureState migratePgpMimeEncryptedContent(SQLiteDatabase db, long messageId,
            File attachmentDirOld, File attachmentDirNew, MimeHeader mimeHeader, MimeStructureState structureState) {

        Timber.d("Attempting to migrate multipart/encrypted as pgp/mime");

        // we only handle attachment count == 2 here, so simply sorting application/pgp-encrypted
        // to the front (and application/octet-stream second) should suffice.
        String orderBy = "(mime_type LIKE 'application/pgp-encrypted') DESC";
        Cursor cursor = db.<mark>query</mark>("attachments",
                new String[] {
                        "id", "size", "name", "mime_type", "store_data",
                        "content_uri", "content_id", "content_disposition"
                },
                "message_id = ?", new String[] { Long.toString(messageId) }, null, null, orderBy);

        try {
            if (cursor.getCount() != 2) {
                Timber.e("Found multipart/encrypted but bad number of attachments, handling as regular mail");
                return null;
            }

            cursor.moveToFirst();

            long firstPartId = cursor.getLong(0);
            int firstPartSize = cursor.getInt(1);
            String firstPartName = cursor.getString(2);
            String firstPartMimeType = cursor.getString(3);
            String firstPartStoreData = cursor.getString(4);
            String firstPartContentUriString = cursor.getString(5);

            if (!MimeUtil.isSameMimeType(firstPartMimeType, "application/pgp-encrypted")) {
                Timber.e("First part in multipart/encrypted wasn't application/pgp-encrypted, " +
                        "not handling as pgp/mime");
                return null;
            }

            cursor.moveToNext();

            long secondPartId = cursor.getLong(0);
            int secondPartSize = cursor.getInt(1);
            String secondPartName = cursor.getString(2);
            String secondPartMimeType = cursor.getString(3);
            String secondPartStoreData = cursor.getString(4);
            String secondPartContentUriString = cursor.getString(5);

            if (!MimeUtil.isSameMimeType(secondPartMimeType, "application/octet-stream")) {
                Timber.e("First part in multipart/encrypted wasn't application/octet-stream, not handling as pgp/mime");
                return null;
            }

            String boundary = MimeUtility.getHeaderParameter(
                    mimeHeader.getFirstHeader(MimeHeader.HEADER_CONTENT_TYPE), "boundary");
            if (TextUtils.isEmpty(boundary)) {
                boundary = MimeUtil.createUniqueBoundary();
            }
            mimeHeader.setHeader(MimeHeader.HEADER_CONTENT_TYPE,
                    String.format("multipart/encrypted; boundary=\"%s\"; protocol=\"application/pgp-encrypted\"", boundary));

            ContentValues cv = new ContentValues();
            cv.put("type", MESSAGE_PART_TYPE__UNKNOWN);
            cv.put("data_location", DATA_LOCATION__IN_DATABASE);
            cv.put("mime_type", "multipart/encrypted");
            cv.put("header", mimeHeader.toString());
            cv.put("boundary", boundary);
            structureState.applyValues(cv);

            long rootMessagePartId = db.insertOrThrow("message_parts", null, cv);
            structureState = structureState.nextMultipartChild(rootMessagePartId);

            structureState =
                    insertMimeAttachmentPart(db, attachmentDirOld, attachmentDirNew, structureState, firstPartId,
                            firstPartSize, firstPartName, "application/pgp-encrypted", firstPartStoreData,
                            firstPartContentUriString, null, null);

            structureState =
                    insertMimeAttachmentPart(db, attachmentDirOld, attachmentDirNew, structureState, secondPartId,
                            secondPartSize, secondPartName, "application/octet-stream", secondPartStoreData,
                            secondPartContentUriString, null, null);
        } finally {
            cursor.close();
        }

        return structureState;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");
        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        expressions = expressions.replaceAll("'", "''");

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND (" + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL)" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.<mark>compileStatement</mark>(sql);
        } catch (Exception e) {
            open();
            statement = database.<mark>compileStatement</mark>(sql);
        }
        long count;
        try {
            count = statement.<mark>simpleQueryForLong</mark>();
        } catch (Exception e) {
            open();
            try {
                count = statement.<mark>simpleQueryForLong</mark>();
            } catch (Exception x) {
                return null;
            }
        }
        Log.v("talon_database", "home database has " + count + " entries");
        if (count > timelineSize) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - timelineSize) + "," + timelineSize);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - timelineSize) + "," + timelineSize);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>scoute-dich_____K9-MailClient_____MigrationTo51_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/scoute-dich_____K9-MailClient_____MigrationTo51.java

android.database.sqlite.SQLiteDatabase.query

    @Nullable
    private static MimeStructureState migratePgpMimeEncryptedContent(SQLiteDatabase db, long messageId,
            File attachmentDirOld, File attachmentDirNew, MimeHeader mimeHeader, MimeStructureState structureState) {

        Log.d(K9.LOG_TAG, "Attempting to migrate multipart/encrypted as pgp/mime");

        // we only handle attachment count == 2 here, so simply sorting application/pgp-encrypted
        // to the front (and application/octet-stream second) should suffice.
        String orderBy = "(mime_type LIKE 'application/pgp-encrypted') DESC";
        Cursor cursor = db.<mark>query</mark>("attachments",
                new String[] {
                        "id", "size", "name", "mime_type", "store_data",
                        "content_uri", "content_id", "content_disposition"
                },
                "message_id = ?", new String[] { Long.toString(messageId) }, null, null, orderBy);

        try {
            if (cursor.getCount() != 2) {
                Log.e(K9.LOG_TAG, "Found multipart/encrypted but bad number of attachments, handling as regular mail");
                return null;
            }

            cursor.moveToFirst();

            long firstPartId = cursor.getLong(0);
            int firstPartSize = cursor.getInt(1);
            String firstPartName = cursor.getString(2);
            String firstPartMimeType = cursor.getString(3);
            String firstPartStoreData = cursor.getString(4);
            String firstPartContentUriString = cursor.getString(5);

            if (!MimeUtil.isSameMimeType(firstPartMimeType, "application/pgp-encrypted")) {
                Log.e(K9.LOG_TAG,
                        "First part in multipart/encrypted wasn't application/pgp-encrypted, not handling as pgp/mime");
                return null;
            }

            cursor.moveToNext();

            long secondPartId = cursor.getLong(0);
            int secondPartSize = cursor.getInt(1);
            String secondPartName = cursor.getString(2);
            String secondPartMimeType = cursor.getString(3);
            String secondPartStoreData = cursor.getString(4);
            String secondPartContentUriString = cursor.getString(5);

            if (!MimeUtil.isSameMimeType(secondPartMimeType, "application/octet-stream")) {
                Log.e(K9.LOG_TAG,
                        "First part in multipart/encrypted wasn't application/octet-stream, not handling as pgp/mime");
                return null;
            }

            String boundary = MimeUtility.getHeaderParameter(
                    mimeHeader.getFirstHeader(MimeHeader.HEADER_CONTENT_TYPE), "boundary");
            if (TextUtils.isEmpty(boundary)) {
                boundary = MimeUtil.createUniqueBoundary();
            }
            mimeHeader.setHeader(MimeHeader.HEADER_CONTENT_TYPE,
                    String.format("multipart/encrypted; boundary=\"%s\"; protocol=\"application/pgp-encrypted\"", boundary));

            ContentValues cv = new ContentValues();
            cv.put("type", MESSAGE_PART_TYPE__UNKNOWN);
            cv.put("data_location", DATA_LOCATION__IN_DATABASE);
            cv.put("mime_type", "multipart/encrypted");
            cv.put("header", mimeHeader.toString());
            cv.put("boundary", boundary);
            structureState.applyValues(cv);

            long rootMessagePartId = db.insertOrThrow("message_parts", null, cv);
            structureState = structureState.nextMultipartChild(rootMessagePartId);

            structureState =
                    insertMimeAttachmentPart(db, attachmentDirOld, attachmentDirNew, structureState, firstPartId,
                            firstPartSize, firstPartName, "application/pgp-encrypted", firstPartStoreData,
                            firstPartContentUriString, null, null);

            structureState =
                    insertMimeAttachmentPart(db, attachmentDirOld, attachmentDirNew, structureState, secondPartId,
                            secondPartSize, secondPartName, "application/octet-stream", secondPartStoreData,
                            secondPartContentUriString, null, null);
        } finally {
            cursor.close();
        }

        return structureState;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getLinksCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " + HomeSQLiteHelper.COLUMN_URL + " LIKE '%ht%'";

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND (" + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL)" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.<mark>compileStatement</mark>(sql);
        } catch (Exception e) {
            open();
            statement = database.<mark>compileStatement</mark>(sql);
        }
        long count;
        try {
            count = statement.<mark>simpleQueryForLong</mark>();
        } catch (Exception e) {
            open();
            try {
                count = statement.<mark>simpleQueryForLong</mark>();
            } catch (Exception x) {
                return null;
            }
        }
        if (count > 200) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android_____platform_packages_apps_browser_____BrowserProvider2_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/android_____platform_packages_apps_browser_____BrowserProvider2.java

android.database.sqlite.SQLiteDatabase.query


        boolean importFromBrowserProvider(SQLiteDatabase db) {
            Context context = getContext();
            File oldDbFile = context.getDatabasePath(BrowserProvider.sDatabaseName);
            if (oldDbFile.exists()) {
                BrowserProvider.DatabaseHelper helper =
                        new BrowserProvider.DatabaseHelper(context);
                SQLiteDatabase oldDb = helper.getWritableDatabase();
                Cursor c = null;
                try {
                    String table = BrowserProvider.TABLE_NAMES[BrowserProvider.URI_MATCH_BOOKMARKS];
                    // Import bookmarks
                    c = oldDb.<mark>query</mark>(table,
                            new String[] {
                            BookmarkColumns.URL, // 0
                            BookmarkColumns.TITLE, // 1
                            BookmarkColumns.FAVICON, // 2
                            BookmarkColumns.TOUCH_ICON, // 3
                            BookmarkColumns.CREATED, // 4
                            }, BookmarkColumns.BOOKMARK + "!=0", null,
                            null, null, null);
                    if (c != null) {
                        while (c.moveToNext()) {
                            String url = c.getString(0);
                            if (TextUtils.isEmpty(url))
                                continue; // We require a valid URL
                            ContentValues values = new ContentValues();
                            values.put(Bookmarks.URL, url);
                            values.put(Bookmarks.TITLE, c.getString(1));
                            values.put(Bookmarks.DATE_CREATED, c.getInt(4));
                            values.put(Bookmarks.POSITION, 0);
                            values.put(Bookmarks.PARENT, FIXED_ID_ROOT);
                            ContentValues imageValues = new ContentValues();
                            imageValues.put(Images.URL, url);
                            imageValues.put(Images.FAVICON, c.getBlob(2));
                            imageValues.put(Images.TOUCH_ICON, c.getBlob(3));
                            db.insert(TABLE_IMAGES, Images.THUMBNAIL, imageValues);
                            db.insert(TABLE_BOOKMARKS, Bookmarks.DIRTY, values);
                        }
                        c.close();
                    }
                    // Import history
                    c = oldDb.<mark>query</mark>(table,
                            new String[] {
                            BookmarkColumns.URL, // 0
                            BookmarkColumns.TITLE, // 1
                            BookmarkColumns.VISITS, // 2
                            BookmarkColumns.DATE, // 3
                            BookmarkColumns.CREATED, // 4
                            }, BookmarkColumns.VISITS + " > 0 OR "
                            + BookmarkColumns.BOOKMARK + " = 0",
                            null, null, null, null);
                    if (c != null) {
                        while (c.moveToNext()) {
                            ContentValues values = new ContentValues();
                            String url = c.getString(0);
                            if (TextUtils.isEmpty(url))
                                continue; // We require a valid URL
                            values.put(History.URL, url);
                            values.put(History.TITLE, c.getString(1));
                            values.put(History.VISITS, c.getInt(2));
                            values.put(History.DATE_LAST_VISITED, c.getLong(3));
                            values.put(History.DATE_CREATED, c.getLong(4));
                            db.insert(TABLE_HISTORY, History.FAVICON, values);
                        }
                        c.close();
                    }
                    // Wipe the old DB, in case the delete fails.
                    oldDb.delete(table, null, null);
                } finally {
                    if (c != null) c.close();
                    oldDb.close();
                    helper.close();
                }
                if (!oldDbFile.delete()) {
                    oldDbFile.deleteOnExit();
                }
                return true;
            }
            return false;
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____HomeDataSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");
        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account;

        expressions = expressions.replaceAll("'", "''");
        clients = clients.replaceAll("'", "''");

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND (" + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL)" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.<mark>compileStatement</mark>(sql);
        } catch (Exception e) {
            open();
            statement = database.<mark>compileStatement</mark>(sql);
        }
        long count;
        try {
            count = statement.<mark>simpleQueryForLong</mark>();
        } catch (Exception e) {
            open();
            try {
                count = statement.<mark>simpleQueryForLong</mark>();
            } catch (Exception x) {
                return null;
            }
        }
        Log.v("talon_database", "home database has " + count + " entries");
        if (count > timelineSize) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - timelineSize) + "," + timelineSize);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - timelineSize) + "," + timelineSize);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____HomeDataSource_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getLinksCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");
        clients = clients.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " + HomeSQLiteHelper.COLUMN_URL + " LIKE '%ht%'";

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND (" + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL)" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.<mark>compileStatement</mark>(sql);
        } catch (Exception e) {
            open();
            statement = database.<mark>compileStatement</mark>(sql);
        }
        long count;
        try {
            count = statement.<mark>simpleQueryForLong</mark>();
        } catch (Exception e) {
            open();
            try {
                count = statement.<mark>simpleQueryForLong</mark>();
            } catch (Exception x) {
                return null;
            }
        }
        if (count > 200) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____Talon-for-Twitter_____HomeDataSource_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____Talon-for-Twitter_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getPicsCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " + HomeSQLiteHelper.COLUMN_PIC_URL + " LIKE '%ht%'";

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        where += " AND " + HomeSQLiteHelper.COLUMN_PIC_URL + " NOT LIKE " + "'%youtu%'";

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.<mark>compileStatement</mark>(sql);
        } catch (Exception e) {
            open();
            statement = database.<mark>compileStatement</mark>(sql);
        }
        long count;
        try {
            count = statement.<mark>simpleQueryForLong</mark>();
        } catch (Exception e) {
            open();
            try {
                count = statement.<mark>simpleQueryForLong</mark>();
            } catch (Exception x) {
                return null;
            }
        }
        if (count > 200) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>klinker24_____talon-for-twitter-android_____HomeDataSource_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/klinker24_____talon-for-twitter-android_____HomeDataSource.java

android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteDatabase.compileStatement
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteStatement.simpleQueryForLong
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query


    public synchronized Cursor getPicsCursor(int account) {

        String users = sharedPreferences.getString("muted_users", "");
        String rts = sharedPreferences.getString("muted_rts", "");
        String hashtags = sharedPreferences.getString("muted_hashtags", "");
        String expressions = sharedPreferences.getString("muted_regex", "");
        String clients = sharedPreferences.getString("muted_clients", "");

        expressions = expressions.replaceAll("'", "''");
        clients = clients.replaceAll("'", "''");

        String where = HomeSQLiteHelper.COLUMN_ACCOUNT + " = " + account + " AND " + HomeSQLiteHelper.COLUMN_PIC_URL + " LIKE '%ht%'";

        if (!users.equals("")) {
            String[] split = users.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_SCREEN_NAME + " NOT LIKE '" + s + "'";
            }

            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        if (!hashtags.equals("")) {
            String[] split = hashtags.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_HASHTAGS + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!expressions.equals("")) {
            String[] split = expressions.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_TEXT + " NOT LIKE " + "'%" + s + "%'";
            }
        }

        if (!clients.equals("")) {
            String[] split = clients.split("   ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " NOT LIKE " + "'%" + s + "%'" + " OR " + HomeSQLiteHelper.COLUMN_CLIENT_SOURCE + " is NULL" ;
            }
        }

        if (noRetweets) {
            where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " = '' OR " + HomeSQLiteHelper.COLUMN_RETWEETER + " is NULL";
        } else if (!rts.equals("")) {
            String[] split = rts.split(" ");
            for (String s : split) {
                where += " AND " + HomeSQLiteHelper.COLUMN_RETWEETER + " NOT LIKE '" + s + "'";
            }
        }

        where += " AND " + HomeSQLiteHelper.COLUMN_PIC_URL + " NOT LIKE " + "'%youtu%'";

        Cursor cursor;

        String sql = "SELECT COUNT(*) FROM " + HomeSQLiteHelper.TABLE_HOME + " WHERE " + where;
        SQLiteStatement statement;
        try {
            statement = database.<mark>compileStatement</mark>(sql);
        } catch (Exception e) {
            open();
            statement = database.<mark>compileStatement</mark>(sql);
        }
        long count;
        try {
            count = statement.<mark>simpleQueryForLong</mark>();
        } catch (Exception e) {
            open();
            try {
                count = statement.<mark>simpleQueryForLong</mark>();
            } catch (Exception x) {
                return null;
            }
        }
        if (count > 200) {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC", (count - 200) + "," + 200);
            }
        } else {
            try {
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            } catch (Exception e) {
                open();
                cursor = database.<mark>query</mark>(HomeSQLiteHelper.TABLE_HOME,
                        allColumns, where, null, null, null, HomeSQLiteHelper.COLUMN_TWEET_ID + " ASC");
            }
        }

        return cursor;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>OneSignal_____OneSignal-Android-SDK_____GenerateNotificationRunner_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/OneSignal_____OneSignal-Android-SDK_____GenerateNotificationRunner.java

android.database.sqlite.SQLiteDatabase.query

   @Test
   public void shouldGenerate2BasicGroupNotifications() throws Exception {
      // Make sure the notification got posted and the content is correct.
      Bundle bundle = getBaseNotifBundle();
      bundle.putString("grp", "test1");
      NotificationBundleProcessor_ProcessFromGCMIntentService(blankActivity, bundle, null);

      Map<Integer, PostedNotification> postedNotifs = ShadowRoboNotificationManager.notifications;
      assertEquals(2, postedNotifs.size());

      // Test summary notification
      Iterator<Map.Entry<Integer, PostedNotification>> postedNotifsIterator = postedNotifs.entrySet().iterator();
      PostedNotification postedNotification = postedNotifsIterator.next().getValue();

      assertEquals(notifMessage, postedNotification.getShadow().getContentText());
      assertEquals(Notification.FLAG_GROUP_SUMMARY, postedNotification.notif.flags & Notification.FLAG_GROUP_SUMMARY);

      // Test Android Wear notification
      postedNotification = postedNotifsIterator.next().getValue();
      assertEquals(notifMessage, postedNotification.getShadow().getContentText());
      assertEquals(0, postedNotification.notif.flags & Notification.FLAG_GROUP_SUMMARY);
      // Badge count should only be one as only one notification is visible in the notification area.
      assertEquals(1, ShadowBadgeCountUpdater.lastCount);


      // Should be 2 DB entries (summary and individual)
      SQLiteDatabase readableDb = OneSignalDbHelper.getInstance(blankActivity).getReadableDatabase();
      Cursor cursor = readableDb.<mark>query</mark>(NotificationTable.TABLE_NAME, null, null, null, null, null, null);
      assertEquals(2, cursor.getCount());
      cursor.close();


      // Add another notification to the group.
      ShadowRoboNotificationManager.notifications.clear();
      bundle = new Bundle();
      bundle.putString("alert", "Notif test 2");
      bundle.putString("custom", "{\"i\": \"UUID2\"}");
      bundle.putString("grp", "test1");
      NotificationBundleProcessor_ProcessFromGCMIntentService(blankActivity, bundle, null);

      postedNotifs = ShadowRoboNotificationManager.notifications;
      assertEquals(2, postedNotifs.size());
      assertEquals(2, ShadowBadgeCountUpdater.lastCount);

      postedNotifsIterator = postedNotifs.entrySet().iterator();
      postedNotification = postedNotifsIterator.next().getValue();
      assertEquals("2 new messages",postedNotification.getShadow().getContentText());
      assertEquals(Notification.FLAG_GROUP_SUMMARY, postedNotification.notif.flags & Notification.FLAG_GROUP_SUMMARY);

      // Test Android Wear notification
      postedNotification = postedNotifsIterator.next().getValue();
      assertEquals("Notif test 2", postedNotification.getShadow().getContentText());
      assertEquals(0, postedNotification.notif.flags & Notification.FLAG_GROUP_SUMMARY);


      // Should be 3 DB entries (summary and 2 individual)
      readableDb = OneSignalDbHelper.getInstance(blankActivity).getReadableDatabase();
      cursor = readableDb.<mark>query</mark>(NotificationTable.TABLE_NAME, null, null, null, null, null, null);
      assertEquals(3, cursor.getCount());


      // Open summary notification
      postedNotifsIterator = postedNotifs.entrySet().iterator();
      postedNotification = postedNotifsIterator.next().getValue();
      Intent intent = createOpenIntent(postedNotification.id, bundle).putExtra("summary", "test1");
      NotificationOpenedProcessor_processFromContext(blankActivity, intent);
      assertEquals(0, ShadowBadgeCountUpdater.lastCount);
      // 2 open calls should fire.
      assertEquals(2, ShadowOneSignalRestClient.networkCallCount);
      ShadowRoboNotificationManager.notifications.clear();

      // Send 3rd notification
      bundle = new Bundle();
      bundle.putString("alert", "Notif test 3");
      bundle.putString("custom", "{\"i\": \"UUID3\"}");
      bundle.putString("grp", "test1");
      NotificationBundleProcessor_ProcessFromGCMIntentService(blankActivity, bundle, null);

      postedNotifsIterator = postedNotifs.entrySet().iterator();
      postedNotification = postedNotifsIterator.next().getValue();
      assertEquals("Notif test 3", postedNotification.getShadow().getContentText());
      assertEquals(Notification.FLAG_GROUP_SUMMARY, postedNotification.notif.flags & Notification.FLAG_GROUP_SUMMARY);
      assertEquals(1, ShadowBadgeCountUpdater.lastCount);
      cursor.close();
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rovo89_____XposedInstaller_____RepoDb_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/rovo89_____XposedInstaller_____RepoDb.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction


    public static Module getModuleByPackageName(String packageName) {
        // The module itself
        String[] projection = new String[]{
                ModulesColumns._ID,
                ModulesColumns.REPO_ID,
                ModulesColumns.PKGNAME,
                ModulesColumns.TITLE,
                ModulesColumns.SUMMARY,
                ModulesColumns.DESCRIPTION,
                ModulesColumns.DESCRIPTION_IS_HTML,
                ModulesColumns.AUTHOR,
                ModulesColumns.SUPPORT,
                ModulesColumns.CREATED,
                ModulesColumns.UPDATED,
        };

        String where = ModulesColumns.PREFERRED + " = 1 AND " + ModulesColumns.PKGNAME + " = ?";
        String[] whereArgs = new String[]{packageName};

        Cursor c = sDb.<mark>query</mark>(ModulesColumns.TABLE_NAME, projection, where, whereArgs, null, null, null, "1");
        if (!c.moveToFirst()) {
            c.close();
            return null;
        }

        long moduleId = c.getLong(c.getColumnIndexOrThrow(ModulesColumns._ID));
        long repoId = c.getLong(c.getColumnIndexOrThrow(ModulesColumns.REPO_ID));

        Module mod = new Module(RepoLoader.getInstance().getRepository(repoId));
        mod.packageName = c.getString(c.getColumnIndexOrThrow(ModulesColumns.PKGNAME));
        mod.name = c.getString(c.getColumnIndexOrThrow(ModulesColumns.TITLE));
        mod.summary = c.getString(c.getColumnIndexOrThrow(ModulesColumns.SUMMARY));
        mod.description = c.getString(c.getColumnIndexOrThrow(ModulesColumns.DESCRIPTION));
        mod.descriptionIsHtml = c.getInt(c.getColumnIndexOrThrow(ModulesColumns.DESCRIPTION_IS_HTML)) > 0;
        mod.author = c.getString(c.getColumnIndexOrThrow(ModulesColumns.AUTHOR));
        mod.support = c.getString(c.getColumnIndexOrThrow(ModulesColumns.SUPPORT));
        mod.created = c.getLong(c.getColumnIndexOrThrow(ModulesColumns.CREATED));
        mod.updated = c.getLong(c.getColumnIndexOrThrow(ModulesColumns.UPDATED));

        c.close();

        // Versions
        projection = new String[]{
                ModuleVersionsColumns.NAME,
                ModuleVersionsColumns.CODE, ModuleVersionsColumns.DOWNLOAD_LINK,
                ModuleVersionsColumns.MD5SUM, ModuleVersionsColumns.CHANGELOG,
                ModuleVersionsColumns.CHANGELOG_IS_HTML,
                ModuleVersionsColumns.RELTYPE,
                ModuleVersionsColumns.UPLOADED,
        };

        where = ModuleVersionsColumns.MODULE_ID + " = ?";
        whereArgs = new String[]{Long.toString(moduleId)};

        c = sDb.<mark>query</mark>(ModuleVersionsColumns.TABLE_NAME, projection, where, whereArgs, null, null, null);
        while (c.moveToNext()) {
            ModuleVersion version = new ModuleVersion(mod);
            version.name = c.getString(c.getColumnIndexOrThrow(ModuleVersionsColumns.NAME));
            version.code = c.getInt(c.getColumnIndexOrThrow(ModuleVersionsColumns.CODE));
            version.downloadLink = c.getString(c.getColumnIndexOrThrow(ModuleVersionsColumns.DOWNLOAD_LINK));
            version.md5sum = c.getString(c.getColumnIndexOrThrow(ModuleVersionsColumns.MD5SUM));
            version.changelog = c.getString(c.getColumnIndexOrThrow(ModuleVersionsColumns.CHANGELOG));
            version.changelogIsHtml = c.getInt(c.getColumnIndexOrThrow(ModuleVersionsColumns.CHANGELOG_IS_HTML)) > 0;
            version.relType = ReleaseType.fromOrdinal(c.getInt(c.getColumnIndexOrThrow(ModuleVersionsColumns.RELTYPE)));
            version.uploaded = c.getLong(c.getColumnIndexOrThrow(ModuleVersionsColumns.UPLOADED));
            mod.versions.add(version);
        }
        c.close();

        // MoreInfo
        projection = new String[]{
                MoreInfoColumns.LABEL,
                MoreInfoColumns.VALUE,
        };

        where = MoreInfoColumns.MODULE_ID + " = ?";
        whereArgs = new String[]{Long.toString(moduleId)};

        c = sDb.<mark>query</mark>(MoreInfoColumns.TABLE_NAME, projection, where, whereArgs, null, null, MoreInfoColumns._ID);
        while (c.moveToNext()) {
            String label = c.getString(c.getColumnIndexOrThrow(MoreInfoColumns.LABEL));
            String value = c.getString(c.getColumnIndexOrThrow(MoreInfoColumns.VALUE));
            mod.moreInfo.add(new Pair<>(label, value));
        }
        c.close();

        return mod;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>kabouzeid_____Phonograph_____SongPlayCountStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/kabouzeid_____Phonograph_____SongPlayCountStore.java

android.database.sqlite.SQLiteDatabase.query

/**
     * This updates all the results for the getTopPlayedResults so that we can get an
     * accurate list of the top played results
     */     */
    private void updateExistingRow(@NonNull final SQLiteDatabase database, final long id, boolean bumpCount) {
        String stringId = String.valueOf(id);

        // begin the transaction
        database.beginTransaction();

        // get the cursor of this content inside the transaction
        final Cursor cursor = database.<mark>query</mark>(SongPlayCountColumns.NAME, null, WHERE_ID_EQUALS,
                new String[]{stringId}, null, null, null);

        // if we have a result
        if (cursor != null && cursor.moveToFirst()) {
            // figure how many weeks since we last updated
            int lastUpdatedIndex = cursor.getColumnIndex(SongPlayCountColumns.LAST_UPDATED_WEEK_INDEX);
            int lastUpdatedWeek = cursor.getInt(lastUpdatedIndex);
            int weekDiff = mNumberOfWeeksSinceEpoch - lastUpdatedWeek;

            // if it's more than the number of weeks we track, delete it and create a new entry
            if (Math.abs(weekDiff) >= NUM_WEEKS) {
                // this entry needs to be dropped since it is too outdated
                deleteEntry(database, stringId);
                if (bumpCount) {
                    createNewPlayedEntry(database, id);
                }
            } else if (weekDiff != 0) {
                // else, shift the weeks
                int[] playCounts = new int[NUM_WEEKS];

                if (weekDiff > 0) {
                    // time is shifted forwards
                    for (int i = 0; i < NUM_WEEKS - weekDiff; i++) {
                        playCounts[i + weekDiff] = cursor.getInt(getColumnIndexForWeek(i));
                    }
                } else if (weekDiff < 0) {
                    // time is shifted backwards (by user) - nor typical behavior but we
                    // will still handle it

                    // since weekDiff is -ve, NUM_WEEKS + weekDiff is the real # of weeks we have to
                    // transfer.  Then we transfer the old week i - weekDiff to week i
                    // for example if the user shifted back 2 weeks, ie -2, then for 0 to
                    // NUM_WEEKS + (-2) we set the new week i = old week i - (-2) or i+2
                    for (int i = 0; i < NUM_WEEKS + weekDiff; i++) {
                        playCounts[i] = cursor.getInt(getColumnIndexForWeek(i - weekDiff));
                    }
                }

                // bump the count
                if (bumpCount) {
                    playCounts[0]++;
                }

                float score = calculateScore(playCounts);

                // if the score is non-existant, then delete it
                if (score < .01f) {
                    deleteEntry(database, stringId);
                } else {
                    // create the content values
                    ContentValues values = new ContentValues(NUM_WEEKS + 2);
                    values.put(SongPlayCountColumns.LAST_UPDATED_WEEK_INDEX, mNumberOfWeeksSinceEpoch);
                    values.put(SongPlayCountColumns.PLAY_COUNT_SCORE, score);

                    for (int i = 0; i < NUM_WEEKS; i++) {
                        values.put(getColumnNameForWeek(i), playCounts[i]);
                    }

                    // update the entry
                    database.update(SongPlayCountColumns.NAME, values, WHERE_ID_EQUALS,
                            new String[]{stringId});
                }
            } else if (bumpCount) {
                // else no shifting, just update the scores
                ContentValues values = new ContentValues(2);

                // increase the score by a single score amount
                int scoreIndex = cursor.getColumnIndex(SongPlayCountColumns.PLAY_COUNT_SCORE);
                float score = cursor.getFloat(scoreIndex) + getScoreMultiplierForWeek(0);
                values.put(SongPlayCountColumns.PLAY_COUNT_SCORE, score);

                // increase the play count by 1
                values.put(getColumnNameForWeek(0), cursor.getInt(getColumnIndexForWeek(0)) + 1);

                // update the entry
                database.update(SongPlayCountColumns.NAME, values, WHERE_ID_EQUALS,
                        new String[]{stringId});
            }

            cursor.close();
        } else if (bumpCount) {
            // if we have no existing results, create a new one
            createNewPlayedEntry(database, id);
        }

        database.setTransactionSuccessful();
        database.endTransaction();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>naman14_____Timber_____SongPlayCount_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/naman14_____Timber_____SongPlayCount.java

android.database.sqlite.SQLiteDatabase.query

/**
     * Given a list of ids, it sorts the results based on the most played results
     *
     * @param ids list
     * @return sorted list - this may be smaller than the list passed in for performance reasons
     */     */
    private void updateExistingRow(final SQLiteDatabase database, final long id, boolean bumpCount) {
        String stringId = String.valueOf(id);

        // begin the transaction
        database.beginTransaction();

        // get the cursor of this content inside the transaction
        final Cursor cursor = database.<mark>query</mark>(SongPlayCountColumns.NAME, null, WHERE_ID_EQUALS,
                new String[]{stringId}, null, null, null);

        // if we have a result
        if (cursor != null && cursor.moveToFirst()) {
            // figure how many weeks since we last updated
            int lastUpdatedIndex = cursor.getColumnIndex(SongPlayCountColumns.LAST_UPDATED_WEEK_INDEX);
            int lastUpdatedWeek = cursor.getInt(lastUpdatedIndex);
            int weekDiff = mNumberOfWeeksSinceEpoch - lastUpdatedWeek;

            // if it's more than the number of weeks we track, delete it and create a new entry
            if (Math.abs(weekDiff) >= NUM_WEEKS) {
                // this entry needs to be dropped since it is too outdated
                deleteEntry(database, stringId);
                if (bumpCount) {
                    createNewPlayedEntry(database, id);
                }
            } else if (weekDiff != 0) {
                // else, shift the weeks
                int[] playCounts = new int[NUM_WEEKS];

                if (weekDiff > 0) {
                    // time is shifted forwards
                    for (int i = 0; i < NUM_WEEKS - weekDiff; i++) {
                        playCounts[i + weekDiff] = cursor.getInt(getColumnIndexForWeek(i));
                    }
                } else if (weekDiff < 0) {
                    // time is shifted backwards (by user) - nor typical behavior but we
                    // will still handle it

                    // since weekDiff is -ve, NUM_WEEKS + weekDiff is the real # of weeks we have to
                    // transfer.  Then we transfer the old week i - weekDiff to week i
                    // for example if the user shifted back 2 weeks, ie -2, then for 0 to
                    // NUM_WEEKS + (-2) we set the new week i = old week i - (-2) or i+2
                    for (int i = 0; i < NUM_WEEKS + weekDiff; i++) {
                        playCounts[i] = cursor.getInt(getColumnIndexForWeek(i - weekDiff));
                    }
                }

                // bump the count
                if (bumpCount) {
                    playCounts[0]++;
                }

                float score = calculateScore(playCounts);

                // if the score is non-existant, then delete it
                if (score < .01f) {
                    deleteEntry(database, stringId);
                } else {
                    // create the content values
                    ContentValues values = new ContentValues(NUM_WEEKS + 2);
                    values.put(SongPlayCountColumns.LAST_UPDATED_WEEK_INDEX, mNumberOfWeeksSinceEpoch);
                    values.put(SongPlayCountColumns.PLAYCOUNTSCORE, score);

                    for (int i = 0; i < NUM_WEEKS; i++) {
                        values.put(getColumnNameForWeek(i), playCounts[i]);
                    }

                    // update the entry
                    database.update(SongPlayCountColumns.NAME, values, WHERE_ID_EQUALS,
                            new String[]{stringId});
                }
            } else if (bumpCount) {
                // else no shifting, just update the scores
                ContentValues values = new ContentValues(2);

                // increase the score by a single score amount
                int scoreIndex = cursor.getColumnIndex(SongPlayCountColumns.PLAYCOUNTSCORE);
                float score = cursor.getFloat(scoreIndex) + getScoreMultiplierForWeek(0);
                values.put(SongPlayCountColumns.PLAYCOUNTSCORE, score);

                // increase the play count by 1
                values.put(getColumnNameForWeek(0), cursor.getInt(getColumnIndexForWeek(0)) + 1);

                // update the entry
                database.update(SongPlayCountColumns.NAME, values, WHERE_ID_EQUALS,
                        new String[]{stringId});
            }

            cursor.close();
        } else if (bumpCount) {
            // if we have no existing results, create a new one
            createNewPlayedEntry(database, id);
        }

        database.setTransactionSuccessful();
        database.endTransaction();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mtotschnig_____MyExpenses_____TransactionProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mtotschnig_____MyExpenses_____TransactionProvider.java

android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.delete

  @Override
  public Uri insert(@NonNull Uri uri, @Nullable ContentValues values) {
    setDirty();
    if (values != null && BuildConfig.DEBUG) {
      Timber.d("INSERT Uri: %s, values: %s", uri, values);
    }
    SQLiteDatabase db = mOpenHelper.getWritableDatabase();
    long id;
    String newUri;
    int uriMatch = URI_MATCHER.match(uri);
    switch (uriMatch) {
      case TRANSACTIONS:
        id = db.insertOrThrow(TABLE_TRANSACTIONS, null, values);
        newUri = TRANSACTIONS_URI + "/" + id;
        break;
      case ACCOUNTS:
        id = db.insertOrThrow(TABLE_ACCOUNTS, null, values);
        newUri = ACCOUNTS_URI + "/" + id;
        break;
      case METHODS:
        id = db.insertOrThrow(TABLE_METHODS, null, values);
        newUri = METHODS_URI + "/" + id;
        break;
      case ACCOUNTTYPES_METHODS:
        id = db.insertOrThrow(TABLE_ACCOUNTTYES_METHODS, null, values);
        //we are not interested in accessing individual entries in this table, but have to return a uri
        newUri = ACCOUNTTYPES_METHODS_URI + "/" + id;
        break;
      case TEMPLATES:
        id = db.insertOrThrow(TABLE_TEMPLATES, null, values);
        newUri = TEMPLATES_URI + "/" + id;
        break;
      case CATEGORIES:
        //for categories we can not rely on the unique constraint, since it does not work for parent_id is null
        Long parentId = values.getAsLong(KEY_PARENTID);
        String label = values.getAsString(KEY_LABEL);
        String selection;
        String[] selectionArgs;
        if (parentId == null) {
          selection = KEY_PARENTID + " is null";
          selectionArgs = new String[]{label};
        } else {
          selection = KEY_PARENTID + " = ?";
          selectionArgs = new String[]{String.valueOf(parentId), label};
        }
        selection += " and " + KEY_LABEL + " = ?";
        Cursor mCursor = db.<mark>query</mark>(TABLE_CATEGORIES, new String[]{KEY_ROWID}, selection, selectionArgs, null, null, null);
        if (mCursor.getCount() != 0) {
          mCursor.close();
          throw new SQLiteConstraintException();
        }
        mCursor.close();
        if (parentId == null && !values.containsKey(KEY_COLOR)) {
          values.put(KEY_COLOR, suggestNewCategoryColor(db));
        }
        id = db.insertOrThrow(TABLE_CATEGORIES, null, values);
        newUri = CATEGORIES_URI + "/" + id;
        break;
      case PAYEES:
        id = db.insertOrThrow(TABLE_PAYEES, null, values);
        newUri = PAYEES_URI + "/" + id;
        break;
      case PLANINSTANCE_TRANSACTION_STATUS:
        id = db.insertWithOnConflict(TABLE_PLAN_INSTANCE_STATUS, null, values, SQLiteDatabase.CONFLICT_REPLACE);
        newUri = PLAN_INSTANCE_STATUS_URI + "/" + id;
        break;
      case EVENT_CACHE:
        id = db.insertOrThrow(TABLE_EVENT_CACHE, null, values);
        newUri = EVENT_CACHE_URI + "/" + id;
        break;
      case STALE_IMAGES:
        id = db.insertOrThrow(TABLE_STALE_URIS, null, values);
        newUri = STALE_IMAGES_URI + "/" + id;
        break;
      case ACCOUNT_EXCHANGE_RATE:
        values.put(KEY_ACCOUNTID, uri.getPathSegments().get(1));
        values.put(KEY_CURRENCY_SELF, uri.getPathSegments().get(2));
        values.put(KEY_CURRENCY_OTHER, uri.getPathSegments().get(3));
        id = db.insertWithOnConflict(TABLE_ACCOUNT_EXCHANGE_RATES, null, values, SQLiteDatabase.CONFLICT_REPLACE);
        newUri = uri.toString();
        break;
      case DUAL: {
        if ("1".equals(uri.getQueryParameter(QUERY_PARAMETER_SYNC_BEGIN))) {
          id = pauseChangeTrigger(db);
          newUri = TABLE_SYNC_STATE + "/" + id;
        } else {
          throw unknownUri(uri);
        }
        break;
      }
      case SETTINGS: {
        id = db.replace(TABLE_SETTINGS, null, values);
        newUri = SETTINGS_URI + "/" + id;
        break;
      }
      case BUDGETS: {
        id = db.insertOrThrow(TABLE_BUDGETS, null, values);
        newUri = BUDGETS_URI + "/" + id;
        break;
      }
      case CURRENCIES: {
        try {
          id = db.insertOrThrow(TABLE_CURRENCIES, null, values);
        } catch (SQLiteConstraintException e) {
          return null;
        }
        newUri = CURRENCIES_URI + "/" + id;
        break;
      }
      default:
        throw unknownUri(uri);
    }
    notifyChange(uri, uriMatch == TRANSACTIONS && callerIsNotSyncAdatper(uri));
    //the accounts cursor contains aggregates about transactions
    //we need to notify it when transactions change
    if (uriMatch == TRANSACTIONS) {
      notifyChange(ACCOUNTS_URI, false);
      notifyChange(UNCOMMITTED_URI, false);
    } else if (uriMatch == ACCOUNTS) {
      notifyChange(ACCOUNTS_BASE_URI, false);
    } else if (uriMatch == TEMPLATES) {
      notifyChange(TEMPLATES_UNCOMMITTED_URI, false);
    }
    return id > 0 ? Uri.parse(newUri) : null;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>M66B_____XPrivacy_____PrivacyService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/M66B_____XPrivacy_____PrivacyService.java

android.database.sqlite.SQLiteDatabase.isOpen
android.database.sqlite.SQLiteDatabase.openOrCreateDatabase
android.database.sqlite.SQLiteDatabase.isDatabaseIntegrityOk
android.database.sqlite.SQLiteDatabase.rawQuery
android.database.sqlite.SQLiteDatabase.close
android.database.sqlite.SQLiteDatabase.openOrCreateDatabase
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.insertWithOnConflict
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.needUpgrade
android.database.sqlite.SQLiteDatabase.getVersion
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.insertWithOnConflict
android.database.sqlite.SQLiteDatabase.setVersion
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.getVersion

	@Override
	public List<PSetting> getSettingList(PSetting selector) throws RemoteException {
		List<PSetting> listSetting = new ArrayList<PSetting>();
		try {
			enforcePermission(selector.uid);
			SQLiteDatabase db = getDb();
			if (db == null)
				return listSetting;

			mLock.readLock().lock();
			try {
				db.<mark>beginTransaction</mark>();
				try {
					Cursor cursor;
					if (selector.type == null)
						cursor = db.<mark>query</mark>(cTableSetting, new String[] { "type", "name", "value" }, "uid=?",
								new String[] { Integer.toString(selector.uid) }, null, null, null);
					else
						cursor = db.<mark>query</mark>(cTableSetting, new String[] { "type", "name", "value" }, "uid=? AND type=?",
								new String[] { Integer.toString(selector.uid), selector.type }, null, null, null);
					if (cursor == null)
						Util.log(null, Log.WARN, "Database cursor null (settings)");
					else
						try {
							while (cursor.moveToNext())
								listSetting.add(new PSetting(selector.uid, cursor.getString(0), cursor.getString(1),
										cursor.getString(2)));
						} finally {
							cursor.<mark>close</mark>();
						}

					db.<mark>setTransactionSuccessful</mark>();
				} finally {
					db.<mark>endTransaction</mark>();
				}
			} finally {
				mLock.readLock().unlock();
			}
		} catch (Throwable ex) {
			Util.bug(null, ex);
			throw new RemoteException(ex.toString());
		}
		return listSetting;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dmfs_____opentasks_____TaskProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/dmfs_____opentasks_____TaskProvider.java

android.database.sqlite.SQLiteDatabase.replace
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update

/**
     * Update task due and task start notifications.
     */    @Override
    public int deleteInTransaction(final SQLiteDatabase db, Uri uri, String selection, String[] selectionArgs, final boolean isSyncAdapter)
    {
        int count = 0;
        String accountName = getAccountName(uri);
        String accountType = getAccountType(uri);

        switch (mUriMatcher.match(uri))
        {
            case SYNCSTATE_ID:
                // the id is ignored, we only match by account type and name given in the Uri
            case SYNCSTATE:
            {
                if (!isSyncAdapter)
                {
                    throw new IllegalAccessError("only sync adapters may access syncstate");
                }
                if (TextUtils.isEmpty(getAccountName(uri)) || TextUtils.isEmpty(getAccountType(uri)))
                {
                    throw new IllegalArgumentException("uri must contain an account when accessing syncstate");
                }
                selection = updateSelection(selectAccount(uri), selection);
                count = db.delete(Tables.SYNCSTATE, selection, selectionArgs);
                break;
            }
            /*
             * Deleting task lists is only allowed to sync adapters. They must provide ACCOUNT_NAME and ACCOUNT_TYPE.
             */
            case LIST_ID:
                // add _id to selection and fall through
                selection = updateSelection(selectId(uri), selection);
            case LISTS:
            {
                if (isSyncAdapter)
                {
                    if (TextUtils.isEmpty(accountType) || TextUtils.isEmpty(accountName))
                    {
                        throw new IllegalArgumentException("Sync adapters must specify an account and account type: " + uri);
                    }
                }

                // iterate over all lists that match the selection
                final Cursor cursor = db.<mark>query</mark>(Tables.LISTS, null, selection, selectionArgs, null, null, null, null);

                try
                {
                    while (cursor.moveToNext())
                    {
                        final ListAdapter list = new CursorContentValuesListAdapter(ListAdapter._ID.getFrom(cursor), cursor, new ContentValues());

                        mListProcessorChain.delete(db, list, isSyncAdapter);
                        mChanged.set(true);
                        count++;
                    }
                }
                finally
                {
                    cursor.close();
                }

                break;

            }
            /*
             * Task won't be removed, just marked as deleted if the caller isn't a sync adapter. Sync adapters can remove tasks immediately.
             */
            case TASK_ID:
                // add id to selection and fall through
                selection = updateSelection(selectId(uri), selection);

            case TASKS:
            {
                // TODO: filter by account name and type if present in uri.

                if (isSyncAdapter)
                {
                    if (TextUtils.isEmpty(accountType) || TextUtils.isEmpty(accountName))
                    {
                        throw new IllegalArgumentException("Sync adapters must specify an account and account type: " + uri);
                    }
                }

                // iterate over all tasks that match the selection
                final Cursor cursor = db.<mark>query</mark>(Tables.TASKS_VIEW, null, selection, selectionArgs, null, null, null, null);

                try
                {
                    while (cursor.moveToNext())
                    {
                        final TaskAdapter task = new CursorContentValuesTaskAdapter(cursor, new ContentValues());

                        mTaskProcessorChain.delete(db, task, isSyncAdapter);

                        mChanged.set(true);
                        count++;
                    }
                }
                finally
                {
                    cursor.close();
                }

                break;
            }

            case INSTANCE_ID:
                // add id to selection and fall through
                selection = updateSelection(selectId(uri), selection);

            case INSTANCES:
            {
                // iterate over all instances that match the selection
                try (Cursor cursor = db.<mark>query</mark>(Tables.INSTANCE_VIEW, null, selection, selectionArgs, null, null, null, null))
                {
                    while (cursor.moveToNext())
                    {
                        mInstanceProcessorChain.delete(db, new CursorContentValuesInstanceAdapter(cursor, new ContentValues()), isSyncAdapter);
                        count++;
                    }
                }

                break;
            }

            case ALARM_ID:
                // add id to selection and fall through
                selection = updateSelection(selectId(uri), selection);

            case ALARMS:

                count = db.delete(Tables.ALARMS, selection, selectionArgs);
                break;

            case PROPERTY_ID:
                selection = updateSelection(selectPropertyId(uri), selection);

            case PROPERTIES:
                // fetch all properties that match the selection
                Cursor cursor = db.<mark>query</mark>(Tables.PROPERTIES, null, selection, selectionArgs, null, null, null);

                try
                {
                    int propIdCol = cursor.getColumnIndex(Properties.PROPERTY_ID);
                    int taskIdCol = cursor.getColumnIndex(Properties.TASK_ID);
                    int mimeTypeCol = cursor.getColumnIndex(Properties.MIMETYPE);
                    while (cursor.moveToNext())
                    {
                        long propertyId = cursor.getLong(propIdCol);
                        long taskId = cursor.getLong(taskIdCol);
                        String mimeType = cursor.getString(mimeTypeCol);
                        if (mimeType != null)
                        {
                            PropertyHandler handler = PropertyHandlerFactory.get(mimeType);
                            count += handler.delete(db, taskId, propertyId, cursor, isSyncAdapter);
                        }
                    }
                }
                finally
                {
                    cursor.close();
                }
                postNotifyUri(Properties.getContentUri(mAuthority));
                break;

            default:
                throw new IllegalArgumentException("Unknown URI " + uri);
        }

        if (count > 0)
        {
            postNotifyUri(uri);
            postNotifyUri(Instances.getContentUri(mAuthority));
            postNotifyUri(Tasks.getContentUri(mAuthority));
        }
        return count;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mtotschnig_____MyExpenses_____TransactionProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/mtotschnig_____MyExpenses_____TransactionProvider.java

android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteConstraintException.&ltinit&gt
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteConstraintException.&ltinit&gt
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.execSQL
android.database.sqlite.SQLiteDatabase.delete
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction
android.database.sqlite.SQLiteDatabase.update
android.database.sqlite.SQLiteDatabase.replace
android.database.sqlite.SQLiteDatabase.update

  @Override
  public int <mark>delete</mark>(@NonNull Uri uri, String where, String[] whereArgs) {
    setDirty();
    Timber.d("Delete for URL: %s", uri);
    SQLiteDatabase db = mOpenHelper.getWritableDatabase();
    int count;
    String segment;
    int uriMatch = URI_MATCHER.match(uri);
    switch (uriMatch) {
      case TRANSACTIONS:
        count = db.<mark>delete</mark>(TABLE_TRANSACTIONS, where, whereArgs);
        break;
      case TRANSACTION_ID:
        //maybe TODO ?: where and whereArgs are ignored
        segment = uri.getPathSegments().get(1);
        //when we are deleting a transfer whose peer is part of a split, we cannot delete the peer,
        //because the split would be left in an invalid state, hence we transform the peer to a normal split part
        //first we find out the account label
        db.<mark>beginTransaction</mark>();
        try {
          Cursor c = db.<mark>query</mark>(
              TABLE_ACCOUNTS,
              new String[]{KEY_LABEL},
              KEY_ROWID + " = (SELECT " + KEY_ACCOUNTID + " FROM " + TABLE_TRANSACTIONS + " WHERE " + KEY_ROWID + " = ?)",
              new String[]{segment},
              null, null, null);
          c.moveToFirst();
          //cursor should not be empty, but has been observed to be (bug report 67a7942fe8b6c9c96859b226767a9000)
          String accountLabel = c.moveToFirst() ? c.getString(0) : "UNKNOWN";
          c.close();
          ContentValues args = new ContentValues();
          args.putNull(KEY_TRANSFER_ACCOUNT);
          args.putNull(KEY_TRANSFER_PEER);
          db.<mark>update</mark>(TABLE_TRANSACTIONS,
              args,
              KEY_TRANSFER_PEER + " = ? AND " + KEY_PARENTID + " IS NOT null",
              new String[]{segment});
          //we delete the transaction, its children and its transfer peer, and transfer peers of its children
          if (uri.getQueryParameter(QUERY_PARAMETER_MARK_VOID) == null) {
            //we delete the parent separately, so that the changes trigger can correctly record the parent uuid
            count = db.<mark>delete</mark>(TABLE_TRANSACTIONS, WHERE_DEPENDENT, new String[]{segment, segment});
            count += db.<mark>delete</mark>(TABLE_TRANSACTIONS, WHERE_SELF_OR_PEER, new String[]{segment, segment});
          } else {
            ContentValues v = new ContentValues();
            v.put(KEY_CR_STATUS, Transaction.CrStatus.VOID.name());
            count = db.<mark>update</mark>(TABLE_TRANSACTIONS, v, WHERE_SELF_OR_DEPENDENT, new String[]{segment, segment, segment});
          }
          db.<mark>setTransactionSuccessful</mark>();
        } finally {
          db.<mark>endTransaction</mark>();
        }
        break;
      case TEMPLATES:
        count = db.<mark>delete</mark>(TABLE_TEMPLATES, where, whereArgs);
        break;
      case TEMPLATE_ID:
        count = db.<mark>delete</mark>(TABLE_TEMPLATES,
            KEY_ROWID + " = " + uri.getLastPathSegment() + prefixAnd(where), whereArgs);
        break;
      case ACCOUNTTYPES_METHODS:
        count = db.<mark>delete</mark>(TABLE_ACCOUNTTYES_METHODS, where, whereArgs);
        break;
      case ACCOUNTS:
        count = db.<mark>delete</mark>(TABLE_ACCOUNTS, where, whereArgs);
        break;
      case ACCOUNT_ID:
        count = db.<mark>delete</mark>(TABLE_ACCOUNTS,
            KEY_ROWID + " = " + uri.getLastPathSegment() + prefixAnd(where), whereArgs);
        //update aggregate cursor
        //getContext().getContentResolver().notifyChange(AGGREGATES_URI, null);
        break;
      case CATEGORIES:
        count = db.<mark>delete</mark>(TABLE_CATEGORIES, KEY_ROWID + " != " + SPLIT_CATID + prefixAnd(where),
            whereArgs);
        break;
      case CATEGORY_ID:
        count = db.<mark>delete</mark>(TABLE_CATEGORIES,
            KEY_ROWID + " = " + uri.getLastPathSegment() + prefixAnd(where), whereArgs);
        break;
      case PAYEE_ID:
        count = db.<mark>delete</mark>(TABLE_PAYEES,
            KEY_ROWID + " = " + uri.getLastPathSegment() + prefixAnd(where), whereArgs);
        break;
      case METHOD_ID:
        count = db.<mark>delete</mark>(TABLE_METHODS,
            KEY_ROWID + " = " + uri.getLastPathSegment() + prefixAnd(where), whereArgs);
        break;
      case PLANINSTANCE_TRANSACTION_STATUS:
        count = db.<mark>delete</mark>(TABLE_PLAN_INSTANCE_STATUS, where, whereArgs);
        break;
      case EVENT_CACHE:
        count = db.<mark>delete</mark>(TABLE_EVENT_CACHE, where, whereArgs);
        break;
      case STALE_IMAGES_ID:
        segment = uri.getPathSegments().get(1);
        count = db.<mark>delete</mark>(TABLE_STALE_URIS, "rowid=" + segment, null);
        break;
      case STALE_IMAGES:
        count = db.<mark>delete</mark>(TABLE_STALE_URIS, where, whereArgs);
        break;
      case CHANGES:
        count = db.<mark>delete</mark>(TABLE_CHANGES, where, whereArgs);
        break;
      case SETTINGS:
        count = db.<mark>delete</mark>(TABLE_SETTINGS, where, whereArgs);
        break;
      case DUAL: {
        if ("1".equals(uri.getQueryParameter(QUERY_PARAMETER_SYNC_END))) {
          count = resumeChangeTrigger(db);
        } else {
          throw unknownUri(uri);
        }
        break;
      }
      case CURRENCIES_CODE: {
        String currency = uri.getLastPathSegment();
        if (Utils.isFrameworkCurrency(currency)) {
          throw new IllegalArgumentException("Can only delete custom currencies");
        }
        try {
          count = db.<mark>delete</mark>(TABLE_CURRENCIES, String.format("%s = '%s'%s", KEY_CODE,
              currency, prefixAnd(where)), whereArgs);
        } catch (SQLiteConstraintException e) {
          return 0;
        }
        break;
      }
      default:
        throw unknownUri(uri);
    }
    if (uriMatch == TRANSACTIONS || uriMatch == TRANSACTION_ID) {
      notifyChange(TRANSACTIONS_URI, callerIsNotSyncAdatper(uri));
      notifyChange(ACCOUNTS_URI, false);
      notifyChange(UNCOMMITTED_URI, false);
    } else {
      if (uriMatch == ACCOUNTS) {
        notifyChange(ACCOUNTS_BASE_URI, false);
      }
      if (uriMatch == TEMPLATES || uriMatch == TEMPLATE_ID) {
        notifyChange(TEMPLATES_UNCOMMITTED_URI, false);
      }
      notifyChange(uri, false);
    }
    return count;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codinguser_____gnucash-android_____MigrationHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/codinguser_____gnucash-android_____MigrationHelper.java

android.database.sqlite.SQLiteDatabase.beginTransaction
android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.insert
android.database.sqlite.SQLiteDatabase.setTransactionSuccessful
android.database.sqlite.SQLiteDatabase.endTransaction

/**
     * Upgrade database to version 11
     * <p>
     *     Migrate scheduled backups and update export parameters to the new format
     * </p>
     * @param db SQLite database
     * @return 11 if upgrade was successful, 10 otherwise
     */     */
    static int upgradeDbToVersion8(SQLiteDatabase db) {
        Log.i(DatabaseHelper.LOG_TAG, "Upgrading database to version 8");
        int oldVersion = 7;
        new File(Exporter.LEGACY_BASE_FOLDER_PATH + "/backups/").mkdirs();
        new File(Exporter.LEGACY_BASE_FOLDER_PATH + "/exports/").mkdirs();
        //start moving the files in background thread before we do the database stuff
        new Thread(moveExportedFilesToNewDefaultLocation).start();

        db.<mark>beginTransaction</mark>();
        try {

            Log.i(DatabaseHelper.LOG_TAG, "Creating scheduled actions table");
            db.execSQL("CREATE TABLE " + ScheduledActionEntry.TABLE_NAME + " ("
                    + ScheduledActionEntry._ID                   + " integer primary key autoincrement, "
                    + ScheduledActionEntry.COLUMN_UID            + " varchar(255) not null UNIQUE, "
                    + ScheduledActionEntry.COLUMN_ACTION_UID    + " varchar(255) not null, "
                    + ScheduledActionEntry.COLUMN_TYPE           + " varchar(255) not null, "
                    + "period "                                 + " integer not null, "
                    + ScheduledActionEntry.COLUMN_LAST_RUN       + " integer default 0, "
                    + ScheduledActionEntry.COLUMN_START_TIME     + " integer not null, "
                    + ScheduledActionEntry.COLUMN_END_TIME       + " integer default 0, "
                    + ScheduledActionEntry.COLUMN_TAG            + " text, "
                    + ScheduledActionEntry.COLUMN_ENABLED        + " tinyint default 1, " //enabled by default
                    + ScheduledActionEntry.COLUMN_TOTAL_FREQUENCY + " integer default 0, "
                    + ScheduledActionEntry.COLUMN_EXECUTION_COUNT+ " integer default 0, "
                    + ScheduledActionEntry.COLUMN_CREATED_AT     + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, "
                    + ScheduledActionEntry.COLUMN_MODIFIED_AT    + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP "
                    + ");" + DatabaseHelper.createUpdatedAtTrigger(ScheduledActionEntry.TABLE_NAME));


            //==============================BEGIN TABLE MIGRATIONS ========================================
            Log.i(DatabaseHelper.LOG_TAG, "Migrating accounts table");
            // backup transaction table
            db.execSQL("ALTER TABLE " + AccountEntry.TABLE_NAME + " RENAME TO " + AccountEntry.TABLE_NAME + "_bak");
            // create new transaction table
            db.execSQL("CREATE TABLE " + AccountEntry.TABLE_NAME + " ("
                    + AccountEntry._ID + " integer primary key autoincrement, "
                    + AccountEntry.COLUMN_UID + " varchar(255) not null UNIQUE, "
                    + AccountEntry.COLUMN_NAME + " varchar(255) not null, "
                    + AccountEntry.COLUMN_TYPE + " varchar(255) not null, "
                    + AccountEntry.COLUMN_CURRENCY + " varchar(255) not null, "
                    + AccountEntry.COLUMN_DESCRIPTION + " varchar(255), "
                    + AccountEntry.COLUMN_COLOR_CODE + " varchar(255), "
                    + AccountEntry.COLUMN_FAVORITE + " tinyint default 0, "
                    + AccountEntry.COLUMN_HIDDEN + " tinyint default 0, "
                    + AccountEntry.COLUMN_FULL_NAME + " varchar(255), "
                    + AccountEntry.COLUMN_PLACEHOLDER + " tinyint default 0, "
                    + AccountEntry.COLUMN_PARENT_ACCOUNT_UID + " varchar(255), "
                    + AccountEntry.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID + " varchar(255), "
                    + AccountEntry.COLUMN_CREATED_AT + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, "
                    + AccountEntry.COLUMN_MODIFIED_AT + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP "
                    + ");" + DatabaseHelper.createUpdatedAtTrigger(AccountEntry.TABLE_NAME));

            // initialize new account table with data from old table
            db.execSQL("INSERT INTO " + AccountEntry.TABLE_NAME + " ( "
                            + AccountEntry._ID + ","
                            + AccountEntry.COLUMN_UID + " , "
                            + AccountEntry.COLUMN_NAME + " , "
                            + AccountEntry.COLUMN_TYPE + " , "
                            + AccountEntry.COLUMN_CURRENCY + " , "
                            + AccountEntry.COLUMN_COLOR_CODE + " , "
                            + AccountEntry.COLUMN_FAVORITE + " , "
                            + AccountEntry.COLUMN_FULL_NAME + " , "
                            + AccountEntry.COLUMN_PLACEHOLDER + " , "
                            + AccountEntry.COLUMN_HIDDEN + " , "
                            + AccountEntry.COLUMN_PARENT_ACCOUNT_UID + " , "
                            + AccountEntry.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID
                            + ") SELECT "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry._ID + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_UID + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_NAME + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_TYPE + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_CURRENCY + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_COLOR_CODE + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_FAVORITE + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_FULL_NAME + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_PLACEHOLDER + " , "
                            + " CASE WHEN " + AccountEntry.TABLE_NAME + "_bak.type = 'ROOT' THEN 1 ELSE 0 END, "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_PARENT_ACCOUNT_UID + " , "
                            + AccountEntry.TABLE_NAME + "_bak." + AccountEntry.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID
                            + " FROM " + AccountEntry.TABLE_NAME + "_bak;"
            );

            Log.i(DatabaseHelper.LOG_TAG, "Migrating transactions table");
            // backup transaction table
            db.execSQL("ALTER TABLE " + TransactionEntry.TABLE_NAME + " RENAME TO " + TransactionEntry.TABLE_NAME + "_bak");
            // create new transaction table
            db.execSQL("CREATE TABLE " + TransactionEntry.TABLE_NAME + " ("
                    + TransactionEntry._ID + " integer primary key autoincrement, "
                    + TransactionEntry.COLUMN_UID + " varchar(255) not null UNIQUE, "
                    + TransactionEntry.COLUMN_DESCRIPTION + " varchar(255), "
                    + TransactionEntry.COLUMN_NOTES + " text, "
                    + TransactionEntry.COLUMN_TIMESTAMP + " integer not null, "
                    + TransactionEntry.COLUMN_EXPORTED + " tinyint default 0, "
                    + TransactionEntry.COLUMN_TEMPLATE + " tinyint default 0, "
                    + TransactionEntry.COLUMN_CURRENCY + " varchar(255) not null, "
                    + TransactionEntry.COLUMN_SCHEDX_ACTION_UID + " varchar(255), "
                    + TransactionEntry.COLUMN_CREATED_AT + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, "
                    + TransactionEntry.COLUMN_MODIFIED_AT + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, "
                    + "FOREIGN KEY (" + TransactionEntry.COLUMN_SCHEDX_ACTION_UID + ") REFERENCES " + ScheduledActionEntry.TABLE_NAME + " (" + ScheduledActionEntry.COLUMN_UID + ") ON DELETE SET NULL "
                    + ");" + DatabaseHelper.createUpdatedAtTrigger(TransactionEntry.TABLE_NAME));

            // initialize new transaction table with data from old table
            db.execSQL("INSERT INTO " + TransactionEntry.TABLE_NAME + " ( "
                            + TransactionEntry._ID + " , "
                            + TransactionEntry.COLUMN_UID + " , "
                            + TransactionEntry.COLUMN_DESCRIPTION + " , "
                            + TransactionEntry.COLUMN_NOTES + " , "
                            + TransactionEntry.COLUMN_TIMESTAMP + " , "
                            + TransactionEntry.COLUMN_EXPORTED + " , "
                            + TransactionEntry.COLUMN_CURRENCY + " , "
                            + TransactionEntry.COLUMN_TEMPLATE
                            + ")  SELECT "
                            + TransactionEntry.TABLE_NAME + "_bak." + TransactionEntry._ID + " , "
                            + TransactionEntry.TABLE_NAME + "_bak." + TransactionEntry.COLUMN_UID + " , "
                            + TransactionEntry.TABLE_NAME + "_bak." + TransactionEntry.COLUMN_DESCRIPTION + " , "
                            + TransactionEntry.TABLE_NAME + "_bak." + TransactionEntry.COLUMN_NOTES + " , "
                            + TransactionEntry.TABLE_NAME + "_bak." + TransactionEntry.COLUMN_TIMESTAMP + " , "
                            + TransactionEntry.TABLE_NAME + "_bak." + TransactionEntry.COLUMN_EXPORTED + " , "
                            + TransactionEntry.TABLE_NAME + "_bak." + TransactionEntry.COLUMN_CURRENCY + " , "
                            + " CASE WHEN " + TransactionEntry.TABLE_NAME + "_bak.recurrence_period > 0 THEN 1 ELSE 0 END "
                            + " FROM " + TransactionEntry.TABLE_NAME + "_bak;"
            );

            Log.i(DatabaseHelper.LOG_TAG, "Migrating splits table");
            // backup split table
            db.execSQL("ALTER TABLE " + SplitEntry.TABLE_NAME + " RENAME TO " + SplitEntry.TABLE_NAME + "_bak");
            // create new split table
            db.execSQL("CREATE TABLE " + SplitEntry.TABLE_NAME + " ("
                    + SplitEntry._ID + " integer primary key autoincrement, "
                    + SplitEntry.COLUMN_UID + " varchar(255) not null UNIQUE, "
                    + SplitEntry.COLUMN_MEMO + " text, "
                    + SplitEntry.COLUMN_TYPE + " varchar(255) not null, "
                    + "amount" + " varchar(255) not null, "
                    + SplitEntry.COLUMN_ACCOUNT_UID + " varchar(255) not null, "
                    + SplitEntry.COLUMN_TRANSACTION_UID + " varchar(255) not null, "
                    + SplitEntry.COLUMN_CREATED_AT + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, "
                    + SplitEntry.COLUMN_MODIFIED_AT + " TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, "
                    + "FOREIGN KEY (" + SplitEntry.COLUMN_ACCOUNT_UID + ") REFERENCES " + AccountEntry.TABLE_NAME + " (" + AccountEntry.COLUMN_UID + ") ON DELETE CASCADE, "
                    + "FOREIGN KEY (" + SplitEntry.COLUMN_TRANSACTION_UID + ") REFERENCES " + TransactionEntry.TABLE_NAME + " (" + TransactionEntry.COLUMN_UID + ") ON DELETE CASCADE "
                    + ");" + DatabaseHelper.createUpdatedAtTrigger(SplitEntry.TABLE_NAME));

            // initialize new split table with data from old table
            db.execSQL("INSERT INTO " + SplitEntry.TABLE_NAME + " ( "
                            + SplitEntry._ID + " , "
                            + SplitEntry.COLUMN_UID + " , "
                            + SplitEntry.COLUMN_MEMO + " , "
                            + SplitEntry.COLUMN_TYPE + " , "
                            + "amount" + " , "
                            + SplitEntry.COLUMN_ACCOUNT_UID + " , "
                            + SplitEntry.COLUMN_TRANSACTION_UID
                            + ")  SELECT "
                            + SplitEntry.TABLE_NAME + "_bak." + SplitEntry._ID + " , "
                            + SplitEntry.TABLE_NAME + "_bak." + SplitEntry.COLUMN_UID + " , "
                            + SplitEntry.TABLE_NAME + "_bak." + SplitEntry.COLUMN_MEMO + " , "
                            + SplitEntry.TABLE_NAME + "_bak." + SplitEntry.COLUMN_TYPE + " , "
                            + SplitEntry.TABLE_NAME + "_bak." + "amount" + " , "
                            + SplitEntry.TABLE_NAME + "_bak." + SplitEntry.COLUMN_ACCOUNT_UID + " , "
                            + SplitEntry.TABLE_NAME + "_bak." + SplitEntry.COLUMN_TRANSACTION_UID
                            + " FROM " + SplitEntry.TABLE_NAME + "_bak;"
            );



            //================================ END TABLE MIGRATIONS ================================

            // String timestamp to be used for all new created entities in migration
            String timestamp = TimestampHelper.getUtcStringFromTimestamp(TimestampHelper.getTimestampFromNow());

            //ScheduledActionDbAdapter scheduledActionDbAdapter = new ScheduledActionDbAdapter(db);
            //SplitsDbAdapter splitsDbAdapter = new SplitsDbAdapter(db);
            //TransactionsDbAdapter transactionsDbAdapter = new TransactionsDbAdapter(db, splitsDbAdapter);
            //AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(db,transactionsDbAdapter);

            Log.i(DatabaseHelper.LOG_TAG, "Creating default root account if none exists");
            ContentValues contentValues = new ContentValues();
            //assign a root account to all accounts which had null as parent except ROOT (top-level accounts)
            String rootAccountUID;
            Cursor cursor = db.<mark>query</mark>(AccountEntry.TABLE_NAME,
                    new String[]{AccountEntry.COLUMN_UID},
                    AccountEntry.COLUMN_TYPE + "= ?",
                    new String[]{AccountType.ROOT.name()}, null, null, null);
            try {
                if (cursor.moveToFirst()) {
                    rootAccountUID = cursor.getString(cursor.getColumnIndexOrThrow(AccountEntry.COLUMN_UID));
                }
                else
                {
                    rootAccountUID = BaseModel.generateUID();
                    contentValues.clear();
                    contentValues.put(CommonColumns.COLUMN_UID, rootAccountUID);
                    contentValues.put(CommonColumns.COLUMN_CREATED_AT, timestamp);
                    contentValues.put(AccountEntry.COLUMN_NAME,         "ROOT");
                    contentValues.put(AccountEntry.COLUMN_TYPE,         "ROOT");
                    contentValues.put(AccountEntry.COLUMN_CURRENCY,     Money.DEFAULT_CURRENCY_CODE);
                    contentValues.put(AccountEntry.COLUMN_PLACEHOLDER,  0);
                    contentValues.put(AccountEntry.COLUMN_HIDDEN,       1);
                    contentValues.putNull(AccountEntry.COLUMN_COLOR_CODE);
                    contentValues.put(AccountEntry.COLUMN_FAVORITE, 0);
                    contentValues.put(AccountEntry.COLUMN_FULL_NAME,    " ");
                    contentValues.putNull(AccountEntry.COLUMN_PARENT_ACCOUNT_UID);
                    contentValues.putNull(AccountEntry.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID);
                    db.<mark>insert</mark>(AccountEntry.TABLE_NAME, null, contentValues);
                }
            } finally {
                cursor.close();
            }
            //String rootAccountUID = accountsDbAdapter.getOrCreateGnuCashRootAccountUID();
            contentValues.clear();
            contentValues.put(AccountEntry.COLUMN_PARENT_ACCOUNT_UID, rootAccountUID);
            db.update(AccountEntry.TABLE_NAME, contentValues, AccountEntry.COLUMN_PARENT_ACCOUNT_UID + " IS NULL AND " + AccountEntry.COLUMN_TYPE + " != ?", new String[]{"ROOT"});

            Log.i(DatabaseHelper.LOG_TAG, "Migrating existing recurring transactions");
            cursor = db.<mark>query</mark>(TransactionEntry.TABLE_NAME + "_bak", null, "recurrence_period > 0", null, null, null, null);
            long lastRun = System.currentTimeMillis();
            while (cursor.moveToNext()){
                contentValues.clear();
                Timestamp timestampT = new Timestamp(cursor.getLong(cursor.getColumnIndexOrThrow(TransactionEntry.COLUMN_TIMESTAMP)));
                contentValues.put(TransactionEntry.COLUMN_CREATED_AT, TimestampHelper.getUtcStringFromTimestamp(timestampT));
                long transactionId = cursor.getLong(cursor.getColumnIndexOrThrow(TransactionEntry._ID));
                db.update(TransactionEntry.TABLE_NAME, contentValues, TransactionEntry._ID + "=" + transactionId, null);

                //ScheduledAction scheduledAction = new ScheduledAction(ScheduledAction.ActionType.TRANSACTION);
                //scheduledAction.setActionUID(cursor.getString(cursor.getColumnIndexOrThrow(TransactionEntry.COLUMN_UID)));
                //long period = cursor.getLong(cursor.getColumnIndexOrThrow("recurrence_period"));
                //scheduledAction.setPeriod(period);
                //scheduledAction.setStartTime(timestampT.getTime()); //the start time is when the transaction was created
                //scheduledAction.setLastRun(System.currentTimeMillis()); //prevent this from being executed at the end of migration

                contentValues.clear();
                contentValues.put(CommonColumns.COLUMN_UID, BaseModel.generateUID());
                contentValues.put(CommonColumns.COLUMN_CREATED_AT, timestamp);
                contentValues.put(ScheduledActionEntry.COLUMN_ACTION_UID, cursor.getString(cursor.getColumnIndexOrThrow(TransactionEntry.COLUMN_UID)));
                contentValues.put("period", cursor.getLong(cursor.getColumnIndexOrThrow("recurrence_period")));
                contentValues.put(ScheduledActionEntry.COLUMN_START_TIME, timestampT.getTime());
                contentValues.put(ScheduledActionEntry.COLUMN_END_TIME, 0);
                contentValues.put(ScheduledActionEntry.COLUMN_LAST_RUN, lastRun);
                contentValues.put(ScheduledActionEntry.COLUMN_TYPE, "TRANSACTION");
                contentValues.put(ScheduledActionEntry.COLUMN_TAG, "");
                contentValues.put(ScheduledActionEntry.COLUMN_ENABLED, 1);
                contentValues.put(ScheduledActionEntry.COLUMN_TOTAL_FREQUENCY, 0);
                contentValues.put(ScheduledActionEntry.COLUMN_EXECUTION_COUNT, 0);
                //scheduledActionDbAdapter.addRecord(scheduledAction);
                db.<mark>insert</mark>(ScheduledActionEntry.TABLE_NAME, null, contentValues);

                //build intent for recurring transactions in the database
                Intent intent = new Intent(Intent.ACTION_INSERT);
                intent.setType(Transaction.MIME_TYPE);

                //cancel existing pending intent
                Context context = GnuCashApplication.getAppContext();
                PendingIntent recurringPendingIntent = PendingIntent.getBroadcast(context,
                        (int)transactionId, intent, PendingIntent.FLAG_CANCEL_CURRENT);
                AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
                alarmManager.cancel(recurringPendingIntent);
            }
            cursor.close();

            //auto-balance existing splits
            Log.i(DatabaseHelper.LOG_TAG, "Auto-balancing existing transaction splits");
            cursor = db.<mark>query</mark>(
                    TransactionEntry.TABLE_NAME + " , " + SplitEntry.TABLE_NAME + " ON "
                            + TransactionEntry.TABLE_NAME + "." + TransactionEntry.COLUMN_UID + "=" + SplitEntry.TABLE_NAME + "." + SplitEntry.COLUMN_TRANSACTION_UID
                            + " , " + AccountEntry.TABLE_NAME + " ON "
                            + SplitEntry.TABLE_NAME + "." + SplitEntry.COLUMN_ACCOUNT_UID + "=" + AccountEntry.TABLE_NAME + "." + AccountEntry.COLUMN_UID,
                    new String[]{
                            TransactionEntry.TABLE_NAME + "." + TransactionEntry.COLUMN_UID + " AS trans_uid",
                            TransactionEntry.TABLE_NAME + "." + TransactionEntry.COLUMN_CURRENCY + " AS trans_currency",
                            "TOTAL ( CASE WHEN " +
                                    SplitEntry.TABLE_NAME + "." + SplitEntry.COLUMN_TYPE + " = 'DEBIT' THEN " +
                                    SplitEntry.TABLE_NAME + "." + "amount" + " ELSE - " +
                                    SplitEntry.TABLE_NAME + "." + "amount" + " END ) AS trans_acct_balance",
                            "COUNT ( DISTINCT " +
                                    AccountEntry.TABLE_NAME + "." + AccountEntry.COLUMN_CURRENCY +
                                    " ) AS trans_currency_count"
                    },
                    TransactionEntry.TABLE_NAME + "." + TransactionEntry.COLUMN_TEMPLATE + " == 0",
                    null,
                    TransactionEntry.TABLE_NAME + "." + TransactionEntry.COLUMN_UID,
                    "trans_acct_balance != 0 AND trans_currency_count = 1",
                    null);
            try {
                while (cursor.moveToNext()){
                    double imbalance = cursor.getDouble(cursor.getColumnIndexOrThrow("trans_acct_balance"));
                    BigDecimal decimalImbalance = BigDecimal.valueOf(imbalance).setScale(2, BigDecimal.ROUND_HALF_UP);
                    if (decimalImbalance.compareTo(BigDecimal.ZERO) != 0) {
                        String currencyCode = cursor.getString(cursor.getColumnIndexOrThrow("trans_currency"));
                        String imbalanceAccountName = GnuCashApplication.getAppContext().getString(R.string.imbalance_account_name) + "-" + currencyCode;
                        String imbalanceAccountUID;
                        Cursor c = db.<mark>query</mark>(AccountEntry.TABLE_NAME, new String[]{AccountEntry.COLUMN_UID},
                                AccountEntry.COLUMN_FULL_NAME + "= ?", new String[]{imbalanceAccountName},
                                null, null, null);
                        try {
                            if (c.moveToFirst()) {
                                imbalanceAccountUID = c.getString(c.getColumnIndexOrThrow(AccountEntry.COLUMN_UID));
                            }
                            else {
                                imbalanceAccountUID = BaseModel.generateUID();
                                contentValues.clear();
                                contentValues.put(CommonColumns.COLUMN_UID, imbalanceAccountUID);
                                contentValues.put(CommonColumns.COLUMN_CREATED_AT, timestamp);
                                contentValues.put(AccountEntry.COLUMN_NAME,         imbalanceAccountName);
                                contentValues.put(AccountEntry.COLUMN_TYPE,         "BANK");
                                contentValues.put(AccountEntry.COLUMN_CURRENCY,     currencyCode);
                                contentValues.put(AccountEntry.COLUMN_PLACEHOLDER,  0);
                                contentValues.put(AccountEntry.COLUMN_HIDDEN,       GnuCashApplication.isDoubleEntryEnabled() ? 0 : 1);
                                contentValues.putNull(AccountEntry.COLUMN_COLOR_CODE);
                                contentValues.put(AccountEntry.COLUMN_FAVORITE, 0);
                                contentValues.put(AccountEntry.COLUMN_FULL_NAME,    imbalanceAccountName);
                                contentValues.put(AccountEntry.COLUMN_PARENT_ACCOUNT_UID, rootAccountUID);
                                contentValues.putNull(AccountEntry.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID);
                                db.<mark>insert</mark>(AccountEntry.TABLE_NAME, null, contentValues);
                            }
                        } finally {
                            c.close();
                        }
                        String TransactionUID = cursor.getString(cursor.getColumnIndexOrThrow("trans_uid"));
                        contentValues.clear();
                        contentValues.put(CommonColumns.COLUMN_UID, BaseModel.generateUID());
                        contentValues.put(CommonColumns.COLUMN_CREATED_AT, timestamp);
                        contentValues.put("amount",     decimalImbalance.abs().toPlainString());
                        contentValues.put(SplitEntry.COLUMN_TYPE,       decimalImbalance.compareTo(BigDecimal.ZERO) < 0 ? "DEBIT" : "CREDIT");
                        contentValues.put(SplitEntry.COLUMN_MEMO,       "");
                        contentValues.put(SplitEntry.COLUMN_ACCOUNT_UID, imbalanceAccountUID);
                        contentValues.put(SplitEntry.COLUMN_TRANSACTION_UID, TransactionUID);
                        db.<mark>insert</mark>(SplitEntry.TABLE_NAME, null, contentValues);
                        contentValues.clear();
                        contentValues.put(TransactionEntry.COLUMN_MODIFIED_AT, timestamp);
                        db.update(TransactionEntry.TABLE_NAME, contentValues, TransactionEntry.COLUMN_UID + " == ?",
                                new String[]{TransactionUID});
                    }
                }
            } finally {
                cursor.close();
            }

            Log.i(DatabaseHelper.LOG_TAG, "Dropping temporary migration tables");
            db.execSQL("DROP TABLE " + SplitEntry.TABLE_NAME + "_bak");
            db.execSQL("DROP TABLE " + AccountEntry.TABLE_NAME + "_bak");
            db.execSQL("DROP TABLE " + TransactionEntry.TABLE_NAME + "_bak");

            db.<mark>setTransactionSuccessful</mark>();
            oldVersion = 8;
        } finally {
            db.<mark>endTransaction</mark>();
        }

        GnuCashApplication.startScheduledActionExecutionService(GnuCashApplication.getAppContext());

        return oldVersion;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hushnymous_____android_frameworks_base_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/hushnymous_____android_frameworks_base_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int currentVersion) {
        Log.w(TAG, "Upgrading settings database from version " + oldVersion + " to "
                + currentVersion);

        int upgradeVersion = oldVersion;

        // Pattern for upgrade blocks:
        //
        //    if (upgradeVersion == [the DATABASE_VERSION you set] - 1) {
        //        .. your upgrade logic..
        //        upgradeVersion = [the DATABASE_VERSION you set]
        //    }

        if (upgradeVersion == 20) {
            /*
             * Version 21 is part of the volume control refresh. There is no
             * longer a UI-visible for setting notification vibrate on/off (in
             * our design), but the functionality still exists. Force the
             * notification vibrate to on.
             */
            loadVibrateSetting(db, true);

            upgradeVersion = 21;
        }

        if (upgradeVersion < 22) {
            upgradeVersion = 22;
            // Upgrade the lock gesture storage location and format
            upgradeLockPatternLocation(db);
        }

        if (upgradeVersion < 23) {
            db.execSQL("UPDATE favorites SET iconResource=0 WHERE iconType=0");
            upgradeVersion = 23;
        }

        if (upgradeVersion == 23) {
            db.beginTransaction();
            try {
                db.execSQL("ALTER TABLE favorites ADD spanX INTEGER");
                db.execSQL("ALTER TABLE favorites ADD spanY INTEGER");
                // Shortcuts, applications, folders
                db.execSQL("UPDATE favorites SET spanX=1, spanY=1 WHERE itemType<=0");
                // Photo frames, clocks
                db.execSQL(
                    "UPDATE favorites SET spanX=2, spanY=2 WHERE itemType=1000 or itemType=1002");
                // Search boxes
                db.execSQL("UPDATE favorites SET spanX=4, spanY=1 WHERE itemType=1001");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 24;
        }

        if (upgradeVersion == 24) {
            db.beginTransaction();
            try {
                // The value of the constants for preferring wifi or preferring mobile have been
                // swapped, so reload the default.
                db.execSQL("DELETE FROM system WHERE name='network_preference'");
                db.execSQL("INSERT INTO system ('name', 'value') values ('network_preference', '" +
                        ConnectivityManager.DEFAULT_NETWORK_PREFERENCE + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 25;
        }

        if (upgradeVersion == 25) {
            db.beginTransaction();
            try {
                db.execSQL("ALTER TABLE favorites ADD uri TEXT");
                db.execSQL("ALTER TABLE favorites ADD displayMode INTEGER");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 26;
        }

        if (upgradeVersion == 26) {
            // This introduces the new secure settings table.
            db.beginTransaction();
            try {
                createSecureTable(db);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 27;
        }

        if (upgradeVersion == 27) {
            String[] settingsToMove = {
                    Settings.Secure.ADB_ENABLED,
                    Settings.Secure.ANDROID_ID,
                    Settings.Secure.BLUETOOTH_ON,
                    Settings.Secure.DATA_ROAMING,
                    Settings.Secure.DEVICE_PROVISIONED,
                    Settings.Secure.HTTP_PROXY,
                    Settings.Secure.INSTALL_NON_MARKET_APPS,
                    Settings.Secure.LOCATION_PROVIDERS_ALLOWED,
                    Settings.Secure.LOGGING_ID,
                    Settings.Secure.NETWORK_PREFERENCE,
                    Settings.Secure.PARENTAL_CONTROL_ENABLED,
                    Settings.Secure.PARENTAL_CONTROL_LAST_UPDATE,
                    Settings.Secure.PARENTAL_CONTROL_REDIRECT_URL,
                    Settings.Secure.SETTINGS_CLASSNAME,
                    Settings.Secure.USB_MASS_STORAGE_ENABLED,
                    Settings.Secure.USE_GOOGLE_MAIL,
                    Settings.Secure.WIFI_NETWORKS_AVAILABLE_NOTIFICATION_ON,
                    Settings.Secure.WIFI_NETWORKS_AVAILABLE_REPEAT_DELAY,
                    Settings.Secure.WIFI_NUM_OPEN_NETWORKS_KEPT,
                    Settings.Secure.WIFI_ON,
                    Settings.Secure.WIFI_WATCHDOG_ACCEPTABLE_PACKET_LOSS_PERCENTAGE,
                    Settings.Secure.WIFI_WATCHDOG_AP_COUNT,
                    Settings.Secure.WIFI_WATCHDOG_BACKGROUND_CHECK_DELAY_MS,
                    Settings.Secure.WIFI_WATCHDOG_BACKGROUND_CHECK_ENABLED,
                    Settings.Secure.WIFI_WATCHDOG_BACKGROUND_CHECK_TIMEOUT_MS,
                    Settings.Secure.WIFI_WATCHDOG_INITIAL_IGNORED_PING_COUNT,
                    Settings.Secure.WIFI_WATCHDOG_MAX_AP_CHECKS,
                    Settings.Secure.WIFI_WATCHDOG_ON,
                    Settings.Secure.WIFI_WATCHDOG_PING_COUNT,
                    Settings.Secure.WIFI_WATCHDOG_PING_DELAY_MS,
                    Settings.Secure.WIFI_WATCHDOG_PING_TIMEOUT_MS,
                };
            moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_SECURE, settingsToMove, false);
            upgradeVersion = 28;
        }

        if (upgradeVersion == 28 || upgradeVersion == 29) {
            // Note: The upgrade to 28 was flawed since it didn't delete the old
            // setting first before inserting. Combining 28 and 29 with the
            // fixed version.

            // This upgrade adds the STREAM_NOTIFICATION type to the list of
            // types affected by ringer modes (silent, vibrate, etc.)
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                int newValue = (1 << AudioManager.STREAM_RING)
                        | (1 << AudioManager.STREAM_NOTIFICATION)
                        | (1 << AudioManager.STREAM_SYSTEM);
                db.execSQL("INSERT INTO system ('name', 'value') values ('"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                        + String.valueOf(newValue) + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 30;
        }

        if (upgradeVersion == 30) {
            /*
             * Upgrade 31 clears the title for all quick launch shortcuts so the
             * activities' titles will be resolved at display time. Also, the
             * folder is changed to '@quicklaunch'.
             */
            db.beginTransaction();
            try {
                db.execSQL("UPDATE bookmarks SET folder = '@quicklaunch'");
                db.execSQL("UPDATE bookmarks SET title = ''");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 31;
        }

        if (upgradeVersion == 31) {
            /*
             * Animations are now managed in preferences, and may be
             * enabled or disabled based on product resources.
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.WINDOW_ANIMATION_SCALE + "'");
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.TRANSITION_ANIMATION_SCALE + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultAnimationSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 32;
        }

        if (upgradeVersion == 32) {
            // The Wi-Fi watchdog SSID list is now seeded with the value of
            // the property ro.com.android.wifi-watchlist
            String wifiWatchList = SystemProperties.get("ro.com.android.wifi-watchlist");
            if (!TextUtils.isEmpty(wifiWatchList)) {
                db.beginTransaction();
                try {
                    db.execSQL("INSERT OR IGNORE INTO secure(name,value) values('" +
                            Settings.Secure.WIFI_WATCHDOG_WATCH_LIST + "','" +
                            wifiWatchList + "');");
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 33;
        }

        if (upgradeVersion == 33) {
            // Set the default zoom controls to: tap-twice to bring up +/-
            db.beginTransaction();
            try {
                db.execSQL("INSERT INTO system(name,value) values('zoom','2');");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 34;
        }

        if (upgradeVersion == 34) {
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadSecure35Settings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 35;
        }
            // due to a botched merge from donut to eclair, the initialization of ASSISTED_GPS_ENABLED
            // was accidentally done out of order here.
            // to fix this, ASSISTED_GPS_ENABLED is now initialized while upgrading from 38 to 39,
            // and we intentionally do nothing from 35 to 36 now.
        if (upgradeVersion == 35) {
            upgradeVersion = 36;
        }

        if (upgradeVersion == 36) {
           // This upgrade adds the STREAM_SYSTEM_ENFORCED type to the list of
            // types affected by ringer modes (silent, vibrate, etc.)
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                int newValue = (1 << AudioManager.STREAM_RING)
                        | (1 << AudioManager.STREAM_NOTIFICATION)
                        | (1 << AudioManager.STREAM_SYSTEM)
                        | (1 << AudioManager.STREAM_SYSTEM_ENFORCED);
                db.execSQL("INSERT INTO system ('name', 'value') values ('"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                        + String.valueOf(newValue) + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 37;
        }

        if (upgradeVersion == 37) {
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS,
                        R.string.airplane_mode_toggleable_radios);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 38;
        }

        if (upgradeVersion == 38) {
            db.beginTransaction();
            try {
                String value =
                        mContext.getResources().getBoolean(R.bool.assisted_gps_enabled) ? "1" : "0";
                db.execSQL("INSERT OR IGNORE INTO secure(name,value) values('" +
                        Settings.Global.ASSISTED_GPS_ENABLED + "','" + value + "');");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 39;
        }

        if (upgradeVersion == 39) {
            upgradeAutoBrightness(db);
            upgradeVersion = 40;
        }

        if (upgradeVersion == 40) {
            /*
             * All animations are now turned on by default!
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.WINDOW_ANIMATION_SCALE + "'");
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.TRANSITION_ANIMATION_SCALE + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultAnimationSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 41;
        }

        if (upgradeVersion == 41) {
            /*
             * Initialize newly public haptic feedback setting
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.HAPTIC_FEEDBACK_ENABLED + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultHapticSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 42;
        }

        if (upgradeVersion == 42) {
            /*
             * Initialize new notification pulse setting
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.NOTIFICATION_LIGHT_PULSE,
                        R.bool.def_notification_pulse);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 43;
        }

        if (upgradeVersion == 43) {
            /*
             * This upgrade stores bluetooth volume separately from voice volume
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadSetting(stmt, Settings.System.VOLUME_BLUETOOTH_SCO,
                        AudioManager.DEFAULT_STREAM_VOLUME[AudioManager.STREAM_BLUETOOTH_SCO]);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 44;
        }

        if (upgradeVersion == 44) {
            /*
             * Gservices was moved into vendor/google.
             */
            db.execSQL("DROP TABLE IF EXISTS gservices");
            db.execSQL("DROP INDEX IF EXISTS gservicesIndex1");
            upgradeVersion = 45;
        }

        if (upgradeVersion == 45) {
             /*
              * New settings for MountService
              */
            db.beginTransaction();
            try {
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_PLAY_NOTIFICATION_SND + "','1');");
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_UMS_AUTOSTART + "','0');");
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_UMS_PROMPT + "','1');");
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_UMS_NOTIFY_ENABLED + "','1');");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 46;
        }

        if (upgradeVersion == 46) {
            /*
             * The password mode constants have changed; reset back to no
             * password.
             */
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='lockscreen.password_type';");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
           upgradeVersion = 47;
       }


        if (upgradeVersion == 47) {
            /*
             * The password mode constants have changed again; reset back to no
             * password.
             */
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='lockscreen.password_type';");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
           upgradeVersion = 48;
       }

       if (upgradeVersion == 48) {
           /*
            * Default recognition service no longer initialized here,
            * moved to RecognitionManagerService.
            */
           upgradeVersion = 49;
       }

       if (upgradeVersion == 49) {
           /*
            * New settings for new user interface noises.
            */
           db.beginTransaction();
           SQLiteStatement stmt = null;
           try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadUISoundEffectsSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }

           upgradeVersion = 50;
       }

       if (upgradeVersion == 50) {
           /*
            * Install location no longer initiated here.
            */
           upgradeVersion = 51;
       }

       if (upgradeVersion == 51) {
           /* Move the lockscreen related settings to Secure, including some private ones. */
           String[] settingsToMove = {
                   Secure.LOCK_PATTERN_ENABLED,
                   Secure.LOCK_PATTERN_VISIBLE,
                   Secure.LOCK_SHOW_ERROR_PATH,
                   Secure.LOCK_DOTS_VISIBLE,
                   Secure.LOCK_PATTERN_TACTILE_FEEDBACK_ENABLED,
                   "lockscreen.password_type",
                   "lockscreen.lockoutattemptdeadline",
                   "lockscreen.patterneverchosen",
                   "lock_pattern_autolock",
                   "lockscreen.lockedoutpermanently",
                   "lockscreen.password_salt"
           };
           moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_SECURE, settingsToMove, false);
           upgradeVersion = 52;
       }

        if (upgradeVersion == 52) {
            // new vibration/silent mode settings
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.VIBRATE_IN_SILENT,
                        R.bool.def_vibrate_in_silent);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }

            upgradeVersion = 53;
        }

        if (upgradeVersion == 53) {
            /*
             * New settings for set install location UI no longer initiated here.
             */
            upgradeVersion = 54;
        }

        if (upgradeVersion == 54) {
            /*
             * Update the screen timeout value if set to never
             */
            db.beginTransaction();
            try {
                upgradeScreenTimeoutFromNever(db);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 55;
        }

        if (upgradeVersion == 55) {
            /* Move the install location settings. */
            String[] settingsToMove = {
                    Global.SET_INSTALL_LOCATION,
                    Global.DEFAULT_INSTALL_LOCATION
            };
            moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_SECURE, settingsToMove, false);
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadSetting(stmt, Global.SET_INSTALL_LOCATION, 0);
                loadSetting(stmt, Global.DEFAULT_INSTALL_LOCATION,
                        PackageHelper.APP_INSTALL_AUTO);
                db.setTransactionSuccessful();
             } finally {
                 db.endTransaction();
                 if (stmt != null) stmt.close();
             }
            upgradeVersion = 56;
        }

        if (upgradeVersion == 56) {
            /*
             * Add Bluetooth to list of toggleable radios in airplane mode
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS + "'");
                stmt = db.compileStatement("INSERT OR IGNORE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS,
                        R.string.airplane_mode_toggleable_radios);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 57;
        }

        /************* The following are Honeycomb changes ************/

        if (upgradeVersion == 57) {
            /*
             * New settings to:
             *  1. Enable injection of accessibility scripts in WebViews.
             *  2. Define the key bindings for traversing web content in WebViews.
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.ACCESSIBILITY_SCRIPT_INJECTION,
                        R.bool.def_accessibility_script_injection);
                stmt.close();
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.Secure.ACCESSIBILITY_WEB_CONTENT_KEY_BINDINGS,
                        R.string.def_accessibility_web_content_key_bindings);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 58;
        }

        if (upgradeVersion == 58) {
            /* Add default for new Auto Time Zone */
            int autoTimeValue = getIntValueFromSystem(db, Settings.System.AUTO_TIME, 0);
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)" + " VALUES(?,?);");
                loadSetting(stmt, Settings.System.AUTO_TIME_ZONE,
                        autoTimeValue); // Sync timezone to NITZ if auto_time was enabled
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 59;
        }

        if (upgradeVersion == 59) {
            // Persistence for the rotation lock feature.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.USER_ROTATION,
                        R.integer.def_user_rotation); // should be zero degrees
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 60;
        }

        if (upgradeVersion == 60) {
            // Don't do this for upgrades from Gingerbread
            // Were only required for intra-Honeycomb upgrades for testing
            // upgradeScreenTimeout(db);
            upgradeVersion = 61;
        }

        if (upgradeVersion == 61) {
            // Don't do this for upgrades from Gingerbread
            // Were only required for intra-Honeycomb upgrades for testing
            // upgradeScreenTimeout(db);
            upgradeVersion = 62;
        }

        // Change the default for screen auto-brightness mode
        if (upgradeVersion == 62) {
            // Don't do this for upgrades from Gingerbread
            // Were only required for intra-Honeycomb upgrades for testing
            // upgradeAutoBrightness(db);
            upgradeVersion = 63;
        }

        if (upgradeVersion == 63) {
            // This upgrade adds the STREAM_MUSIC type to the list of
             // types affected by ringer modes (silent, vibrate, etc.)
             db.beginTransaction();
             try {
                 db.execSQL("DELETE FROM system WHERE name='"
                         + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                 int newValue = (1 << AudioManager.STREAM_RING)
                         | (1 << AudioManager.STREAM_NOTIFICATION)
                         | (1 << AudioManager.STREAM_SYSTEM)
                         | (1 << AudioManager.STREAM_SYSTEM_ENFORCED)
                         | (1 << AudioManager.STREAM_MUSIC);
                 db.execSQL("INSERT INTO system ('name', 'value') values ('"
                         + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                         + String.valueOf(newValue) + "')");
                 db.setTransactionSuccessful();
             } finally {
                 db.endTransaction();
             }
             upgradeVersion = 64;
         }

        if (upgradeVersion == 64) {
            // New setting to configure the long press timeout.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadIntegerSetting(stmt, Settings.Secure.LONG_PRESS_TIMEOUT,
                        R.integer.def_long_press_timeout_millis);
                stmt.close();
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 65;
        }

        /************* The following are Ice Cream Sandwich changes ************/

        if (upgradeVersion == 65) {
            /*
             * Animations are removed from Settings. Turned on by default
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.WINDOW_ANIMATION_SCALE + "'");
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.TRANSITION_ANIMATION_SCALE + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultAnimationSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 66;
        }

        if (upgradeVersion == 66) {
            // This upgrade makes sure that MODE_RINGER_STREAMS_AFFECTED is set
            // according to device voice capability
            db.beginTransaction();
            try {
                int ringerModeAffectedStreams = (1 << AudioManager.STREAM_RING) |
                                                (1 << AudioManager.STREAM_NOTIFICATION) |
                                                (1 << AudioManager.STREAM_SYSTEM) |
                                                (1 << AudioManager.STREAM_SYSTEM_ENFORCED);
                if (!mContext.getResources().getBoolean(
                        com.android.internal.R.bool.config_voice_capable)) {
                    ringerModeAffectedStreams |= (1 << AudioManager.STREAM_MUSIC);
                }
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                db.execSQL("INSERT INTO system ('name', 'value') values ('"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                        + String.valueOf(ringerModeAffectedStreams) + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 67;
        }

        if (upgradeVersion == 67) {
            // New setting to enable touch exploration.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.TOUCH_EXPLORATION_ENABLED,
                        R.bool.def_touch_exploration_enabled);
                stmt.close();
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 68;
        }

        if (upgradeVersion == 68) {
            // Enable all system sounds by default
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.NOTIFICATIONS_USE_RING_VOLUME + "'");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 69;
        }

        if (upgradeVersion == 69) {
            // Add RADIO_NFC to AIRPLANE_MODE_RADIO and AIRPLANE_MODE_TOGGLEABLE_RADIOS
            String airplaneRadios = mContext.getResources().getString(
                    R.string.def_airplane_mode_radios);
            String toggleableRadios = mContext.getResources().getString(
                    R.string.airplane_mode_toggleable_radios);
            db.beginTransaction();
            try {
                db.execSQL("UPDATE system SET value='" + airplaneRadios + "' " +
                        "WHERE name='" + Settings.System.AIRPLANE_MODE_RADIOS + "'");
                db.execSQL("UPDATE system SET value='" + toggleableRadios + "' " +
                        "WHERE name='" + Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS + "'");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 70;
        }

        if (upgradeVersion == 70) {
            // Update all built-in bookmarks.  Some of the package names have changed.
            loadBookmarks(db);
            upgradeVersion = 71;
        }

        if (upgradeVersion == 71) {
             // New setting to specify whether to speak passwords in accessibility mode.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.ACCESSIBILITY_SPEAK_PASSWORD,
                        R.bool.def_accessibility_speak_password);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 72;
        }

        if (upgradeVersion == 72) {
            // update vibration settings
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.VIBRATE_IN_SILENT,
                        R.bool.def_vibrate_in_silent);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 73;
        }

        if (upgradeVersion == 73) {
            upgradeVibrateSettingFromNone(db);
            upgradeVersion = 74;
        }

        if (upgradeVersion == 74) {
            // URL from which WebView loads a JavaScript based screen-reader.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadStringSetting(stmt, Settings.Secure.ACCESSIBILITY_SCREEN_READER_URL,
                        R.string.def_accessibility_screen_reader_url);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 75;
        }
        if (upgradeVersion == 75) {
            db.beginTransaction();
            SQLiteStatement stmt = null;
            Cursor c = null;
            try {
                c = db.<mark>query</mark>(TABLE_SECURE, new String[] {"_id", "value"},
                        "name='lockscreen.disabled'",
                        null, null, null, null);
                // only set default if it has not yet been set
                if (c == null || c.getCount() == 0) {
                    stmt = db.compileStatement("INSERT INTO system(name,value)"
                            + " VALUES(?,?);");
                    loadBooleanSetting(stmt, Settings.System.LOCKSCREEN_DISABLED,
                            R.bool.def_lockscreen_disabled);
                }
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (c != null) c.close();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 76;
        }

        /************* The following are Jelly Bean changes ************/

        if (upgradeVersion == 76) {
            // Removed VIBRATE_IN_SILENT setting
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                                + Settings.System.VIBRATE_IN_SILENT + "'");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 77;
        }

        if (upgradeVersion == 77) {
            // Introduce "vibrate when ringing" setting
            loadVibrateWhenRingingSetting(db);

            upgradeVersion = 78;
        }

        if (upgradeVersion == 78) {
            // The JavaScript based screen-reader URL changes in JellyBean.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.Secure.ACCESSIBILITY_SCREEN_READER_URL,
                        R.string.def_accessibility_screen_reader_url);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 79;
        }

        if (upgradeVersion == 79) {
            // Before touch exploration was a global setting controlled by the user
            // via the UI. However, if the enabled accessibility services do not
            // handle touch exploration mode, enabling it makes no sense. Therefore,
            // now the services request touch exploration mode and the user is
            // presented with a dialog to allow that and if she does we store that
            // in the database. As a result of this change a user that has enabled
            // accessibility, touch exploration, and some accessibility services
            // may lose touch exploration state, thus rendering the device useless
            // unless sighted help is provided, since the enabled service(s) are
            // not in the list of services to which the user granted a permission
            // to put the device in touch explore mode. Here we are allowing all
            // enabled accessibility services to toggle touch exploration provided
            // accessibility and touch exploration are enabled and no services can
            // toggle touch exploration. Note that the user has already manually
            // enabled the services and touch exploration which means the she has
            // given consent to have these services work in touch exploration mode.
            final boolean accessibilityEnabled = getIntValueFromTable(db, TABLE_SECURE,
                    Settings.Secure.ACCESSIBILITY_ENABLED, 0) == 1;
            final boolean touchExplorationEnabled = getIntValueFromTable(db, TABLE_SECURE,
                    Settings.Secure.TOUCH_EXPLORATION_ENABLED, 0) == 1;
            if (accessibilityEnabled && touchExplorationEnabled) {
                String enabledServices = getStringValueFromTable(db, TABLE_SECURE,
                        Settings.Secure.ENABLED_ACCESSIBILITY_SERVICES, "");
                String touchExplorationGrantedServices = getStringValueFromTable(db, TABLE_SECURE,
                        Settings.Secure.TOUCH_EXPLORATION_GRANTED_ACCESSIBILITY_SERVICES, "");
                if (TextUtils.isEmpty(touchExplorationGrantedServices)
                        && !TextUtils.isEmpty(enabledServices)) {
                    SQLiteStatement stmt = null;
                    try {
                        db.beginTransaction();
                        stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                                + " VALUES(?,?);");
                        loadSetting(stmt,
                                Settings.Secure.TOUCH_EXPLORATION_GRANTED_ACCESSIBILITY_SERVICES,
                                enabledServices);
                        db.setTransactionSuccessful();
                    } finally {
                        db.endTransaction();
                        if (stmt != null) stmt.close();
                    }
                }
            }
            upgradeVersion = 80;
        }

        // vvv Jelly Bean MR1 changes begin here vvv

        if (upgradeVersion == 80) {
            // update screensaver settings
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.SCREENSAVER_ENABLED,
                        com.android.internal.R.bool.config_dreamsEnabledByDefault);
                loadBooleanSetting(stmt, Settings.Secure.SCREENSAVER_ACTIVATE_ON_DOCK,
                        com.android.internal.R.bool.config_dreamsActivatedOnDockByDefault);
                loadBooleanSetting(stmt, Settings.Secure.SCREENSAVER_ACTIVATE_ON_SLEEP,
                        com.android.internal.R.bool.config_dreamsActivatedOnSleepByDefault);
                loadStringSetting(stmt, Settings.Secure.SCREENSAVER_COMPONENTS,
                        com.android.internal.R.string.config_dreamsDefaultComponent);
                loadStringSetting(stmt, Settings.Secure.SCREENSAVER_DEFAULT_COMPONENT,
                        com.android.internal.R.string.config_dreamsDefaultComponent);

                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 81;
        }

        if (upgradeVersion == 81) {
            // Add package verification setting
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Global.PACKAGE_VERIFIER_ENABLE,
                        R.bool.def_package_verifier_enable);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 82;
        }

        if (upgradeVersion == 82) {
            // Move to per-user settings dbs
            if (mUserHandle == UserHandle.USER_OWNER) {

                db.beginTransaction();
                SQLiteStatement stmt = null;
                try {
                    // Migrate now-global settings. Note that this happens before
                    // new users can be created.
                    createGlobalTable(db);
                    String[] settingsToMove = hashsetToStringArray(SettingsProvider.sSystemGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, false);
                    settingsToMove = hashsetToStringArray(SettingsProvider.sSecureGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, false);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                    if (stmt != null) stmt.close();
                }
            }
            upgradeVersion = 83;
        }

        if (upgradeVersion == 83) {
            // 1. Setting whether screen magnification is enabled.
            // 2. Setting for screen magnification scale.
            // 3. Setting for screen magnification auto update.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadBooleanSetting(stmt,
                        Settings.Secure.ACCESSIBILITY_DISPLAY_MAGNIFICATION_ENABLED,
                        R.bool.def_accessibility_display_magnification_enabled);
                stmt.close();
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadFractionSetting(stmt, Settings.Secure.ACCESSIBILITY_DISPLAY_MAGNIFICATION_SCALE,
                        R.fraction.def_accessibility_display_magnification_scale, 1);
                stmt.close();
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadBooleanSetting(stmt,
                        Settings.Secure.ACCESSIBILITY_DISPLAY_MAGNIFICATION_AUTO_UPDATE,
                        R.bool.def_accessibility_display_magnification_auto_update);

                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 84;
        }

        if (upgradeVersion == 84) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                SQLiteStatement stmt = null;
                try {
                    // Patch up the slightly-wrong key migration from 82 -> 83 for those
                    // devices that missed it, ignoring if the move is redundant
                    String[] settingsToMove = {
                            Settings.Secure.ADB_ENABLED,
                            Settings.Secure.BLUETOOTH_ON,
                            Settings.Secure.DATA_ROAMING,
                            Settings.Secure.DEVICE_PROVISIONED,
                            Settings.Secure.INSTALL_NON_MARKET_APPS,
                            Settings.Secure.USB_MASS_STORAGE_ENABLED
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                    if (stmt != null) stmt.close();
                }
            }
            upgradeVersion = 85;
        }

        if (upgradeVersion == 85) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    // Fix up the migration, ignoring already-migrated elements, to snap up to
                    // date with new changes to the set of global versus system/secure settings
                    String[] settingsToMove = { Settings.System.STAY_ON_WHILE_PLUGGED_IN };
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 86;
        }

        if (upgradeVersion == 86) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = {
                            Settings.Global.PACKAGE_VERIFIER_ENABLE,
                            Settings.Global.PACKAGE_VERIFIER_TIMEOUT,
                            Settings.Global.PACKAGE_VERIFIER_DEFAULT_RESPONSE
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 87;
        }

        if (upgradeVersion == 87) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = {
                            Settings.Global.DATA_STALL_ALARM_NON_AGGRESSIVE_DELAY_IN_MS,
                            Settings.Global.DATA_STALL_ALARM_AGGRESSIVE_DELAY_IN_MS,
                            Settings.Global.GPRS_REGISTER_CHECK_PERIOD_MS
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 88;
        }

        if (upgradeVersion == 88) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = {
                            Settings.Global.BATTERY_DISCHARGE_DURATION_THRESHOLD,
                            Settings.Global.BATTERY_DISCHARGE_THRESHOLD,
                            Settings.Global.SEND_ACTION_APP_ERROR,
                            Settings.Global.DROPBOX_AGE_SECONDS,
                            Settings.Global.DROPBOX_MAX_FILES,
                            Settings.Global.DROPBOX_QUOTA_KB,
                            Settings.Global.DROPBOX_QUOTA_PERCENT,
                            Settings.Global.DROPBOX_RESERVE_PERCENT,
                            Settings.Global.DROPBOX_TAG_PREFIX,
                            Settings.Global.ERROR_LOGCAT_PREFIX,
                            Settings.Global.SYS_FREE_STORAGE_LOG_INTERVAL,
                            Settings.Global.DISK_FREE_CHANGE_REPORTING_THRESHOLD,
                            Settings.Global.SYS_STORAGE_THRESHOLD_PERCENTAGE,
                            Settings.Global.SYS_STORAGE_THRESHOLD_MAX_BYTES,
                            Settings.Global.SYS_STORAGE_FULL_THRESHOLD_BYTES,
                            Settings.Global.SYNC_MAX_RETRY_DELAY_IN_SECONDS,
                            Settings.Global.CONNECTIVITY_CHANGE_DELAY,
                            Settings.Global.CAPTIVE_PORTAL_DETECTION_ENABLED,
                            Settings.Global.CAPTIVE_PORTAL_SERVER,
                            Settings.Global.NSD_ON,
                            Settings.Global.SET_INSTALL_LOCATION,
                            Settings.Global.DEFAULT_INSTALL_LOCATION,
                            Settings.Global.INET_CONDITION_DEBOUNCE_UP_DELAY,
                            Settings.Global.INET_CONDITION_DEBOUNCE_DOWN_DELAY,
                            Settings.Global.READ_EXTERNAL_STORAGE_ENFORCED_DEFAULT,
                            Settings.Global.HTTP_PROXY,
                            Settings.Global.GLOBAL_HTTP_PROXY_HOST,
                            Settings.Global.GLOBAL_HTTP_PROXY_PORT,
                            Settings.Global.GLOBAL_HTTP_PROXY_EXCLUSION_LIST,
                            Settings.Global.SET_GLOBAL_HTTP_PROXY,
                            Settings.Global.DEFAULT_DNS_SERVER,
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 89;
        }

        if (upgradeVersion == 89) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] prefixesToMove = {
                            Settings.Global.BLUETOOTH_HEADSET_PRIORITY_PREFIX,
                            Settings.Global.BLUETOOTH_A2DP_SINK_PRIORITY_PREFIX,
                            Settings.Global.BLUETOOTH_INPUT_DEVICE_PRIORITY_PREFIX,
                    };

                    movePrefixedSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, prefixesToMove);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 90;
        }

        if (upgradeVersion == 90) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] systemToGlobal = {
                            Settings.Global.WINDOW_ANIMATION_SCALE,
                            Settings.Global.TRANSITION_ANIMATION_SCALE,
                            Settings.Global.ANIMATOR_DURATION_SCALE,
                            Settings.Global.FANCY_IME_ANIMATIONS,
                            Settings.Global.COMPATIBILITY_MODE,
                            Settings.Global.EMERGENCY_TONE,
                            Settings.Global.CALL_AUTO_RETRY,
                            Settings.Global.DEBUG_APP,
                            Settings.Global.WAIT_FOR_DEBUGGER,
                            Settings.Global.SHOW_PROCESSES,
                            Settings.Global.ALWAYS_FINISH_ACTIVITIES,
                    };
                    String[] secureToGlobal = {
                            Settings.Global.PREFERRED_NETWORK_MODE,
                            Settings.Global.CDMA_SUBSCRIPTION_MODE,
                    };

                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, systemToGlobal, true);
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, secureToGlobal, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 91;
        }

        if (upgradeVersion == 91) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    // Move ringer mode from system to global settings
                    String[] settingsToMove = { Settings.Global.MODE_RINGER };
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 92;
        }

        if (upgradeVersion == 92) {
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO secure(name,value)"
                        + " VALUES(?,?);");
                if (mUserHandle == UserHandle.USER_OWNER) {
                    // consider existing primary users to have made it through user setup
                    // if the globally-scoped device-provisioned bit is set
                    // (indicating they already made it through setup as primary)
                    int deviceProvisioned = getIntValueFromTable(db, TABLE_GLOBAL,
                            Settings.Global.DEVICE_PROVISIONED, 0);
                    loadSetting(stmt, Settings.Secure.USER_SETUP_COMPLETE,
                            deviceProvisioned);
                } else {
                    // otherwise use the default
                    loadBooleanSetting(stmt, Settings.Secure.USER_SETUP_COMPLETE,
                            R.bool.def_user_setup_complete);
                }
            } finally {
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 93;
        }

        if (upgradeVersion == 93) {
            // Redo this step, since somehow it didn't work the first time for some users
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    // Migrate now-global settings
                    String[] settingsToMove = hashsetToStringArray(SettingsProvider.sSystemGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, true);
                    settingsToMove = hashsetToStringArray(SettingsProvider.sSecureGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 94;
        }

        if (upgradeVersion == 94) {
            // Add wireless charging started sound setting
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                SQLiteStatement stmt = null;
                try {
                    stmt = db.compileStatement("INSERT OR REPLACE INTO global(name,value)"
                            + " VALUES(?,?);");
                    loadStringSetting(stmt, Settings.Global.WIRELESS_CHARGING_STARTED_SOUND,
                            R.string.def_wireless_charging_started_sound);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                    if (stmt != null) stmt.close();
                }
            }
            upgradeVersion = 95;
        }

        if (upgradeVersion == 95) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = { Settings.Global.BUGREPORT_IN_POWER_MENU };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 96;
        }

        if (upgradeVersion == 96) {
            // NOP bump due to a reverted change that some people got on upgrade.
            upgradeVersion = 97;
        }

        if (upgradeVersion == 97) {
            // Add Default Dialer AutoComplete setting
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                SQLiteStatement stmt = null;
                try {
                    stmt = db.compileStatement("INSERT OR IGNORE INTO secure(name,value)"
                            + " VALUES(?,?);");
                    loadIntegerSetting(stmt, Settings.Secure.DIALPAD_AUTOCOMPLETE,
                            R.integer.def_dialpad_autocomplete);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                    if (stmt != null) stmt.close();
                }
            }
            upgradeVersion = 98;
        }

        // *** Remember to update DATABASE_VERSION above!

        if (upgradeVersion != currentVersion) {
            Log.w(TAG, "Got stuck trying to upgrade from version " + upgradeVersion
                    + ", must wipe the settings provider");
            wipeDB(db, oldVersion, upgradeVersion, currentVersion);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ParanoidAndroid_____android_frameworks_base_____DatabaseHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/android_database_sqlite/ParanoidAndroid_____android_frameworks_base_____DatabaseHelper.java

android.database.sqlite.SQLiteDatabase.query
android.database.sqlite.SQLiteDatabase.delete

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int currentVersion) {
        Log.w(TAG, "Upgrading settings database from version " + oldVersion + " to "
                + currentVersion);

        int upgradeVersion = oldVersion;

        // Pattern for upgrade blocks:
        //
        //    if (upgradeVersion == [the DATABASE_VERSION you set] - 1) {
        //        .. your upgrade logic..
        //        upgradeVersion = [the DATABASE_VERSION you set]
        //    }

        if (upgradeVersion == 20) {
            /*
             * Version 21 is part of the volume control refresh. There is no
             * longer a UI-visible for setting notification vibrate on/off (in
             * our design), but the functionality still exists. Force the
             * notification vibrate to on.
             */
            loadVibrateSetting(db, true);

            upgradeVersion = 21;
        }

        if (upgradeVersion < 22) {
            upgradeVersion = 22;
            // Upgrade the lock gesture storage location and format
            upgradeLockPatternLocation(db);
        }

        if (upgradeVersion < 23) {
            db.execSQL("UPDATE favorites SET iconResource=0 WHERE iconType=0");
            upgradeVersion = 23;
        }

        if (upgradeVersion == 23) {
            db.beginTransaction();
            try {
                db.execSQL("ALTER TABLE favorites ADD spanX INTEGER");
                db.execSQL("ALTER TABLE favorites ADD spanY INTEGER");
                // Shortcuts, applications, folders
                db.execSQL("UPDATE favorites SET spanX=1, spanY=1 WHERE itemType<=0");
                // Photo frames, clocks
                db.execSQL(
                    "UPDATE favorites SET spanX=2, spanY=2 WHERE itemType=1000 or itemType=1002");
                // Search boxes
                db.execSQL("UPDATE favorites SET spanX=4, spanY=1 WHERE itemType=1001");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 24;
        }

        if (upgradeVersion == 24) {
            db.beginTransaction();
            try {
                // The value of the constants for preferring wifi or preferring mobile have been
                // swapped, so reload the default.
                db.execSQL("DELETE FROM system WHERE name='network_preference'");
                db.execSQL("INSERT INTO system ('name', 'value') values ('network_preference', '" +
                        ConnectivityManager.DEFAULT_NETWORK_PREFERENCE + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 25;
        }

        if (upgradeVersion == 25) {
            db.beginTransaction();
            try {
                db.execSQL("ALTER TABLE favorites ADD uri TEXT");
                db.execSQL("ALTER TABLE favorites ADD displayMode INTEGER");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 26;
        }

        if (upgradeVersion == 26) {
            // This introduces the new secure settings table.
            db.beginTransaction();
            try {
                createSecureTable(db);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 27;
        }

        if (upgradeVersion == 27) {
            String[] settingsToMove = {
                    Settings.Secure.ADB_ENABLED,
                    Settings.Secure.ANDROID_ID,
                    Settings.Secure.BLUETOOTH_ON,
                    Settings.Secure.DATA_ROAMING,
                    Settings.Secure.DEVICE_PROVISIONED,
                    Settings.Secure.HTTP_PROXY,
                    Settings.Secure.INSTALL_NON_MARKET_APPS,
                    Settings.Secure.LOCATION_PROVIDERS_ALLOWED,
                    Settings.Secure.LOGGING_ID,
                    Settings.Secure.NETWORK_PREFERENCE,
                    Settings.Secure.PARENTAL_CONTROL_ENABLED,
                    Settings.Secure.PARENTAL_CONTROL_LAST_UPDATE,
                    Settings.Secure.PARENTAL_CONTROL_REDIRECT_URL,
                    Settings.Secure.SETTINGS_CLASSNAME,
                    Settings.Secure.USB_MASS_STORAGE_ENABLED,
                    Settings.Secure.USE_GOOGLE_MAIL,
                    Settings.Secure.WIFI_NETWORKS_AVAILABLE_NOTIFICATION_ON,
                    Settings.Secure.WIFI_NETWORKS_AVAILABLE_REPEAT_DELAY,
                    Settings.Secure.WIFI_NUM_OPEN_NETWORKS_KEPT,
                    Settings.Secure.WIFI_ON,
                    Settings.Secure.WIFI_WATCHDOG_ACCEPTABLE_PACKET_LOSS_PERCENTAGE,
                    Settings.Secure.WIFI_WATCHDOG_AP_COUNT,
                    Settings.Secure.WIFI_WATCHDOG_BACKGROUND_CHECK_DELAY_MS,
                    Settings.Secure.WIFI_WATCHDOG_BACKGROUND_CHECK_ENABLED,
                    Settings.Secure.WIFI_WATCHDOG_BACKGROUND_CHECK_TIMEOUT_MS,
                    Settings.Secure.WIFI_WATCHDOG_INITIAL_IGNORED_PING_COUNT,
                    Settings.Secure.WIFI_WATCHDOG_MAX_AP_CHECKS,
                    Settings.Secure.WIFI_WATCHDOG_ON,
                    Settings.Secure.WIFI_WATCHDOG_PING_COUNT,
                    Settings.Secure.WIFI_WATCHDOG_PING_DELAY_MS,
                    Settings.Secure.WIFI_WATCHDOG_PING_TIMEOUT_MS,
                };
            moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_SECURE, settingsToMove, false);
            upgradeVersion = 28;
        }

        if (upgradeVersion == 28 || upgradeVersion == 29) {
            // Note: The upgrade to 28 was flawed since it didn't delete the old
            // setting first before inserting. Combining 28 and 29 with the
            // fixed version.

            // This upgrade adds the STREAM_NOTIFICATION type to the list of
            // types affected by ringer modes (silent, vibrate, etc.)
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                int newValue = (1 << AudioManager.STREAM_RING)
                        | (1 << AudioManager.STREAM_NOTIFICATION)
                        | (1 << AudioManager.STREAM_SYSTEM);
                db.execSQL("INSERT INTO system ('name', 'value') values ('"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                        + String.valueOf(newValue) + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 30;
        }

        if (upgradeVersion == 30) {
            /*
             * Upgrade 31 clears the title for all quick launch shortcuts so the
             * activities' titles will be resolved at display time. Also, the
             * folder is changed to '@quicklaunch'.
             */
            db.beginTransaction();
            try {
                db.execSQL("UPDATE bookmarks SET folder = '@quicklaunch'");
                db.execSQL("UPDATE bookmarks SET title = ''");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 31;
        }

        if (upgradeVersion == 31) {
            /*
             * Animations are now managed in preferences, and may be
             * enabled or disabled based on product resources.
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.WINDOW_ANIMATION_SCALE + "'");
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.TRANSITION_ANIMATION_SCALE + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultAnimationSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 32;
        }

        if (upgradeVersion == 32) {
            // The Wi-Fi watchdog SSID list is now seeded with the value of
            // the property ro.com.android.wifi-watchlist
            String wifiWatchList = SystemProperties.get("ro.com.android.wifi-watchlist");
            if (!TextUtils.isEmpty(wifiWatchList)) {
                db.beginTransaction();
                try {
                    db.execSQL("INSERT OR IGNORE INTO secure(name,value) values('" +
                            Settings.Secure.WIFI_WATCHDOG_WATCH_LIST + "','" +
                            wifiWatchList + "');");
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 33;
        }

        if (upgradeVersion == 33) {
            // Set the default zoom controls to: tap-twice to bring up +/-
            db.beginTransaction();
            try {
                db.execSQL("INSERT INTO system(name,value) values('zoom','2');");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 34;
        }

        if (upgradeVersion == 34) {
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadSecure35Settings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 35;
        }
            // due to a botched merge from donut to eclair, the initialization of ASSISTED_GPS_ENABLED
            // was accidentally done out of order here.
            // to fix this, ASSISTED_GPS_ENABLED is now initialized while upgrading from 38 to 39,
            // and we intentionally do nothing from 35 to 36 now.
        if (upgradeVersion == 35) {
            upgradeVersion = 36;
        }

        if (upgradeVersion == 36) {
           // This upgrade adds the STREAM_SYSTEM_ENFORCED type to the list of
            // types affected by ringer modes (silent, vibrate, etc.)
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                int newValue = (1 << AudioManager.STREAM_RING)
                        | (1 << AudioManager.STREAM_NOTIFICATION)
                        | (1 << AudioManager.STREAM_SYSTEM)
                        | (1 << AudioManager.STREAM_SYSTEM_ENFORCED);
                db.execSQL("INSERT INTO system ('name', 'value') values ('"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                        + String.valueOf(newValue) + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 37;
        }

        if (upgradeVersion == 37) {
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS,
                        R.string.airplane_mode_toggleable_radios);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 38;
        }

        if (upgradeVersion == 38) {
            db.beginTransaction();
            try {
                String value =
                        mContext.getResources().getBoolean(R.bool.assisted_gps_enabled) ? "1" : "0";
                db.execSQL("INSERT OR IGNORE INTO secure(name,value) values('" +
                        Settings.Global.ASSISTED_GPS_ENABLED + "','" + value + "');");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 39;
        }

        if (upgradeVersion == 39) {
            upgradeAutoBrightness(db);
            upgradeVersion = 40;
        }

        if (upgradeVersion == 40) {
            /*
             * All animations are now turned on by default!
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.WINDOW_ANIMATION_SCALE + "'");
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.TRANSITION_ANIMATION_SCALE + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultAnimationSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 41;
        }

        if (upgradeVersion == 41) {
            /*
             * Initialize newly public haptic feedback setting
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.HAPTIC_FEEDBACK_ENABLED + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultHapticSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 42;
        }

        if (upgradeVersion == 42) {
            /*
             * Initialize new notification pulse setting
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.NOTIFICATION_LIGHT_PULSE,
                        R.bool.def_notification_pulse);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 43;
        }

        if (upgradeVersion == 43) {
            /*
             * This upgrade stores bluetooth volume separately from voice volume
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadSetting(stmt, Settings.System.VOLUME_BLUETOOTH_SCO,
                        AudioManager.DEFAULT_STREAM_VOLUME[AudioManager.STREAM_BLUETOOTH_SCO]);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 44;
        }

        if (upgradeVersion == 44) {
            /*
             * Gservices was moved into vendor/google.
             */
            db.execSQL("DROP TABLE IF EXISTS gservices");
            db.execSQL("DROP INDEX IF EXISTS gservicesIndex1");
            upgradeVersion = 45;
        }

        if (upgradeVersion == 45) {
             /*
              * New settings for MountService
              */
            db.beginTransaction();
            try {
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_PLAY_NOTIFICATION_SND + "','1');");
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_UMS_AUTOSTART + "','0');");
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_UMS_PROMPT + "','1');");
                db.execSQL("INSERT INTO secure(name,value) values('" +
                        Settings.Secure.MOUNT_UMS_NOTIFY_ENABLED + "','1');");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 46;
        }

        if (upgradeVersion == 46) {
            /*
             * The password mode constants have changed; reset back to no
             * password.
             */
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='lockscreen.password_type';");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
           upgradeVersion = 47;
       }


        if (upgradeVersion == 47) {
            /*
             * The password mode constants have changed again; reset back to no
             * password.
             */
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='lockscreen.password_type';");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
           upgradeVersion = 48;
       }

       if (upgradeVersion == 48) {
           /*
            * Default recognition service no longer initialized here,
            * moved to RecognitionManagerService.
            */
           upgradeVersion = 49;
       }

       if (upgradeVersion == 49) {
           /*
            * New settings for new user interface noises.
            */
           db.beginTransaction();
           SQLiteStatement stmt = null;
           try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadUISoundEffectsSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }

           upgradeVersion = 50;
       }

       if (upgradeVersion == 50) {
           /*
            * Install location no longer initiated here.
            */
           upgradeVersion = 51;
       }

       if (upgradeVersion == 51) {
           /* Move the lockscreen related settings to Secure, including some private ones. */
           String[] settingsToMove = {
                   Secure.LOCK_PATTERN_ENABLED,
                   Secure.LOCK_PATTERN_VISIBLE,
                   Secure.LOCK_PATTERN_TACTILE_FEEDBACK_ENABLED,
                   "lockscreen.password_type",
                   "lockscreen.lockoutattemptdeadline",
                   "lockscreen.patterneverchosen",
                   "lock_pattern_autolock",
                   "lockscreen.lockedoutpermanently",
                   "lockscreen.password_salt"
           };
           moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_SECURE, settingsToMove, false);
           upgradeVersion = 52;
       }

        if (upgradeVersion == 52) {
            // new vibration/silent mode settings
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.VIBRATE_IN_SILENT,
                        R.bool.def_vibrate_in_silent);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }

            upgradeVersion = 53;
        }

        if (upgradeVersion == 53) {
            /*
             * New settings for set install location UI no longer initiated here.
             */
            upgradeVersion = 54;
        }

        if (upgradeVersion == 54) {
            /*
             * Update the screen timeout value if set to never
             */
            db.beginTransaction();
            try {
                upgradeScreenTimeoutFromNever(db);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 55;
        }

        if (upgradeVersion == 55) {
            /* Move the install location settings. */
            String[] settingsToMove = {
                    Global.SET_INSTALL_LOCATION,
                    Global.DEFAULT_INSTALL_LOCATION
            };
            moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_SECURE, settingsToMove, false);
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadSetting(stmt, Global.SET_INSTALL_LOCATION, 0);
                loadSetting(stmt, Global.DEFAULT_INSTALL_LOCATION,
                        PackageHelper.APP_INSTALL_AUTO);
                db.setTransactionSuccessful();
             } finally {
                 db.endTransaction();
                 if (stmt != null) stmt.close();
             }
            upgradeVersion = 56;
        }

        if (upgradeVersion == 56) {
            /*
             * Add Bluetooth to list of toggleable radios in airplane mode
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS + "'");
                stmt = db.compileStatement("INSERT OR IGNORE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS,
                        R.string.airplane_mode_toggleable_radios);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 57;
        }

        /************* The following are Honeycomb changes ************/

        if (upgradeVersion == 57) {
            /*
             * New settings to:
             *  1. Enable injection of accessibility scripts in WebViews.
             *  2. Define the key bindings for traversing web content in WebViews.
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.ACCESSIBILITY_SCRIPT_INJECTION,
                        R.bool.def_accessibility_script_injection);
                stmt.close();
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.Secure.ACCESSIBILITY_WEB_CONTENT_KEY_BINDINGS,
                        R.string.def_accessibility_web_content_key_bindings);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 58;
        }

        if (upgradeVersion == 58) {
            /* Add default for new Auto Time Zone */
            int autoTimeValue = getIntValueFromSystem(db, Settings.System.AUTO_TIME, 0);
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)" + " VALUES(?,?);");
                loadSetting(stmt, Settings.System.AUTO_TIME_ZONE,
                        autoTimeValue); // Sync timezone to NITZ if auto_time was enabled
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 59;
        }

        if (upgradeVersion == 59) {
            // Persistence for the rotation lock feature.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.USER_ROTATION,
                        R.integer.def_user_rotation); // should be zero degrees
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 60;
        }

        if (upgradeVersion == 60) {
            // Don't do this for upgrades from Gingerbread
            // Were only required for intra-Honeycomb upgrades for testing
            // upgradeScreenTimeout(db);
            upgradeVersion = 61;
        }

        if (upgradeVersion == 61) {
            // Don't do this for upgrades from Gingerbread
            // Were only required for intra-Honeycomb upgrades for testing
            // upgradeScreenTimeout(db);
            upgradeVersion = 62;
        }

        // Change the default for screen auto-brightness mode
        if (upgradeVersion == 62) {
            // Don't do this for upgrades from Gingerbread
            // Were only required for intra-Honeycomb upgrades for testing
            // upgradeAutoBrightness(db);
            upgradeVersion = 63;
        }

        if (upgradeVersion == 63) {
            // This upgrade adds the STREAM_MUSIC type to the list of
             // types affected by ringer modes (silent, vibrate, etc.)
             db.beginTransaction();
             try {
                 db.execSQL("DELETE FROM system WHERE name='"
                         + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                 int newValue = (1 << AudioManager.STREAM_RING)
                         | (1 << AudioManager.STREAM_NOTIFICATION)
                         | (1 << AudioManager.STREAM_SYSTEM)
                         | (1 << AudioManager.STREAM_SYSTEM_ENFORCED)
                         | (1 << AudioManager.STREAM_MUSIC);
                 db.execSQL("INSERT INTO system ('name', 'value') values ('"
                         + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                         + String.valueOf(newValue) + "')");
                 db.setTransactionSuccessful();
             } finally {
                 db.endTransaction();
             }
             upgradeVersion = 64;
         }

        if (upgradeVersion == 64) {
            // New setting to configure the long press timeout.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadIntegerSetting(stmt, Settings.Secure.LONG_PRESS_TIMEOUT,
                        R.integer.def_long_press_timeout_millis);
                stmt.close();
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 65;
        }

        /************* The following are Ice Cream Sandwich changes ************/

        if (upgradeVersion == 65) {
            /*
             * Animations are removed from Settings. Turned on by default
             */
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.WINDOW_ANIMATION_SCALE + "'");
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.TRANSITION_ANIMATION_SCALE + "'");
                stmt = db.compileStatement("INSERT INTO system(name,value)"
                        + " VALUES(?,?);");
                loadDefaultAnimationSettings(stmt);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 66;
        }

        if (upgradeVersion == 66) {
            // This upgrade makes sure that MODE_RINGER_STREAMS_AFFECTED is set
            // according to device voice capability
            db.beginTransaction();
            try {
                int ringerModeAffectedStreams = (1 << AudioManager.STREAM_RING) |
                                                (1 << AudioManager.STREAM_NOTIFICATION) |
                                                (1 << AudioManager.STREAM_SYSTEM) |
                                                (1 << AudioManager.STREAM_SYSTEM_ENFORCED);
                if (!mContext.getResources().getBoolean(
                        com.android.internal.R.bool.config_voice_capable)) {
                    ringerModeAffectedStreams |= (1 << AudioManager.STREAM_MUSIC);
                }
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "'");
                db.execSQL("INSERT INTO system ('name', 'value') values ('"
                        + Settings.System.MODE_RINGER_STREAMS_AFFECTED + "', '"
                        + String.valueOf(ringerModeAffectedStreams) + "')");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 67;
        }

        if (upgradeVersion == 67) {
            // New setting to enable touch exploration.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.TOUCH_EXPLORATION_ENABLED,
                        R.bool.def_touch_exploration_enabled);
                stmt.close();
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 68;
        }

        if (upgradeVersion == 68) {
            // Enable all system sounds by default
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                        + Settings.System.NOTIFICATIONS_USE_RING_VOLUME + "'");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 69;
        }

        if (upgradeVersion == 69) {
            // Add RADIO_NFC to AIRPLANE_MODE_RADIO and AIRPLANE_MODE_TOGGLEABLE_RADIOS
            String airplaneRadios = mContext.getResources().getString(
                    R.string.def_airplane_mode_radios);
            String toggleableRadios = mContext.getResources().getString(
                    R.string.airplane_mode_toggleable_radios);
            db.beginTransaction();
            try {
                db.execSQL("UPDATE system SET value='" + airplaneRadios + "' " +
                        "WHERE name='" + Settings.System.AIRPLANE_MODE_RADIOS + "'");
                db.execSQL("UPDATE system SET value='" + toggleableRadios + "' " +
                        "WHERE name='" + Settings.System.AIRPLANE_MODE_TOGGLEABLE_RADIOS + "'");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }
            upgradeVersion = 70;
        }

        if (upgradeVersion == 70) {
            // Update all built-in bookmarks.  Some of the package names have changed.
            loadBookmarks(db);
            upgradeVersion = 71;
        }

        if (upgradeVersion == 71) {
             // New setting to specify whether to speak passwords in accessibility mode.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.ACCESSIBILITY_SPEAK_PASSWORD,
                        R.bool.def_accessibility_speak_password);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 72;
        }

        if (upgradeVersion == 72) {
            // update vibration settings
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO system(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.System.VIBRATE_IN_SILENT,
                        R.bool.def_vibrate_in_silent);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 73;
        }

        if (upgradeVersion == 73) {
            upgradeVibrateSettingFromNone(db);
            upgradeVersion = 74;
        }

        if (upgradeVersion == 74) {
            // URL from which WebView loads a JavaScript based screen-reader.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadStringSetting(stmt, Settings.Secure.ACCESSIBILITY_SCREEN_READER_URL,
                        R.string.def_accessibility_screen_reader_url);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 75;
        }
        if (upgradeVersion == 75) {
            db.beginTransaction();
            SQLiteStatement stmt = null;
            Cursor c = null;
            try {
                c = db.<mark>query</mark>(TABLE_SECURE, new String[] {"_id", "value"},
                        "name='lockscreen.disabled'",
                        null, null, null, null);
                // only set default if it has not yet been set
                if (c == null || c.getCount() == 0) {
                    stmt = db.compileStatement("INSERT INTO system(name,value)"
                            + " VALUES(?,?);");
                    loadBooleanSetting(stmt, Settings.System.LOCKSCREEN_DISABLED,
                            R.bool.def_lockscreen_disabled);
                }
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (c != null) c.close();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 76;
        }

        /************* The following are Jelly Bean changes ************/

        if (upgradeVersion == 76) {
            // Removed VIBRATE_IN_SILENT setting
            db.beginTransaction();
            try {
                db.execSQL("DELETE FROM system WHERE name='"
                                + Settings.System.VIBRATE_IN_SILENT + "'");
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
            }

            upgradeVersion = 77;
        }

        if (upgradeVersion == 77) {
            // Introduce "vibrate when ringing" setting
            loadVibrateWhenRingingSetting(db);

            upgradeVersion = 78;
        }

        if (upgradeVersion == 78) {
            // The JavaScript based screen-reader URL changes in JellyBean.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadStringSetting(stmt, Settings.Secure.ACCESSIBILITY_SCREEN_READER_URL,
                        R.string.def_accessibility_screen_reader_url);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 79;
        }

        if (upgradeVersion == 79) {
            // Before touch exploration was a global setting controlled by the user
            // via the UI. However, if the enabled accessibility services do not
            // handle touch exploration mode, enabling it makes no sense. Therefore,
            // now the services request touch exploration mode and the user is
            // presented with a dialog to allow that and if she does we store that
            // in the database. As a result of this change a user that has enabled
            // accessibility, touch exploration, and some accessibility services
            // may lose touch exploration state, thus rendering the device useless
            // unless sighted help is provided, since the enabled service(s) are
            // not in the list of services to which the user granted a permission
            // to put the device in touch explore mode. Here we are allowing all
            // enabled accessibility services to toggle touch exploration provided
            // accessibility and touch exploration are enabled and no services can
            // toggle touch exploration. Note that the user has already manually
            // enabled the services and touch exploration which means the she has
            // given consent to have these services work in touch exploration mode.
            final boolean accessibilityEnabled = getIntValueFromTable(db, TABLE_SECURE,
                    Settings.Secure.ACCESSIBILITY_ENABLED, 0) == 1;
            final boolean touchExplorationEnabled = getIntValueFromTable(db, TABLE_SECURE,
                    Settings.Secure.TOUCH_EXPLORATION_ENABLED, 0) == 1;
            if (accessibilityEnabled && touchExplorationEnabled) {
                String enabledServices = getStringValueFromTable(db, TABLE_SECURE,
                        Settings.Secure.ENABLED_ACCESSIBILITY_SERVICES, "");
                String touchExplorationGrantedServices = getStringValueFromTable(db, TABLE_SECURE,
                        Settings.Secure.TOUCH_EXPLORATION_GRANTED_ACCESSIBILITY_SERVICES, "");
                if (TextUtils.isEmpty(touchExplorationGrantedServices)
                        && !TextUtils.isEmpty(enabledServices)) {
                    SQLiteStatement stmt = null;
                    try {
                        db.beginTransaction();
                        stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                                + " VALUES(?,?);");
                        loadSetting(stmt,
                                Settings.Secure.TOUCH_EXPLORATION_GRANTED_ACCESSIBILITY_SERVICES,
                                enabledServices);
                        db.setTransactionSuccessful();
                    } finally {
                        db.endTransaction();
                        if (stmt != null) stmt.close();
                    }
                }
            }
            upgradeVersion = 80;
        }

        // vvv Jelly Bean MR1 changes begin here vvv

        if (upgradeVersion == 80) {
            // update screensaver settings
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Secure.SCREENSAVER_ENABLED,
                        com.android.internal.R.bool.config_dreamsEnabledByDefault);
                loadBooleanSetting(stmt, Settings.Secure.SCREENSAVER_ACTIVATE_ON_DOCK,
                        com.android.internal.R.bool.config_dreamsActivatedOnDockByDefault);
                loadBooleanSetting(stmt, Settings.Secure.SCREENSAVER_ACTIVATE_ON_SLEEP,
                        com.android.internal.R.bool.config_dreamsActivatedOnSleepByDefault);
                loadStringSetting(stmt, Settings.Secure.SCREENSAVER_COMPONENTS,
                        com.android.internal.R.string.config_dreamsDefaultComponent);
                loadStringSetting(stmt, Settings.Secure.SCREENSAVER_DEFAULT_COMPONENT,
                        com.android.internal.R.string.config_dreamsDefaultComponent);

                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 81;
        }

        if (upgradeVersion == 81) {
            // Add package verification setting
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR REPLACE INTO secure(name,value)"
                        + " VALUES(?,?);");
                loadBooleanSetting(stmt, Settings.Global.PACKAGE_VERIFIER_ENABLE,
                        R.bool.def_package_verifier_enable);
                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 82;
        }

        if (upgradeVersion == 82) {
            // Move to per-user settings dbs
            if (mUserHandle == UserHandle.USER_OWNER) {

                db.beginTransaction();
                SQLiteStatement stmt = null;
                try {
                    // Migrate now-global settings. Note that this happens before
                    // new users can be created.
                    createGlobalTable(db);
                    String[] settingsToMove = hashsetToStringArray(SettingsProvider.sSystemGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, false);
                    settingsToMove = hashsetToStringArray(SettingsProvider.sSecureGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, false);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                    if (stmt != null) stmt.close();
                }
            }
            upgradeVersion = 83;
        }

        if (upgradeVersion == 83) {
            // 1. Setting whether screen magnification is enabled.
            // 2. Setting for screen magnification scale.
            // 3. Setting for screen magnification auto update.
            db.beginTransaction();
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadBooleanSetting(stmt,
                        Settings.Secure.ACCESSIBILITY_DISPLAY_MAGNIFICATION_ENABLED,
                        R.bool.def_accessibility_display_magnification_enabled);
                stmt.close();
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadFractionSetting(stmt, Settings.Secure.ACCESSIBILITY_DISPLAY_MAGNIFICATION_SCALE,
                        R.fraction.def_accessibility_display_magnification_scale, 1);
                stmt.close();
                stmt = db.compileStatement("INSERT INTO secure(name,value) VALUES(?,?);");
                loadBooleanSetting(stmt,
                        Settings.Secure.ACCESSIBILITY_DISPLAY_MAGNIFICATION_AUTO_UPDATE,
                        R.bool.def_accessibility_display_magnification_auto_update);

                db.setTransactionSuccessful();
            } finally {
                db.endTransaction();
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 84;
        }

        if (upgradeVersion == 84) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                SQLiteStatement stmt = null;
                try {
                    // Patch up the slightly-wrong key migration from 82 -> 83 for those
                    // devices that missed it, ignoring if the move is redundant
                    String[] settingsToMove = {
                            Settings.Secure.ADB_ENABLED,
                            Settings.Secure.BLUETOOTH_ON,
                            Settings.Secure.DATA_ROAMING,
                            Settings.Secure.DEVICE_PROVISIONED,
                            Settings.Secure.INSTALL_NON_MARKET_APPS,
                            Settings.Secure.USB_MASS_STORAGE_ENABLED
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                    if (stmt != null) stmt.close();
                }
            }
            upgradeVersion = 85;
        }

        if (upgradeVersion == 85) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    // Fix up the migration, ignoring already-migrated elements, to snap up to
                    // date with new changes to the set of global versus system/secure settings
                    String[] settingsToMove = { Settings.System.STAY_ON_WHILE_PLUGGED_IN };
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 86;
        }

        if (upgradeVersion == 86) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = {
                            Settings.Global.PACKAGE_VERIFIER_ENABLE,
                            Settings.Global.PACKAGE_VERIFIER_TIMEOUT,
                            Settings.Global.PACKAGE_VERIFIER_DEFAULT_RESPONSE
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 87;
        }

        if (upgradeVersion == 87) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = {
                            Settings.Global.DATA_STALL_ALARM_NON_AGGRESSIVE_DELAY_IN_MS,
                            Settings.Global.DATA_STALL_ALARM_AGGRESSIVE_DELAY_IN_MS,
                            Settings.Global.GPRS_REGISTER_CHECK_PERIOD_MS
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 88;
        }

        if (upgradeVersion == 88) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = {
                            Settings.Global.BATTERY_DISCHARGE_DURATION_THRESHOLD,
                            Settings.Global.BATTERY_DISCHARGE_THRESHOLD,
                            Settings.Global.SEND_ACTION_APP_ERROR,
                            Settings.Global.DROPBOX_AGE_SECONDS,
                            Settings.Global.DROPBOX_MAX_FILES,
                            Settings.Global.DROPBOX_QUOTA_KB,
                            Settings.Global.DROPBOX_QUOTA_PERCENT,
                            Settings.Global.DROPBOX_RESERVE_PERCENT,
                            Settings.Global.DROPBOX_TAG_PREFIX,
                            Settings.Global.ERROR_LOGCAT_PREFIX,
                            Settings.Global.SYS_FREE_STORAGE_LOG_INTERVAL,
                            Settings.Global.DISK_FREE_CHANGE_REPORTING_THRESHOLD,
                            Settings.Global.SYS_STORAGE_THRESHOLD_PERCENTAGE,
                            Settings.Global.SYS_STORAGE_THRESHOLD_MAX_BYTES,
                            Settings.Global.SYS_STORAGE_FULL_THRESHOLD_BYTES,
                            Settings.Global.SYNC_MAX_RETRY_DELAY_IN_SECONDS,
                            Settings.Global.CONNECTIVITY_CHANGE_DELAY,
                            Settings.Global.CAPTIVE_PORTAL_DETECTION_ENABLED,
                            Settings.Global.CAPTIVE_PORTAL_SERVER,
                            Settings.Global.NSD_ON,
                            Settings.Global.SET_INSTALL_LOCATION,
                            Settings.Global.DEFAULT_INSTALL_LOCATION,
                            Settings.Global.INET_CONDITION_DEBOUNCE_UP_DELAY,
                            Settings.Global.INET_CONDITION_DEBOUNCE_DOWN_DELAY,
                            Settings.Global.READ_EXTERNAL_STORAGE_ENFORCED_DEFAULT,
                            Settings.Global.HTTP_PROXY,
                            Settings.Global.GLOBAL_HTTP_PROXY_HOST,
                            Settings.Global.GLOBAL_HTTP_PROXY_PORT,
                            Settings.Global.GLOBAL_HTTP_PROXY_EXCLUSION_LIST,
                            Settings.Global.SET_GLOBAL_HTTP_PROXY,
                            Settings.Global.DEFAULT_DNS_SERVER,
                    };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 89;
        }

        if (upgradeVersion == 89) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] prefixesToMove = {
                            Settings.Global.BLUETOOTH_HEADSET_PRIORITY_PREFIX,
                            Settings.Global.BLUETOOTH_A2DP_SINK_PRIORITY_PREFIX,
                            Settings.Global.BLUETOOTH_INPUT_DEVICE_PRIORITY_PREFIX,
                    };

                    movePrefixedSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, prefixesToMove);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 90;
        }

        if (upgradeVersion == 90) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] systemToGlobal = {
                            Settings.Global.WINDOW_ANIMATION_SCALE,
                            Settings.Global.TRANSITION_ANIMATION_SCALE,
                            Settings.Global.ANIMATOR_DURATION_SCALE,
                            Settings.Global.FANCY_IME_ANIMATIONS,
                            Settings.Global.COMPATIBILITY_MODE,
                            Settings.Global.EMERGENCY_TONE,
                            Settings.Global.CALL_AUTO_RETRY,
                            Settings.Global.DEBUG_APP,
                            Settings.Global.WAIT_FOR_DEBUGGER,
                            Settings.Global.SHOW_PROCESSES,
                            Settings.Global.ALWAYS_FINISH_ACTIVITIES,
                    };
                    String[] secureToGlobal = {
                            Settings.Global.PREFERRED_NETWORK_MODE,
                            Settings.Global.PREFERRED_CDMA_SUBSCRIPTION,
                    };

                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, systemToGlobal, true);
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, secureToGlobal, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 91;
        }

        if (upgradeVersion == 91) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    // Move ringer mode from system to global settings
                    String[] settingsToMove = { Settings.Global.MODE_RINGER };
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 92;
        }

        if (upgradeVersion == 92) {
            SQLiteStatement stmt = null;
            try {
                stmt = db.compileStatement("INSERT OR IGNORE INTO secure(name,value)"
                        + " VALUES(?,?);");
                if (mUserHandle == UserHandle.USER_OWNER) {
                    // consider existing primary users to have made it through user setup
                    // if the globally-scoped device-provisioned bit is set
                    // (indicating they already made it through setup as primary)
                    int deviceProvisioned = getIntValueFromTable(db, TABLE_GLOBAL,
                            Settings.Global.DEVICE_PROVISIONED, 0);
                    loadSetting(stmt, Settings.Secure.USER_SETUP_COMPLETE,
                            deviceProvisioned);
                } else {
                    // otherwise use the default
                    loadBooleanSetting(stmt, Settings.Secure.USER_SETUP_COMPLETE,
                            R.bool.def_user_setup_complete);
                }
            } finally {
                if (stmt != null) stmt.close();
            }
            upgradeVersion = 93;
        }

        if (upgradeVersion == 93) {
            // Redo this step, since somehow it didn't work the first time for some users
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    // Migrate now-global settings
                    String[] settingsToMove = hashsetToStringArray(SettingsProvider.sSystemGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SYSTEM, TABLE_GLOBAL, settingsToMove, true);
                    settingsToMove = hashsetToStringArray(SettingsProvider.sSecureGlobalKeys);
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);

                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 94;
        }

        if (upgradeVersion == 94) {
            // Add wireless charging started sound setting
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                SQLiteStatement stmt = null;
                try {
                    stmt = db.compileStatement("INSERT OR REPLACE INTO global(name,value)"
                            + " VALUES(?,?);");
                    loadStringSetting(stmt, Settings.Global.WIRELESS_CHARGING_STARTED_SOUND,
                            R.string.def_wireless_charging_started_sound);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                    if (stmt != null) stmt.close();
                }
            }
            upgradeVersion = 95;
        }

        if (upgradeVersion == 95) {
            if (mUserHandle == UserHandle.USER_OWNER) {
                db.beginTransaction();
                try {
                    String[] settingsToMove = { Settings.Global.BUGREPORT_IN_POWER_MENU };
                    moveSettingsToNewTable(db, TABLE_SECURE, TABLE_GLOBAL, settingsToMove, true);
                    db.setTransactionSuccessful();
                } finally {
                    db.endTransaction();
                }
            }
            upgradeVersion = 96;
        }

        if (upgradeVersion == 96) {
            // NOP bump due to a reverted change that some people got on upgrade.
            upgradeVersion = 97;
        }

        // *** Remember to update DATABASE_VERSION above!

        if (upgradeVersion != currentVersion) {
            Log.w(TAG, "Got stuck trying to upgrade from version " + upgradeVersion
                    + ", must wipe the settings provider");
            db.execSQL("DROP TABLE IF EXISTS global");
            db.execSQL("DROP TABLE IF EXISTS globalIndex1");
            db.execSQL("DROP TABLE IF EXISTS system");
            db.execSQL("DROP INDEX IF EXISTS systemIndex1");
            db.execSQL("DROP TABLE IF EXISTS secure");
            db.execSQL("DROP INDEX IF EXISTS secureIndex1");
            db.execSQL("DROP TABLE IF EXISTS gservices");
            db.execSQL("DROP INDEX IF EXISTS gservicesIndex1");
            db.execSQL("DROP TABLE IF EXISTS bluetooth_devices");
            db.execSQL("DROP TABLE IF EXISTS bookmarks");
            db.execSQL("DROP INDEX IF EXISTS bookmarksIndex1");
            db.execSQL("DROP INDEX IF EXISTS bookmarksIndex2");
            db.execSQL("DROP TABLE IF EXISTS favorites");
            onCreate(db);

            // Added for diagnosing settings.db wipes after the fact
            String wipeReason = oldVersion + "/" + upgradeVersion + "/" + currentVersion;
            db.execSQL("INSERT INTO secure(name,value) values('" +
                    "wiped_db_reason" + "','" + wipeReason + "');");
        }
    }

            </pre>
          </div>
        </div>

        
  </div>
  <!-- /.container -->


</body>

</html>

        