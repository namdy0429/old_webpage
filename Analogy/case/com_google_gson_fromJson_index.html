
<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title></title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</head>

<body>

  <!-- Page Content -->
  <div class="container" style="max-width: 1620px">
    <div class="row">
      <h1 class="col-lg-12 col-md-12 mb-12" style="margin-top: 30px;">com_google_gson</h1>
      <br>
      <h4 class="col-lg-12 col-md-12 mb-12">fromJson</h4>
    </div>
    
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>biezhi_____wechat-api_____ApiResponse_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/biezhi_____wechat-api_____ApiResponse.java

com.google.gson.Gson.fromJson


    public <T> T parse(Class<T> type) {
        return gson.<mark>fromJson</mark>(rawBody, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rongcloud_____server-sdk-java_____GsonUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/rongcloud_____server-sdk-java_____GsonUtil.java

com.google.gson.Gson.fromJson


	public static Object <mark>fromJson</mark>(String str, Type type) {
		return gson.<mark>fromJson</mark>(str, type);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____Coder_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____Coder.java

com.google.gson.Gson.fromJson


    public static <T> T <mark>fromJson</mark>(String str, Class<T> clz) {
        return s_gson.<mark>fromJson</mark>(str, clz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wuyinlei_____MyHearts_____JSONUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wuyinlei_____MyHearts_____JSONUtil.java

com.google.gson.Gson.fromJson


    public static <T> T <mark>fromJson</mark>(String json,Class<T> clz){

        return  gson.<mark>fromJson</mark>(json,clz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jclouds_____jclouds_____GsonWrapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jclouds_____jclouds_____GsonWrapper.java

com.google.gson.Gson.fromJson

   @Override
   public <T> T <mark>fromJson</mark>(String json, Type type) {
      return (T) gson.<mark>fromJson</mark>(json, type);
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____GsonTransformer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____GsonTransformer.java

com.google.gson.Gson.fromJson


    public <T> T <mark>fromJson</mark>(String string, Class<T> classOfT) {
        return GSON.<mark>fromJson</mark>(string, classOfT);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hyb1996_____Auto.js_____EditorTheme_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/hyb1996_____Auto.js_____EditorTheme.java

com.google.gson.Gson.fromJson


    public static EditorTheme <mark>fromJson</mark>(String json) {
        return sGson.<mark>fromJson</mark>(json, EditorTheme.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>javers_____javers_____JsonConverter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/javers_____javers_____JsonConverter.java

com.google.gson.Gson.fromJson


    public Object <mark>fromJson</mark>(String json, Type expectedType) {
        return gson.<mark>fromJson</mark>(json, expectedType);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>javers_____javers_____JsonConverter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/javers_____javers_____JsonConverter.java

com.google.gson.Gson.fromJson


    public <T> T <mark>fromJson</mark>(String json, Class<T> expectedType){
        return gson.<mark>fromJson</mark>(json, expectedType);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ZhaoKaiQiang_____JianDanRxJava_____GsonHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ZhaoKaiQiang_____JianDanRxJava_____GsonHelper.java

com.google.gson.Gson.fromJson


    public T <mark>fromJson</mark>(String json, Class<T> classOfT) {
        return mGson.<mark>fromJson</mark>(json, classOfT);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DanteAndroid_____Knowledge_____Json_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/DanteAndroid_____Knowledge_____Json.java

com.google.gson.Gson.fromJson


    public static FreshJson parseFreshNews(String fresh) {
        return mGson.<mark>fromJson</mark>(fresh, FreshJson.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>javers_____javers_____JsonConverter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/javers_____javers_____JsonConverter.java

com.google.gson.Gson.fromJson


    public JsonElement fromJsonToJsonElement(String json){
        return gson.<mark>fromJson</mark>(json, JsonElement.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jclouds_____jclouds_____GsonWrapper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jclouds_____jclouds_____GsonWrapper.java

com.google.gson.Gson.fromJson

   @Override
   public <T> T <mark>fromJson</mark>(String json, Class<T> classOfT) {
      return gson.<mark>fromJson</mark>(json, classOfT);
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____BaseLivyInterpreter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____BaseLivyInterpreter.java

com.google.gson.Gson.fromJson


    public static SessionInfo <mark>fromJson</mark>(String json) {
      return gson.<mark>fromJson</mark>(json, SessionInfo.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DanteAndroid_____Knowledge_____Json_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/DanteAndroid_____Knowledge_____Json.java

com.google.gson.Gson.fromJson


    public static ZhihuJson parseZhihuNews(String latest) {
        return mGson.<mark>fromJson</mark>(latest, ZhihuJson.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pengrad_____java-telegram-bot-api_____BotUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pengrad_____java-telegram-bot-api_____BotUtils.java

com.google.gson.Gson.fromJson


    public static Update parseUpdate(String update) {
        return gson.<mark>fromJson</mark>(update, Update.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>javers_____javers_____JsonConverter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/javers_____javers_____JsonConverter.java

com.google.gson.Gson.fromJson


    public <T> T <mark>fromJson</mark>(JsonElement json, Class<T> expectedType) {
        return gson.<mark>fromJson</mark>(json, expectedType);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____Resource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____Resource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


  public static Resource <mark>fromJson</mark>(String json) {
    return gson.<mark>fromJson</mark>(json, Resource.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NestUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NestUtils.java

com.google.gson.Gson.fromJson


    public static <T> T <mark>fromJson</mark>(String json, Class<T> dataClass) {
        return GSON.<mark>fromJson</mark>(json, dataClass);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ikew0ng_____Dribbo_____Shot_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ikew0ng_____Dribbo_____Shot.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static Shot <mark>fromJson</mark>(String json) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, Shot.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>stormzhang_____9GAG_____Feed_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/stormzhang_____9GAG_____Feed.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static Feed <mark>fromJson</mark>(String json) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, Feed.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DanteAndroid_____Knowledge_____Json_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/DanteAndroid_____Knowledge_____Json.java

com.google.gson.Gson.fromJson


    public static ZhihuDetail parseZhihuDetail(String detail) {
        return mGson.<mark>fromJson</mark>(detail, ZhihuDetail.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>epam_____JDI_____Utils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/epam_____JDI_____Utils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static Object createFromGSON(String json, Type t) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, t);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ralfstx_____minimal-json_____GsonRunner_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ralfstx_____minimal-json_____GsonRunner.java

com.google.gson.Gson.fromJson

  @Override
  public Object readFromString(String string) throws Exception {
    return gson.<mark>fromJson</mark>(string, Map.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SilenceDut_____KnowWeather_____JsonHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/SilenceDut_____KnowWeather_____JsonHelper.java

com.google.gson.Gson.fromJson

     */
    public static <T> T <mark>fromJson</mark>(String string, Class<T> clazz) {
        return GSON.<mark>fromJson</mark>(string, clazz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fabric8io_____docker-maven-plugin_____JsonFactory_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/fabric8io_____docker-maven-plugin_____JsonFactory.java

com.google.gson.Gson.fromJson


    public static JsonObject newJsonObject(String json) {
        return GSON.<mark>fromJson</mark>(json, JsonObject.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>flutter_____flutter-intellij_____DaemonApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/flutter_____flutter-intellij_____DaemonApi.java

com.google.gson.Gson.fromJson

    @Override
    RestartResult parseResult(JsonElement result) {
      return GSON.<mark>fromJson</mark>(result, RestartResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____BaseLivyInterpreter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____BaseLivyInterpreter.java

com.google.gson.Gson.fromJson


    public static CompletionResponse <mark>fromJson</mark>(String json) {
      return gson.<mark>fromJson</mark>(json, CompletionResponse.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HiddenStage_____divide_____KeyObject_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/HiddenStage_____divide_____KeyObject.java

com.google.gson.Gson.fromJson


    public byte[] getPublicKey(){
        if(pubKey!=null) return gson.<mark>fromJson</mark>(pubKey,byte[].class);
        else return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DanteAndroid_____Knowledge_____Json_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/DanteAndroid_____Knowledge_____Json.java

com.google.gson.Gson.fromJson


    public static FreshDetailJson parseFreshDetail(String detail) {
        return mGson.<mark>fromJson</mark>(detail, FreshDetailJson.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iFixit_____iFixitAndroid_____JSONHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/iFixit_____iFixitAndroid_____JSONHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


   public static Wiki parseWiki(String json) {
      return <mark>new Gson</mark>().<mark>fromJson</mark>(json, Wiki.class);
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Mashape_____unirest-java_____GsonObjectMapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Mashape_____unirest-java_____GsonObjectMapper.java

com.google.gson.Gson.fromJson

    @Override
    public <T> T readValue(String value, Class<T> valueType) {
        return om.<mark>fromJson</mark>(value, valueType);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>FlowCI_____flow-platform_____Jsonable_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/FlowCI_____flow-platform_____Jsonable.java

com.google.gson.Gson.fromJson


    public static <T extends Jsonable> T parse(String json, Class<T> tClass) {
        return GSON_CONFIG.<mark>fromJson</mark>(json, tClass);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____FromJsonHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____FromJsonHelper.java

com.google.gson.Gson.fromJson


    public <T> T <mark>fromJson</mark>(final String json, final Class<T> classOfT) {
        return this.gsonConverter.<mark>fromJson</mark>(json, classOfT);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jclouds_____jclouds_____GsonWrapper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jclouds_____jclouds_____GsonWrapper.java

com.google.gson.Gson.fromJson

   @Override
   public <T> T <mark>fromJson</mark>(InputStream json, Type type) {
      return (T) gson.<mark>fromJson</mark>(new InputStreamReader(json), type);
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>alibaba_____DataX_____GsonParser_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/alibaba_____DataX_____GsonParser.java

com.google.gson.Gson.fromJson


    public static OTSConf jsonToConf (String jsonStr) {
        Gson g = gsonBuilder();
        return g.<mark>fromJson</mark>(jsonStr, OTSConf.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>qiniu_____java-sdk_____Json_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/qiniu_____java-sdk_____Json.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static <T> T decode(String json, Class<T> classOfT) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, classOfT);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MovingBlocks_____Terasology_____BehaviorTreeBuilder_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MovingBlocks_____Terasology_____BehaviorTreeBuilder.java

com.google.gson.Gson.fromJson


    public BehaviorNode <mark>fromJson</mark>(String json) {
        initGson();
        return gson.<mark>fromJson</mark>(json, BehaviorNode.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yinwang0_____pysonar2_____Parser_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yinwang0_____pysonar2_____Parser.java

com.google.gson.Gson.fromJson


    public String prettyJson(String json) {
        Map<String, Object> obj = gson.<mark>fromJson</mark>(json, Map.class);
        return gson.toJson(obj);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>FlowCI_____flow-platform_____Jsonable_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/FlowCI_____flow-platform_____Jsonable.java

com.google.gson.Gson.fromJson


    public static <T extends Jsonable> T[] parseArray(String json, Class<T[]> tClass) {
        return GSON_CONFIG.<mark>fromJson</mark>(json, tClass);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____BaseLivyInterpreter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____BaseLivyInterpreter.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public static SessionLog <mark>fromJson</mark>(String json) {
      return gson.<mark>fromJson</mark>(json, SessionLog.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>FlowCI_____flow-platform_____Jsonable_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/FlowCI_____flow-platform_____Jsonable.java

com.google.gson.Gson.fromJson


    public static <T extends Jsonable> T parse(byte[] bytes, Class<T> tClass) {
        return GSON_CONFIG.<mark>fromJson</mark>(new String(bytes), tClass);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iQuick_____SunDay_____CurWeatherModel_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/iQuick_____SunDay_____CurWeatherModel.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static WeatherModel <mark>fromJson</mark>(String json) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, WeatherModel.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____FromJsonHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____FromJsonHelper.java

com.google.gson.Gson.fromJson


    public Map<String, Boolean> extractMap(final Type typeOfMap, final String json) {
        return this.gsonConverter.<mark>fromJson</mark>(json, typeOfMap);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zstackio_____zstack_____ESTuple_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/zstackio_____zstack_____ESTuple.java

com.google.gson.Gson.fromJson


    public <T> T get(String name, Class<T> clazz) {
        String val = vals.get(name);
        return val == null ? null : gson.<mark>fromJson</mark>(val, clazz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____FromJsonHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____FromJsonHelper.java

com.google.gson.Gson.fromJson


    public Map<String, String> extractDataMap(final Type typeOfMap, final String json) {
        return this.gsonConverter.<mark>fromJson</mark>(json, typeOfMap);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HiddenStage_____divide_____TransientObject_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/HiddenStage_____divide_____TransientObject.java

com.google.gson.Gson.fromJson

     */
    public FilePermissions getFilePermissions(){
        return gson.<mark>fromJson</mark>(meta_data.get(PERMISSIONS_KEY.KEY), FilePermissions.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.Gson.fromJson


	public MapConfig deserializeMapConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, MapConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____FromJsonHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____FromJsonHelper.java

com.google.gson.Gson.fromJson


    public Map<String, Object> extractObjectMap(final Type typeOfMap, final String json) {
        return this.gsonConverter.<mark>fromJson</mark>(json, typeOfMap);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>searchbox-io_____Jest_____JestResult_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/searchbox-io_____Jest_____JestResult.java

com.google.gson.JsonElement.toString
com.google.gson.Gson.fromJson

    @SuppressWarnings("rawtypes")
    public Map getJsonMap() {
        return gson.<mark>fromJson</mark>(jsonObject, Map.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>h2oai_____h2o-3_____JSONUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/h2oai_____h2o-3_____JSONUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


  public static NonBlockingHashMap<String, Object> parse(String json) {
    return <mark>new Gson</mark>().<mark>fromJson</mark>(json, NonBlockingHashMap.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.Gson.fromJson


	public SiteConfig deserializeSiteConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, SiteConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.Gson.fromJson


	public DiffConfig deserializeDiffConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, DiffConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____JsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____JsonUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static <T> T getObj(String json, java.lang.Class<T> afterClass) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, afterClass);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MovingBlocks_____Terasology_____Config_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MovingBlocks_____Terasology_____Config.java

com.google.gson.Gson.fromJson


    public void loadDefaults() {
        JsonObject jsonConfig = loadDefaultToJson();
        config = createGson().<mark>fromJson</mark>(jsonConfig, RootConfig.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.Gson.fromJson


	public DatasetConfig deserializeDatasetConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, DatasetConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____HostImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____HostImpl.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson

  @Override
  public Map<String, String> getHostAttributes() {
    return gson.<mark>fromJson</mark>(getHostEntity().getHostAttributes(), hostAttributesType);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.Gson.fromJson


	public DirectoryConfig deserializeDirectoryConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, DirectoryConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.Gson.fromJson


	public ExecutionConfig deserializeExecutionConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, ExecutionConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.Gson.fromJson


	public AlgorithmConfig deserializeAlgorithmConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, AlgorithmConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ymback_____BambooPlayer_____VideoParseJson_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ymback_____BambooPlayer_____VideoParseJson.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


	public static VideoDetialData[] parseRead(String json)
	{
		Gson gson = <mark>new Gson</mark>();
		return gson.<mark>fromJson</mark>(json, VideoDetialData[].class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____ElasticAgentExtensionConverterV2_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____ElasticAgentExtensionConverterV2.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    Boolean shouldAssignWorkResponseFromBody(String responseBody) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(responseBody, Boolean.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>alibaba_____dubbo_____GsonJsonObjectInput_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/alibaba_____dubbo_____GsonJsonObjectInput.java

com.google.gson.Gson.fromJson

    @Override
    public Object readObject() throws IOException, ClassNotFoundException {
        String json = readLine();
        return gson.<mark>fromJson</mark>(json, String.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____ElasticAgentExtensionConverterV3_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____ElasticAgentExtensionConverterV3.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    
    Boolean shouldAssignWorkResponseFromBody(String responseBody) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(responseBody, Boolean.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____InboundRequestHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____InboundRequestHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    void _on_join(JsonObject obj) {
        FlooUser u = <mark>new Gson</mark>().<mark>fromJson</mark>(obj, (Type) FlooUser.class);
        state.addUser(u);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>syncthing_____syncthing-android_____RestApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/syncthing_____syncthing-android_____RestApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

     */
    private <T> T deepCopy(T object, Type type) {
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(gson.toJson(object, type), type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____Descriptor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____Descriptor.java

com.google.gson.Gson.fromJson

/**
   * Deserialize the string, resulted from {@link #toJson(List)}, to a list of descriptors
   */   */
  public static Descriptor <mark>fromJson</mark>(String json) {
    return <mark>fromJson</mark>(json, Descriptor.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>VKCOM_____vk-java-sdk_____CallbackApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/VKCOM_____vk-java-sdk_____CallbackApi.java

com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public boolean parse(String json) {
        JsonObject jsonObject = gson.<mark>fromJson</mark>(json, JsonObject.class);
        return parse(jsonObject);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>spring-projects_____spring-boot_____GsonJsonParser_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/spring-projects_____spring-boot_____GsonJsonParser.java

com.google.gson.reflect.TypeToken<?>.getType
com.google.gson.Gson.fromJson

	@Override
	public Map<String, Object> parseMap(String json) {
		return parseMap(json,
				(trimmed) -> this.gson.<mark>fromJson</mark>(trimmed, MAP_TYPE.<mark>getType</mark>()));
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wingjay_____jianshi_____UserPrefs_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wingjay_____jianshi_____UserPrefs.java

com.google.gson.Gson.fromJson


  public User getUser() {
    String jsonString = getString(KEY_USER, null);
    if (TextUtils.isEmpty(jsonString)) {
      return null;
    }
    Gson gson = new Gson();
    return gson.<mark>fromJson</mark>(jsonString, User.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WhiteHouse_____wh-app-android_____GsonUtils_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WhiteHouse_____wh-app-android_____GsonUtils.java

com.google.gson.Gson.fromJson

/**
     * Convert content of reader to given type
     *
     * @return instance of type
     */     */
    public static final <V> V <mark>fromJson</mark>(String json, Type type) {
        return GSON.<mark>fromJson</mark>(json, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____egit-github_____GsonUtils_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____egit-github_____GsonUtils.java

com.google.gson.Gson.fromJson

/**
	 * Convert content of reader to given type
	 *
	 * @param reader
	 * @param type
	 * @return instance of type
	 */	 */
	public static final <V> V <mark>fromJson</mark>(String json, Type type) {
		return GSON.<mark>fromJson</mark>(json, type);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>meddle0x53_____learning-rxjava_____CreateObservable_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/meddle0x53_____learning-rxjava_____CreateObservable.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

		
		public Observable<Map> get() {
			return read()
					.filter(line -> !line.equals("<><><><><>"))
					.map(line -> <mark>new Gson</mark>().<mark>fromJson</mark>(line, Map.class))
					.cast(Map.class);
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WhiteHouse_____wh-app-android_____GsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WhiteHouse_____wh-app-android_____GsonUtils.java

com.google.gson.Gson.fromJson

/**
     * Convert content of reader to given type
     *
     * @return instance of type
     */     */
    public static final <V> V <mark>fromJson</mark>(String json, Class<V> type) {
        return GSON.<mark>fromJson</mark>(json, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____egit-github_____GsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____egit-github_____GsonUtils.java

com.google.gson.Gson.fromJson

/**
	 * Convert content of reader to given type
	 *
	 * @param reader
	 * @param type
	 * @return instance of type
	 */	 */
	public static final <V> V <mark>fromJson</mark>(String json, Class<V> type) {
		return GSON.<mark>fromJson</mark>(json, type);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____AuthorizationMessageConverterV1_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____AuthorizationMessageConverterV1.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public String getAuthorizationServerUrl(String responseBody) {
        return (String) <mark>new Gson</mark>().<mark>fromJson</mark>(responseBody, Map.class).get("authorization_server_url");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WhiteHouse_____wh-app-android_____GsonUtils_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WhiteHouse_____wh-app-android_____GsonUtils.java

com.google.gson.Gson.fromJson

/**
     * Convert content of reader to given type
     *
     * @return instance of type
     */     */
    public static final <V> V <mark>fromJson</mark>(Reader reader, Class<V> type) {
        return GSON.<mark>fromJson</mark>(reader, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____egit-github_____GsonUtils_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____egit-github_____GsonUtils.java

com.google.gson.Gson.fromJson

/**
	 * Convert content of reader to given type
	 *
	 * @param reader
	 * @param type
	 * @return instance of type
	 */	 */
	public static final <V> V <mark>fromJson</mark>(Reader reader, Class<V> type) {
		return GSON.<mark>fromJson</mark>(reader, type);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pusher_____pusher-websocket-java_____PresenceChannelImpl_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pusher_____pusher-websocket-java_____PresenceChannelImpl.java

com.google.gson.Gson.fromJson

    @SuppressWarnings("rawtypes")
    private static String extractDataStringFrom(final String message) {
        final Map jsonObject = GSON.<mark>fromJson</mark>(message, Map.class);
        return  (String) jsonObject.get("data");
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rackerlabs_____blueflood_____AggregatedPayload_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/rackerlabs_____blueflood_____AggregatedPayload.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static AggregatedPayload create(JsonElement json) {
        AggregatedPayload payload = <mark>new Gson</mark>().<mark>fromJson</mark>(json, AggregatedPayload.class);
        validate(payload);

        return payload;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>robinxdroid_____XDroidRequest_____MultipartGsonRequest_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/robinxdroid_____XDroidRequest_____MultipartGsonRequest.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson


	public <X> X fromJsonObject(String json, Type cls) {
		Gson gson = <mark>new Gson</mark>();
		X bean = gson.<mark>fromJson</mark>(json, cls);
		return bean;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>h2oai_____h2o-3_____H2OPredictor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/h2oai_____h2o-3_____H2OPredictor.java

com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.&ltinit&gt


  private RowData jsonToRowData(String json) {
    try {
      return gson.<mark>fromJson</mark>(json, RowData.class);
    }
    catch (JsonSyntaxException e) {
      throw <mark>new JsonSyntaxException</mark>("Malformed JSON");
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____HostImpl_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____HostImpl.java

com.google.gson.Gson.fromJson

  @Override
  public AgentVersion getAgentVersion() {
    HostStateEntity hostStateEntity = getHostStateEntity();
    if (hostStateEntity != null) {
      return gson.<mark>fromJson</mark>(hostStateEntity.getAgentVersion(), AgentVersion.class);
    }

    return null;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>betfair_____API-NG-sample-code_____JsonConverter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/betfair_____API-NG-sample-code_____JsonConverter.java

com.google.gson.Gson.fromJson

/**
     * This method serializes the specified object into its equivalent Json representation.
     */     */
    public static  <T> T convertFromJson(String toConvert,  Class<T>  clazz){
        return gson.<mark>fromJson</mark>(toConvert, clazz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>edx_____edx-app-android_____LoginPrefs_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/edx_____edx-app-android_____LoginPrefs.java

com.google.gson.Gson.fromJson

    @Nullable
    public AuthResponse getCurrentAuth() {
        final String json = pref.getString(PrefManager.Key.AUTH_JSON);
        if (json == null) {
            return null;
        }
        return gson.<mark>fromJson</mark>(json, AuthResponse.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____AuthorizationMessageConverterV1_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____AuthorizationMessageConverterV1.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public Map<String, String> getCredentials(String responseBody) {
        Type type = new TypeToken<Map<String, String>>() {
        }.getType();

        return GSON.<mark>fromJson</mark>(responseBody, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HiddenStage_____divide_____XmlAccoutStorage_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/HiddenStage_____divide_____XmlAccoutStorage.java

com.google.gson.Gson.fromJson

    @Override
    public LocalCredentials getAccount(String accountName) {
        if(storage.contains(accountName))
            return gson.<mark>fromJson</mark>(storage.getString(accountName,null),LocalCredentials.class);
        else
            return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____HostImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____HostImpl.java

com.google.gson.Gson.fromJson

  @Override
  public HostHealthStatus getHealthStatus() {
    HostStateEntity hostStateEntity = getHostStateEntity();
    if (hostStateEntity != null) {
      return gson.<mark>fromJson</mark>(hostStateEntity.getHealthStatus(), HostHealthStatus.class);
    }

    return null;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____sling_____XingLoginUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____sling_____XingLoginUtil.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static XingUser <mark>fromJson</mark>(final String json) {
        final Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();
        return gson.<mark>fromJson</mark>(json, XingUser.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cymcsg_____UltimateAndroid_____JsonUtil_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cymcsg_____UltimateAndroid_____JsonUtil.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static Object getObjectListFromJson(String jsonString) {
        Gson gson = <mark>new Gson</mark>();
        Object object = gson.<mark>fromJson</mark>(jsonString, new TypeToken<List<Object>>() {
        }.getType());
        return object;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>edx_____edx-app-android_____LoginPrefs_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/edx_____edx-app-android_____LoginPrefs.java

com.google.gson.Gson.fromJson

    @Nullable
    public ProfileModel getCurrentUserProfile() {
        final String json = pref.getString(PrefManager.Key.PROFILE_JSON);
        if (json == null) {
            return null;
        }
        return gson.<mark>fromJson</mark>(json, ProfileModel.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yu199195_____Raincat_____OkHttpTools_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yu199195_____Raincat_____OkHttpTools.java

com.google.gson.Gson.fromJson


    private <T> T execute(Request request, Class<T> classOfT) throws IOException {
        OkHttpClient client = new OkHttpClient();
        Response response = client.newCall(request).execute();
        return GOSN.<mark>fromJson</mark>(response.body().string(), classOfT);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Not implemented.
     */     */
    public Feed getStatusFeed() throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/status.json";
        return gson.<mark>fromJson</mark>(thingRequest(url), Feed.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____incubator-myriad_____ByteBufferSupport_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____incubator-myriad_____ByteBufferSupport.java

com.google.gson.Gson.fromJson


  public static ServiceResourceProfile getServiceResourceProfile(ByteBuffer bb) {
    String p = toString(bb);
    if (StringUtils.isNotEmpty(p)) {
      return gsonCustom.<mark>fromJson</mark>(p, ServiceResourceProfile.class);
    } else {
      return null;
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mvarnagiris_____financius-public_____IOUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mvarnagiris_____financius-public_____IOUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static JsonObject toJsonObject(InputStream in) {
        InputStreamReader reader = new InputStreamReader(in);
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(reader, JsonElement.class).getAsJsonObject();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cloudsmith_____geppetto_____ForgeImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cloudsmith_____geppetto_____ForgeImpl.java

com.google.gson.Gson.fromJson

				@Override
				public boolean catchData(String fileName, InputStream fileData) {
					InputStreamReader reader = new InputStreamReader(fileData);
					mdReceiver[0] = gson.<mark>fromJson</mark>(reader, Metadata.class);
					return true; // We're done. Skip further processing
				}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pusher_____pusher-websocket-java_____PresenceChannelImpl_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pusher_____pusher-websocket-java_____PresenceChannelImpl.java

com.google.gson.Gson.fromJson

    @SuppressWarnings("rawtypes")
    private static PresenceData extractPresenceDataFrom(final String message) {
        final String dataString = extractDataStringFrom(message);
        return GSON.<mark>fromJson</mark>(dataString, Presence.class).presence;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wingjay_____jianshi_____UserPrefs_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wingjay_____jianshi_____UserPrefs.java

com.google.gson.Gson.fromJson


  public @Nullable VersionUpgrade getVersionUpgrade() {
    String versionUpgradeString = getString(KEY_UPGRADE_VERSION, "");
    if (TextUtils.isEmpty(versionUpgradeString)) {
      return null;
    }
    return gson.<mark>fromJson</mark>(versionUpgradeString, VersionUpgrade.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiezefan_____EasyIM-Android_____JsonUtil_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xiezefan_____EasyIM-Android_____JsonUtil.java

com.google.gson.reflect.TypeToken<java.util.List<?>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<?>>.getType
com.google.gson.Gson.fromJson


    public static <T> Set<T> formatToSet(String data, Class<T> cls) {
        return gson.<mark>fromJson</mark>(data, new TypeToken<Set<T>>() {}.<mark>getType</mark>());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>h2oai_____h2o-3_____H2OPredictor_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/h2oai_____h2o-3_____H2OPredictor.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


  private RowData[] jsonToRowDataArray(String json) {
    try {
      return gson.<mark>fromJson</mark>(json, RowData[].class);
    }
    catch (JsonSyntaxException e) {
      throw new JsonSyntaxException("Malformed JSON Array");
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonDatasetBeanSerializer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonDatasetBeanSerializer.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


	public DataFileBean deserializeDataFileBean(String serializedFile) {
		GsonBuilder builder = <mark>new GsonBuilder</mark>();
		Gson gson = builder.<mark>create</mark>();
		return gson.<mark>fromJson</mark>(serializedFile, DataFileBean.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wingjay_____jianshi_____UserPrefs_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wingjay_____jianshi_____UserPrefs.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

  @Nullable
  public ImagePoem getLastHomeImagePoem() {
    String imagePoemString = getString(KEY_LAST_HOME_IMAGE_POEM, null);
    if (TextUtils.isEmpty(imagePoemString)) {
      return null;
    }
    return gson.<mark>fromJson</mark>(imagePoemString, ImagePoem.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>meikoz_____basic_____GsonServiceImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/meikoz_____basic_____GsonServiceImpl.java

com.google.gson.reflect.TypeToken<java.util.List<com.racofix.basic.http.T>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.racofix.basic.http.T>>.getType
com.google.gson.Gson.fromJson

    @Override
    public <T> T parseObject(String json, Class<T> clazz) {
        return gson.<mark>fromJson</mark>(json, clazz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MinecraftForge_____ForgeGradle_____JsonFactory_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MinecraftForge_____ForgeGradle_____JsonFactory.java

com.google.gson.Gson.fromJson


    public static AssetIndex loadAssetsIndex(File json) throws JsonSyntaxException, JsonIOException, IOException
    {
        FileReader reader = new FileReader(json);
        AssetIndex a = GSON.<mark>fromJson</mark>(reader, AssetIndex.class);
        reader.close();
        return a;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____smarthome_____HueBridge_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____smarthome_____HueBridge.java

com.google.gson.Gson.fromJson


    private <T> T safeFromJson(String json, Class<T> classOfT) throws ApiException {
        try {
            return gson.<mark>fromJson</mark>(json, classOfT);
        } catch (JsonParseException e) {
            throw new ApiException("API returned unexpected result: " + e.getMessage());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SlimeKnights_____TinkersConstruct_____ModelHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/SlimeKnights_____TinkersConstruct_____ModelHelper.java

com.google.gson.Gson.fromJson


  public static Offset loadOffsetFromJson(ResourceLocation location) throws IOException {
    Reader reader = getReaderForResource(location);
    try {
      return GSON.<mark>fromJson</mark>(reader, Offset.OffsetDeserializer.TYPE);
    } finally {
      IOUtils.closeQuietly(reader);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____Coder_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____Coder.java

com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.getType
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public static Map<String, String> mapFromJson(String str) {
        return s_mapGson.<mark>fromJson</mark>(str, Map.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>actiontech_____dble_____JsonProcessBase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/actiontech_____dble_____JsonProcessBase.java

com.google.gson.Gson.fromJson

/**
     * toBeanformJson
     *
     * @param <T>
     * @param json
     * @param typeSchema
     * @return
     * @Created 2016/9/17
     */     */
    public <T> T toBeanformJson(String json, Type typeSchema) {
        T result = this.gson.<mark>fromJson</mark>(json, typeSchema);

        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ribot_____ribot-app-android_____PreferencesHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ribot_____ribot-app-android_____PreferencesHelper.java

com.google.gson.Gson.fromJson

    @Nullable
    public List<Venue> getVenues() {
        String venuesJson = mPref.getString(PREF_KEY_VENUES, null);
        if (venuesJson != null) {
            return mGson.<mark>fromJson</mark>(venuesJson, new TypeToken<List<Venue>>() {
            }.getType());
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SlimeKnights_____TinkersConstruct_____ModelHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/SlimeKnights_____TinkersConstruct_____ModelHelper.java

com.google.gson.Gson.fromJson


  public static Map<String, String> loadTexturesFromJson(ResourceLocation location) throws IOException {
    Reader reader = getReaderForResource(location);
    try {
      return GSON.<mark>fromJson</mark>(reader, ModelTextureDeserializer.TYPE);
    } finally {
      IOUtils.closeQuietly(reader);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____GsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AppLozic_____Applozic-Android-SDK_____GsonUtils.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.setExclusionStrategies
com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson


    public static Object getObjectFromJson(String json, Type type) {
        Gson gson = new Gson();
        return gson.<mark>fromJson</mark>(json, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ctripcorp_____apollo_____ConfigController_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ctripcorp_____apollo_____ConfigController.java

com.google.gson.Gson.fromJson

   */
  Map<String, String> mergeReleaseConfigurations(List<Release> releases) {
    Map<String, String> result = Maps.newHashMap();
    for (Release release : Lists.reverse(releases)) {
      result.putAll(gson.<mark>fromJson</mark>(release.getConfigurations(), configurationTypeReference));
    }
    return result;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MinecraftForge_____ForgeGradle_____JsonFactory_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MinecraftForge_____ForgeGradle_____JsonFactory.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.JsonObject.entrySet
com.google.gson.Gson.fromJson


    public static LiteLoaderJson loadLiteLoaderJson(String json) throws JsonSyntaxException, JsonIOException
    {
        return GSON.<mark>fromJson</mark>(json, LiteLoaderJson.class).addDefaultArtifacts();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____smarthome_____HueBridge_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____smarthome_____HueBridge.java

com.google.gson.Gson.fromJson
com.google.gson.JsonParseException.getMessage

     */
    public FullConfig getFullConfig() throws IOException, ApiException {
        requireAuthentication();

        Result result = http.get(getRelativeURL(""));

        handleErrors(result);

        return gson.<mark>fromJson</mark>(result.getBody(), FullConfig.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>winder_____Universal-G-Code-Sender_____FirmwareUtils_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/winder_____Universal-G-Code-Sender_____FirmwareUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private static ControllerSettings getSettingsForStream(InputStream is)
            throws IOException {
        try(BufferedReader br = new BufferedReader(new InputStreamReader(is))) {
            return <mark>new Gson</mark>().<mark>fromJson</mark>(br, ControllerSettings.class);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SlimeKnights_____TinkersConstruct_____ModelHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/SlimeKnights_____TinkersConstruct_____ModelHelper.java

com.google.gson.Gson.fromJson


  public static AmmoPosition loadAmmoPositionFromJson(ResourceLocation location) throws IOException {
    Reader reader = getReaderForResource(location);
    try {
      return GSON.<mark>fromJson</mark>(reader, AmmoPosition.AmmoPositionDeserializer.TYPE);
    } finally {
      IOUtils.closeQuietly(reader);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____NotebookServer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____NotebookServer.java

com.google.gson.reflect.TypeToken<java.util.List<java.util.Map<java.lang.String,java.lang.Object>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.util.Map<java.lang.String,java.lang.Object>>>.getType
com.google.gson.Gson.fromJson


  protected Message deserializeMessage(String msg) {
    return gson.<mark>fromJson</mark>(msg, Message.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openimaj_____openimaj_____StreamJSONStatusList_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openimaj_____openimaj_____StreamJSONStatusList.java

com.google.gson.Gson.fromJson

		@Override
		public void readASCII(Scanner in) throws IOException {
			if(in == null) return;
			ReadableWritableJSON inner = gson.<mark>fromJson</mark>(in.nextLine(), ReadableWritableJSON.class);
			for (java.util.Map.Entry<String, Object> entry: inner.entrySet()) {
				this.put(entry.getKey(), entry.getValue());
			}
		}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiezefan_____EasyIM-Android_____JsonUtil_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xiezefan_____EasyIM-Android_____JsonUtil.java

com.google.gson.reflect.TypeToken<java.util.Set<me.xiezefan.easyim.util.T>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Set<me.xiezefan.easyim.util.T>>.getType
com.google.gson.Gson.fromJson


    public static <T> List<T> formatToList(String data, Class<T> cls) {
        return gson.<mark>fromJson</mark>(data, new TypeToken<List<T>>() {}.<mark>getType</mark>());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____VerifyConnectionResponse_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____VerifyConnectionResponse.java

com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonElement.toString


    public static VerifyConnectionResponse fromJSON(String json) {
        VerifyConnectionResponse response = GSON.<mark>fromJson</mark>(json, VerifyConnectionResponse.class);
        response.validationResult = validationResult(json);

        return response;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____ArtifactEntity_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____ArtifactEntity.java

com.google.gson.Gson.fromJson

/**
   * Serialize a map of foreign keys to a string.
   *
   * @param foreignKeys  map of foreign keys to values
   *
   * @return string representation of the foreign keys map
   */   */
  public Map<String, Object> getArtifactData() {
    return jsonSerializer.<Map<String, Object>><mark>fromJson</mark>(
        artifactData, Map.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____RollCall_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____RollCall.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public static RollCall <mark>fromJson</mark>(String json) {
        final Gson gson = <mark>new GsonBuilder</mark>()
                .excludeFieldsWithoutExposeAnnotation()
                .<mark>create</mark>();
        return gson.<mark>fromJson</mark>(json, RollCall.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____ElasticAgentExtensionConverterV3_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____ElasticAgentExtensionConverterV3.java

com.google.gson.Gson.fromJson


    String getStatusReportView(String responseBody) {
        String statusReportView = (String) new Gson().<mark>fromJson</mark>(responseBody, Map.class).get("view");
        if (StringUtils.isBlank(statusReportView)) {
            throw new RuntimeException("Status Report is blank!");
        }
        return statusReportView;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____GsonTransformer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____GsonTransformer.java

com.google.gson.Gson.fromJson


    public JsonReader jsonReaderFrom(String string) {
        try {
            if (StringUtils.isBlank(string)) {
                string = "{}";
            }
            return new JsonReader(GSON.<mark>fromJson</mark>(string, JsonElement.class).getAsJsonObject());
        } catch (Exception e) {
            throw new JsonParseException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____LibreWifiReader_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____LibreWifiReader.java

com.google.gson.Gson.fromJson


    private static List<LibreWifiData> readFake() {
        final LibreWifiData trd = gson.<mark>fromJson</mark>(MockDataSource.getFakeWifiData(), LibreWifiData.class);
        trd.CaptureDateTime = System.currentTimeMillis() - trd.RelativeTime;
        final List<LibreWifiData> l = new ArrayList<>();
        l.add(trd);
        return l;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HDPowerViewWebTargets_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HDPowerViewWebTargets.java

com.google.gson.Gson.fromJson


    public Shades getShades() throws IOException {
        Response response = invoke(shades.request().buildGet(), shades);
        if (response != null) {
            String result = response.readEntity(String.class);
            return gson.<mark>fromJson</mark>(result, Shades.class);
        } else {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cesarferreira_____AndroidQuickUtils_____GsonCache_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cesarferreira_____AndroidQuickUtils_____GsonCache.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

     */
    public static <T> T read(String key, Class<T> classOfT) throws Exception {

        String json = cache.getString(key).getString();
        T value = <mark>new Gson</mark>().<mark>fromJson</mark>(json, classOfT);
        if (value == null) {
            throw new NullPointerException();
        }
        return value;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____ElasticAgentExtensionConverterV2_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____ElasticAgentExtensionConverterV2.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    String getProfileViewResponseFromBody(String responseBody) {
        String template = (String) <mark>new Gson</mark>().<mark>fromJson</mark>(responseBody, Map.class).get("template");
        if (StringUtils.isBlank(template)) {
            throw new RuntimeException("Template was blank!");
        }
        return template;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yahoo_____pulsar_____BrokerStatsImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yahoo_____pulsar_____BrokerStatsImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public JsonArray getMBeans() throws PulsarAdminException {
        try {
            String json = request(adminV2BrokerStats.path("/mbeans")).get(String.class);
            return <mark>new Gson</mark>().<mark>fromJson</mark>(json, JsonArray.class);
        } catch (Exception e) {
            throw getApiException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____WixelReader_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____WixelReader.java

com.google.gson.Gson.fromJson


    private static List<TransmitterRawData> readFake() {
        final TransmitterRawData trd = gson.<mark>fromJson</mark>(MockDataSource.getFakeWifiData(), TransmitterRawData.class);
        trd.CaptureDateTime = System.currentTimeMillis() - trd.RelativeTime;
        final List<TransmitterRawData> l = new ArrayList<>();
        l.add(trd);
        return l;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____ElasticAgentExtensionConverterV3_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____ElasticAgentExtensionConverterV3.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    
    String getProfileViewResponseFromBody(String responseBody) {
        String template = (String) <mark>new Gson</mark>().<mark>fromJson</mark>(responseBody, Map.class).get("template");
        if (StringUtils.isBlank(template)) {
            throw new RuntimeException("Template was blank!");
        }
        return template;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yahoo_____pulsar_____BrokerStatsImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yahoo_____pulsar_____BrokerStatsImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public JsonArray getMetrics() throws PulsarAdminException {
        try {
            String json = request(adminV2BrokerStats.path("/metrics")).get(String.class);
            return <mark>new Gson</mark>().<mark>fromJson</mark>(json, JsonArray.class);
        } catch (Exception e) {
            throw getApiException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____Commands_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____Commands.java

com.google.gson.Gson.fromJson

/**
     * Returns the json response for the set_light_state command.
     *
     * @param response the json string
     * @return The data object containing the state data from the json string
     */     */
    public SetLedOff setLedOnResponse(String setLedOnResponse) {
        return gsonWithExpose.<mark>fromJson</mark>(setLedOnResponse, SetLedOff.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yahoo_____pulsar_____BrokerStatsImpl_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yahoo_____pulsar_____BrokerStatsImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public JsonObject getTopics() throws PulsarAdminException {
        try {
            String json = request(adminV2BrokerStats.path("/topics")).get(String.class);
            return <mark>new Gson</mark>().<mark>fromJson</mark>(json, JsonObject.class);
        } catch (Exception e) {
            throw getApiException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____ElasticAgentExtensionConverterV1_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____ElasticAgentExtensionConverterV1.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    String getProfileViewResponseFromBody(String responseBody) {
        final String template = (String) <mark>new Gson</mark>().<mark>fromJson</mark>(responseBody, Map.class).get("template");
        if (StringUtils.isBlank(template)) {
            throw new RuntimeException("Template was blank!");
        }
        return template;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SlimeKnights_____TinkersConstruct_____ModelHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/SlimeKnights_____TinkersConstruct_____ModelHelper.java

com.google.gson.Gson.fromJson


  public static ImmutableList<ToolModelOverride> loadToolModelOverridesFromJson(ResourceLocation location) throws IOException {
    Reader reader = getReaderForResource(location);
    try {
      return GSON.<mark>fromJson</mark>(reader, ToolModelOverride.ToolModelOverrideListDeserializer.TYPE);
    } finally {
      IOUtils.closeQuietly(reader);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>anupcowkur_____Reservoir_____Reservoir_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/anupcowkur_____Reservoir_____Reservoir.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

     */
    public static <T> T get(final String key, final Type typeOfT) throws IOException {
        failIfNotInitialised();
        String json = cache.getString(key).getString();
        T value = sGson.<mark>fromJson</mark>(json, typeOfT);
        if (value == null)
            throw new NullPointerException();
        return value;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>qiniu_____java-sdk_____Json_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/qiniu_____java-sdk_____Json.java

com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static <T> T decode(JsonElement jsonElement, Class<T> clazz) {
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(jsonElement, clazz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>googlesamples_____leanback-showcase_____MainFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/googlesamples_____leanback-showcase_____MainFragment.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private void createRows() {
        String json = Utils
                .inputStreamToString(getResources().openRawResource(R.raw.launcher_cards));
        CardRow[] rows = <mark>new Gson</mark>().<mark>fromJson</mark>(json, CardRow[].class);
        for (CardRow row : rows) {
            mRowsAdapter.add(createCardRow(row));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>liuguangqiang_____shuba_____LoginManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/liuguangqiang_____shuba_____LoginManager.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static Auth getAuth(Context context) {
        Auth auth = null;
        String authJson = PreferencesUtils.getString(context, LOGIN, KEY_AUTH);
        if (!StringUtils.isEmptyOrNull(authJson)) {
            Gson gson = <mark>new Gson</mark>();
            auth = gson.<mark>fromJson</mark>(authJson, Auth.class);
        }
        return auth;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cloudsmith_____geppetto_____CatalogJsonSerializer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cloudsmith_____geppetto_____CatalogJsonSerializer.java

com.google.gson.Gson.fromJson

/**
	 * Loads a Catalog model from a catalog JSON string.
	 * 
	 */	 */
	public static Catalog load(File jsonFile) throws IOException {
		Reader reader = new BufferedReader(new FileReader(jsonFile));
		try {
			Gson gson = getGSon();
			CatalogImpl md = gson.<mark>fromJson</mark>(reader, CatalogImpl.class);
			return md;
		}
		finally {
			StreamUtil.close(reader);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaoxiangyeyuHeaven_____BaseMoudle_____GsonTools_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xiaoxiangyeyuHeaven_____BaseMoudle_____GsonTools.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.xusangbo.basemoudle.utils.T>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.xusangbo.basemoudle.utils.T>>.getType
com.google.gson.Gson.fromJson


	public static <T> T changeGsonToBean(String gsonString, Class<T> cls) {
		Gson gson = <mark>new Gson</mark>();
		T t = gson.<mark>fromJson</mark>(gsonString, cls);
		return t;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yahoo_____pulsar_____BrokerStatsImpl_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yahoo_____pulsar_____BrokerStatsImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public JsonObject getPendingBookieOpsStats() throws PulsarAdminException {
        try {
            String json = request(adminV2BrokerStats.path("/bookieops")).get(String.class);
            return <mark>new Gson</mark>().<mark>fromJson</mark>(json, JsonObject.class);
        } catch (Exception e) {
            throw getApiException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pubnub_____java_____MapperManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pubnub_____java_____MapperManager.java

com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public <T> T <mark>fromJson</mark>(String input, Class<T> clazz) throws PubNubException {
        try {
            return this.objectMapper.<mark>fromJson</mark>(input, clazz);
        } catch (JsonParseException e) {
            throw PubNubException.builder().pubnubError(PubNubErrorBuilder.PNERROBJ_PARSING_ERROR).errormsg(e.getMessage()).build();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>OvercastNetwork_____ProjectAres_____JsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/OvercastNetwork_____ProjectAres_____JsonUtils.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    public String errorContext(Reader reader, Type type) {
        JsonDebugReader debugReader = new JsonDebugReader(reader);
        try {
            gson.<mark>fromJson</mark>(debugReader, type);
        } catch(JsonSyntaxException e) {
            return debugReader.getJoinedContext();
        }
        return "(no parsing error detected)";
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>syncthing_____syncthing-android_____RestApi_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/syncthing_____syncthing-android_____RestApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Returns connection info for the local device and all connected devices.
     */     */
    public void getSystemInfo(OnResultListener1<SystemInfo> listener) {
        new GetRequest(mContext, mUrl, GetRequest.URI_SYSTEM, mApiKey, null, result ->
                listener.onResult(<mark>new Gson</mark>().<mark>fromJson</mark>(result, SystemInfo.class)));
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonDatasetBeanSerializer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonDatasetBeanSerializer.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


	public DatasetBean deserializeDatasetBean(Reader reader) throws IOException {
		GsonBuilder builder = <mark>new GsonBuilder</mark>();
		builder.registerTypeAdapter( MetadataEntryBean.class, new MetadataEntryBeanDeserializer());
		Gson gson = builder.<mark>create</mark>();
		return gson.<mark>fromJson</mark>(reader, DatasetBean.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cesarferreira_____AndroidQuickUtils_____NetworkManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cesarferreira_____AndroidQuickUtils_____NetworkManager.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<?>.getType
com.google.gson.Gson.fromJson

            @Override
            public void onResponse(JSONObject jsonObject) {
                Object t = <mark>new Gson</mark>().<mark>fromJson</mark>(jsonObject.toString(), classTarget.<mark>getType</mark>());
                if (requestCallback != null)
                    requestCallback.onRequestSuccess(t);
            }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wu-sheng_____sky-walking_____ServiceInstanceInventory_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wu-sheng_____sky-walking_____ServiceInstanceInventory.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.getType
com.google.gson.Gson.fromJson


    private void setProp(String prop) {
        this.prop = prop;
        if (!Strings.isNullOrEmpty(prop)) {
            this.properties = GSON.<mark>fromJson</mark>(prop, JsonObject.class);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>lawloretienne_____Loop_____LoopPrefs_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/lawloretienne_____Loop_____LoopPrefs.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    // region Getters
    public static AccessToken getAccessToken(Context context) {
        SharedPreferences preferences = getSharedPreferences(context);
        Gson gson = <mark>new Gson</mark>();
        String json = preferences.getString(KEY_ACCESS_TOKEN, "");
        AccessToken accessToken = gson.<mark>fromJson</mark>(json, AccessToken.class);
        return accessToken;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cloudsmith_____geppetto_____CatalogJsonSerializer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cloudsmith_____geppetto_____CatalogJsonSerializer.java

com.google.gson.Gson.fromJson

/**
	 * Loads a Catalog model from a catalog JSON string.
	 * 
	 */	 */
	public static Catalog load(InputStream jsonStream) throws IOException {
		Reader reader = new BufferedReader(new InputStreamReader(jsonStream));
		try {
			Gson gson = getGSon();
			CatalogImpl md = gson.<mark>fromJson</mark>(reader, CatalogImpl.class);
			return md;
		}
		finally {
			StreamUtil.close(reader);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mqzhangw_____JIMU_____JsonServiceImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mqzhangw_____JIMU_____JsonServiceImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.luojilab.component.componentlib.service.T>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.luojilab.component.componentlib.service.T>>.getType
com.google.gson.Gson.fromJson

    @Override
    public <T> T parseObject(String text, Class<T> clazz) {
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(text, clazz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiezefan_____EasyIM-Android_____JsonUtil_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xiezefan_____EasyIM-Android_____JsonUtil.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson


    public static List<?> formatToList(String data) {
        return gson.<mark>fromJson</mark>(data, new TypeToken<List<?>>() {}.<mark>getType</mark>());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____smarthome_____HueBridge_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____smarthome_____HueBridge.java

com.google.gson.Gson.fromJson
com.google.gson.JsonParseException.getMessage

    // Methods that convert gson exceptions into ApiExceptions
    private <T> T safeFromJson(String json, Type typeOfT) throws ApiException {
        try {
            return gson.<mark>fromJson</mark>(json, typeOfT);
        } catch (JsonParseException e) {
            throw new ApiException("API returned unexpected result: " + e.<mark>getMessage</mark>());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiezefan_____EasyIM-Android_____JsonUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xiezefan_____EasyIM-Android_____JsonUtil.java

com.google.gson.reflect.TypeToken<java.util.List<me.xiezefan.easyim.util.T>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<me.xiezefan.easyim.util.T>>.getType
com.google.gson.Gson.fromJson


    public static <T> T format(String data, Class<T> cls) {
        if (StringUtil.isEmpty(data)) {
            throw new JsonSyntaxException("Invalid JSON string.");
        }
        return gson.<mark>fromJson</mark>(data, cls);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____Commands_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____Commands.java

com.google.gson.Gson.fromJson

/**
     * Returns the json for the set_brightness command to set the brightness value.
     *
     * @param brightness the brightness value to set
     * @return The json string of the command to send to the device
     */     */
    public SetRelayState setRelayStateResponse(String relayStateResponse) {
        return gsonWithExpose.<mark>fromJson</mark>(relayStateResponse, SetRelayState.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>GoogleCloudPlatform_____java-docs-samples_____AlertSample_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/GoogleCloudPlatform_____java-docs-samples_____AlertSample.java

com.google.gson.Gson.fromJson


  private static List<NotificationChannel> readNotificationChannelsJson(JsonObject backupContent) {
    if (backupContent.has("notification_channels")) {
      NotificationChannel[] channels = gson.<mark>fromJson</mark>(backupContent.get("notification_channels"),
          NotificationChannel[].class);
      return Lists.newArrayList(channels);
    }
    return Lists.newArrayList();
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gocd_____gocd_____MessageEncoding_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gocd_____gocd_____MessageEncoding.java

com.google.gson.Gson.fromJson


    public static Message decodeMessage(InputStream input) {
        try {
            try (GZIPInputStream zipStream = new GZIPInputStream(input)) {
                String jsonStr = new String(IOUtils.toByteArray(zipStream), StandardCharsets.UTF_8);
                return gson.<mark>fromJson</mark>(jsonStr, Message.class);
            }
        } catch (IOException e) {
            throw bomb(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tumblr_____jumblr_____ResponseWrapper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/tumblr_____jumblr_____ResponseWrapper.java

com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson

    // NOTE: needs to be duplicated logic due to Java erasure of generic types
    public List<Blog> getBlogs() {
        Gson gson = gsonParser();
        JsonObject object = (JsonObject) response;
        List<Blog> l = gson.<mark>fromJson</mark>(object.<mark>get</mark>("blogs"), new TypeToken<List<Blog>>() {}.getType());
        for (Blog e : l) { e.setClient(client); }
        return l;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____incubator-brooklyn_____BrooklynEntityMirrorImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____incubator-brooklyn_____BrooklynEntityMirrorImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

        @Override
        public Map apply(HttpToolResponse input) {
            Map<?, ?> entitySummary = <mark>new Gson</mark>().<mark>fromJson</mark>(input.getContentAsString(), Map.class);
            String catalogItemId = (String)entitySummary.get("catalogItemId");
            sensors().set(MIRROR_CATALOG_ITEM_ID, catalogItemId);
            return entitySummary;
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ruzhan123_____awaker_____RoomDataConverter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ruzhan123_____awaker_____RoomDataConverter.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.ruzhan.awaker.article.model.News>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.ruzhan.awaker.article.model.News>>.getType
com.google.gson.Gson.fromJson

    @TypeConverter
    public static List<Comment> toCommentList(String json) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, new TypeToken<List<Comment>>() {
        }.<mark>getType</mark>());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ruzhan123_____awaker_____RoomDataConverter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ruzhan123_____awaker_____RoomDataConverter.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.ruzhan.awaker.article.model.Comment>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.ruzhan.awaker.article.model.Comment>>.getType
com.google.gson.Gson.fromJson

    @TypeConverter
    public static List<Special> toSpecialList(String json) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, new TypeToken<List<Special>>() {
        }.<mark>getType</mark>());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____HDFSFileInterpreter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____HDFSFileInterpreter.java

com.google.gson.Gson.fromJson


  public String listFile(String filePath) {
    try {
      String str = cmd.runCommand(cmd.getFileStatus, filePath, null);
      SingleFileStatus sfs = gson.<mark>fromJson</mark>(str, SingleFileStatus.class);
      if (sfs != null) {
        return listOne(filePath, sfs.fileStatus);
      }
    } catch (Exception e) {
      logger.error("listFile: " + filePath, e);
    }
    return "No such File or directory";
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____FibaroInfo_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____FibaroInfo.java

com.google.gson.Gson.fromJson

	
	private Room[] getRooms()
	{
		String result = null;
		if(isDevMode)
			result = FibaroTestData.RoomTestData;
		else
			result = request("/api/rooms");
		log.debug("getRooms response: <<<" + result + ">>>");
		Room[] rooms = result == null ? new Room[0] : gson.<mark>fromJson</mark>(result, Room[].class);
		if(theFilters.isReplaceTrash())
			for(Room r : rooms)
				r.setName(replaceTrash(r.getName()));
		return rooms;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____InboundRequestHandler_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____InboundRequestHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public void _on_highlight(JsonObject obj) {
        FlooHighlight res = <mark>new Gson</mark>().<mark>fromJson</mark>(obj, (Type) FlooHighlight.class);
        state.lastHighlight = res;
        FlooUser user = state.users.get(res.user_id);
        if (user == null) {
            return;
        }
        state.lastUserHighlights.put(user.username, res);
        _on_highlight(res);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ribot_____ribot-app-android_____PreferencesHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ribot_____ribot-app-android_____PreferencesHelper.java

com.google.gson.Gson.fromJson

/**
     * Return the date of the latest successful encounter
     * or null if no encounter has been performed yet on this device.
     */    @Nullable
    public CheckIn getLatestCheckIn() {
        String checkInJson = mPref.getString(PREF_KEY_LATEST_CHECK_IN, null);
        if (checkInJson != null) {
            return mGson.<mark>fromJson</mark>(checkInJson, CheckIn.class);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ribot_____ribot-app-android_____PreferencesHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ribot_____ribot-app-android_____PreferencesHelper.java

com.google.gson.reflect.TypeToken<java.util.List<io.ribot.app.data.model.Venue>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<io.ribot.app.data.model.Venue>>.getType
com.google.gson.Gson.fromJson

    @Nullable
    public Ribot getSignedInRibot() {
        String ribotJson = mPref.getString(PREF_KEY_SIGNED_IN_RIBOT, null);
        if (ribotJson == null) return null;
        return mGson.<mark>fromJson</mark>(ribotJson, Ribot.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>happyfoxinc_____helpstack-android_____HSSource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/happyfoxinc_____helpstack-android_____HSSource.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    protected void doReadUserFromCache() {
        File userFile = new File(getProjectDirectory(), HELPSTACK_TICKETS_USER_DATA);
        String json = readJsonFromFile(userFile);

        if (json == null) {
            cachedUser = new HSCachedUser();
        } else {
            Gson gson = <mark>new Gson</mark>();
            cachedUser = gson.<mark>fromJson</mark>(json, HSCachedUser.class);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____FriendsApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____FriendsApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static boolean follow(String uid) {
		WeiboParameters params = new WeiboParameters();
		params.put("uid", uid);
		
		try {
			JSONObject json = request(Constants.FRIENDSHIPS_CREATE, params, HTTP_POST);
			UserModel user = <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), UserModel.class);
			return user != null && !user.id.trim().equals("");
		} catch (Exception e) {
			return false;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>seatgeek_____android-PlacesAutocompleteTextView_____GsonPlacesApiJsonParser_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/seatgeek_____android-PlacesAutocompleteTextView_____GsonPlacesApiJsonParser.java

com.google.gson.Gson.fromJson

    @Override
    public PlacesAutocompleteResponse autocompleteFromStream(final InputStream is)  throws JsonParsingException {
        try {
            final BufferedReader reader = new BufferedReader(new InputStreamReader(is));
            return gson.<mark>fromJson</mark>(reader, PlacesAutocompleteResponse.class);
        } catch (Exception e) {
            throw new JsonParsingException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>happyfoxinc_____helpstack-android_____HSSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/happyfoxinc_____helpstack-android_____HSSource.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    protected void doReadTicketsFromCache() {
        File ticketFile = new File(getProjectDirectory(), HELPSTACK_TICKETS_FILE_NAME);
        String json = readJsonFromFile(ticketFile);

        if (json == null) {
            cachedTicket = new HSCachedTicket();
        } else {
            Gson gson = <mark>new Gson</mark>();
            cachedTicket = gson.<mark>fromJson</mark>(json, HSCachedTicket.class);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>schema-repo_____schema-repo_____GsonJsonUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/schema-repo_____schema-repo_____GsonJsonUtil.java

com.google.gson.Gson.fromJson

  @Override
  public Iterable<String> subjectNamesFromJson(String str) {
    ArrayList<String> stringList = new ArrayList<String>();

    if (str != null && !str.equals("")) {
      ArrayList<SubjectRepresentation> subjectList =
              GSON_FOR_SUBJECTS.<mark>fromJson</mark>(str, SUBJECT_LIST_TYPE);
      for (SubjectRepresentation subject : subjectList) {
        stringList.add(subject.getName());
      }
    }

    return stringList;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>grossopa_____weixin-mp-java_____WxJsonUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/grossopa_____weixin-mp-java_____WxJsonUtil.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static final WxRespCode toWxErrorJson(String errorResult) {
		if (errorResult != null && (errorResult.startsWith("{\"errcode")
				|| errorResult.startsWith("{\"errmsg"))) {
			return <mark>new Gson</mark>().<mark>fromJson</mark>(errorResult, WxRespCode.class);
		}
		return null;
	}
	
	public static final WxAccessTokenJson toAccessTokenJson(String result) {
		return <mark>new Gson</mark>().<mark>fromJson</mark>(result, WxAccessTokenJson.class);
	}
	

}
            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>syncthing_____syncthing-android_____RestApi_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/syncthing_____syncthing-android_____RestApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Returns status information about the folder with the given id.
     */     */
    public void getSystemVersion(OnResultListener1<SystemVersion> listener) {
        new GetRequest(mContext, mUrl, GetRequest.URI_VERSION, mApiKey, null, result -> {
            SystemVersion systemVersion = <mark>new Gson</mark>().<mark>fromJson</mark>(result, SystemVersion.class);
            listener.onResult(systemVersion);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____GroupsApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____GroupsApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


	public static GroupListModel getGroups() {
		WeiboParameters params = new WeiboParameters();
		
		try {
			JSONObject json = request(Constants.FRIENDSHIPS_GROUPS, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), GroupListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.e(TAG, "Cannot get groups");
				Log.e(TAG, Log.getStackTraceString(e));
			}
		}

		return null;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public GroupResult group(UUID[] faceIds) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s", mServiceHost, GROUP_QUERY);
        params.put("faceIds", faceIds);
        String json = (String)this.mRestCall.request(uri, RequestMethod.POST, params, null);
        return this.mGson.<mark>fromJson</mark>(json, GroupResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>winder_____Universal-G-Code-Sender_____FirmwareUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/winder_____Universal-G-Code-Sender_____FirmwareUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Copy any missing files from the the jar's resources/firmware_config/ dir
     * into the settings/firmware_config dir.
     */        }
        public void reload() {
            try {
                loader = <mark>new Gson</mark>().<mark>fromJson</mark>(new FileReader(file), ControllerSettings.class);
            } catch (FileNotFoundException ex) {
                logger.log(Level.SEVERE, null, ex);
            }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>toolbox4minecraft_____amidst_____JsonReader_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/toolbox4minecraft_____amidst_____JsonReader.java

com.google.gson.Gson.fromJson

	@NotNull
	private static <T> T readReader(Reader reader, Class<T> clazz) throws FormatException, IOException {
		try (Reader theReader = reader) {
			T result = GSON.<mark>fromJson</mark>(theReader, clazz);
			if (result != null) {
				return result;
			} else {
				throw new FormatException("result was null");
			}
		} catch (JsonSyntaxException e) {
			throw new FormatException(e);
		} catch (JsonIOException e) {
			throw new IOException(e);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>chiuki_____gce2retrofit_____Generator_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/chiuki_____gce2retrofit_____Generator.java

com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.entrySet
com.google.gson.Gson.fromJson


  public static Map<String, List<AnnotationType>> readAnnotationMap(Reader reader) throws IOException {
    final Type type = new TypeToken<Map<String, List<AnnotationType>>>(){}.getType();
    final Map<String, List<AnnotationType>> annotationMap = gson.<mark>fromJson</mark>(reader, type);
    return annotationMap;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>uber_____tchannel-java_____JSONSerializer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/uber_____tchannel-java_____JSONSerializer.java

com.google.gson.Gson.fromJson

    @Override
    public @NotNull Map<String, String> decodeHeaders(@NotNull ByteBuf arg2) {
        String headerJSON = arg2.toString(CharsetUtil.UTF_8);
        Map<String, String> headers = null;
        if (headerJSON != null && !headerJSON.isEmpty() && !"\"\"".equals(headerJSON)) {
            headers = new Gson().<mark>fromJson</mark>(headerJSON, HEADER_TYPE);
        }

        return (headers == null) ? new HashMap<String, String>() : headers;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____HostImpl_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____HostImpl.java

com.google.gson.Gson.fromJson

  @Override
  public void setHostAttributes(Map<String, String> hostAttributes) {
    HostEntity hostEntity = getHostEntity();
    Map<String, String> hostAttrs = gson.<mark>fromJson</mark>(hostEntity.getHostAttributes(), hostAttributesType);

    if (hostAttrs == null) {
      hostAttrs = new ConcurrentHashMap<>();
    }

    hostAttrs.putAll(hostAttributes);
    hostEntity.setHostAttributes(gson.toJson(hostAttrs,hostAttributesType));
    hostDAO.merge(hostEntity);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____LogFeederUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____LogFeederUtil.java

com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson


  public static Map<String, Object> cloneObject(Map<String, Object> map) {
    if (map == null) {
      return null;
    }
    String jsonStr = gson.toJson(map);
    Type type = new TypeToken<Map<String, Object>>() {}.<mark>getType</mark>();
    return gson.<mark>fromJson</mark>(jsonStr, type);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestClient_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestClient.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


    private Object executeGet(String serviceEndpoint, Type responseJsonType) throws Exception {
        String resultString = executeGet(serviceEndpoint);
        if (resultString == null) {
            return null;
        }

        GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
        Gson gson = gsonBuilder.<mark>create</mark>();
        return gson.<mark>fromJson</mark>(resultString, responseJsonType);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mtotschnig_____MyExpenses_____RoadmapViewModel_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mtotschnig_____MyExpenses_____RoadmapViewModel.java

com.google.gson.reflect.TypeToken<java.util.ArrayList<org.totschnig.myexpenses.retrofit.Issue>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<org.totschnig.myexpenses.retrofit.Issue>>.getType
com.google.gson.Gson.fromJson


  public Map<Integer, Integer> restoreWeights() {
    String stored = PrefKey.ROADMAP_VOTE.getString(null);

    return stored != null ? gson.<mark>fromJson</mark>(stored, new TypeToken<Map<Integer, Integer>>(){}.<mark>getType</mark>()) :
        new HashMap<>();
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestClient_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestClient.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


    private Object executeGet(String serviceEndpoint, Class responseJsonClass) throws Exception {
        String resultString = executeGet(serviceEndpoint);
        if (resultString == null) {
            return null;
        }

        GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
        Gson gson = gsonBuilder.<mark>create</mark>();
        return gson.<mark>fromJson</mark>(resultString, responseJsonClass);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>TCA-Team_____TumCampusApp_____ChatActivity_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/TCA-Team_____TumCampusApp_____ChatActivity.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private void setupToolbarTitle() {
        String encodedChatRoom = getIntent().getStringExtra(Const.CURRENT_CHAT_ROOM);
        currentChatRoom = <mark>new Gson</mark>().<mark>fromJson</mark>(encodedChatRoom, ChatRoom.class);
        currentChatMember = Utils.getSetting(this, Const.CHAT_MEMBER, ChatMember.class);

        if (getSupportActionBar() != null) {
            getSupportActionBar().setTitle(currentChatRoom.getTitle());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xjtushilei_____ScriptSpider_____JsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xjtushilei_____ScriptSpider_____JsonUtils.java

com.google.gson.reflect.TypeToken<java.util.ArrayList<com.google.gson.JsonObject>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<com.google.gson.JsonObject>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static <T> List<T> toList(String json, Class<T[]> clazz) {
        Gson gson = <mark>new Gson</mark>();
        T[] array = gson.<mark>fromJson</mark>(json, clazz);
        return Arrays.asList(array);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>sachin-handiekar_____jInstagram_____InstagramSubscription_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/sachin-handiekar_____jInstagram_____InstagramSubscription.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private SubscriptionResponse getSubscriptionResponse(String jsonBody) throws InstagramException {
        Gson gson = <mark>new Gson</mark>();
        SubscriptionResponse response;

        try {
            response = gson.<mark>fromJson</mark>(jsonBody, SubscriptionResponse.class);
        } catch (Exception e) {
            throw new InstagramException("Error parsing json to object type ");
        }

        return response;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>justinsb_____jetcd_____EtcdClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/justinsb_____jetcd_____EtcdClient.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson


    private EtcdResult parseEtcdResult(String json) throws EtcdClientException {
        EtcdResult result;
        try {
            result = gson.<mark>fromJson</mark>(json, EtcdResult.class);
        } catch (JsonParseException e) {
            throw new EtcdClientException("Error parsing response from etcd", e);
        }
        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openimaj_____openimaj_____ImgurClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openimaj_____openimaj_____ImgurClient.java

com.google.gson.Gson.fromJson

/**
	 * Calls http://imgur.com/gallery.json
	 * 
	 * @return the json response
	 */	 */
	public ImageResponse getSingleImage(String hash) throws ClientProtocolException, IOException {
		final HttpGet get = new HttpGet(String.format("%s/image/%s.json", ENDPOINT, hash));
		final HttpResponse response = client.execute(get);
		final ImgurResponse resp = gson.<mark>fromJson</mark>(new InputStreamReader(response.getEntity().getContent()),
				ImgurResponse.class);
		return resp.image;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____Commands_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____Commands.java

com.google.gson.Gson.fromJson

/**
     * Returns the json for the set_light_state command to switch a bulb on or off.
     *
     * @param onOff the switch state to set
     * @param transitionPeriod the transition period for the action to take place
     * @return The json string of the command to send to the device
     */     */
    public SetSwitchState setSwitchStateResponse(String switchStateResponse) {
        return gsonWithExpose.<mark>fromJson</mark>(switchStateResponse, SetSwitchState.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>amitshekhariitbhu_____AndroidNetworking_____GsonParserFactory_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/amitshekhariitbhu_____AndroidNetworking_____GsonParserFactory.java

com.google.gson.reflect.TypeToken<java.util.HashMap<java.lang.String,java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.HashMap<java.lang.String,java.lang.String>>.getType
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

    @Override
    public Object getObject(String string, Type type) {
        try {
            return gson.<mark>fromJson</mark>(string, type);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_15.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public TrainingStatus getPersonGroupTrainingStatus(String personGroupId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s/%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId, TRAINING_QUERY);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, TrainingStatus.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ContainerSolutions_____minimesos_____MarathonContainer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ContainerSolutions_____minimesos_____MarathonContainer.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Replaces ${MINIMESOS_[ROLE]}, ${MINIMESOS_[ROLE]_IP} and ${MINIMESOS_[ROLE]_PORT} tokens in the given string with actual values.
     * Also supports ${NETWORK_GATEWAY}
     *
     * @param source string to replace values in
     * @return updated string
     */
    private Group constructGroup(String groupJson) {
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(replaceTokens(groupJson), Group.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____Commands_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____Commands.java

com.google.gson.Gson.fromJson

/**
     * Returns the json for the set_relay_state command to switch on or off.
     *
     * @param onOff the switch state to set
     * @return The json string of the command to send to the device
     */    @SuppressWarnings("null")
    public Realtime getRealtimeResponse(String realtimeResponse) {
        GetRealtime getRealtime = gson.<mark>fromJson</mark>(realtimeResponse, GetRealtime.class);
        return getRealtime == null ? new Realtime() : getRealtime.getRealtime();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____Commands_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____Commands.java

com.google.gson.Gson.fromJson

/**
     * Returns the json for the set_switch_state command to switch a dimmer on or off.
     *
     * @param onOff the switch state to set
     * @return The json string of the command to send to the device
     */    @SuppressWarnings("null")
    public Sysinfo getSysinfoReponse(String getSysinfoReponse) {
        GetSysinfo getSysinfo = gson.<mark>fromJson</mark>(getSysinfoReponse, GetSysinfo.class);
        return getSysinfo == null ? new Sysinfo() : getSysinfo.getSysinfo();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_37.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public TrainingStatus getLargeFaceListTrainingStatus(String largeFaceListId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s/%s", mServiceHost, LARGE_FACE_LISTS_QUERY, largeFaceListId, TRAINING_QUERY);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, TrainingStatus.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dexter_____dexter_____DexterRestClient_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/dexter_____dexter_____DexterRestClient.java

com.google.gson.Gson.fromJson

	 */
	public int getId(String title) {
		title = URLEncoder.encode(title);

		String json = "";
		try {
			String url = server.toString() + "/get-id?title="
					+ URLEncoder.encode(title, "UTF-8");
			logger.info("featch url {} ", url);
			json = browser.fetchAsUTF8String(url);

		} catch (IOException e) {
			logger.error("cannot call the rest api {}", e.toString());
			return -1;
		}
		ArticleDescription ad = gson.<mark>fromJson</mark>(json, ArticleDescription.class);
		return ad.getId();
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____Commands_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____Commands.java

com.google.gson.Gson.fromJson

/**
     * Returns the json for the set_light_State command to set the brightness.
     *
     * @param brightness the brightness value
     * @param transitionPeriod the transition period for the action to take place
     * @return The json string of the command to send to the device
     */     */
    public HasErrorResponse setDimmerBrightnessResponse(String dimmerBrightnessResponse) {
        return gsonWithExpose.<mark>fromJson</mark>(dimmerBrightnessResponse, SetBrightness.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>facebook_____buck_____BuckAddDependencyIntention_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/facebook_____buck_____BuckAddDependencyIntention.java

com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,com.google.gson.JsonObject>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,com.google.gson.JsonObject>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    static @Nullable List<String> stringListOrNull(@Nullable JsonElement jsonElement) {
      if (jsonElement == null) {
        return null;
      }
      return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonElement, new TypeToken<List<String>>() {}.<mark>getType</mark>());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MovingBlocks_____Terasology_____ServiceApiRequest_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MovingBlocks_____Terasology_____ServiceApiRequest.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    private static void parseError(HttpURLConnection conn) throws IOException, StorageServiceException {
        try (InputStream errResponse = conn.getErrorStream()) {
            try {
                throw new StorageServiceException(GSON.<mark>fromJson</mark>(new InputStreamReader(errResponse), ErrorResponseData.class).error);
            } catch (JsonSyntaxException e) {
                throw new StorageServiceException();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____incubator-brooklyn_____BrooklynEntityMirrorImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____incubator-brooklyn_____BrooklynEntityMirrorImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

            @Override
            public Void apply(HttpToolResponse input) {
                Map sensors = <mark>new Gson</mark>().<mark>fromJson</mark>(input.getContentAsString(), Map.class);
                for (Object kv: sensors.entrySet())
                    sensors().set(Sensors.newSensor(Object.class, ""+((Map.Entry)kv).getKey()), ((Map.Entry)kv).getValue());
                sensors().set(MIRROR_STATUS, "normal");
                return null;
            }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____intellij-community_____IpnbConnection_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/JetBrains_____intellij-community_____IpnbConnection.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsInt

  @NotNull
  private String startKernel() throws IOException {
    final String s = httpRequest(myURI + KERNELS_URL, HTTPMethod.POST.name());
    final Gson gson = <mark>new Gson</mark>();
    final Kernel kernel = gson.<mark>fromJson</mark>(s, Kernel.class);
    return kernel.getId();
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaoxiangyeyuHeaven_____BaseMoudle_____GsonTools_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xiaoxiangyeyuHeaven_____BaseMoudle_____GsonTools.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.util.Map<java.lang.String,com.xusangbo.basemoudle.utils.T>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.util.Map<java.lang.String,com.xusangbo.basemoudle.utils.T>>>.getType
com.google.gson.Gson.fromJson


	public static <T> List<T> changeGsonToList(String gsonString, Class<T> cls) {
		Gson gson = <mark>new Gson</mark>();
		List<T> list = gson.<mark>fromJson</mark>(gsonString, new TypeToken<List<T>>() {
		}.<mark>getType</mark>());
		return list;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public VerifyResult verify(UUID faceId1, UUID faceId2) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s", mServiceHost, VERIFY_QUERY);
        params.put("faceId1", faceId1);
        params.put("faceId2", faceId2);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, VerifyResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____JSONRequest_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____JSONRequest.java

com.google.gson.Gson.fromJson

/**
   * @see #post(WebResource, MultivaluedMapImpl)
   */   */
  public RESPONSE get(WebResource resource) throws IOException {
    LOG.info("GET {}", resource);

    InputStream inputStream = readFrom(resource, "GET", null, new HashMap<String, String>());

    recordLastCurlCommand(String.format("curl \"" + resource.toString() + "\""));
    String responseJson = IOUtils.toString(inputStream);
    LOG.debug("RESPONSE {}", responseJson);
    return gson.<mark>fromJson</mark>(responseJson, responseClass);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_18.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public TrainingStatus getLargePersonGroupTrainingStatus(String largePersonGroupId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s/%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId, TRAINING_QUERY);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, TrainingStatus.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>sangmingming_____Meizitu_____Feed_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/sangmingming_____Meizitu_____Feed.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.getType
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.getType
com.google.gson.Gson.fromJson


    public static Feed <mark>fromJson</mark>(String jsonStr) {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonStr, Feed.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____HDFSFileInterpreter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____HDFSFileInterpreter.java

com.google.gson.Gson.fromJson


  public boolean isDirectory(String path) {
    boolean ret = false;
    if (exceptionOnConnect != null) {
      return ret;
    }

    try {
      String str = cmd.runCommand(cmd.getFileStatus, path, null);
      SingleFileStatus sfs = gson.<mark>fromJson</mark>(str, SingleFileStatus.class);
      if (sfs != null) {
        return sfs.fileStatus.type.equals("DIRECTORY");
      }
    } catch (Exception e) {
      logger.error("IsDirectory: " + path, e);
      return false;
    }
    return ret;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>IQSS_____dataverse_____DdiExportUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/IQSS_____dataverse_____DdiExportUtil.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static String datasetDtoAsJson2ddi(String datasetDtoAsJson) {
        logger.fine(JsonUtil.prettyPrint(datasetDtoAsJson));
        Gson gson = <mark>new Gson</mark>();
        DatasetDTO datasetDto = gson.<mark>fromJson</mark>(datasetDtoAsJson, DatasetDTO.class);
        try {
            return dto2ddi(datasetDto);
        } catch (XMLStreamException ex) {
            Logger.getLogger(DdiExportUtil.class.getName()).log(Level.SEVERE, null, ex);
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get channel status updates. Uses the default feed options.
     *
     * @return Status feed.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Entry getLastFieldEntry(Integer fieldId) throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/field/" + fieldId + "/last.json";
        return gson.<mark>fromJson</mark>(thingRequest(url), Entry.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____JdbcExtractor_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____JdbcExtractor.java

com.google.gson.JsonArray.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.add

   */
  private void buildMetadataColumnMap(JsonArray array) {
    if (array != null) {
      for (JsonElement columnElement : array) {
        Schema schemaObj = gson.<mark>fromJson</mark>(columnElement, Schema.class);
        String columnName = schemaObj.getColumnName();
        this.metadataColumnMap.put(columnName.toLowerCase(), schemaObj);
        this.metadataColumnList.<mark>add</mark>(columnName.toLowerCase());
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wso2_____msf4j_____PetService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wso2_____msf4j_____PetService.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Timed
    public Response getPet(@PathParam("id") String id) {
        try (Jedis jedis = pool.getResource()) {
            String json = jedis.get(PetConstants.PET_ID_KEY_PREFIX + id);
            if (json == null || json.isEmpty()) {
                return Response.status(Response.Status.NOT_FOUND).build();
            }
            log.info("Got pet");
            return Response.status(Response.Status.OK).entity(<mark>new Gson</mark>().<mark>fromJson</mark>(json, Pet.class)).build();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>xiaoxiangyeyuHeaven_____BaseMoudle_____GsonTools_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/xiaoxiangyeyuHeaven_____BaseMoudle_____GsonTools.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,com.xusangbo.basemoudle.utils.T>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,com.xusangbo.basemoudle.utils.T>>.getType
com.google.gson.Gson.fromJson


	public static <T> List<Map<String, T>> changeGsonToListMaps(
			String gsonString) {
		List<Map<String, T>> list = null;
		Gson gson = <mark>new Gson</mark>();
		list = gson.<mark>fromJson</mark>(gsonString, new TypeToken<List<Map<String, T>>>() {
		}.<mark>getType</mark>());
		return list;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get a field feed with default feed options.
     *
     * @param fieldId The field to include in the field (1-8).
     * @return Feed.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Entry getLastChannelEntry() throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/feed/last.json";
        return gson.<mark>fromJson</mark>(thingRequest(url), Entry.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pengrad_____java-telegram-bot-api_____TelegramBotClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pengrad_____java-telegram-bot-api_____TelegramBotClient.java

com.google.gson.Gson.fromJson

            @Override
            public void onResponse(Call call, Response response) {
                try {
                    R result = gson.<mark>fromJson</mark>(response.body().string(), request.getResponseType());
                    callback.onResponse(request, result);
                } catch (Exception e) {
                    IOException ioEx = e instanceof IOException ? (IOException) e : new IOException(e);
                    callback.onFailure(request, ioEx);
                }
            }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____UserApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____UserApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static UserModel getUser(String uid) {
		WeiboParameters params = new WeiboParameters();
		params.put("uid", uid);
		
		try {
			JSONObject json = request(Constants.USER_SHOW, params, HTTP_GET);
			UserModel user = <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString().replaceAll("-Weibo", ""), UserModel.class);
			return user;
		} catch (Exception e) {
			if (DEBUG) {
				Log.e(TAG, "Failed to fetch user info from net: " + e.getClass().getSimpleName());
			}
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____NeutronNodesNorthboundAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____NeutronNodesNorthboundAction.java

com.google.gson.reflect.TypeToken.get
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public <T> T listAllNodes() throws NeutronRestApiException {
        String uri = NeutronNorthboundEnum.PORTS_URI.getUri();
        String bodystring = executeGet(uri, Collections.<String, String> emptyMap());

        Type returnType = new TypeToken<NeutronNodesList<NeutronNodeWrapper>>() {
        }.getType();

        T returnValue = (T) gsonNeutronNode.<mark>fromJson</mark>(bodystring, returnType);

        return returnValue;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeatoRobot_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeatoRobot.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public Boolean sendGetRobotInfo() throws NeatoCommunicationException {
        logger.debug("Will get INFO for Robot {}", this.serialNumber);

        CommandRequest request = new CommandRequest();
        request.setCmd("getRobotInfo");

        String result = this.callNeatoWS(gson.<mark>toJson</mark>(request));
        logger.debug("Result from getRobotInfo: {}", result);

        this.info = gson.<mark>fromJson</mark>(result, NeatoRobotInfo.class);

        return true;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matrix-org_____matrix-android-sdk_____JsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/matrix-org_____matrix-android-sdk_____JsonUtils.java

com.google.gson.Gson.fromJson

/**
     * Convert a JSON object to an Event.
     * The result is never null.
     *
     * @param jsonObject the json to convert
     * @return an Event
     */    @Nullable
    public static String getMessageMsgType(JsonElement jsonObject) {
        try {
            Message message = gson.<mark>fromJson</mark>(jsonObject, Message.class);
            return message.msgtype;
        } catch (Exception e) {
            Log.e(LOG_TAG, "## getMessageMsgType failed " + e.getMessage(), e);
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cymcsg_____UltimateAndroid_____JsonUtil_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cymcsg_____UltimateAndroid_____JsonUtil.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.Gson.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.JsonElement.isJsonArray
com.google.gson.JsonElement.isJsonObject
com.google.gson.JsonElement.isJsonObject
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.isJsonArray
com.google.gson.reflect.TypeToken<java.util.ArrayList<java.util.HashMap<java.lang.String,java.lang.Object>>>.&ltinit&gt


    public static <T> T getTFromJson(String jsonString, Class<T> t) {
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(jsonString, t);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iFixit_____iFixitAndroid_____JSONHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/iFixit_____iFixitAndroid_____JSONHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
    * Parsing list of UserImageInfo.
    */
   private static ArrayList<Document> parseDocuments(JSONArray documents) throws JSONException {
      ArrayList<Document> result = new ArrayList<>();
      for (int i = 0; i < documents.length(); i++) {
         result.add(<mark>new Gson</mark>().<mark>fromJson</mark>(documents.getJSONObject(i).toString(), Document.class));
      }

      return result;
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____MentionsTimeLineApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____MentionsTimeLineApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static MessageListModel fetchMentionsTimeLine(int count, int page) {
		WeiboParameters params = new WeiboParameters();
		params.put("count", count);
		params.put("page", page);

		try {
			JSONObject json = request(Constants.MENTIONS, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), MessageListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.d(TAG, "Cannot fetch home timeline, " + e.getClass().getSimpleName());
			}
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____DirectMessagesApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____DirectMessagesApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static DirectMessageUserListModel getUserList(int count, int cursor) {
		WeiboParameters params = new WeiboParameters();
		params.put("count", count);
		params.put("cursor", cursor);
		
		try {
			JSONObject json = request(Constants.DIRECT_MESSAGES_USER_LIST, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), DirectMessageUserListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.e(TAG, Log.getStackTraceString(e));
			}
		}
		
		return null;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MovingBlocks_____Terasology_____UISkinFormat_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MovingBlocks_____Terasology_____UISkinFormat.java

com.google.gson.Gson.fromJson

    @Override
    public UISkinData load(ResourceUrn urn, List<AssetDataFile> inputs) throws IOException {
        try (JsonReader reader = new JsonReader(new InputStreamReader(inputs.get(0).openStream(), Charsets.UTF_8))) {
            reader.setLenient(true);
            UISkinData data = gson.<mark>fromJson</mark>(reader, UISkinData.class);
            data.setSource(inputs.get(0));
            return data;
        } catch (JsonParseException e) {
            throw new IOException("Failed to load skin '" + urn + "'", e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_39.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static DocOpComponentImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DocOpComponentImpl dto = new DocOpComponentImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hypertrack_____hypertrack-live-android_____SharedPreferenceManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/hypertrack_____hypertrack-live-android_____SharedPreferenceManager.java

com.google.gson.reflect.TypeToken<com.hypertrack.lib.models.Action>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.hypertrack.lib.models.Action>.getType
com.google.gson.Gson.fromJson


    static Place getActionPlace(Context context) {
        String placeJson = getSharedPreferences(context).getString(CURRENT_PLACE, null);
        if (placeJson == null) {
            return null;
        }

        Gson gson = new Gson();
        Type type = new TypeToken<Place>() {
        }.<mark>getType</mark>();

        return gson.<mark>fromJson</mark>(placeJson, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____CommentTimeLineApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____CommentTimeLineApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


	public static CommentListModel fetchCommentTimeLineToMe(int count, int page) {
		WeiboParameters params = new WeiboParameters();
		params.put("count", count);
		params.put("page", page);

		try {
			JSONObject json = request(Constants.COMMENTS_TO_ME, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), CommentListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.d(TAG, "Cannot fetch home timeline, " + e.getClass().getSimpleName());
			}
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____SearchApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____SearchApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static MessageListModel searchStatus(String q, int count, int page) {
		WeiboParameters params = new WeiboParameters();
		params.put("q", q);
		params.put("count", count);
		params.put("page", page);

		try {
			JSONObject json = request(Constants.SEARCH_STATUSES, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), MessageListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.e(TAG, "Cannot search, " + e.getClass().getSimpleName());
			}
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____CommentTimeLineApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____CommentTimeLineApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static CommentListModel fetchCommentTimeLine(int count, int page) {
		WeiboParameters params = new WeiboParameters();
		params.put("count", count);
		params.put("page", page);

		try {
			JSONObject json = request(Constants.COMMENTS_TIMELINE, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), CommentListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.d(TAG, "Cannot fetch home timeline, " + e.getClass().getSimpleName());
			}
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pusher_____pusher-websocket-java_____WebSocketConnection_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pusher_____pusher-websocket-java_____WebSocketConnection.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @SuppressWarnings("rawtypes")
    private void handleConnectionMessage(final String message) {
        final Map jsonObject = GSON.<mark>fromJson</mark>(message, Map.class);
        final String dataString = (String)jsonObject.get("data");
        final Map dataMap = GSON.<mark>fromJson</mark>(dataString, Map.class);
        socketId = (String)dataMap.get("socket_id");

        if(state != ConnectionState.CONNECTED){
            updateState(ConnectionState.CONNECTED);

        }
        reconnectAttempts = 0;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_24.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public PersonFace getPersonFace(String personGroupId, UUID personId, UUID persistedFaceId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s/%s/%s/%s/%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId, PERSONS_QUERY, personId, PERSISTED_FACES_QUERY,  persistedFaceId);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, PersonFace.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>FlowCI_____flow-platform_____PluginDaoImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/FlowCI_____flow-platform_____PluginDaoImpl.java

com.google.gson.Gson.fromJson

    @Override
    public void load() {
        Type type = new TypeToken<Map<String, Plugin>>() {
        }.getType();

        File file = storePath.toFile();
        if (!file.exists()) {
            return;
        }

        try {
            String rawData = Files.toString(file, Charsets.UTF_8);
            pluginCache = GSON.<mark>fromJson</mark>(rawData, type);
            log.trace("Plugin data been loaded from path: " + file);
        } catch (Throwable e) {
            log.warn("Unable to load plugin data: " + e.getMessage());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____RollCall_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____RollCall.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public static RollCall <mark>fromJson</mark>(String json) {
        final Gson gson = <mark>new GsonBuilder</mark>()
                .excludeFieldsWithoutExposeAnnotation()
                .<mark>create</mark>();
        try {
            return gson.<mark>fromJson</mark>(json, RollCall.class);
        } catch (Exception e) {
            UserError.Log.e(TAG, "Got exception processing <mark>fromJson</mark>() " + e);
            UserError.Log.e(TAG, "json = " + json);
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____FriendsApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____FriendsApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	private static UserListModel getUsers(String uid, int count, int cursor, String url) {
		WeiboParameters params = new WeiboParameters();
		params.put("uid", uid);
		params.put("count", count);
		params.put("cursor", cursor);
		
		try {
			JSONObject json = request(url, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), UserListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.e(TAG, "Cannot get friends");
				Log.e(TAG, Log.getStackTraceString(e));
			}
		}
		
		return null;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jimkyndemeyer_____js-graphql-intellij-plugin_____JSGraphQLLanguageUIProjectService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jimkyndemeyer_____js-graphql-intellij-plugin_____JSGraphQLLanguageUIProjectService.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private Integer getErrorCount(String responseJson) {
        try {
            final Map res = <mark>new Gson</mark>().<mark>fromJson</mark>(responseJson, Map.class);
            if (res != null) {
                final Object errors = res.get("errors");
                if (errors instanceof Collection) {
                    return ((Collection) errors).size();
                }
                return 0;
            }
        } catch (JsonSyntaxException ignored) {
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tumblr_____jumblr_____ResponseWrapper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/tumblr_____jumblr_____ResponseWrapper.java

com.google.gson.JsonObject.get
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.Blog>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.Blog>>.getType
com.google.gson.Gson.fromJson

/**
     **
     **/    // NOTE: needs to be duplicated logic due to Java erasure of generic types
    public List<Post> getTaggedPosts() {
        Gson gson = gsonParser();
        List<Post> l = gson.<mark>fromJson</mark>(response.getAsJsonArray(), new TypeToken<List<Post>>() {}.<mark>getType</mark>());
        for (Post e : l) { e.setClient(client); }
        return l;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dexter_____dexter_____DexterRestClient_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/dexter_____dexter_____DexterRestClient.java

com.google.gson.Gson.fromJson

/**
	 * Given an entity, returns the entities linked by given entity
	 * 
	 * @param id
	 *            the Wiki-id of the entity
	 * @returns the entities linked by the given entity
	 */	 */
	public ArticleDescription getDesc(int id) {

		String json = "";
		try {
			json = browser.fetchAsUTF8String(
					server.toString() + "/get-desc?id=" + id).toString();
		} catch (IOException e) {
			logger.error("cannot call the rest api {}", e.toString());
			return null;
		}
		ArticleDescription ad = gson.<mark>fromJson</mark>(json, ArticleDescription.class);
		return ad;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____BaseLivyInterpreter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____BaseLivyInterpreter.java

com.google.gson.Gson.fromJson


    public static StatementInfo <mark>fromJson</mark>(String json) {
      String rightJson = "";
      try {
        gson.<mark>fromJson</mark>(json, StatementInfo.class);
        rightJson = json;
      } catch (Exception e) {
        if (json.contains("\"traceback\":{}")) {
          LOGGER.debug("traceback type mismatch, replacing the mismatching part ");
          rightJson = json.replace("\"traceback\":{}", "\"traceback\":[]");
          LOGGER.debug("new json string is {}", rightJson);
        }
      }
      return gson.<mark>fromJson</mark>(rightJson, StatementInfo.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____SspClient_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____SspClient.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public TenantPort createTenantPort(String tenantNetworkUuid) {
        TenantPort req = new TenantPort();
        req.networkUuid = tenantNetworkUuid;
        req.attachmentType = "NoAttachment";

        HttpPost method = new HttpPost();
        method.setEntity(new StringEntity(<mark>new Gson</mark>().<mark>toJson</mark>(req), ContentType.APPLICATION_JSON));
        return <mark>new Gson</mark>().<mark>fromJson</mark>(
                executeMethod(method, "/ssp.v1/tenant-ports"),
                TenantPort.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____NeutronNodesNorthboundAction_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____NeutronNodesNorthboundAction.java

com.google.gson.reflect.TypeToken.get
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public <T> T updateNeutronNodeV1(final String nodeId, final String ipAddress, final int port) throws NeutronRestApiException {
        String uri = NeutronNorthboundEnum.NODE_PORT_PER_NODE_URI.getUri();
        uri = MessageFormat.format(uri, nodeId, ipAddress, String.valueOf(port));

        String bodystring = executePut(uri);

        T result = (T) gsonNeutronNode.<mark>fromJson</mark>(bodystring, TypeToken.<mark>get</mark>(NeutronNodeWrapper.class).getType());

        return result;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____DirectMessagesApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____DirectMessagesApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static DirectMessageListModel getConversation(String uid, int count, int page) {
		WeiboParameters params = new WeiboParameters();
		params.put("uid", uid);
		params.put("count", count);
		params.put("page", page);
		
		try {
			JSONObject json = request(Constants.DIRECT_MESSAGES_CONVERSATION, params, HTTP_GET);
			return <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), DirectMessageListModel.class);
		} catch (Exception e) {
			if (DEBUG) {
				Log.d(TAG, Log.getStackTraceString(e));
			}
		}
		
		return null;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gonjay_____rubychina4android_____TopicsFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gonjay_____rubychina4android_____TopicsFragment.java

com.google.gson.Gson.fromJson


    private void loadCacheData(){
        Log.v("","loadCacheData : " + page);
        mSwipeRefreshLayout.setRefreshing(true);
        String cache = UserUtils.loadTopic(type);
        if (cache.length() > 0){
            List<Topic> ts = gson.<mark>fromJson</mark>(UserUtils.loadTopic(type), listType);
            for (Topic t : ts){
                topics.add(t);
            }
            mSwipeRefreshLayout.setRefreshing(false);
            mAdapter.notifyDataSetChanged();
            loadFirstPage();
        } else {
            loadFirstPage();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____PostApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____PostApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static boolean newPost(String status, String version) {
		WeiboParameters params = new WeiboParameters();
		params.put("status", status);
		params.put("annotations", parseAnnotation(version));
		
		try {
			JSONObject json = request(Constants.UPDATE, params, HTTP_POST);
			MessageModel msg = <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), MessageModel.class);
			
			if (msg == null || msg.idstr == null || msg.idstr.trim().equals("")) {
				return false;
			}
		} catch (Exception e) {
			return false;
		}
		
		return true;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get the last entry in a field feed with default feed options. 
     *
     * @param fieldId The field to return (0-8).
     * @return Last entry for the specified field.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Feed getFieldFeed(Integer fieldId) throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/field/" + fieldId + ".json";
        return gson.<mark>fromJson</mark>(thingRequest(url), Feed.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public VerifyResult verify(UUID faceId, String personGroupId, UUID personId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s", mServiceHost, VERIFY_QUERY);
        params.put("faceId", faceId);
        params.put("personGroupId", personGroupId);
        params.put("personId", personId);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, VerifyResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____OldZeppelinHubRepo_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____OldZeppelinHubRepo.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

  @Override
  public List<OldNoteInfo> list(AuthenticationInfo subject) throws IOException {
    if (!isSubjectValid(subject)) {
      return Collections.emptyList();
    }
    String token = getUserToken(subject.getUser());
    String response = restApiClient.get(token, StringUtils.EMPTY);
    List<OldNoteInfo> notes = GSON.<mark>fromJson</mark>(response, new TypeToken<List<OldNoteInfo>>() {}.getType());
    if (notes == null) {
      return Collections.emptyList();
    }
    LOG.info("ZeppelinHub REST API listing notes ");
    return notes;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_32.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public FaceListMetadata[] listFaceLists() throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s", mServiceHost, FACE_LISTS_QUERY);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        Type listType = new TypeToken<List<FaceListMetadata>>() {
        }.getType();
        List<FaceListMetadata> result = mGson.<mark>fromJson</mark>(json, listType);
        return result.toArray(new FaceListMetadata[result.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____SspClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____SspClient.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public TenantNetwork createTenantNetwork(String tenantUuid, String networkName) {
        TenantNetwork req = new TenantNetwork();
        req.name = networkName;
        req.tenantUuid = tenantUuid;

        HttpPost method = new HttpPost();
        method.setEntity(new StringEntity(<mark>new Gson</mark>().<mark>toJson</mark>(req), ContentType.APPLICATION_JSON));
        return <mark>new Gson</mark>().<mark>fromJson</mark>(
                executeMethod(method, "/ssp.v1/tenant-networks"),
                TenantNetwork.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____PostApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____PostApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	// Picture size must be smaller than 5M
	public static boolean newPostWithPic(String status, Bitmap pic) {
		WeiboParameters params = new WeiboParameters();
		params.put("status", status);
		params.put("pic", pic);

		try {
			JSONObject json = request(Constants.UPLOAD, params, HTTP_POST);
			MessageModel msg = <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), MessageModel.class);

			if (msg == null || msg.idstr == null || msg.idstr.trim().equals("")) {
				return false;
			}
		} catch (Exception e) {
			return false;
		}

		return true;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get last entry in this channel with default feed options. This is a
     * faster alternative to getting a Channel Feed and then calling
     * {@link Feed#getChannelLastEntry()}.
     *
     * @return Entry.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Feed getChannelFeed() throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/feed.json";
        return gson.<mark>fromJson</mark>(thingRequest(url), Feed.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tumblr_____jumblr_____ResponseWrapper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/tumblr_____jumblr_____ResponseWrapper.java

com.google.gson.JsonObject.get
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.Post>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.Post>>.getType
com.google.gson.Gson.fromJson

    // NOTE: needs to be duplicated logic due to Java erasure of generic types
    public List<User> getUsers() {
        Gson gson = gsonParser();
        JsonObject object = (JsonObject) response;
        List<User> l = gson.<mark>fromJson</mark>(object.<mark>get</mark>("users"), new TypeToken<List<User>>() {}.<mark>getType</mark>());
        for (User e : l) { e.setClient(client); }
        return l;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tumblr_____jumblr_____ResponseWrapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/tumblr_____jumblr_____ResponseWrapper.java

com.google.gson.JsonObject.get
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.User>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.User>>.getType
com.google.gson.Gson.fromJson

    // NOTE: needs to be duplicated logic due to Java erasure of generic types
    public List<Post> getPosts() {
        Gson gson = gsonParser();
        JsonObject object = (JsonObject) response;
        List<Post> l = gson.<mark>fromJson</mark>(object.<mark>get</mark>("posts"), new TypeToken<List<Post>>() {}.<mark>getType</mark>());
        for (Post e : l) { e.setClient(client); }
        return l;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_30.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public PersonFace getPersonFaceInLargePersonGroup(String largePersonGroupId, UUID personId, UUID persistedFaceId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s/%s/%s/%s/%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId, PERSONS_QUERY, personId, PERSISTED_FACES_QUERY,  persistedFaceId);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, PersonFace.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____FreeboxApiManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____FreeboxApiManager.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public FreeboxDiscoveryResponse checkApi(String fqdn, boolean secureHttp) {
        String url = String.format("%s://%s/api_version", secureHttp ? "https" : "http", fqdn);
        try {
            String jsonResponse = HttpUtil.executeUrl("GET", url, HTTP_CALL_DEFAULT_TIMEOUT_MS);
            return gson.<mark>fromJson</mark>(jsonResponse, FreeboxDiscoveryResponse.class);
        } catch (IOException | JsonSyntaxException e) {
            logger.debug("checkApi with {} failed: {}", url, e.getMessage());
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wso2_____msf4j_____JsonConverter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wso2_____msf4j_____JsonConverter.java

com.google.gson.Gson.fromJson

    @Override
    public Object toObject(ByteBuffer content, Type targetType) throws BeanConversionException {
        try {
            String str = Charset.defaultCharset().decode(content).toString();
            Object object = gson.<mark>fromJson</mark>(str, targetType);
            if (object == null) {
                throw new BeanConversionException("Unable to perform json to object conversion");
            }
            return object;
        } catch (JsonSyntaxException ex) {
            throw new BeanConversionException("Unable to perform json to object conversion", ex);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AEFeinstein_____mtg-familiar_____PreferenceAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AEFeinstein_____mtg-familiar_____PreferenceAdapter.java

com.google.gson.reflect.TypeToken<android.support.v4.util.LongSparseArray<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<android.support.v4.util.LongSparseArray<java.lang.String>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private static SearchCriteria LoadCriteria(@Nullable Context context, String key) {
        if (null == context) {
            return new SearchCriteria();
        }

        return (<mark>new Gson</mark>()).<mark>fromJson</mark>(
                PreferenceManager.getDefaultSharedPreferences(context).getString(key, "{}"),
                SearchCriteria.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ervandew_____eclim_____JsonValidator_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ervandew_____eclim_____JsonValidator.java

com.google.gson.Gson.fromJson
com.google.gson.JsonParseException.getCause
com.google.gson.JsonParseException.getMessage

  @Override
  public boolean isValid(Object value)
  {
    if (value != null){
      try{
        Object result = GSON.<mark>fromJson</mark>((String)value, type);
        if (result != null && type.isArray() && itemValidator != null){
          Object[] results = (Object[])result;
          for(Object v : results){
            if (!itemValidator.isValid(v)){
              return false;
            }
          }
        }
      }catch(JsonParseException jpe){
        return false;
      }
    }
    return true;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HiddenStage_____divide_____TransientObject_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/HiddenStage_____divide_____TransientObject.java

com.google.gson.Gson.fromJson

/**
     * Retrieve a specific element from this object.
     * @param clazz type of object to be retrieved. If type given does not match a classcast exception will be thrown.
     * @param key key of object to be retrieved.
     * @return element of type specified corrosponding to the given key.
     */
    protected final <O> O meta_get(Class<O> clazz, MetaKey key){
//        canRead(); TODO disabled for now

        if(clazz.equals(String.class))
            return clazz.cast(meta_data.get(key.KEY));
        else
            return gson.<mark>fromJson</mark>(meta_data.get(key.KEY),clazz);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>P2Pvalue_____swellrt_____ServiceData_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/P2Pvalue_____swellrt_____ServiceData.java

com.google.gson.JsonParser.parse
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get


  public static ServiceData <mark>fromJson</mark>(String json, Class<? extends ServiceData> classOf)
      throws JsonParseException {

    ServiceData object = null;


    JsonElement element = jsonParser.<mark>parse</mark>(json);

    if (element == null) throw <mark>new JsonParseException</mark>("Element is null");

    object = gson.<mark>fromJson</mark>(element, classOf);
    if (element.isJsonObject()) object.set(element.getAsJsonObject());


    return object;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>tumblr_____jumblr_____ResponseWrapper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/tumblr_____jumblr_____ResponseWrapper.java

com.google.gson.JsonElement.getAsJsonArray
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.Post>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.tumblr.jumblr.types.Post>>.getType
com.google.gson.Gson.fromJson

    // NOTE: needs to be duplicated logic due to Java erasure of generic types
    public List<Post> getLikedPosts() {
        Gson gson = gsonParser();
        JsonObject object = (JsonObject) response;
        List<Post> l = gson.<mark>fromJson</mark>(object.get("liked_posts"), new TypeToken<List<Post>>() {}.<mark>getType</mark>());
        for (Post e : l) { e.setClient(client); }
        return l;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get channel status updates.
     *
     * @param options Only {@link FeedParameters#offset(java.lang.Integer)} is
     * supported.
     * @return Status feed.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Entry getLastFieldEntry(Integer fieldId, FeedParameters options) throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/field/" + fieldId + "/last.json";
        return gson.<mark>fromJson</mark>(thingRequest(url, options), Entry.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DWorkS_____VolleyPlus_____GsonRequest_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/DWorkS_____VolleyPlus_____GsonRequest.java

com.google.gson.Gson.fromJson

    @Override
    protected Response<T> parseNetworkResponse(NetworkResponse response) {
        try {
            String json = new String(
                    response.data, HttpHeaderParser.parseCharset(response.headers));
            return Response.success(
                    gson.<mark>fromJson</mark>(json, clazz), HttpHeaderParser.parseCacheHeaders(response, getSoftExpire(), getExpire()));
        } catch (UnsupportedEncodingException e) {
            return Response.error(new ParseError(e));
        } catch (JsonSyntaxException e) {
            return Response.error(new ParseError(e));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____NeutronPortsNorthboundAction_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____NeutronPortsNorthboundAction.java

com.google.gson.Gson.toJson
com.google.gson.reflect.TypeToken.get
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public <T> T findPortById(final String portId) throws NeutronRestApiException {
        String uri = NeutronNorthboundEnum.PORTS_PARAM_URI.getUri();
        uri = MessageFormat.format(uri, portId);

        String bodystring = executeGet(uri, Collections.<String, String> emptyMap());

        Type returnType = new TypeToken<NeutronPortWrapper>() {
        }.getType();

        T returnValue = (T) gsonNeutronPort.<mark>fromJson</mark>(bodystring, returnType);

        return returnValue;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public PersonGroup[] listPersonGroups(String start, int top) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s?start=%s&top=%s", mServiceHost, PERSON_GROUPS_QUERY, start, top);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);

        Type listType = new TypeToken<List<PersonGroup>>() {
        }.getType();
        List<PersonGroup> result = mGson.<mark>fromJson</mark>(json, listType);
        return result.toArray(new PersonGroup[result.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pusher_____pusher-websocket-java_____PresenceChannelImpl_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pusher_____pusher-websocket-java_____PresenceChannelImpl.java

com.google.gson.Gson.fromJson

    @SuppressWarnings("rawtypes")
    private void handleMemberRemovedEvent(final String message) {

        final String dataString = extractDataStringFrom(message);
        final MemberData memberData = GSON.<mark>fromJson</mark>(dataString, MemberData.class);

        final User user = idToUserMap.remove(memberData.userId);

        final ChannelEventListener listener = getEventListener();
        if (listener != null) {
            final PresenceChannelEventListener presenceListener = (PresenceChannelEventListener)listener;
            presenceListener.userUnsubscribed(getName(), user);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hypertrack_____hypertrack-live-android_____SharedPreferenceManager_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/hypertrack_____hypertrack-live-android_____SharedPreferenceManager.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<com.google.android.gms.location.GeofencingRequest>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.google.android.gms.location.GeofencingRequest>.getType
com.google.gson.Gson.fromJson


    public static User getHyperTrackLiveUser(Context context) {
        String userJSON = getSharedPreferences(context).getString(HYPERTRACK_LIVE_USER, null);

        if (userJSON == null) {
            return null;
        }

        Gson gson = <mark>new Gson</mark>();
        Type type = new TypeToken<User>() {
        }.<mark>getType</mark>();

        return gson.<mark>fromJson</mark>(userJSON, type);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HiddenStage_____divide_____XmlUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/HiddenStage_____divide_____XmlUtils.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public static Map readMapXml(InputStream str) {
        try {
            Map<String, Object> map = new HashMap<String, Object>();
            List<ValueContainer> values = gson.<mark>fromJson</mark>(IOUtils.toString(str),listType);
            for(ValueContainer value : values){
                map.put(value.getKey(),value.getValue());
            }
            return map;
        } catch (Exception e){
            e.printStackTrace();
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_36.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public LargeFaceList[] listLargeFaceLists(String start, int top) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s?start=%s&top=%s", mServiceHost, LARGE_FACE_LISTS_QUERY, start, top);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);

        Type listType = new TypeToken<List<LargeFaceList>>() {
        }.getType();
        List<LargeFaceList> result = mGson.<mark>fromJson</mark>(json, listType);
        return result.toArray(new LargeFaceList[result.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_19.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public CreatePersonResult createPerson(String personGroupId, String name, String userData) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s/%s/%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId, PERSONS_QUERY);
        params.put("name", name);
        if (userData != null) {
            params.put("userData", userData);
        }

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, CreatePersonResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____NeutronNetworksNorthboundAction_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____NeutronNetworksNorthboundAction.java

com.google.gson.Gson.toJson
com.google.gson.reflect.TypeToken.get
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public <T> T findNetworkById(final String networkId) throws NeutronRestApiException {
        String uri = NeutronNorthboundEnum.NETWORK_PARAM_URI.getUri();
        uri = MessageFormat.format(uri, networkId);

        String bodystring = executeGet(uri, Collections.<String, String> emptyMap());

        Type returnType = new TypeToken<NeutronNetworkWrapper>() {
        }.getType();

        T returnValue = (T) gsonNeutronNetwork.<mark>fromJson</mark>(bodystring, returnType);

        return returnValue;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_38.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static RetainLineImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RetainLineImpl dto = new RetainLineImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("lineCount")) {
        JsonElement lineCountIn = json.<mark>get</mark>("lineCount");
        int lineCountOut = lineCountIn.getAsInt();
        dto.setLineCount(lineCountOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dexter_____dexter_____DexterRestClient_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/dexter_____dexter_____DexterRestClient.java

com.google.gson.Gson.fromJson

	 */
	public EntityRelatedness relatedness(int entityId1, int entityId2,
			String rel) {

		String json = "";
		try {
			StringBuffer sb = new StringBuffer(server.toString()
					+ "/relatedness");
			sb.append("?e1=" + entityId1);
			sb.append("&e2=" + entityId2);
			sb.append("&rel=" + rel);
			sb.append("&wn=" + String.valueOf(wikinames));
			json = browser.fetchAsUTF8String(sb.toString()).toString();
		} catch (IOException e) {
			logger.error("cannot call the rest api {}", e.toString());
			return null;
		}
		EntityRelatedness relatedness = gson.<mark>fromJson</mark>(json,
				EntityRelatedness.class);
		return relatedness;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get a field feed with additional feed options.
     *
     * @param fieldId The field to include in the field (1-8).
     * @param options Optional parameters that control the format of the feed.
     * @return Feed.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Entry getLastChannelEntry(FeedParameters options) throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/feed/last.json";
        return gson.<mark>fromJson</mark>(thingRequest(url, options), Entry.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AzureAD_____azure-activedirectory-library-for-android_____DefaultTokenCacheStore_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AzureAD_____azure-activedirectory-library-for-android_____DefaultTokenCacheStore.java

com.google.gson.Gson.fromJson

/**
     * Unique users with tokens.
     *
     * @return unique users
     */    @Override
    public TokenCacheItem getItem(String key) {
        if (key == null) {
            throw new IllegalArgumentException("The key is null.");
        }

        if (mPrefs.contains(key)) {
            String json = mPrefs.getString(key);
            json = null != json ? json : "";
            String decrypted = decrypt(key, json);
            if (decrypted != null) {
                return mGson.<mark>fromJson</mark>(decrypted, TokenCacheItem.class);
            }
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_41.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static EmptyMessageImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      EmptyMessageImpl dto = new EmptyMessageImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>seatgeek_____android-PlacesAutocompleteTextView_____GsonPlacesApiJsonParser_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/seatgeek_____android-PlacesAutocompleteTextView_____GsonPlacesApiJsonParser.java

com.google.gson.stream.JsonReader.&ltinit&gt
com.google.gson.stream.JsonReader.beginArray
com.google.gson.stream.JsonReader.hasNext
com.google.gson.Gson.fromJson
com.google.gson.stream.JsonReader.endArray
com.google.gson.stream.JsonReader.close

    @Override
    public PlacesDetailsResponse detailsFromStream(final InputStream is) throws JsonParsingException {
        try {
            final BufferedReader reader = new BufferedReader(new InputStreamReader(is));
            return gson.<mark>fromJson</mark>(reader, PlacesDetailsResponse.class);
        } catch (Exception e) {
            throw new JsonParsingException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____InternalMessageDataRepository_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____InternalMessageDataRepository.java

com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.getType
com.google.gson.Gson.fromJson

    @Override
    public MessageEntity syncFetchByUuid(String uuid) {
        Type typeMessage = new TypeToken<Message>() {
        }.<mark>getType</mark>();
        String json = loadMessage();
        Message message = new Message();
        try {
            message = mGson.<mark>fromJson</mark>(json, typeMessage);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return mMessageDataMapper.map(message);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ctripcorp_____apollo_____NamespaceUnlockAspect_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ctripcorp_____apollo_____NamespaceUnlockAspect.java

com.google.gson.Gson.fromJson


  boolean isModified(Namespace namespace) {
    Release release = releaseService.findLatestActiveRelease(namespace);
    List<Item> items = itemService.findItemsWithoutOrdered(namespace.getId());

    if (release == null) {
      return hasNormalItems(items);
    }

    Map<String, String> releasedConfiguration = gson.<mark>fromJson</mark>(release.getConfigurations(), GsonType.CONFIG);
    Map<String, String> configurationFromItems = generateConfigurationFromItems(namespace, items);

    MapDifference<String, String> difference = Maps.difference(releasedConfiguration, configurationFromItems);

    return !difference.areEqual();

  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_17.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public LargePersonGroup[] listLargePersonGroups(String start, int top) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s?start=%s&top=%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, start, top);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);

        Type listType = new TypeToken<List<LargePersonGroup>>() {
        }.getType();
        List<LargePersonGroup> result = mGson.<mark>fromJson</mark>(json, listType);
        return result.toArray(new LargePersonGroup[result.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_21.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public Person[] listPersons(String personGroupId, String start, int top) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s/%s/%s?start=%s&top=%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId, PERSONS_QUERY, start, top);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        Type listType = new TypeToken<List<Person>>() {
        }.getType();
        List<Person> result = mGson.<mark>fromJson</mark>(json, listType);
        return result.toArray(new Person[result.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____PostApi_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____PostApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	
	public static boolean newRepost(long id, String status, int extra, String version) {
		WeiboParameters params = new WeiboParameters();
		params.put("status", status);
		params.put("id", id);
		params.put("is_comment", extra);
		params.put("annotations", parseAnnotation(version));

		try {
			JSONObject json = request(Constants.REPOST, params, HTTP_POST);
			MessageModel msg = <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), MessageModel.class);

			if (msg == null || msg.idstr == null || msg.idstr.trim().equals("")) {
				return false;
			}
		} catch (Exception e) {
			return false;
		}

		return true;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____TankerkoenigService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____TankerkoenigService.java

com.google.gson.Gson.fromJson


    private TankerkoenigListResult getTankerkoenigListResult(String apikey, String locationIDs, String userAgent) {
        String jsonData = "";
        try {
            jsonData = getResponseString(apikey, locationIDs, userAgent, false);
            logger.debug("json-String: {}", jsonData);
            return gson.<mark>fromJson</mark>(jsonData, TankerkoenigListResult.class);
        } catch (IOException e) {
            logger.debug("Error in getTankerkoenigListResult: ", e);
            // the return of an empty result will force the status-update OFFLINE!
            return TankerkoenigListResult.emptyResult();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____CopyEntity_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____CopyEntity.java

com.google.gson.reflect.TypeToken<java.util.List<org.apache.gobblin.data.management.copy.CopyEntity>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.apache.gobblin.data.management.copy.CopyEntity>>.getType
com.google.gson.Gson.fromJson

/**
   * Converts package name in serialized string to new name.
   * This is temporary change and should get removed after all the states are switched from old to new package name.
   * @param serialized serialized string possibly having old package names
   * @return
   */   */
  public static CopyEntity deserialize(String serialized) {
    return GSON.<mark>fromJson</mark>(getSerializedWithNewPackage(serialized), CopyEntity.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeeoBrainApi_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeeoBrainApi.java

com.google.gson.Gson.fromJson

/**
     * Register our API with the brain's forward actions.
     *
     * @param url the non-null URL to register to
     * @throws IOException Signals that an I/O exception has occurred.
     */     */
    public String[] getActiveScenarios() throws IOException {
        final String url = urlBuilder.append(NeeoConstants.GET_ACTIVESCENARIOS).toString();

        final HttpRequest rqst = request.get();
        final HttpResponse resp = rqst.sendGetCommand(url);
        if (resp.getHttpCode() != HttpStatus.OK_200) {
            throw resp.createException();
        }

        return gson.<mark>fromJson</mark>(resp.getContent(), String[].class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_31.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.FaceListMetadata>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.FaceListMetadata>>.getType
com.google.gson.Gson.fromJson

    @Override
    public FaceList getFaceList(String faceListId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s", mServiceHost, FACE_LISTS_QUERY, faceListId);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, FaceList.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MovingBlocks_____Terasology_____Config_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MovingBlocks_____Terasology_____Config.java

com.google.gson.Gson.fromJson

/**
     * @param generatorUri the generator Uri
     * @param configs      the new config params for the world generator
     */
    public void load() {
        JsonObject jsonConfig = loadDefaultToJson();
        Optional<JsonObject> defaultsConfig = loadFileToJson(getOverrideDefaultConfigFile());
        if (defaultsConfig.isPresent()) {
            merge(jsonConfig, defaultsConfig.get());
        }
        Optional<JsonObject> userConfig = loadFileToJson(getConfigFile());
        if (userConfig.isPresent()) {
            merge(jsonConfig, userConfig.get());
        }

        config = createGson().<mark>fromJson</mark>(jsonConfig, RootConfig.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_25.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public CreatePersonResult createPersonInLargePersonGroup(String largePersonGroupId, String name, String userData) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s/%s/%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId, PERSONS_QUERY);
        params.put("name", name);
        if (userData != null) {
            params.put("userData", userData);
        }

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, CreatePersonResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>RPTools_____maptool_____RESTfulFunctions_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/RPTools_____maptool_____RESTfulFunctions.java

com.google.gson.Gson.fromJson


  private Map<String, List<String>> getHeaderMap(List<Object> parameters, int headerIndex) {
    // If the parameters only have enough room for either header or full response
    // and the last parameter is a boolean then headers were not passed in.
    // of if parameter size is not large enough to hold either value...
    if (headerIndex >= parameters.size()
        || (headerIndex == parameters.size() - 1 && isLastParamBoolean(parameters)))
      return new HashMap<String, List<String>>();
    else
      return gson.<mark>fromJson</mark>(
          (String) parameters.get(headerIndex),
          new TypeToken<Map<String, List<String>>>() {}.getType());
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>syncthing_____syncthing-android_____RestApi_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/syncthing_____syncthing-android_____RestApi.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Normalizes a given device ID.
     */     */
    public void getFolderStatus(final String folderId, final OnResultListener2<String, FolderStatus> listener) {
        new GetRequest(mContext, mUrl, GetRequest.URI_STATUS, mApiKey,
                    ImmutableMap.of("folder", folderId), result -> {
            FolderStatus m = <mark>new Gson</mark>().<mark>fromJson</mark>(result, FolderStatus.class);
            mCachedFolderStatuses.put(folderId, m);
            listener.onResult(folderId, m);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.PersonGroup>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.PersonGroup>>.getType
com.google.gson.Gson.fromJson

    @Override
    public PersonGroup getPersonGroup(String personGroupId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, PersonGroup.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>google_____mr4c_____JsonConfigSerializer_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/google_____mr4c_____JsonConfigSerializer.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.JsonElement.isJsonObject
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.net.URI>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.net.URI>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.isJsonArray
com.google.gson.reflect.TypeToken<java.util.List<java.net.URI>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.net.URI>>.getType
com.google.gson.Gson.fromJson


	public AlgoTestConfig deserializeAlgoTestConfig(Reader reader) throws IOException {
		Gson gson = buildGson();
		return gson.<mark>fromJson</mark>(reader, AlgoTestConfig.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>sromku_____android-simple-facebook_____JsonUtils_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/sromku_____android-simple-facebook_____JsonUtils.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.JsonArray.&ltinit&gt
com.google.gson.JsonArray.add
com.google.gson.reflect.TypeToken<com.sromku.simple.fb.utils.T>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.sromku.simple.fb.utils.T>.getType
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

     */
    public static <T> T <mark>fromJson</mark>(byte[] json, Class<T> cls) {
        try {
            String decoded = new String(json, "UTF-8");
            return <mark>fromJson</mark>(decoded, cls);
        } catch (Exception e) {
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____InternalMessageDataRepository_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____InternalMessageDataRepository.java

com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.getType
com.google.gson.Gson.fromJson

    @Override
    public List<MessageEntity> syncFetchPending() {
        Type messageList = new TypeToken<List<Message>>() {
        }.<mark>getType</mark>();
        String json = loadPendingMessages();
        List<Message> messageEntityList = null;
        try {
            messageEntityList = mGson.<mark>fromJson</mark>(json, messageList);
        } catch (Exception e) {
            e.printStackTrace();
        }
        return mMessageDataMapper.map(messageEntityList);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____CenterHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____CenterHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static ArrayList<CenterDomain> paginatedListCenters(final RequestSpecification requestSpec,
            final ResponseSpecification responseSpec) {
        final String GET_CENTER = CENTERS_URL + "?paged=true&limit=-1&" + Utils.TENANT_IDENTIFIER;
        System.out.println("------------------------ RETRIEVING CENTERS-------------------------");
        final String jsonData = <mark>new Gson</mark>().<mark>toJson</mark>(Utils.performServerGet(requestSpec, responseSpec, GET_CENTER, "pageItems"));
        return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonData, new TypeToken<ArrayList<CenterDomain>>() {}.getType());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestClient_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestClient.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


    private String executePut(String serviceEndpoint, String postBody) throws IOException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = doPut(httpClient, getBaseURL() + serviceEndpoint, postBody);
            String result = getHttpResponseString(response);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            return gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage();
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_27.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public Person[] listPersonsInLargePersonGroup(String largePersonGroupId, String start, int top) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s/%s/%s?start=%s&top=%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId, PERSONS_QUERY, start, top);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        Type listType = new TypeToken<List<Person>>() {
        }.getType();
        List<Person> result = mGson.<mark>fromJson</mark>(json, listType);
        return result.toArray(new Person[result.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestClient.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


    private String executePost(String serviceEndpoint, String postBody) throws IOException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = doPost(httpClient, getBaseURL() + serviceEndpoint, postBody);
            String result = getHttpResponseString(response);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            return gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage();

        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pahimar_____Equivalent-Exchange-3_____SerializationHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pahimar_____Equivalent-Exchange-3_____SerializationHelper.java

com.google.gson.Gson.fromJson

/**
     * TODO Finish JavaDoc
     *
     * @param valueMap
     * @param file
     */     */
    public static Set<WrappedStack> readSetFromFile(File file) {

        Set<WrappedStack> wrappedStackSet = new TreeSet<>();

        try {
            wrappedStackSet = GSON.<mark>fromJson</mark>(readJsonFile(file), WRAPPED_STACK_SET_TYPE);
        }
        catch (JsonParseException exception) {
            LogHelper.error("Unable to parse contents from file '{}'", file.getAbsoluteFile());
        }
        catch (FileNotFoundException e) {
            LogHelper.warn("Unable to find file '{}'", file.getAbsoluteFile());
        }

        return wrappedStackSet;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_35.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.LargeFaceList>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.LargeFaceList>>.getType
com.google.gson.Gson.fromJson

    @Override
    public LargeFaceList getLargeFaceList(String largeFaceListId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s", mServiceHost, LARGE_FACE_LISTS_QUERY, largeFaceListId);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, LargeFaceList.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____FundsResourceHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____FundsResourceHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static List<FundsHelper> retrieveAllFunds(final RequestSpecification requestSpec,
                                                                 final ResponseSpecification responseSpec) {
        final String URL = FUNDS_URL + "?" + Utils.TENANT_IDENTIFIER;
        List<HashMap<String, Object>> list = Utils.performServerGet(requestSpec, responseSpec, URL, "");
        final String jsonData = <mark>new Gson</mark>().<mark>toJson</mark>(list);
        return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonData, new TypeToken<List<FundsHelper>>(){}.getType());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get the last entry in a field feed with additional feed options.     
     *
     * @param fieldId The field to return (0-8).
     * @param options Supported options: offset, status, and location.
     * @return Last entry for the specified field.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Feed getFieldFeed(Integer fieldId, FeedParameters options) throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/field/" + fieldId + ".json";
        return gson.<mark>fromJson</mark>(thingRequest(url, options), Feed.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____CenterHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____CenterHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static CenterDomain retrieveByID(int id, final RequestSpecification requestSpec, final ResponseSpecification responseSpec) {
        final String GET_CENTER_BY_ID_URL = CENTERS_URL + "/" + id + "?associations=groupMembers&" + Utils.TENANT_IDENTIFIER;
        System.out.println("------------------------ RETRIEVING CENTER AT " + id + "-------------------------");
        final String jsonData = <mark>new Gson</mark>().<mark>toJson</mark>(Utils.performServerGet(requestSpec, responseSpec, GET_CENTER_BY_ID_URL, ""));
        return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonData, new TypeToken<CenterDomain>() {}.getType());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_99.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static KeepAliveImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      KeepAliveImpl dto = new KeepAliveImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____smarthome_____OAuthStoreHandlerImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____smarthome_____OAuthStoreHandlerImpl.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


        public Set<String> getAllHandlesFromIndex() {
            Set<String> handlesFromStoreageIndex = new HashSet<>();
            try {
                String allHandlesStr = get(STORE_KEY_INDEX_OF_HANDLES);
                logger.debug("All available handles: {}", allHandlesStr);
                if (allHandlesStr == null) {
                    return handlesFromStoreageIndex;
                }
                return gson.<mark>fromJson</mark>(allHandlesStr, HashSet.class);
            } catch (RuntimeException storeNotAvailable) {
                return handlesFromStoreageIndex; // empty
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____Channel_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____Channel.java

com.google.gson.Gson.fromJson

/**
     * Get last entry in this channel with additional feed options. This is a
     * faster alternative to getting a Channel Feed and then calling
     * {@link Feed#getChannelLastEntry()}
     *
     * @param options Supported options: offset, status, and location.
     * @return Entry.
     * @throws UnirestException The request cannot be made.
     * @throws ThingSpeakException The request is invalid.
     */     */
    public Feed getChannelFeed(FeedParameters options) throws UnirestException, ThingSpeakException {
        String url = APIURL + "/channels/" + this.channelId + "/feed.json";
        return gson.<mark>fromJson</mark>(thingRequest(url, options), Feed.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____Request_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____Request.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    public Command[] getCommands() {
        if (_cmds == null) {
            try {
                StringReader reader = new StringReader(_content);
                JsonReader jsonReader = new JsonReader(reader);
                jsonReader.setLenient(true);
                _cmds = s_gson.<mark>fromJson</mark>(jsonReader, (Type)Command[].class);
            } catch (JsonParseException e) {
                _cmds = new Command[] { new BadCommand() };
            } catch (RuntimeException e) {
                s_logger.error("Caught problem with " + _content, e);
                throw e;
            }
        }
        return _cmds;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_102.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static LoadTemplateResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LoadTemplateResponseImpl dto = new LoadTemplateResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("runTarget")) {
        JsonElement runTargetIn = json.<mark>get</mark>("runTarget");
        RunTargetImpl runTargetOut = RunTargetImpl.fromJsonElement(runTargetIn);
        dto.setRunTar<mark>get</mark>(runTargetOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____ZuoraClientImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____ZuoraClientImpl.java

com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsJsonObject


  public static String getJobId(CommandOutput<?, ?> postResponse)
      throws DataRecordException {
    Iterator<String> itr = (Iterator<String>) postResponse.getResults().values().iterator();
    if (!itr.hasNext()) {
      throw new DataRecordException("Failed to get data from RightNowCloud; REST postResponse has no output");
    }

    String stringResponse = itr.next();
    log.info("Zuora post response: " + stringResponse);
    JsonObject jsonObject = GSON.<mark>fromJson</mark>(stringResponse, JsonObject.class).<mark>getAsJsonObject</mark>();
    return jsonObject.<mark>get</mark>("id").getAsString();
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codice_____ddf_____ConfigurationApplication_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/codice_____ddf_____ConfigurationApplication.java

com.google.gson.Gson.fromJson


  public void setDefaultLayout(String defaultLayout) {
    if (StringUtils.isEmpty(defaultLayout)) {
      this.defaultLayout = Collections.emptyList();
    } else {
      try {
        Object o = GSON.<mark>fromJson</mark>(defaultLayout, List.class);
        if (o != null) {
          this.defaultLayout = (List) o;
        } else {
          this.defaultLayout = Collections.emptyList();
          LOGGER.warn("Could not parse default layout config as JSON, {}", defaultLayout);
        }
      } catch (ClassCastException e) {
        this.defaultLayout = Collections.emptyList();
        LOGGER.error("Unable to parse default layout config {} into map.", defaultLayout, e);
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____BlueprintImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____BlueprintImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
   * Create host group entities and add to the parent blueprint entity.
   */   */
  private Map<String, Set<HashMap<String, String>>> parseSetting(Collection<BlueprintSettingEntity> blueprintSetting) {

    Map<String, Set<HashMap<String, String>>> properties = new HashMap<>();
    Gson gson = <mark>new Gson</mark>();
    for (BlueprintSettingEntity setting : blueprintSetting) {
      String settingName = setting.getSettingName();
      Set<HashMap<String, String>> settingProperties = gson.<Set<HashMap<String, String>>><mark>fromJson</mark>(
              setting.getSettingData(), Set.class);
      properties.put(settingName, settingProperties);
    }
    return properties;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_20.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.Person>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.Person>>.getType
com.google.gson.Gson.fromJson

    @Override
    public Person getPerson(String personGroupId, UUID personId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s/%s/%s/%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId, PERSONS_QUERY, personId.toString());
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, Person.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____smarthome_____OpenWeatherMapConnection_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____smarthome_____OpenWeatherMapConnection.java

com.google.gson.Gson.fromJson

/**
     * Downloads the icon for the given icon id (see https://openweathermap.org/weather-conditions).
     *
     * @param iconId the id of the icon
     * @return the weather icon as {@link RawType}
     */     */
    public synchronized @Nullable OpenWeatherMapJsonUVIndexData getUVIndexData(@Nullable PointType location)
            throws JsonSyntaxException, OpenWeatherMapCommunicationException, OpenWeatherMapConfigurationException {
        return gson.<mark>fromJson</mark>(
                getResponseFromCache(
                        buildURL(UVINDEX_URL, getRequestParams(handler.getOpenWeatherMapAPIConfig(), location))),
                OpenWeatherMapJsonUVIndexData.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____BlueprintImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____BlueprintImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
   * Process cluster scoped configuration attributes contained in blueprint.
   *
   * @return cluster scoped property attributes contained within in blueprint
   */   */
  private Map<String, Map<String, String>> parseConfigurations(Collection<BlueprintConfigEntity> configs) {

    Map<String, Map<String, String>> properties = new HashMap<>();
    Gson gson = <mark>new Gson</mark>();
    for (BlueprintConfiguration config : configs) {
      String type = config.getType();
      Map<String, String> typeProperties = gson.<Map<String, String>><mark>fromJson</mark>(
              config.getConfigData(), Map.class);
      properties.put(type, typeProperties);
    }
    return properties;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hypertrack_____hypertrack-live-android_____SharedPreferenceManager_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/hypertrack_____hypertrack-live-android_____SharedPreferenceManager.java

com.google.gson.reflect.TypeToken<com.hypertrack.lib.models.Action>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.hypertrack.lib.models.Action>.getType
com.google.gson.Gson.fromJson


    public static Action getAction(Context context) {
        String actionJson = getSharedPreferences(context).getString(CURRENT_ACTION, null);
        if (actionJson == null)
            return null;
        try {
            Gson gson = getGson();
            Type type = new TypeToken<Action>() {
            }.<mark>getType</mark>();

            return gson.<mark>fromJson</mark>(actionJson, type);
        } catch (Exception e) {
            e.printStackTrace();
            CrashlyticsWrapper.log(e);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____fineract_____CenterHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____fineract_____CenterHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static ArrayList<CenterDomain> paginatedListCenters(final RequestSpecification requestSpec,
            final ResponseSpecification responseSpec) {
        final String GET_CENTER = CENTERS_URL + "?paged=true&limit=-1&" + Utils.TENANT_IDENTIFIER;
        System.out.println("------------------------ RETRIEVING CENTERS-------------------------");
        Object get = Utils.performServerGet(requestSpec, responseSpec, GET_CENTER, "pageItems");
        final String jsonData = <mark>new Gson</mark>().<mark>toJson</mark>(get);
        return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonData, new TypeToken<ArrayList<CenterDomain>>() {}.getType());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____NotebookServer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____NotebookServer.java

com.google.gson.reflect.TypeToken<java.util.HashSet<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.HashSet<java.lang.String>>.getType
com.google.gson.Gson.fromJson


  private void runAllParagraphs(NotebookSocket conn,
                                Message fromMessage) throws IOException {
    final String noteId = (String) fromMessage.get("noteId");
    List<Map<String, Object>> paragraphs =
        gson.<mark>fromJson</mark>(String.valueOf(fromMessage.data.get("paragraphs")),
            new TypeToken<List<Map<String, Object>>>() {
            }.<mark>getType</mark>());

    getNotebookService().runAllParagraphs(noteId, paragraphs, getServiceContext(fromMessage),
        new WebSocketServiceCallback<Paragraph>(conn));
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____fineract_____CenterHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____fineract_____CenterHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static CenterDomain retrieveByID(int id, final RequestSpecification requestSpec, final ResponseSpecification responseSpec) {
        final String GET_CENTER_BY_ID_URL = CENTERS_URL + "/" + id + "?associations=groupMembers&" + Utils.TENANT_IDENTIFIER;
        System.out.println("------------------------ RETRIEVING CENTER AT " + id + "-------------------------");
        Object get = Utils.performServerGet(requestSpec, responseSpec, GET_CENTER_BY_ID_URL, "");
		final String jsonData = <mark>new Gson</mark>().<mark>toJson</mark>(get);
        return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonData, new TypeToken<CenterDomain>() {}.getType());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_16.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.LargePersonGroup>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.LargePersonGroup>>.getType
com.google.gson.Gson.fromJson

    @Override
    public LargePersonGroup getLargePersonGroup(String largePersonGroupId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s/%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId);
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, LargePersonGroup.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____DrupalRestHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____DrupalRestHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<UNRESOLVED.MarketPlacePlugin2>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<UNRESOLVED.MarketPlacePlugin2>>.getType
com.google.gson.Gson.fromJson


    public static ArrayList<MarketPlacePluginCategory> retrieveCategories() {
        ArrayList<MarketPlacePluginCategory> categoryList = new ArrayList<MarketPlacePluginCategory>();
        String jsonData = JavaUploader.postTaxonomyGetTree("5");
        Gson gson = <mark>new Gson</mark>();
        Type collectionType = new TypeToken<ArrayList<MarketPlacePluginCategory>>() {
        }.<mark>getType</mark>();
        categoryList = gson.<mark>fromJson</mark>(jsonData, collectionType);
        return categoryList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zstackio_____zstack_____CloudBusGson_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/zstackio_____zstack_____CloudBusGson.java

com.google.gson.Gson.fromJson

        @Override
        public Message deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {
            JsonObject jObj = jsonElement.getAsJsonObject();
            Map.Entry<String, JsonElement> entry = jObj.entrySet().iterator().next();
            String className = entry.getKey();
            Class<?> clazz;
            try {
                clazz = Class.forName(className);
            } catch (ClassNotFoundException e) {
                throw new JsonParseException(String.format("Unable to deserialize class[%s]", className), e);
            }
            return (Message) gson.<mark>fromJson</mark>(entry.getValue(), clazz);
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____NeutronPortsNorthboundAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____NeutronPortsNorthboundAction.java

com.google.gson.reflect.TypeToken<org.apache.cloudstack.network.opendaylight.api.model.NeutronPortWrapper>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.apache.cloudstack.network.opendaylight.api.model.NeutronPortWrapper>.getType
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public <T> T listAllPorts() throws NeutronRestApiException {
        String uri = NeutronNorthboundEnum.PORTS_URI.getUri();
        String bodystring = executeGet(uri, Collections.<String, String> emptyMap());

        Type returnType = new TypeToken<NeutronPortsList<NeutronPortWrapper>>() {
        }.<mark>getType</mark>();

        T returnValue = (T) gsonNeutronPort.<mark>fromJson</mark>(bodystring, returnType);

        return returnValue;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dexter_____dexter_____DexterRestClient_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/dexter_____dexter_____DexterRestClient.java

com.google.gson.Gson.fromJson

/**
	 * Given an entity, returns the entities linked by given entity
	 * 
	 * @param id
	 *            the Wiki-id of the entity
	 * @returns the entities linked by the given entity
	 */	 */
	public ArticleDescription getSourceEntities(int entityId) {

		String json = "";
		try {
			StringBuffer sb = new StringBuffer(server.toString()
					+ "/get-source-entities");
			sb.append("?id=" + entityId);
			sb.append("&wn=" + String.valueOf(wikinames));
			json = browser.fetchAsUTF8String(sb.toString()).toString();
		} catch (IOException e) {
			logger.error("cannot call the rest api {}", e.toString());
			return null;
		}
		ArticleDescription ad = gson.<mark>fromJson</mark>(json, ArticleDescription.class);
		return ad;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GeminiExchangeAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GeminiExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getLatestMarketPrice(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {

            final ExchangeHttpResponse response = sendPublicRequestToExchange("pubticker/" + marketId);
            LOG.debug(() -> "Latest Market Price response: " + response);

            final GeminiTicker ticker = gson.<mark>fromJson</mark>(response.getPayload(), GeminiTicker.class);
            return ticker.last;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____AccountDao_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____AccountDao.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.getMessage


    public static UserBean getUserBean(String id) {

        String sql = "select * from " + AccountTable.ACCOUNT_TABLE + " where " + AccountTable.UID + " = " + id;
        Cursor c = getRsd().rawQuery(sql, null);
        UserBean value = null;
        if (c.moveToNext()) {
            Gson gson = <mark>new Gson</mark>();
            String json = c.getString(c.getColumnIndex(AccountTable.INFOJSON));
            try {
                value = gson.<mark>fromJson</mark>(json, UserBean.class);
            } catch (JsonSyntaxException e) {
                AppLoggerUtils.e(e.<mark>getMessage</mark>());
            }
            return value;
        }
        return null;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____ZeppelinHubRepo_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____ZeppelinHubRepo.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

  @Override
  public Map<String, NoteInfo> list(AuthenticationInfo subject) throws IOException {
    if (!isSubjectValid(subject)) {
      return Collections.emptyMap();
    }
    String token = getUserToken(subject.getUser());
    String response = restApiClient.get(token, StringUtils.EMPTY);
    List<NoteInfo> notes = GSON.<mark>fromJson</mark>(response, new TypeToken<List<NoteInfo>>() {}.getType());
    if (notes == null) {
      return Collections.emptyMap();
    }
    LOG.info("ZeppelinHub REST API listing notes ");
    Map<String, NoteInfo> notesInfo = new HashMap<>();
    for (NoteInfo noteInfo : notes) {
      notesInfo.put(noteInfo.getId(), noteInfo);
    }
    return notesInfo;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeeoBrainApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeeoBrainApi.java

com.google.gson.Gson.fromJson

/**
     * Execute the specified recipe in the specified room
     *
     * @param roomKey the non-empty room key
     * @param recipeKey the non-empty recipe key
     * @return the execute result
     * @throws IOException Signals that an I/O exception has occurred.
     */     */
    public NeeoBrain getBrain() throws IOException {
        final String url = urlBuilder.append(NeeoConstants.PROJECTS_HOME).toString();

        final HttpRequest rqst = request.get();
        final HttpResponse resp = rqst.sendGetCommand(url);
        if (resp.getHttpCode() != HttpStatus.OK_200) {
            throw resp.createException();
        }

        return gson.<mark>fromJson</mark>(resp.getContent(), NeeoBrain.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____BlueprintResourceProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____BlueprintResourceProvider.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson

   */
  public static List<Map<String, Object>> populateSettingList(
          Collection<? extends BlueprintSettingEntity> settings) throws NoSuchResourceException {
    List<Map<String, Object>> listSettings = new ArrayList<>();

    if (settings != null) {
      for (BlueprintSettingEntity setting : settings) {
        List<Map<String, String>> propertiesList = jsonSerializer.<List<Map<String, String>>><mark>fromJson</mark>(
                setting.getSettingData(), List.class);
        Map<String, Object> settingMap = new HashMap<>();
        settingMap.put(setting.getSettingName(), propertiesList);
        listSettings.add(settingMap);
      }
    }

    return listSettings;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____InboundRequestHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____InboundRequestHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    void _on_request_perms(JsonObject obj) {
        Flog.log("got perms receive %s", obj);
        RequestPerms requestPerms = <mark>new Gson</mark>().<mark>fromJson</mark>(obj, (Type) RequestPerms.class);
        final int userId = requestPerms.user_id;
        final FlooUser u = state.getUser(userId);
        if (u == null) {
            Flog.info("Unknown user for id %s. Not handling request_perms event.", userId);
            return;
        }
        context.dialogPermsRequest(u.username, new RunLater<String>() {
            @Override
            public void run(String action) {
                outbound.setPerms(action, userId, new String[]{"edit_room"});
            }
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getLatestMarketPrice(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendPublicRequestToExchange("pubticker/" + marketId);
            LOG.debug(() -> "Latest Market Price response: " + response);

            final BitfinexTicker ticker = gson.<mark>fromJson</mark>(response.getPayload(), BitfinexTicker.class);
            return ticker.last_price;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_28.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CubePingImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CubePingImpl dto = new CubePingImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("fullGraphFreshness")) {
        JsonElement fullGraphFreshnessIn = json.<mark>get</mark>("fullGraphFreshness");
        java.lang.String fullGraphFreshnessOut = gson.<mark>fromJson</mark>(fullGraphFreshnessIn, java.lang.String.class);
        dto.setFullGraphFreshness(fullGraphFreshnessOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>IQSS_____dataverse_____FieldDTO_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/IQSS_____dataverse_____FieldDTO.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.iterator
com.google.gson.JsonObject.entrySet
com.google.gson.Gson.fromJson

    
    public Set<FieldDTO> getSingleCompound() {
        Gson gson = <mark>new Gson</mark>();
        JsonObject elem = (JsonObject) value;
        Set<FieldDTO> elemFields = new HashSet<FieldDTO>();

        Set<Map.Entry<String, JsonElement>> set = elem.<mark>entrySet</mark>();

        Iterator<Map.Entry<String, JsonElement>> setIter = set.<mark>iterator</mark>();
        while (setIter.hasNext()) {
            Map.Entry<String, JsonElement> entry = setIter.next();
            FieldDTO field = gson.<mark>fromJson</mark>(entry.getValue(), FieldDTO.class);
            elemFields.add(field);
        }
        return elemFields;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____incubator-brooklyn_____BrooklynNodeImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____incubator-brooklyn_____BrooklynNodeImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

        @SuppressWarnings("unchecked")
        public static Map<String,Object> asMap(ConfigBag parameters, ConfigKey<?> key) {
            Object v = parameters.getStringKey(key.getName());
            if (v==null || (v instanceof String && Strings.isBlank((String)v)))
                return null;
            if (v instanceof Map) 
                return (Map<String, Object>) v;
            
            if (v instanceof String) {
                // TODO ideally, parse YAML 
                return <mark>new Gson</mark>().<mark>fromJson</mark>((String)v, Map.class);
            }
            throw new IllegalArgumentException("Invalid "+JavaClassNames.simpleClassName(v)+" value for "+key+": "+v);
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____NeutronNetworksNorthboundAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____NeutronNetworksNorthboundAction.java

com.google.gson.reflect.TypeToken<org.apache.cloudstack.network.opendaylight.api.model.NeutronNetworkWrapper>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.apache.cloudstack.network.opendaylight.api.model.NeutronNetworkWrapper>.getType
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public <T> T listAllNetworks() throws NeutronRestApiException {
        String uri = NeutronNorthboundEnum.NETWORKS_URI.getUri();
        String bodystring = executeGet(uri, Collections.<String, String> emptyMap());

        Type returnType = new TypeToken<NeutronNetworksList<NeutronNetwork>>() {
        }.<mark>getType</mark>();

        T returnValue = (T) gsonNeutronNetwork.<mark>fromJson</mark>(bodystring, returnType);

        return returnValue;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_26.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.Person>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.Person>>.getType
com.google.gson.Gson.fromJson

    @Override
    public Person getPersonInLargePersonGroup(String largePersonGroupId, UUID personId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s/%s/%s/%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId, PERSONS_QUERY, personId.toString());
        String json = (String)mRestCall.request(uri, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, Person.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pusher_____pusher-websocket-java_____WebSocketConnection_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pusher_____pusher-websocket-java_____WebSocketConnection.java

com.google.gson.Gson.fromJson

    @SuppressWarnings("rawtypes")
    private void handleError(final String wholeMessage) {
        final Map json = GSON.<mark>fromJson</mark>(wholeMessage, Map.class);
        final Object data = json.get("data");

        Map dataMap;
        if (data instanceof String) {
            dataMap = GSON.<mark>fromJson</mark>((String)data, Map.class);
        }
        else {
            dataMap = (Map)data;
        }

        final String message = (String)dataMap.get("message");

        final Object codeObject = dataMap.get("code");
        String code = null;
        if (codeObject != null) {
            code = String.valueOf(Math.round((Double)codeObject));
        }

        sendErrorToAllListeners(message, code, null);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getLatestMarketPrice(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendPublicRequestToExchange("ticker/" + marketId);
            LOG.debug(() -> "Latest Market Price response: " + response);

            final BitstampTicker bitstampTicker = gson.<mark>fromJson</mark>(response.getPayload(), BitstampTicker.class);
            return bitstampTicker.last;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>hypertrack_____hypertrack-live-android_____SharedPreferenceManager_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/hypertrack_____hypertrack-live-android_____SharedPreferenceManager.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<com.hypertrack.lib.models.User>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.hypertrack.lib.models.User>.getType
com.google.gson.Gson.fromJson


    public static Action getTrackingAction(Context context) {
        String actionJson = getSharedPreferences(context).getString(TRACKING_ACTION, null);
        if (actionJson == null)
            return null;
        try {
            Gson gson = getGson();
            Type type = new TypeToken<Action>() {
            }.<mark>getType</mark>();

            return gson.<mark>fromJson</mark>(actionJson, type);
        } catch (Exception e) {
            e.printStackTrace();
            CrashlyticsWrapper.log(e);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____API_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____API.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static HTTPWorkspaceRequest getWorkspace(final FlooUrl f, IContext context) {

        HttpMethod method;
        try {
            method = getWorkspaceMethod(f, context);
        } catch (IOException e) {
            return null;
        }
        String responseBodyAsString;
        try {
            responseBodyAsString = method.getResponseBodyAsString();
        } catch (IOException e) {
            return null;
        }
        // Redirects aren't followed, so die here
        if (method.getStatusCode() >= 300) {
            PersistentJson.removeWorkspace(f);
            return null;
        }
        return <mark>new Gson</mark>().<mark>fromJson</mark>(responseBodyAsString, (Type) HTTPWorkspaceRequest.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dexter_____dexter_____DexterRestClient_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/dexter_____dexter_____DexterRestClient.java

com.google.gson.Gson.fromJson

/**
	 * Given the Wiki-id entity label (the title, or a redirect), the wiki-id of
	 * the entity
	 * 
	 * @param title
	 *            the label or a redirect title of the entity.
	 * @returns the wiki-id of the entity
	 */	 */
	public ArticleDescription getTargetEntities(int entityId) {

		String json = "";
		try {
			StringBuffer sb = new StringBuffer(server.toString()
					+ "/get-target-entities");
			sb.append("?id=" + entityId);
			sb.append("&wn=" + String.valueOf(wikinames));
			json = browser.fetchAsUTF8String(sb.toString()).toString();
		} catch (IOException e) {
			logger.error("cannot call the rest api {}", e.toString());
			return null;
		}
		ArticleDescription ad = gson.<mark>fromJson</mark>(json, ArticleDescription.class);
		return ad;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>erikcaffrey_____Clean-Architecture-Android_____TeamEntityJsonMapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/erikcaffrey_____Clean-Architecture-Android_____TeamEntityJsonMapper.java

com.google.gson.reflect.TypeToken<java.util.List<com.example.jhordan.euro_cleanarchitecture.data.entity.TeamEntity>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.example.jhordan.euro_cleanarchitecture.data.entity.TeamEntity>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.printStackTrace


  public TeamEntity transformTeamEntity(String teamJsonResponse) throws JsonSyntaxException {
    TeamEntity teamEntity;
    try {
      Type typeTeamEntity = new TypeToken<TeamEntity>() {
      }.<mark>getType</mark>();
      teamEntity = this.gson.<mark>fromJson</mark>(teamJsonResponse, typeTeamEntity);
      return teamEntity;
    } catch (JsonSyntaxException exception) {
      exception.<mark>printStackTrace</mark>();
      throw exception;
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_40.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.FaceMetadata>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.FaceMetadata>>.getType
com.google.gson.Gson.fromJson

    @Override
    public FaceMetadata getFaceFromLargeFaceList(String largeFaceListId, UUID persistedFaceId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String path = String.format("%s/%s/%s/%s/%s", mServiceHost, LARGE_FACE_LISTS_QUERY, largeFaceListId, PERSISTED_FACES_QUERY, persistedFaceId);
        String json = (String)mRestCall.request(path, RequestMethod.GET, params, null);
        return mGson.<mark>fromJson</mark>(json, FaceMetadata.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitreid-connect_____OpenID-Connect-Java-Spring-Server_____JsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mitreid-connect_____OpenID-Connect-Java-Spring-Server_____JsonUtils.java

com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get

/**
	 * Gets the value of the given member as a list of JWS Algorithms, null if it doesn't exist
	 */	 */
	public static Set<String> getAsStringSet(JsonObject o, String member) throws JsonSyntaxException {
		if (o.<mark>has</mark>(member)) {
			if (o.<mark>get</mark>(member).isJsonArray()) {
				return gson.<mark>fromJson</mark>(o.<mark>get</mark>(member), new TypeToken<Set<String>>(){}.<mark>getType</mark>());
			} else {
				return Sets.newHashSet(o.<mark>get</mark>(member).getAsString());
			}
		} else {
			return null;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>googlesamples_____io2014-codelabs_____DeviceSubscription_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/googlesamples_____io2014-codelabs_____DeviceSubscription.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson

/**
   * Deletes an entity corresponding to the provided deviceId.
   *
   * @param deviceId the device id for which all subscription information are to be deleted
   */   */
  public Set<String> getSubscriptionIds(String deviceId) {
    if (StringUtility.isNullOrEmpty(deviceId)) {
      return new HashSet<String>();
    }
    Entity deviceSubscription = get(deviceId);

    if (deviceSubscription == null) {
      return new HashSet<String>();
    }

    String subscriptionString = (String) deviceSubscription.getProperty(PROPERTY_SUBSCRIPTION_IDS);
    if (StringUtility.isNullOrEmpty(subscriptionString)) {
      return new HashSet<String>();
    }

    return this.gson.<mark>fromJson</mark>(subscriptionString, setType);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codice_____ddf_____ConfigurationApplication_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/codice_____ddf_____ConfigurationApplication.java

com.google.gson.Gson.fromJson


  public void setImageryProviders(String imageryProviders) {
    if (StringUtils.isEmpty(imageryProviders)) {
      this.imageryProviders = Collections.emptyList();
    } else {
      try {
        Object o = GSON.<mark>fromJson</mark>(imageryProviders, List.class);
        if (o != null) {
          this.imageryProviders = (List) o;
          setProxiesForImagery(this.imageryProviders);
        } else {
          this.imageryProviders = Collections.emptyList();
          LOGGER.warn("Could not parse imagery providers as JSON, {}", imageryProviders);
        }
      } catch (ClassCastException e) {
        this.imageryProviders = Collections.emptyList();
        LOGGER.error("Unable to parse terrain provider {} into map.", imageryProviders, e);
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_23.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CreateAppEngineAppStatusImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CreateAppEngineAppStatusImpl dto = new CreateAppEngineAppStatusImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("status")) {
        JsonElement statusIn = json.<mark>get</mark>("status");
        com.google.collide.dto.CreateAppEngineAppStatus.Status statusOut = gson.<mark>fromJson</mark>(statusIn, com.google.collide.dto.CreateAppEngineAppStatus.Status.class);
        dto.setStatus(statusOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wso2_____msf4j_____PetService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wso2_____msf4j_____PetService.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Timed
    public Response deletePet(@PathParam("id") String id) {
        String petKey = PetConstants.PET_ID_KEY_PREFIX + id;
        try (Jedis jedis = pool.getResource()) {
            String petValue = jedis.get(petKey);
            if (petValue == null || petValue.isEmpty()) {
                return Response.status(Response.Status.NOT_FOUND).build();
            }
            Pet pet = <mark>new Gson</mark>().<mark>fromJson</mark>(petValue, Pet.class);
            String categoryKey = PetConstants.CATEGORY_KEY_PREFIX + pet.getCategory().getName();
            jedis.srem(categoryKey, pet.getId());
            jedis.del(petKey);
            log.info("Deleted pet");
            return Response.status(Response.Status.OK).entity("OK").build();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ctripcorp_____apollo_____ReleaseService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ctripcorp_____apollo_____ReleaseService.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


  private Collection<String> getBranchReleaseKeys(long releaseId) {
    Page<ReleaseHistory> releaseHistories = releaseHistoryService
        .findByReleaseIdAndOperationInOrderByIdDesc(releaseId, BRANCH_RELEASE_OPERATIONS, FIRST_ITEM);

    if (!releaseHistories.hasContent()) {
      return null;
    }

    Map<String, Object> operationContext = gson
        .<mark>fromJson</mark>(releaseHistories.getContent().get(0).getOperationContext(), OPERATION_CONTEXT_TYPE_REFERENCE);

    if (operationContext == null || !operationContext.containsKey(ReleaseOperationContext.BRANCH_RELEASE_KEYS)) {
      return null;
    }

    return (Collection<String>) operationContext.get(ReleaseOperationContext.BRANCH_RELEASE_KEYS);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    public List<SomfyTahomaActionGroup> listActionGroups() {
        String groups = getGroups();
        if (StringUtils.equals(groups, UNAUTHORIZED)) {
            groups = getGroups();
        }

        if (groups == null || groups.equals(UNAUTHORIZED)) {
            return Collections.emptyList();
        }

        try {
            SomfyTahomaActionGroupResponse data = gson.<mark>fromJson</mark>(groups, SomfyTahomaActionGroupResponse.class);
            return data.getActionGroups();
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", groups, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        }
        return new ArrayList<>();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____NotebookServer_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____NotebookServer.java

com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.String>>.getType
com.google.gson.Gson.fromJson


  private ServiceContext getServiceContext(Message message) {
    AuthenticationInfo authInfo =
        new AuthenticationInfo(message.principal, message.roles, message.ticket);
    Set<String> userAndRoles = new HashSet<>();
    userAndRoles.add(message.principal);
    if (message.roles != null && !message.roles.equals("")) {
      HashSet<String> roles =
          gson.<mark>fromJson</mark>(message.roles, new TypeToken<HashSet<String>>() {
          }.<mark>getType</mark>());
      if (roles != null) {
        userAndRoles.addAll(roles);
      }
    }
    return new ServiceContext(authInfo, userAndRoles);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pusher_____pusher-websocket-java_____PresenceChannelImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pusher_____pusher-websocket-java_____PresenceChannelImpl.java

com.google.gson.Gson.fromJson

    @SuppressWarnings("rawtypes")
    private void handleMemberAddedEvent(final String message) {
        final String dataString = extractDataStringFrom(message);
        MemberData memberData = GSON.<mark>fromJson</mark>(dataString, MemberData.class);


        final String id = memberData.userId;
        final String userData = memberData.userInfo!= null ? GSON.toJson(memberData.userInfo) : null;

        final User user = new User(id, userData);
        idToUserMap.put(id, user);

        final ChannelEventListener listener = getEventListener();
        if (listener != null) {
            final PresenceChannelEventListener presenceListener = (PresenceChannelEventListener)listener;
            presenceListener.userSubscribed(getName(), user);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matrix-org_____matrix-android-sdk_____JsonUtils_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/matrix-org_____matrix-android-sdk_____JsonUtils.java

com.google.gson.Gson.fromJson

/**
     * Convert an Event instance to a Json object.
     *
     * @param event the event instance.
     * @return the json object
     */     */
    public static <T> T toClass(JsonElement jsonObject, Class<T> aClass) {
        T object = null;
        try {
            object = gson.<mark>fromJson</mark>(jsonObject, aClass);
        } catch (Exception e) {
            Log.e(LOG_TAG, "## toClass failed " + e.getMessage(), e);
        }
        if (null == object) {
            try {
                final Constructor<T> constructor = aClass.getConstructor();
                object = constructor.newInstance();
            } catch (Throwable t) {
                Log.e(LOG_TAG, "## toClass failed " + t.getMessage(), t);
            }
        }
        return object;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_49.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static FilePositionImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      FilePositionImpl dto = new FilePositionImpl();
      JsonArray json = jsonElem.getAsJsonArray();

      if (0 < json.size()) {
        JsonElement lineNumberIn = json.<mark>get</mark>(0);
        int lineNumberOut = lineNumberIn.getAsInt();
        dto.setLineNumber(lineNumberOut);
      }

      if (1 < json.size()) {
        JsonElement columnIn = json.<mark>get</mark>(1);
        int columnOut = columnIn.getAsInt();
        dto.setColumn(columnOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____JSONRequest_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____JSONRequest.java

com.google.gson.Gson.fromJson

   */
  public RESPONSE post(WebResource resource, MultivaluedMapImpl data) throws IOException {
    LOG.info("POST: {}", resource);
    LOG.debug("data: {}", data);

    StringBuilder curlBuilder = new StringBuilder();

    UriBuilder builder = getUriBuilder(data, curlBuilder);

    Map<String, String> headers = new HashMap<String, String>();
    headers.put("Content-Type", "application/x-www-form-urlencoded");

    recordLastCurlCommand(String.format("curl " + curlBuilder.toString() + " \"" + resource.toString() + "\""));
    InputStream inputStream = readFrom(resource, "POST", builder.build().getRawQuery(), headers);
    String responseJson = IOUtils.toString(inputStream);

    LOG.debug("RESPONSE => {}", responseJson);
    return gson.<mark>fromJson</mark>(responseJson, responseClass);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_77.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetUserAppEngineAppIdsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetUserAppEngineAppIdsImpl dto = new GetUserAppEngineAppIdsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("clusterType")) {
        JsonElement clusterTypeIn = json.<mark>get</mark>("clusterType");
        com.google.collide.dto.GetAppEngineClusterType.Type clusterTypeOut = gson.<mark>fromJson</mark>(clusterTypeIn, com.google.collide.dto.GetAppEngineClusterType.Type.class);
        dto.setClusterType(clusterTypeOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_63.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetOwningProjectImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetOwningProjectImpl dto = new GetOwningProjectImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zstackio_____zstack_____RESTApiDecoder_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/zstackio_____zstack_____RESTApiDecoder.java

com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.entrySet
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.Gson.fromJson

        @Override
        public Message deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {
            JsonObject jObj = json.<mark>getAsJsonObject</mark>();
            Map.Entry<String, JsonElement> entry = jObj.<mark>entrySet</mark>().iterator().next();
            String className = entry.getKey();
            Class<?> clazz;
            try {
                clazz = Class.forName(className);
            } catch (ClassNotFoundException e) {
                throw <mark>new JsonParseException</mark>("Unable to deserialize class " + className, e);
            }
            return (Message) this.gson.<mark>fromJson</mark>(entry.getValue(), clazz);
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_129.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    public static ResolveTreeConflictResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ResolveTreeConflictResponseImpl dto = new ResolveTreeConflictResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("refreshPath")) {
        JsonElement refreshPathIn = json.<mark>get</mark>("refreshPath");
        java.lang.String refreshPathOut = gson.<mark>fromJson</mark>(refreshPathIn, java.lang.String.class);
        dto.setRefreshPath(refreshPathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>android10_____Android-CleanArchitecture_____UserEntityJsonMapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/android10_____Android-CleanArchitecture_____UserEntityJsonMapper.java

com.google.gson.reflect.TypeToken<java.util.List<com.fernandocejas.android10.sample.data.entity.UserEntity>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.fernandocejas.android10.sample.data.entity.UserEntity>>.getType
com.google.gson.Gson.fromJson

/**
   * Transform from valid json string to List of {@link UserEntity}.
   *
   * @param userListJsonResponse A json representing a collection of users.
   * @return List of {@link UserEntity}.
   * @throws com.google.gson.JsonSyntaxException if the json string is not a valid json structure.
   */   */
  public UserEntity transformUserEntity(String userJsonResponse) throws JsonSyntaxException {
    final Type userEntityType = new TypeToken<UserEntity>() {}.<mark>getType</mark>();
    return this.gson.<mark>fromJson</mark>(userJsonResponse, userEntityType);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____OldZeppelinHubRepo_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____OldZeppelinHubRepo.java

com.google.gson.reflect.TypeToken<java.util.List<org.apache.zeppelin.notebook.repo.zeppelinhub.Revision>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.apache.zeppelin.notebook.repo.zeppelinhub.Revision>>.getType
com.google.gson.Gson.fromJson

  @Override
  public Revision checkpoint(String noteId, String checkpointMsg, AuthenticationInfo subject)
      throws IOException {
    if (StringUtils.isBlank(noteId) || !isSubjectValid(subject)) {
      return Revision.EMPTY;
    }
    String endpoint = Joiner.on("/").join(noteId, "checkpoint");
    String content = GSON.toJson(ImmutableMap.of("message", checkpointMsg));
    
    String token = getUserToken(subject.getUser());
    String response = restApiClient.putWithResponseBody(token, endpoint, content);

    return GSON.<mark>fromJson</mark>(response, Revision.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____incubator-brooklyn_____BrooklynApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____incubator-brooklyn_____BrooklynApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * @deprecated since 0.8.0-incubating. Use {@link #getEntity(Response, GenericType)} instead.
     */
    public static <T> T getEntity(Response response, Class<T> type) {
        if (response instanceof ClientResponse) {
            ClientResponse<?> clientResponse = (ClientResponse<?>) response;
            return clientResponse.getEntity(type);
        } else if (response instanceof BuiltResponse) {
            // Handle BuiltResponsePreservingError turning objects into Strings
            if (response.getEntity() instanceof String && !type.equals(String.class)) {
                return <mark>new Gson</mark>().<mark>fromJson</mark>(response.getEntity().toString(), type);
            }
        }
        // Last-gasp attempt.
        return type.cast(response.getEntity());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____InboundRequestHandler_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____InboundRequestHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    void _on_patch(JsonObject obj) {
        final FlooPatch res = <mark>new Gson</mark>().<mark>fromJson</mark>(obj, (Type) FlooPatch.class);
        if (state == null || state.bufs == null) {
            return;
        }
        final Buf buf = this.state.bufs.get(res.id);
        editor.queue(buf, new RunLater<Buf>() {
            @Override
            public void run(Buf b) {
                if (b.buf == null) {
                    Flog.warn("no buffer");
                    outbound.getBuf(res.id);
                    return;
                }

                if (res.patch.length() == 0) {
                    Flog.warn("wtf? no patches to apply. server is being stupid");
                    return;
                }
                b.patch(res);
            }
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____JSONRequest_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____JSONRequest.java

com.google.gson.Gson.fromJson

/**
   * @see #delete(WebResource, MultivaluedMapImpl)
   */   */
  public RESPONSE put(WebResource resource, MultivaluedMapImpl data) throws IOException {
    LOG.info("PUT {}", resource);

    StringBuilder curlBuilder = new StringBuilder();

    UriBuilder builder = getUriBuilder(data, curlBuilder);

    Map<String, String> headers = new HashMap<String, String>();
    headers.put("Content-Type", "application/x-www-form-urlencoded");

    recordLastCurlCommand(String.format("curl -X PUT " + curlBuilder.toString() + " \"" + resource.toString() + "\""));

    InputStream inputStream = readFrom(resource, "PUT", builder.build().getRawQuery(), headers);
    String responseJson = IOUtils.toString(inputStream);

    LOG.debug("RESPONSE => {}", responseJson);
    return gson.<mark>fromJson</mark>(responseJson, responseClass);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____ZeppelinHubRepo_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____ZeppelinHubRepo.java

com.google.gson.reflect.TypeToken<java.util.List<org.apache.zeppelin.notebook.repo.zeppelinhub.Revision>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.apache.zeppelin.notebook.repo.zeppelinhub.Revision>>.getType
com.google.gson.Gson.fromJson

  @Override
  public Revision checkpoint(String noteId, String notePath, String checkpointMsg, AuthenticationInfo subject)
      throws IOException {
    if (StringUtils.isBlank(noteId) || !isSubjectValid(subject)) {
      return Revision.EMPTY;
    }
    String endpoint = Joiner.on("/").join(noteId, "checkpoint");
    String content = GSON.toJson(ImmutableMap.of("message", checkpointMsg));
    
    String token = getUserToken(subject.getUser());
    String response = restApiClient.putWithResponseBody(token, endpoint, content);

    return GSON.<mark>fromJson</mark>(response, Revision.class);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>anupcowkur_____Reservoir_____Reservoir_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/anupcowkur_____Reservoir_____Reservoir.java

com.google.gson.Gson.fromJson

/**
     * Get an object from Reservoir with the given key asynchronously.
     *
     * @param <T>      the type of the object to get.
     * @param key      the key string.
     * @param classOfT the class type of the expected return object.
     * @param callback a callback of type {@link com.anupcowkur.reservoir.ReservoirGetCallback}
     *                 which is called upon completion.
     * @throws IllegalStateException thrown if init method hasn't been called.
     */     */
    public static <T> T get(final String key, final Class<T> classOfT) throws IOException {
        failIfNotInitialised();
        String json = cache.getString(key).getString();
        T value = sGson.<mark>fromJson</mark>(json, classOfT);
        if (value == null)
            throw new NullPointerException();
        return value;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeeoBrainApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeeoBrainApi.java

com.google.gson.Gson.fromJson

/**
     * Stops the specified scenario in the specified room
     *
     * @param roomKey the non-empty room key
     * @param scenarioKey the non-empty scenario key
     * @return the execute result
     * @throws IOException Signals that an I/O exception has occurred.
     */     */
    public NeeoRoom getRoom(String roomKey) throws IOException {
        NeeoUtil.requireNotEmpty(roomKey, "roomKey cannot be empty");

        final String url = urlBuilder.append(NeeoConstants.GET_ROOM).sub("roomkey", roomKey).toString();

        final HttpRequest rqst = request.get();
        final HttpResponse resp = rqst.sendGetCommand(url);
        if (resp.getHttpCode() != HttpStatus.OK_200) {
            throw resp.createException();
        }

        return gson.<mark>fromJson</mark>(resp.getContent(), NeeoRoom.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cymcsg_____UltimateAndroid_____JsonUtil_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cymcsg_____UltimateAndroid_____JsonUtil.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.Object>>.getType
com.google.gson.Gson.fromJson


    public static ArrayList getArrayListFromJson(String jsonString) {
        JsonParser jsonParser = new JsonParser();
        Gson gson = <mark>new Gson</mark>();
        JsonElement jsonElement = jsonParser.parse(jsonString);
        Logs.d(jsonElement.isJsonArray() + "   " + jsonElement.isJsonObject());
        ArrayList arrayList = new ArrayList();
        if (jsonElement.isJsonObject()) {
            arrayList.add(gson.<mark>fromJson</mark>(jsonElement, HashMap.class));
        } else if (jsonElement.isJsonArray()) {
            arrayList = getListFromJson(jsonString, new TypeToken<ArrayList>() {
            });
        }
        return arrayList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>paypal_____SeLion_____JsonDataProviderImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/paypal_____SeLion_____JsonDataProviderImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public Iterator<Object[]> getDataByFilter(DataProviderFilter dataFilter) {
        Preconditions.checkArgument(resource != null, "File resource cannot be null");
        logger.entering(dataFilter);
        Class<?> arrayType;
        JsonReader reader = null;
        try {
            reader = new JsonReader(getReader(resource));
            arrayType = Array.newInstance(resource.getCls(), 0).getClass();
            Gson myJson = <mark>new Gson</mark>();
            Object[] mappedData = myJson.<mark>fromJson</mark>(reader, arrayType);
            return prepareDataAsObjectArrayList(mappedData, dataFilter).iterator();
        } catch (Exception e) {
            throw new DataProviderException(e.getMessage(), e);
        } finally {
            IOUtils.closeQuietly(reader);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____RangerPasswordCheck_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____RangerPasswordCheck.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
   * Generates a list of headers, including {@code Basic} authentication
   * @param username  the username
   * @param password  the password
   * @return the map of headers
   */   */
  private int checkLogin(URLStreamProvider streamProvider, String url, String username,
      String password) throws IOException {

    Map<String, List<String>> headers = getHeaders(username, password);

    HttpURLConnection conn = streamProvider.processURL(url, "GET", (InputStream) null, headers);

    int result = conn.getResponseCode();

    // !!! see javadoc
    if (result == 200) {
      Gson gson = <mark>new Gson</mark>();
      try {
        gson.<mark>fromJson</mark>(new InputStreamReader(conn.getInputStream()), Object.class);
      } catch (Exception e) {
        result = 401;
      }
    }

    return result;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.IdentifyResult>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.IdentifyResult>>.getType
com.google.gson.Gson.fromJson

    @Override
    public VerifyResult verifyInLargePersonGroup(UUID faceId, String largePersonGroupId, UUID personId) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String uri = String.format("%s/%s", mServiceHost, VERIFY_QUERY);
        params.put("faceId", faceId);
        params.put("largePersonGroupId", largePersonGroupId);
        params.put("personId", personId);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, VerifyResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public BigDecimal getLatestMarketPrice(String marketId) throws ExchangeNetworkException, TradingApiException {
		try {
			final ExchangeHttpResponse response = sendPublicRequestToExchange("GetMarket/" + marketId.toUpperCase());
			LOG.debug(() -> "Market response: " + response);
			
			final Type responseApiType = new TypeToken<CryptopiaPublicApiResponse<CryptopiaMarket>>() {}.getType();
			final CryptopiaPublicApiResponse<CryptopiaMarket> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(), responseApiType);
			return cryptopiaResponse.Data.LastPrice;
        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>sromku_____android-simple-facebook_____JsonUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/sromku_____android-simple-facebook_____JsonUtils.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson

/**
     * Get JSON string and convert to T (Object) you need
     *
     * @return Object filled with JSON string data
     */     */
    public static <T> T <mark>fromJson</mark>(String json, Class<T> cls) {
        Gson gson = buildGson();

        JsonParser parser = <mark>new JsonParser</mark>();
        JsonElement element = parser.<mark>parse</mark>(json);

        // check if the Class type is array but the Json is an object
        if (cls != null && cls.isArray() && element instanceof JsonArray == false) {
            JsonArray jsonArray = new JsonArray();
            jsonArray.add(element);

            Type listType = new TypeToken<T>() {
            }.getType();
            return gson.<mark>fromJson</mark>(jsonArray, listType);
        }

        return gson.<mark>fromJson</mark>(json, cls);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_94.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static HasModuleImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      HasModuleImpl dto = new HasModuleImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____InternalLogDataRepository_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____InternalLogDataRepository.java

com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.domain.entity.LogEntity>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.domain.entity.LogEntity>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public Observable<List<LogEntity>> getLogs() {
        return Observable.defer(() -> {
            Type logList = new TypeToken<List<LogEntity>>() {
            }.<mark>getType</mark>();
            String json = loadJSONFromAsset("logs.json");
            List<LogEntity> logEntities = new ArrayList<>();
            try {
                logEntities = <mark>new Gson</mark>().<mark>fromJson</mark>(json, logList);
            } catch (Exception e) {
                e.printStackTrace();
                return Observable.error(e);
            }
            return Observable.just(logEntities);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>dnmilne_____wikipediaminer_____ImageRetriever_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/dnmilne_____wikipediaminer_____ImageRetriever.java

com.google.gson.Gson.fromJson

	
	public  List<String> getImageTitles(Integer articleId) throws UnsupportedEncodingException, IOException {
		
		List<String> imageTitles = new ArrayList<String>() ;
		
		URL url = new URL(baseUrl + "?action=query&pageids=" + articleId + "&prop=images&format=json") ;
		
		String json = retriever.getWebContent(url) ;
		
		Response response = gson.<mark>fromJson</mark>(json, Response.class) ;
		
		if (response == null)
			return imageTitles ;
		
		if (response.query == null)
			return imageTitles ;
		
		if (response.query.pages == null)
			return imageTitles ;
		
		for (Page page:response.query.pages.values()) {
			
			if (page.images == null)
				continue ;
			
			for (Image image:page.images) {
				if (bannedImages.contains(image.title))
					continue ;
				
				imageTitles.add(image.title) ;
			}
		}
		
		return imageTitles ;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_75.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetTemplatesImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetTemplatesImpl dto = new GetTemplatesImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("locale")) {
        JsonElement localeIn = json.<mark>get</mark>("locale");
        java.lang.String localeOut = gson.<mark>fromJson</mark>(localeIn, java.lang.String.class);
        dto.setLocale(localeOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iFixit_____iFixitAndroid_____JSONHelper_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/iFixit_____iFixitAndroid_____JSONHelper.java

com.google.gson.reflect.TypeToken<java.util.Collection<com.dozuki.ifixit.model.guide.GuideInfo>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Collection<com.dozuki.ifixit.model.guide.GuideInfo>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


   public static ArrayList<GuideInfo> parseUserFavorites(String json) {
      ArrayList<GuideInfo> result = new ArrayList<GuideInfo>();

      try {
         JSONArray jFavorites = new JSONArray(json);

         int length = jFavorites.length();
         for (int i = 0; i < length; i++) {
            JSONObject jGuide = jFavorites.getJSONObject(i).getJSONObject("guide");

            GuideInfo guide = <mark>new Gson</mark>().<mark>fromJson</mark>(jGuide.toString(), GuideInfo.class);
            result.add(guide);
         }
      } catch (JSONException e) {
         e.printStackTrace();
      }

      return result;
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ForestryMC_____ForestryMC_____BookLoader_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ForestryMC_____ForestryMC_____BookLoader.java

com.google.gson.Gson.fromJson


	private void loadCategory(BookCategory category) {
		ResourceLocation entriesLocation = new ResourceLocation(BOOK_LOCATION + "entries/" + category.getName() + ".json");
		List<String> entryNames = new LinkedList<>();
		for (IResource entryResource : ResourceUtil.getResources(entriesLocation)) {
			try (BufferedReader reader = ResourceUtil.createReader(entryResource)) {
				Entries entries = GSON.<mark>fromJson</mark>(reader, Entries.class);
				entryNames.addAll(entries.names);
			} catch (IOException e) {
				Log.error("Failed to parse entries file {}.{}", entriesLocation, e);
			} finally {
				IOUtils.closeQuietly(entryResource);
			}
		}
		Map<String, EntryData> entries = new HashMap<>(entryNames.size());
		entryNames.forEach(entry -> loadEntries(entries, entry));
		entryNames.forEach(entry -> createEntry(entries, category, entry));
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PanicInitiative_____PanicButton_____PageAction_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PanicInitiative_____PanicButton_____PageAction.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


    public static List<PageAction> parsePageItems(JSONArray actionArray){
        List<PageAction> actionList = new ArrayList<PageAction>();

        GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
        Gson gson = gsonBuilder.<mark>create</mark>();

        try {
            for(int i=0; i < actionArray.length(); i++){

                JSONObject thisActionItem = actionArray.getJSONObject(i);
                if(thisActionItem != null){
                    String jsonString = thisActionItem.toString();
                    PageAction item = gson.<mark>fromJson</mark>(jsonString, PageAction.class);
                    actionList.add(item);
                }
            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

        return actionList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____InternalMessageDataRepository_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____InternalMessageDataRepository.java

com.google.gson.reflect.TypeToken<org.addhen.smssync.data.entity.Message>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.addhen.smssync.data.entity.Message>.getType
com.google.gson.Gson.fromJson

    @Override
    public Observable<List<MessageEntity>> getEntities() {
        return Observable.defer(() -> {
            Type messageList = new TypeToken<List<Message>>() {
            }.<mark>getType</mark>();
            String json = loadMessages();
            List<Message> messageEntityList = null;
            try {
                messageEntityList = mGson.<mark>fromJson</mark>(json, messageList);
            } catch (Exception e) {
                e.printStackTrace();
                return Observable.error(e);
            }
            List<MessageEntity> messages = mMessageDataMapper.map(messageEntityList);
            return Observable.just(messages);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>chiuki_____gce2retrofit_____Generator_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/chiuki_____gce2retrofit_____Generator.java

com.google.gson.Gson.fromJson


  private static Set<String> getModels(JsonObject methods) {
    Set<String> models = new HashSet<>();
    for (Entry<String, JsonElement> entry : methods.entrySet()) {
      Method method = gson.<mark>fromJson</mark>(entry.getValue(), Method.class);
      if (method.request != null && method.request.$ref != null) {
        models.add(method.request.$ref);
      }
      if (method.response != null && method.response.$ref != null) {
        models.add(method.response.$ref);
      }
      for (Entry<String, JsonElement> param : getParams(method)) {
        ParameterType paramType = gson.<mark>fromJson</mark>(
            param.getValue(), ParameterType.class);
        String type = paramType.toJavaType();
        if (!paramType.required) {
          type = StringUtil.primitiveToObject(type);
        }
        models.add(type);
      }
    }
    return models;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____InternalMessageDataRepository_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____InternalMessageDataRepository.java

com.google.gson.reflect.TypeToken<org.addhen.smssync.data.entity.Message>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.addhen.smssync.data.entity.Message>.getType
com.google.gson.Gson.fromJson

    @Override
    public Observable<List<MessageEntity>> fetchPending() {
        return Observable.defer(() -> {
            Type messageList = new TypeToken<List<Message>>() {
            }.<mark>getType</mark>();
            String json = loadPendingMessages();
            List<Message> messageEntityList = null;
            try {
                messageEntityList = mGson.<mark>fromJson</mark>(json, messageList);
            } catch (Exception e) {
                e.printStackTrace();
                return Observable.error(e);
            }
            List<MessageEntity> messages = mMessageDataMapper.map(messageEntityList);
            return Observable.just(messages);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____WebServiceRequest_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____WebServiceRequest.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    private Object get(String url) throws ClientException, IOException {
        Request request = new Request.Builder()
                .url(url)
                .get()
                .header(HEADER_KEY, mSubscriptionKey)
                .build();

        Response response = this.mClient.newCall(request).execute();
        if (response.isSuccessful()) {
            return readInput(response);
        } else {
            String json = readInput(response);
            if (json != null) {
                ServiceError error = mGson.<mark>fromJson</mark>(json, ServiceError.class);
                if (error != null) {
                    throw new ClientException(error.error);
                }
            }

            throw new ClientException("Error executing GET request!", response.code());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>CyberdyneCC_____Thermos_____BukkitDLUpdaterService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/CyberdyneCC_____Thermos_____BukkitDLUpdaterService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.registerTypeAdapter
com.google.gson.Gson.fromJson


    public ArtifactDetails fetchArtifact(String slug) throws IOException {
        URL url = new URL("http", host, API_PREFIX_ARTIFACT + slug + "/");
        InputStreamReader reader = null;

        try {
            URLConnection connection = url.openConnection();
            connection.setRequestProperty("User-Agent", getUserAgent());
            reader = new InputStreamReader(connection.getInputStream());
            Gson gson = <mark>new GsonBuilder</mark>().<mark>registerTypeAdapter</mark>(Date.class, dateDeserializer).setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();
            return gson.<mark>fromJson</mark>(reader, ArtifactDetails.class);
        } finally {
            if (reader != null) {
                reader.close();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____OkCoinExchangeAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____OkCoinExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getLatestMarketPrice(String marketId) throws ExchangeNetworkException, TradingApiException {

        try {
            final Map<String, String> params = createRequestParamMap();
            params.put("symbol", marketId);

            final ExchangeHttpResponse response = sendPublicRequestToExchange("ticker.do", params);
            LOG.debug(() -> "Latest Market Price response: " + response);

            final OKCoinTickerWrapper tickerWrapper = gson.<mark>fromJson</mark>(response.getPayload(), OKCoinTickerWrapper.class);
            return tickerWrapper.ticker.last;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_67.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson


    public static GetProjectMembersImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetProjectMembersImpl dto = new GetProjectMembersImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zstackio_____zstack_____JSONObjectUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/zstackio_____zstack_____JSONObjectUtil.java

com.google.gson.Gson.fromJson

    
    public static <T, K extends Collection> K toCollection(String content, Class<K> collections, Class<T> clazz) {
        try {
            if (collections.isInterface()) {
                throw new IllegalArgumentException(String.format("collections must be a concrete class, not interface[%s]", collections.getName()));
            }
            Collection c = collections.newInstance();
            JSONArray jarr = new JSONArray(content);
            for (int i=0; i<jarr.length(); i++) {
                String objstr = jarr.get(i).toString();
                if (String.class != clazz) {
                    c.add(gson.<mark>fromJson</mark>(objstr, clazz));
                } else {
                    c.add(objstr);
                }
            }
            return (K) c;
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____FriendsTimeLineDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____FriendsTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    private static TimeLinePosition getPosition(String accountId) {
        String sql = "select * from " + HomeTable.TABLE_NAME + " where " + HomeTable.ACCOUNTID + "  = " + accountId;
        Cursor c = getRsd().rawQuery(sql, null);
        Gson gson = <mark>new Gson</mark>();
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(HomeTable.TIMELINEDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    TimeLinePosition value = gson.<mark>fromJson</mark>(json, TimeLinePosition.class);
                    c.close();
                    return value;

                } catch (JsonSyntaxException e) {
                    e.printStackTrace();
                }
            }

        }
        c.close();
        return new TimeLinePosition(0, 0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_25.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CreateProjectResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CreateProjectResponseImpl dto = new CreateProjectResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("project")) {
        JsonElement projectIn = json.<mark>get</mark>("project");
        ProjectInfoImpl projectOut = ProjectInfoImpl.fromJsonElement(projectIn);
        dto.setProject(projectOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____fineract_____DeviceRegistrationApiResource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____fineract_____DeviceRegistrationApiResource.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.Gson.toJson

    @Produces({ MediaType.APPLICATION_JSON })
    public String registerDevice(final String apiRequestBodyAsJson) {
        this.context.authenticatedUser();
        Gson gson = <mark>new Gson</mark>();
        JsonObject json = <mark>new Gson</mark>().<mark>fromJson</mark>(apiRequestBodyAsJson, JsonObject.class);
        Long clientId = json.<mark>get</mark>(DeviceRegistrationApiConstants.clientIdParamName).getAsLong();
        String registrationId = json.<mark>get</mark>(DeviceRegistrationApiConstants.registrationIdParamName).getAsString();
        DeviceRegistration deviceRegistration = this.deviceRegistrationWritePlatformService.registerDevice(clientId, registrationId);
        String response = gson.<mark>toJson</mark>(deviceRegistration.getId());
        return response;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____intellij-community_____ArtifactoryRepositoryService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/JetBrains_____intellij-community_____ArtifactoryRepositoryService.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

  @Override
  public List<RemoteRepositoryDescription> getRepositories(@NotNull String url) throws IOException {
    try {
      final Gson gson = <mark>new Gson</mark>();
      final InputStreamReader stream =
        new InputStreamReader(new Endpoint.Repositories(url).getRepositoryDetailsListJson(null).getInputStream());
      final ArtifactoryModel.RepositoryType[] repos = gson.<mark>fromJson</mark>(stream, ArtifactoryModel.RepositoryType[].class);
      final List<RemoteRepositoryDescription> result = new ArrayList<>(repos.length);
      for (ArtifactoryModel.RepositoryType repo : repos) {
        result.add(convert(repo));
      }
      return result;
    }
    catch (JsonSyntaxException e) {
      return Collections.emptyList();
    }
    catch (Exception e) {
      throw new IOException(e);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeatoRobot_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeatoRobot.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    public void sendGetState() throws NeatoCommunicationException, CouldNotFindRobotException {
        logger.debug("Will get STATE for Robot {}", this.serialNumber);

        CommandRequest request = new CommandRequest();
        request.setCmd("getRobotState");

        String result = this.callNeatoWS(gson.<mark>toJson</mark>(request));
        logger.debug("Result from getRobotState: {}", result);

        ErrorMessage eMessage = gson.<mark>fromJson</mark>(result, ErrorMessage.class);
        if (eMessage.getMessage() != null) {
            logger.error("Error when getting Robot State. Error message: {}", eMessage.getMessage());
            throw new CouldNotFindRobotException(eMessage.getMessage());
        }

        this.state = gson.<mark>fromJson</mark>(result, NeatoState.class);

        logger.debug("Successfully got and parsed new state for {}", this.serialNumber);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeeoBrainApi_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeeoBrainApi.java

com.google.gson.Gson.fromJson

/**
     * Gets the active scenarios.
     *
     * @return the non-null, possibly empty list of active scenarios keys
     * @throws IOException Signals that an I/O exception has occurred.
     */     */
    ExecuteResult executeRecipe(String roomKey, String recipeKey) throws IOException {
        NeeoUtil.requireNotEmpty(roomKey, "roomKey cannot be empty");
        NeeoUtil.requireNotEmpty(recipeKey, "recipeKey cannot be empty");

        final String url = urlBuilder.append(NeeoConstants.EXECUTE_RECIPE).sub("roomkey", roomKey)
                .sub("recipekey", recipeKey).toString();

        final HttpRequest rqst = request.get();
        final HttpResponse resp = rqst.sendGetCommand(url);
        if (resp.getHttpCode() != HttpStatus.OK_200) {
            throw resp.createException();
        }

        return gson.<mark>fromJson</mark>(resp.getContent(), ExecuteResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>eclipse_____smarthome_____OpenWeatherMapConnection_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/eclipse_____smarthome_____OpenWeatherMapConnection.java

com.google.gson.Gson.fromJson

/**
     * Requests the daily forecast data for the given location (see https://openweathermap.org/forecast16).
     *
     * @param location location represented as {@link PointType}
     * @param count number of days
     * @return the daily forecast data
     * @throws JsonSyntaxException
     * @throws OpenWeatherMapCommunicationException
     * @throws OpenWeatherMapConfigurationException
     */     */
    public synchronized @Nullable OpenWeatherMapJsonWeatherData getWeatherData(@Nullable PointType location)
            throws JsonSyntaxException, OpenWeatherMapCommunicationException, OpenWeatherMapConfigurationException {
        return gson.<mark>fromJson</mark>(
                getResponseFromCache(
                        buildURL(WEATHER_URL, getRequestParams(handler.getOpenWeatherMapAPIConfig(), location))),
                OpenWeatherMapJsonWeatherData.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_56.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetFileContentsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetFileContentsImpl dto = new GetFileContentsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matrix-org_____matrix-android-sdk_____MXDataHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/matrix-org_____matrix-android-sdk_____MXDataHandler.java

com.google.gson.Gson.toJsonTree
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.List<java.lang.String>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.List<java.lang.String>>>.getType
com.google.gson.Gson.fromJson

/**
     * Manage the URL preview flag
     *
     * @param accountDataElement the account data element of correct type
     */     */
    private void managePushRulesUpdate(AccountDataElement accountDataElement) {
        Gson gson = JsonUtils.getGson(false);

        // convert the data to PushRulesResponse
        // because BingRulesManager supports only PushRulesResponse
        JsonElement element = gson.<mark>toJsonTree</mark>(accountDataElement.content);
        getBingRulesManager().buildRules(gson.<mark>fromJson</mark>(element, PushRulesResponse.class));

        // warn the client that the push rules have been updated
        onBingRulesUpdate();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Nukkit_____Nukkit_____ClientChainData_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Nukkit_____Nukkit_____ClientChainData.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.List<java.lang.String>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.List<java.lang.String>>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    private JsonObject decodeToken(String token) {
        String[] base = token.split("\\.");
        if (base.length < 2) return null;
        String json = new String(Base64.getDecoder().decode(base[1]), StandardCharsets.UTF_8);
        //Server.getInstance().getLogger().debug(json);
        return <mark>new Gson</mark>().<mark>fromJson</mark>(json, JsonObject.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Nukkit_____Nukkit_____LoginPacket_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Nukkit_____Nukkit_____LoginPacket.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private void decodeChainData() {
        Map<String, List<String>> map = <mark>new Gson</mark>().<mark>fromJson</mark>(new String(this.get(getLInt()), StandardCharsets.UTF_8),
                new TypeToken<Map<String, List<String>>>() {
                }.getType());
        if (map.isEmpty() || !map.containsKey("chain") || map.get("chain").isEmpty()) return;
        List<String> chains = map.get("chain");
        for (String c : chains) {
            JsonObject chainMap = decodeToken(c);
            if (chainMap == null) continue;
            if (chainMap.has("extraData")) {
                JsonObject extra = chainMap.get("extraData").getAsJsonObject();
                if (extra.has("displayName")) this.username = extra.get("displayName").getAsString();
                if (extra.has("identity")) this.clientUUID = UUID.fromString(extra.get("identity").getAsString());
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>IQSS_____dataverse_____DdiExportUtil_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/IQSS_____dataverse_____DdiExportUtil.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * @todo This is just a stub, copied from DDIExportServiceBean. It should
     * produce valid DDI based on
     * http://guides.dataverse.org/en/latest/developers/tools.html#msv but it is
     * incomplete and will be worked on as part of
     * https://github.com/IQSS/dataverse/issues/2579 . We'll want to reference
     * the DVN 3.x code for creating a complete DDI.
     *
     * @todo Rename this from "study" to "dataset".
     */    // "short" ddi, without the "<fileDscr>"  and "<dataDscr>/<var>" sections:
    public static void datasetJson2ddi(JsonObject datasetDtoAsJson, OutputStream outputStream) throws XMLStreamException {
        logger.fine(JsonUtil.prettyPrint(datasetDtoAsJson.toString()));
        Gson gson = <mark>new Gson</mark>();
        DatasetDTO datasetDto = gson.<mark>fromJson</mark>(datasetDtoAsJson.toString(), DatasetDTO.class);
        dtoddi(datasetDto, outputStream);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_116.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ParticipantImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ParticipantImpl dto = new ParticipantImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("userId")) {
        JsonElement userIdIn = json.<mark>get</mark>("userId");
        java.lang.String userIdOut = gson.<mark>fromJson</mark>(userIdIn, java.lang.String.class);
        dto.setUserId(userIdOut);
      }

      if (json.<mark>has</mark>("id")) {
        JsonElement idIn = json.<mark>get</mark>("id");
        java.lang.String idOut = gson.<mark>fromJson</mark>(idIn, java.lang.String.class);
        dto.setId(idOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_57.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetFileContentsResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetFileContentsResponseImpl dto = new GetFileContentsResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("fileContents")) {
        JsonElement fileContentsIn = json.<mark>get</mark>("fileContents");
        FileContentsImpl fileContentsOut = FileContentsImpl.fromJsonElement(fileContentsIn);
        dto.setFileContents(fileContentsOut);
      }

      if (json.<mark>has</mark>("fileExists")) {
        JsonElement fileExistsIn = json.<mark>get</mark>("fileExists");
        boolean fileExistsOut = fileExistsIn.getAsBoolean();
        dto.setFileExists(fileExistsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zhengxiaopeng_____Rocko-Android-Demos_____UserEntityJsonMapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/zhengxiaopeng_____Rocko-Android-Demos_____UserEntityJsonMapper.java

com.google.gson.reflect.TypeToken<java.util.List<com.fernandocejas.android10.sample.data.entity.UserEntity>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.fernandocejas.android10.sample.data.entity.UserEntity>>.getType
com.google.gson.Gson.fromJson

/**
   * Transform from valid json string to List of {@link UserEntity}.
   *
   * @param userListJsonResponse A json representing a collection of users.
   * @return List of {@link UserEntity}.
   * @throws com.google.gson.JsonSyntaxException if the json string is not a valid json structure.
   */   */
  public UserEntity transformUserEntity(String userJsonResponse) throws JsonSyntaxException {
    try {
      Type userEntityType = new TypeToken<UserEntity>() {}.<mark>getType</mark>();
      UserEntity userEntity = this.gson.<mark>fromJson</mark>(userJsonResponse, userEntityType);

      return userEntity;
    } catch (JsonSyntaxException jsonException) {
      throw jsonException;
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_51.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetDeployInformationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetDeployInformationImpl dto = new GetDeployInformationImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("clientId")) {
        JsonElement clientIdIn = json.<mark>get</mark>("clientId");
        java.lang.String clientIdOut = gson.<mark>fromJson</mark>(clientIdIn, java.lang.String.class);
        dto.setClientId(clientIdOut);
      }

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Adobe-Consulting-Services_____acs-aem-commons_____JsonValueMapValueInjector_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Adobe-Consulting-Services_____acs-aem-commons_____JsonValueMapValueInjector.java

com.google.gson.Gson.fromJson


    private Object parseValue(Type declaredType,String[] jsonStringArray, String key, Resource resource){
         if ((isSetType(declaredType)) && isNotEmpty(jsonStringArray)) {
             return createSet(jsonStringArray, getGenericParameter(declaredType));
         } else if ((isListType(declaredType) || isCollectionType(declaredType)) && isNotEmpty(jsonStringArray)) {
             return createList(jsonStringArray, getGenericParameter(declaredType));
         } else if (isArray(declaredType) && isNotEmpty(jsonStringArray)) {
             return createArray(jsonStringArray, getGenericParameter(declaredType));
         } else if (resource.getValueMap().containsKey(key)) {
             String jsonString = resource.getValueMap().get(key, String.class);
             return GSON.<mark>fromJson</mark>(jsonString, getClassOrGenericParam(declaredType));
         } else {
             return null;
         }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____NotebookRestApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____NotebookRestApi.java

com.google.gson.Gson.fromJson

  @ZeppelinApi
  public Response renameNote(@PathParam("noteId") String noteId,
                             String message) throws IOException {
    LOG.info("rename note by JSON {}", message);
    RenameNoteRequest request = gson.<mark>fromJson</mark>(message, RenameNoteRequest.class);
    String newName = request.getName();
    if (newName.isEmpty()) {
      LOG.warn("Trying to rename notebook {} with empty name parameter", noteId);
      throw new BadRequestException("name can not be empty");
    }
    notebookService.renameNote(noteId, request.getName(), false, getServiceContext(),
        new RestServiceCallback<Note>(){
          @Override
          public void onSuccess(Note note, ServiceContext context) throws IOException {
            notebookServer.broadcastNote(note);
            notebookServer.broadcastNoteList(context.getAutheInfo(), context.getUserAndRoles());
          }
        });
    return new JsonResponse(Status.OK, "").build();
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AEFeinstein_____mtg-familiar_____CardAndSetParser_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AEFeinstein_____mtg-familiar_____CardAndSetParser.java

com.google.gson.stream.JsonReader.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Parses the legality file and populates the database with the different formats, their respective sets, and their
     * banned and restricted lists
     *
     * @param context   The context to manage preferences with
     * @param logWriter A writer to print debug statements when things go wrong
     * @return An object with all of the legal info, to be added to the database in one fell swoop
     */     */
    public void readCardJsonStream(JsonReader reader, ArrayList<Card> cardsToAdd, ArrayList<Expansion> setsToAdd) {

        Gson gson = CardAndSetParser.getGson();

        Patch patch = gson.<mark>fromJson</mark>(reader, Patch.class);
        if (patch != null) {
            cardsToAdd.addAll(patch.mCards);

            /* Stage the sets and cards for database addition. */
            if (setsToAdd != null) {
                setsToAdd.add(patch.mExpansion);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_121.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    public static RecoveredPayloadImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RecoveredPayloadImpl dto = new RecoveredPayloadImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("payload")) {
        JsonElement payloadIn = json.<mark>get</mark>("payload");
        java.lang.String payloadOut = gson.<mark>fromJson</mark>(payloadIn, java.lang.String.class);
        dto.setPayload(payloadOut);
      }

      if (json.<mark>has</mark>("payloadVersion")) {
        JsonElement payloadVersionIn = json.<mark>get</mark>("payloadVersion");
        int payloadVersionOut = payloadVersionIn.getAsInt();
        dto.setPayloadVersion(payloadVersionOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SeneyeService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SeneyeService.java

com.google.gson.Gson.fromJson


    public SeneyeDeviceReading getDeviceReadings() {
        int currentTry = 0;
        do {
            try {
                String responseState = getData("/" + seneyeId + "/state?" + getCredentials());
                String responseReadings = getData("/" + seneyeId + "/exps?" + getCredentials());

                SeneyeDeviceReading readings = gson.<mark>fromJson</mark>(responseReadings, SeneyeDeviceReading.class);
                readings.status = gson.<mark>fromJson</mark>(responseState, SeneyeStatus.class);

                logger.debug("seneye '{}' read", this.seneyeId);

                return readings;

            } catch (Exception se) {
                // ok, this readout failed, swallow this error, this is a scheduled task and this is in a retry loop,
                // so it will be retried.
                logger.debug("failed to read seneye '{}'", se.getMessage());
            }
        } while (currentTry++ < this.retry);

        return null;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>panjichang_____small_video_____SharedPreferencesUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/panjichang_____small_video_____SharedPreferencesUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<com.pan.simplepicture.been.ShortVideo>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<com.pan.simplepicture.been.ShortVideo>>.getType
com.google.gson.Gson.fromJson


	public static void saveCollection(BaseActivity mActivity,
			ShortVideo shortVideo) {
		SharedPreferences sp = mActivity.getSharedPreferences("collection",
				Context.MODE_PRIVATE);
		String json = sp.getString("collect", "");
		ArrayList<ShortVideo> list = null;
		Gson gson = <mark>new Gson</mark>();
		if (TextUtils.isEmpty(json)) {
			list = new ArrayList<ShortVideo>();
			sp.edit().putString("ids", shortVideo.rsId).commit();
		} else {
			list = gson.<mark>fromJson</mark>(json, new TypeToken<ArrayList<ShortVideo>>() {
			}.<mark>getType</mark>());
			sp.edit()
					.putString("ids",
							sp.getString("ids", "") + "," + shortVideo.rsId)
					.commit();
		}
		list.add(shortVideo);
		sp.edit().putString("collect", gson.toJson(list)).commit();
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_62.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetMavenConfigImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetMavenConfigImpl dto = new GetMavenConfigImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      if (json.<mark>has</mark>("pomPath")) {
        JsonElement pomPathIn = json.<mark>get</mark>("pomPath");
        java.lang.String pomPathOut = gson.<mark>fromJson</mark>(pomPathIn, java.lang.String.class);
        dto.setPomPath(pomPathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____InboundRequestHandler_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____InboundRequestHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    void _on_create_buf(JsonObject obj) {
        Gson gson = <mark>new Gson</mark>();
        GetBufResponse res = gson.<mark>fromJson</mark>(obj, (Type) CreateBufResponse.class);
        Buf buf;
        if (res.encoding.equals(Encoding.BASE64.toString())) {
            buf = new BinaryBuf(res.path, res.id, new Base64().decode(res.buf.getBytes()), res.md5, context, outbound);
        } else {
            buf = new TextBuf(res.path, res.id, res.buf, res.md5, context, outbound);
        }
        editor.queue(buf, new RunLater<Buf>() {
            @Override
            public void run(Buf buf) {
                if (state.bufs == null) {
                    return;
                }
                state.bufs.put(buf.id, buf);
                state.pathsToIds.put(buf.path, buf.id);
                buf.write();
                fileAddedMessageThrottler.statusMessage(String.format("Added the file, %s, to the workspace.", buf.path));
            }
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Zweihui_____Aurora_____HistoryModel_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Zweihui_____Aurora_____HistoryModel.java

com.google.gson.Gson.fromJson

    @Override
    public Observable<List<VideoDaoEntity>> getListFromDb(int start) {
        return Observable.create((ObservableOnSubscribe<List<VideoDaoEntity>>) e -> {
            VideoDaoEntity entity = new VideoDaoEntity();
            List<VideoDaoEntity> list = GreenDaoHelper.getInstance().create(entity.getDbName())
                    .getMaster().newSession()
                    .getVideoDaoEntityDao().queryBuilder()
                    .limit(10)
                    .offset(start)
                    .orderDesc(VideoDaoEntityDao.Properties.Date)
                    .list();
            List<VideoDaoEntity> infolist = new ArrayList<VideoDaoEntity>();
            if (!StringUtils.isEmpty(list)) {
                for (VideoDaoEntity entity1 : list) {
                    entity1.setVideo(mGson.<mark>fromJson</mark>(entity1.getBody(), VideoListInfo.Video.VideoData.class));
                    infolist.add(entity1);
                }
            }
            e.onNext(infolist);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_70.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetRunConfigImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetRunConfigImpl dto = new GetRunConfigImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____SalesforceExtractor_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____SalesforceExtractor.java

com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.getAsJsonArray
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonArray.iterator

  @Override
  public long getCount(CommandOutput<?, ?> response) throws RecordCountException {
    log.info("Get source record count from salesforce");

    String output;
    Iterator<String> itr = (Iterator<String>) response.getResults().values().<mark>iterator</mark>();
    if (itr.hasNext()) {
      output = itr.next();
    } else {
      throw new RecordCountException("Failed to get count from salesforce; REST response has no output");
    }

    JsonElement element = GSON.<mark>fromJson</mark>(output, JsonObject.class);
    long count;
    try {
      JsonObject jsonObject = element.<mark>getAsJsonObject</mark>();
      count = jsonObject.<mark>get</mark>("totalSize").getAsLong();
    } catch (Exception e) {
      throw new RecordCountException("Failed to get record count from salesforce; error - " + e.getMessage(), e);
    }
    return count;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>demilich1_____metastone_____DeckProxy_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/demilich1_____metastone_____DeckProxy.java

com.google.gson.reflect.TypeToken<java.util.HashMap<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.HashMap<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson


	private void loadMetaDecks(Collection<ResourceInputStream> inputStreams, Gson gson) throws IOException {
		for (ResourceInputStream resourceInputStream : inputStreams) {
			Reader reader = new InputStreamReader(resourceInputStream.inputStream);
			HashMap<String, Object> map = gson.<mark>fromJson</mark>(reader, new TypeToken<HashMap<String, Object>>() {
			}.<mark>getType</mark>());
			if (!map.containsKey("heroClass")) {
				logger.error("Deck {} does not specify a value for 'heroClass' and is therefor not valid", resourceInputStream.fileName);
				continue;
			}
			String deckName = (String) map.get("name");
			Deck deck = null;
			if (!map.containsKey("decks")) {
				continue;
			} else {
				deck = parseMetaDeck(map);
			}
			deck.setName(deckName);
			deck.setFilename(resourceInputStream.fileName);
			decks.add(deck);
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____SalesforceSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____SalesforceSource.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.getAsJsonArray
com.google.gson.JsonElement.getAsJsonObject

   */
  private JsonArray getRecordsForQuery(SalesforceConnector connector, String query) {
    try {
      String soqlQuery = SalesforceExtractor.getSoqlUrl(query);
      List<Command> commands = RestApiConnector.constructGetCommand(connector.getFullUri(soqlQuery));
      CommandOutput<?, ?> response = connector.getResponse(commands);

      String output;
      Iterator<String> itr = (Iterator<String>) response.getResults().values().iterator();
      if (itr.hasNext()) {
        output = itr.next();
      } else {
        throw new DataRecordException("Failed to get data from salesforce; REST response has no output");
      }

      return GSON.<mark>fromJson</mark>(output, JsonObject.class).<mark>getAsJsonArray</mark>("records");
    } catch (RestApiClientException | RestApiProcessingException | DataRecordException e) {
      throw new RuntimeException("Fail to get data from salesforce", e);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AEFeinstein_____mtg-familiar_____CardAndSetParser_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AEFeinstein_____mtg-familiar_____CardAndSetParser.java

com.google.gson.stream.JsonReader.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * When the service is done, this method is called to commit the update dates to the shared preferences
     *
     * @param context the Context to manage preferences with
     */     */
    public Manifest readUpdateJsonStream(Context context, PrintWriter logWriter) {
        Manifest manifest;

        try {
            InputStream stream = FamiliarActivity.getHttpInputStream(PATCHES_URL, logWriter, context);
            if (stream == null) {
                throw new IOException("No Stream");
            }
            InputStreamReader isr = new InputStreamReader(stream);

            JsonReader reader = <mark>new JsonReader</mark>(isr);
            Gson gson = CardAndSetParser.getGson();

            manifest = gson.<mark>fromJson</mark>(reader, Manifest.class);
        } catch (IOException e) {
            if (logWriter != null) {
                e.printStackTrace(logWriter);
            }
            manifest = null;
        }
        return manifest;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_90.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GwtKillImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GwtKillImpl dto = new GwtKillImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cymcsg_____UltimateAndroid_____JsonUtil_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cymcsg_____UltimateAndroid_____JsonUtil.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.Gson.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.JsonElement.isJsonArray
com.google.gson.JsonElement.isJsonObject
com.google.gson.JsonElement.isJsonObject
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.isJsonArray
com.google.gson.reflect.TypeToken<java.util.ArrayList>.&ltinit&gt


    public static ArrayList getArrayListMapFromJson(String jsonString) {
        JsonParser jsonParser = <mark>new JsonParser</mark>();
        Gson gson = <mark>new Gson</mark>();
        JsonElement jsonElement = jsonParser.<mark>parse</mark>(jsonString);
        Logs.d(jsonElement.<mark>isJsonArray</mark>() + "   " + jsonElement.<mark>isJsonObject</mark>());
        ArrayList<HashMap<String, Object>> arrayList = new ArrayList<>();
        if (jsonElement.<mark>isJsonObject</mark>()) {
            arrayList.add(gson.<mark>fromJson</mark>(jsonElement, HashMap.class));
        } else if (jsonElement.<mark>isJsonArray</mark>()) {
            arrayList = getListFromJson(jsonString, new TypeToken<ArrayList<HashMap<String, Object>>>() {
            });
        }
        return arrayList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____AbstractOperationHolderConverter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____AbstractOperationHolderConverter.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.util.HashMap<java.lang.String,java.lang.String>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.util.HashMap<java.lang.String,java.lang.String>>>.getType
com.google.gson.Gson.fromJson


  public Query addIncludeFieldValues(Query query, String fieldValuesMapStr) {
    if (StringUtils.isNotEmpty(fieldValuesMapStr)) {
      List<Map<String, String>> criterias = <mark>new Gson</mark>().<mark>fromJson</mark>(fieldValuesMapStr,
        new TypeToken<List<HashMap<String, String>>>(){}.<mark>getType</mark>());
      for (Map<String, String> criteriaMap : criterias) {
        for (Map.Entry<String, String> fieldEntry : criteriaMap.entrySet()) {
          if (fieldEntry.getKey().equalsIgnoreCase(LOG_MESSAGE)) {
            addLogMessageFilter(query, fieldEntry.getValue(), false);
          } else {
            addFilterQuery(query, new Criteria(fieldEntry.getKey()).is(escapeNonLogMessageField(fieldEntry)), false);
          }
        }
      }
    }
    return query;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * Activate tenant
     *
     * @param tenantDomain domain name of the tenant
     * @throws CommandException
     */     */
    public void deleteUser(String userName) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doDelete(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_USER + "/" + userName);

            String resultString = CliUtils.getHttpResponseString(response);
            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            System.out.println(gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage());
        } catch (Exception e) {
            String message = "Could not delete user: " + userName;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getPercentageOfBuyOrderTakenForExchangeFee(String marketId) throws TradingApiException,
            ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("account_infos", null);
            LOG.debug(() -> "Buy Fee response: " + response);

            // Nightmare to adapt! Just take the top-level taker fees.
            final BitfinexAccountInfos bitfinexAccountInfos = gson.<mark>fromJson</mark>(response.getPayload(), BitfinexAccountInfos.class);
            final BigDecimal fee = bitfinexAccountInfos.get(0).taker_fees;

            // adapt the % into BigDecimal format
            return fee.divide(new BigDecimal("100"), 8, BigDecimal.ROUND_HALF_UP);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____HomeOtherGroupTimeLineDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____HomeOtherGroupTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.getMessage


    static TimeLinePosition getPosition(String accountId, String groupId) {
        String sql = "select * from " + HomeOtherGroupTable.TABLE_NAME + " where " + HomeOtherGroupTable.ACCOUNTID + "  = "
                + accountId + " and "
                + HomeOtherGroupTable.GROUPID + " = " + groupId;
        Cursor c = getRsd().rawQuery(sql, null);
        Gson gson = <mark>new Gson</mark>();
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(HomeOtherGroupTable.TIMELINEDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    TimeLinePosition value = gson.<mark>fromJson</mark>(json, TimeLinePosition.class);
                    c.close();
                    return value;

                } catch (JsonSyntaxException e) {
                    e.printStackTrace();
                }
            }

        }
        c.close();
        return new TimeLinePosition(0, 0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getPercentageOfSellOrderTakenForExchangeFee(String marketId) throws TradingApiException,
            ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("account_infos", null);
            LOG.debug(() -> "Sell Fee response: " + response);

            // Nightmare to adapt! Just take the top-level taker fees.
            final BitfinexAccountInfos bitfinexAccountInfos = gson.<mark>fromJson</mark>(response.getPayload(), BitfinexAccountInfos.class);
            final BigDecimal fee = bitfinexAccountInfos.get(0).taker_fees;

            // adapt the % into BigDecimal format
            return fee.divide(new BigDecimal("100"), 8, BigDecimal.ROUND_HALF_UP);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>syncthing_____syncthing-android_____RestApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/syncthing_____syncthing-android_____RestApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

/**
     * Requests and parses information about current system status and resource usage.
     */
    private void onReloadConfigComplete(String result) {
        Boolean configParseSuccess;
        synchronized(mConfigLock) {
            mConfig = <mark>new Gson</mark>().<mark>fromJson</mark>(result, Config.class);
            configParseSuccess = mConfig != null;
        }
        if (!configParseSuccess) {
            throw new RuntimeException("config is null: " + result);
        }
        Log.v(TAG, "onReloadConfigComplete: Successfully parsed configuration.");
        if (BuildConfig.DEBUG) {
            Log.v(TAG, "mConfig.pendingDevices = " + <mark>new Gson</mark>().<mark>toJson</mark>(mConfig.pendingDevices));
            Log.v(TAG, "mConfig.remoteIgnoredDevices = " + <mark>new Gson</mark>().<mark>toJson</mark>(mConfig.remoteIgnoredDevices));
        }

        // Update cached device and folder information stored in the mCompletion model.
        mCompletion.updateFromConfig(getDevices(true), getFolders());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_33.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult addFacesToFaceList(String faceListId, String url, String userData, FaceRectangle targetFace) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String path = String.format("%s/%s/%s/%s", mServiceHost, FACE_LISTS_QUERY, faceListId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);
        params.clear();
        params.put("url", url);
        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____WebServiceRequest_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____WebServiceRequest.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    private Object put(String url, Map<String, Object> data) throws ClientException, IOException {
        String json = mGson.<mark>toJson</mark>(data);

        Request request = new Request.Builder()
                .url(url)
                .header(HEADER_KEY, mSubscriptionKey)
                .header(CONTENT_TYPE, APPLICATION_JSON)
                .put(RequestBody.create(MediaType.get(APPLICATION_JSON), json))
                .build();

        Response response = mClient.newCall(request).execute();

        if (response.isSuccessful()) {
            return readInput(response);
        } else {
            json = readInput(response);
            if (json != null) {
                ServiceError error = mGson.<mark>fromJson</mark>(json, ServiceError.class);
                if (error != null) {
                    throw new ClientException(error.error);
                }
            }

            throw new ClientException("Error executing PUT request!", response.code());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeeoBrainApi_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeeoBrainApi.java

com.google.gson.Gson.fromJson

/**
     * Trigger macro on a specified device in the specified room.
     *
     * @param roomKey the non-null room key
     * @param deviceKey the non-null device key
     * @param macroKey the non-null macro key
     * @return the execute result
     * @throws IOException Signals that an I/O exception has occurred.
     */     */
    ExecuteResult stopScenario(String roomKey, String scenarioKey) throws IOException {
        NeeoUtil.requireNotEmpty(roomKey, "roomKey cannot be empty");
        NeeoUtil.requireNotEmpty(scenarioKey, "scenarioKey cannot be empty");

        final String url = urlBuilder.append(NeeoConstants.STOP_SCENARIO).sub("roomkey", roomKey)
                .sub("scenariokey", scenarioKey).toString();

        final HttpRequest rqst = request.get();
        final HttpResponse resp = rqst.sendGetCommand(url);
        if (resp.getHttpCode() != HttpStatus.OK_200) {
            throw resp.createException();
        }

        return gson.<mark>fromJson</mark>(resp.getContent(), ExecuteResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____DrupalRestHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____DrupalRestHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<UNRESOLVED.MarketPlacePluginCategory>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.ArrayList<UNRESOLVED.MarketPlacePluginCategory>>.getType
com.google.gson.Gson.fromJson


    protected static ArrayList<MarketPlacePluginResume> retrieveResumes() {
        ArrayList<MarketPlacePluginResume> pluginList = new ArrayList<MarketPlacePluginResume>();
        try {
            ClientResource cr = new ClientResource(DRUPALSCHEMA + "://" + DRUPALPATH + "/rest/node?parameters[type]=plugin");
            Representation test2 = cr.get();
            String jsonData2;
            jsonData2 = test2.getText();
            Gson gson = <mark>new Gson</mark>();
            Type collectionType = new TypeToken<ArrayList<MarketPlacePluginResume>>() {
            }.<mark>getType</mark>();
            pluginList = gson.<mark>fromJson</mark>(jsonData2, collectionType);
            defaultIconImage = retrieveImageIcon(DEFAULTIMAGEPATH);
        } catch (IOException ex) {
        }
        return pluginList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____CurrenciesHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____CurrenciesHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static ArrayList<CurrencyDomain> getAllCurrencies(final RequestSpecification requestSpec,
            final ResponseSpecification responseSpec) {
        final String GET_ALL_CURRENCIES_URL = CURRENCIES_URL + "?" + Utils.TENANT_IDENTIFIER;
        System.out.println("------------------------ RETRIEVING ALL CURRENCIES -------------------------");
        final HashMap response = Utils.performServerGet(requestSpec, responseSpec, GET_ALL_CURRENCIES_URL, "");
        ArrayList<HashMap> selectedCurrencyOptions = (ArrayList<HashMap>) response.get("selectedCurrencyOptions");
        ArrayList<HashMap> currencyOptions = (ArrayList<HashMap>) response.get("currencyOptions");
        currencyOptions.addAll(selectedCurrencyOptions);
        final String jsonData = <mark>new Gson</mark>().<mark>toJson</mark>(new ArrayList<HashMap>(selectedCurrencyOptions));
        return <mark>new Gson</mark>().<mark>fromJson</mark>(jsonData, new TypeToken<ArrayList<CurrencyDomain>>() {}.getType());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____HypervDirectConnectResource_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____HypervDirectConnectResource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    protected void modifyNicVlan(final String vmName, final String vlanId, final String macAddress) {
        final ModifyVmNicConfigCommand modifynic = new ModifyVmNicConfigCommand(vmName, vlanId, macAddress);
        URI agentUri = null;
        try {
            final String cmdName = ModifyVmNicConfigCommand.class.getName();
            agentUri =
                    new URI("https", null, _agentIp, _port,
                            "/api/HypervResource/" + cmdName, null, null);
        } catch (final URISyntaxException e) {
            final String errMsg = "Could not generate URI for Hyper-V agent";
            s_logger.error(errMsg, e);
        }
        final String ansStr = postHttpRequest(s_gson.<mark>toJson</mark>(modifynic), agentUri);
        final Answer[] result = s_gson.<mark>fromJson</mark>(ansStr, Answer[].class);
        s_logger.debug("executeRequest received response "
                + s_gson.<mark>toJson</mark>(result));
        if (result.length > 0) {
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public boolean cancelOrder(String orderId, String marketId) throws ExchangeNetworkException, TradingApiException {
		try {
			final Map<String, Object> params = createRequestParamMap();
			params.put("Type", "Trade"); // to cancel a single Trade by order id
			params.put("OrderId", Long.parseLong(orderId));
			final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("CancelTrade", params);
			LOG.debug(() -> "Cancel Order response: " + response);
			
			final Type responseApiType = new TypeToken<CryptopiaPrivateApiResponse<CryptopiaCancelOrderResponse>>() {}.getType();
			final CryptopiaPrivateApiResponse<CryptopiaCancelOrderResponse> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(), responseApiType);
			return cryptopiaResponse.Success;
        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_38.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult addFacesToLargeFaceList(String largeFaceListId, String url, String userData, FaceRectangle targetFace) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String path = String.format("%s/%s/%s/%s", mServiceHost, LARGE_FACE_LISTS_QUERY, largeFaceListId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);
        params.clear();
        params.put("url", url);
        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wu-sheng_____sky-walking_____GraphQLQueryHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wu-sheng_____sky-walking_____GraphQLQueryHandler.java

com.google.gson.JsonObject.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.add
com.google.gson.JsonArray.&ltinit&gt
com.google.gson.JsonObject.&ltinit&gt
com.google.gson.JsonObject.addProperty
com.google.gson.JsonArray.add
com.google.gson.JsonObject.add
com.google.gson.JsonObject.&ltinit&gt
com.google.gson.JsonArray.&ltinit&gt
com.google.gson.JsonObject.&ltinit&gt
com.google.gson.JsonObject.addProperty
com.google.gson.JsonArray.add
com.google.gson.JsonObject.add


    @Override protected JsonElement doPost(HttpServletRequest req) throws IOException {
        BufferedReader reader = new BufferedReader(new InputStreamReader(req.getInputStream()));
        String line;
        StringBuilder request = new StringBuilder();
        while ((line = reader.readLine()) != null) {
            request.append(line);
        }

        JsonObject requestJson = gson.<mark>fromJson</mark>(request.toString(), JsonObject.class);

        return execute(requestJson.get(QUERY).getAsString(), gson.<mark>fromJson</mark>(requestJson.get(VARIABLES), mapOfStringObjectType));
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_100.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean


    public static LeaveWorkspaceImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LeaveWorkspaceImpl dto = new LeaveWorkspaceImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NukiHttpClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NukiHttpClient.java

com.google.gson.Gson.fromJson


    public synchronized BridgeInfoResponse getBridgeInfo() {
        logger.debug("getBridgeInfo()");
        String uri = prepareUri(NukiBindingConstants.URI_INFO);
        try {
            ContentResponse contentResponse = executeRequest(uri);
            int status = contentResponse.getStatus();
            String response = contentResponse.getContentAsString();
            if (status == HttpStatus.OK_200) {
                BridgeApiInfoDto bridgeApiInfoDto = gson.<mark>fromJson</mark>(response, BridgeApiInfoDto.class);
                return new BridgeInfoResponse(status, contentResponse.getReason(), bridgeApiInfoDto);
            } else {
                logger.debug("Could not get Bridge Info! Status[{}] - Response[{}]", status, response);
                return new BridgeInfoResponse(status, contentResponse.getReason(), null);
            }
        } catch (Exception e) {
            logger.debug("Could not get Bridge Info! Exception[{}]", e.getMessage());
            return new BridgeInfoResponse(handleException(e));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NikoHomeControlCommunication2_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NikoHomeControlCommunication2.java

com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.getType
com.google.gson.Gson.fromJson


    private void timePublishEvt(String response) {
        Type messageType = new TypeToken<NhcMessage2>() {
        }.<mark>getType</mark>();
        List<NhcTimeInfo2> timeInfo = null;
        try {
            NhcMessage2 message = gson.<mark>fromJson</mark>(response, messageType);
            if (message.params != null) {
                timeInfo = message.params.stream().filter(p -> (p.timeInfo != null)).findFirst().get().timeInfo;
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Niko Home Control: unexpected json {}", response);
        } catch (NoSuchElementException ignore) {
            // Ignore if timeInfo not present in response, this should not happen in a timeInfo response
        }
        if (timeInfo != null) {
            nhcTimeInfo = timeInfo.get(0);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____WebServiceRequest_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____WebServiceRequest.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    private Object patch(String url, Map<String, Object> data, String contentType) throws ClientException, IOException {
        String json = mGson.<mark>toJson</mark>(data);

        Request request = new Request.Builder()
                .url(url)
                .header(HEADER_KEY, mSubscriptionKey)
                .patch(RequestBody.create(MediaType.get(APPLICATION_JSON), json))
                .header(CONTENT_TYPE, APPLICATION_JSON)
                .build();

        Response response = this.mClient.newCall(request).execute();

        if (response.isSuccessful()) {
            return readInput(response);
        } else {
            json = readInput(response);
            if (json != null) {
                ServiceError error = mGson.<mark>fromJson</mark>(json, ServiceError.class);
                if (error != null) {
                    throw new ClientException(error.error);
                }
            }

            throw new ClientException("Error executing Patch request!", response.code());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_73.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsBoolean


    public static GetSyncStateImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetSyncStateImpl dto = new GetSyncStateImpl();
      JsonObject json = jsonElem.getAsJsonObject();

      if (json.has("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_111.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    public static ConflictHandleImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ConflictHandleImpl dto = new ConflictHandleImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("conflictId")) {
        JsonElement conflictIdIn = json.<mark>get</mark>("conflictId");
        java.lang.String conflictIdOut = gson.<mark>fromJson</mark>(conflictIdIn, java.lang.String.class);
        dto.setConflictId(conflictIdOut);
      }

      if (json.<mark>has</mark>("conflictIndex")) {
        JsonElement conflictIndexIn = json.<mark>get</mark>("conflictIndex");
        int conflictIndexOut = conflictIndexIn.getAsInt();
        dto.setConflictIndex(conflictIndexOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____intellij-community_____TaskResponseUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/JetBrains_____intellij-community_____TaskResponseUtil.java

com.google.gson.reflect.TypeToken<java.util.List<com.intellij.tasks.impl.httpclient.T>>.getType
com.google.gson.Gson.fromJson
com.google.gson.reflect.TypeToken<java.util.List<com.intellij.tasks.impl.httpclient.T>>.getType
com.google.gson.Gson.fromJson

    @Override
    public T handleResponse(HttpResponse response) throws IOException {
      int statusCode = response.getStatusLine().getStatusCode();
      if (!isSuccessful(statusCode)) {
        if (statusCode == HttpStatus.SC_NOT_FOUND && myIgnoreNotFound) {
          return null;
        }
        throw RequestFailedException.forStatusCode(statusCode);
      }
      try {
        if (LOG.isDebugEnabled()) {
          String content = getResponseContentAsString(response);
          TaskUtil.prettyFormatJsonToLog(LOG, content);
          return myGson.<mark>fromJson</mark>(content, myClass);
        }
        else {
          return myGson.<mark>fromJson</mark>(getResponseContentAsReader(response), myClass);
        }
      }
      catch (JsonSyntaxException e) {
        LOG.warn("Malformed server response", e);
        return null;
      }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____InboundRequestHandler_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____InboundRequestHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    void _on_perms(JsonObject obj) {
        Perms res = <mark>new Gson</mark>().<mark>fromJson</mark>(obj, (Type) Perms.class);

        Boolean previousState = state.can("patch");
        if (res.user_id != state.getMyConnectionId()) {
            return;
        }
        HashSet<String> perms = new HashSet<String>(Arrays.asList(res.perms));
        if (res.action.equals("add")) {
            state.perms.addAll(perms);
        } else if (res.action.equals("set")) {
            state.perms.clear();
            state.perms.addAll(perms);
        } else if (res.action.equals("remove")) {
            state.perms.removeAll(perms);
        }
        state.readOnly = !state.can("patch");
        if (state.can("patch") != previousState) {
            if (state.can("patch")) {
                context.statusMessage("You state.can now edit this workspace.");
                context.iFactory.clearReadOnlyState();
            } else {
                context.errorMessage("You state.can no longer edit this workspace.");
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ForgeEssentials_____ForgeEssentials_____JsonProvider_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ForgeEssentials_____ForgeEssentials_____JsonProvider.java

com.google.gson.Gson.fromJson


    private void loadUsers(ServerZone serverZone)
    {
        UsersData usersData = null;
        try
        {
            BufferedReader reader = new BufferedReader(new FileReader(path + "/users.json"));
            usersData = gson.<mark>fromJson</mark>(reader, UsersData.class);
        }
        catch (IOException e)
        {
            LoggingHandler.felog.error("Could not load groups data: " + e.getMessage());
            return;
        }
        for (String uuid : usersData.users.keySet())
        {
            UserData userData = usersData.users.get(uuid);
            UserIdent ident = UserIdent.get(uuid, userData.username);
            PermissionList list = PermissionList.fromList(userData.permissions);
            list.put(FEPermissions.PREFIX, userData.prefix);
            list.put(FEPermissions.SUFFIX, userData.suffix);
            serverZone.getOrCreatePlayerPermissions(ident).putAll(list);
            for (String group : userData.groups)
            {
                serverZone.addPlayerToGroup(ident, group);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____ClusteredAgentManagerImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____ClusteredAgentManagerImpl.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson


    public Boolean propagateAgentEvent(final long agentId, final Event event) throws AgentUnavailableException {
        final String msPeer = getPeerName(agentId);
        if (msPeer == null) {
            return null;
        }

        if (s_logger.isDebugEnabled()) {
            s_logger.debug("Propagating agent change request event:" + event.toString() + " to agent:" + agentId);
        }
        final Command[] cmds = new Command[1];
        cmds[0] = new ChangeAgentCommand(agentId, event);

        final String ansStr = _clusterMgr.execute(msPeer, agentId, _gson.<mark>toJson</mark>(cmds), true);
        if (ansStr == null) {
            throw new AgentUnavailableException(agentId);
        }

        final Answer[] answers = _gson.<mark>fromJson</mark>(ansStr, Answer[].class);

        if (s_logger.isDebugEnabled()) {
            s_logger.debug("Result for agent change is " + answers[0].getResult());
        }

        return answers[0].getResult();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SlimeKnights_____TinkersConstruct_____ToolModelOverride_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/SlimeKnights_____TinkersConstruct_____ToolModelOverride.java

com.google.gson.JsonElement.getAsJsonObject
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString

    @Override
    public ImmutableList<ToolModelOverride> deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext)
        throws JsonParseException {
      JsonObject obj = json.<mark>getAsJsonObject</mark>();
      JsonElement texElem = obj.<mark>get</mark>("overrides");

      if(texElem == null) {
        return ImmutableList.of();
      }

      if(texElem.isJsonObject()) {
        return ImmutableList.of(GSON.<mark>fromJson</mark>(texElem, ToolModelOverrideDeserializer.TYPE));
      }

      ImmutableList.Builder<ToolModelOverride> builder = ImmutableList.builder();

      for(JsonElement jsonElement : texElem.getAsJsonArray()) {
        builder.add((ToolModelOverride) GSON.<mark>fromJson</mark>(jsonElement, ToolModelOverrideDeserializer.TYPE));
      }

      return builder.build();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_22.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult addPersonFace(String personGroupId, UUID personId, String url, String userData, FaceRectangle targetFace) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String path = String.format("%s/%s/%s/%s/%s/%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId, PERSONS_QUERY, personId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);
        params.clear();
        params.put("url", url);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NikoHomeControlCommunication2_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NikoHomeControlCommunication2.java

com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.getType
com.google.gson.Gson.fromJson


    private void systeminfoPublishRsp(String response) {
        Type messageType = new TypeToken<NhcMessage2>() {
        }.<mark>getType</mark>();
        List<NhcSystemInfo2> systemInfo = null;
        try {
            NhcMessage2 message = gson.<mark>fromJson</mark>(response, messageType);
            if (message.params != null) {
                systemInfo = message.params.stream().filter(p -> (p.systemInfo != null)).findFirst().get().systemInfo;
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Niko Home Control: unexpected json {}", response);
        } catch (NoSuchElementException ignore) {
            // Ignore if systemInfo not present in response, this should not happen in a systemInfo response
        }
        if (systemInfo != null) {
            nhcSystemInfo = systemInfo.get(0);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GdaxExchangeAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GdaxExchangeAdapter.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getLatestMarketPrice(String marketId) throws ExchangeNetworkException, TradingApiException {

        try {

            final ExchangeHttpResponse response = sendPublicRequestToExchange("products/" + marketId + "/ticker", null);
            LOG.debug(() -> "Latest Market Price response: " + response);

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {
                final GdaxTicker gdaxTicker = gson.<mark>fromJson</mark>(response.getPayload(), GdaxTicker.class);
                return gdaxTicker.price;
            } else {
                final String errorMsg = "Failed to get market ticker from exchange. Details: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_88.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceResponseImpl dto = new GetWorkspaceResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspace")) {
        JsonElement workspaceIn = json.<mark>get</mark>("workspace");
        WorkspaceInfoImpl workspaceOut = WorkspaceInfoImpl.fromJsonElement(workspaceIn);
        dto.setWorkspace(workspaceOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_126.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsBoolean


    public static RequestProjectMembershipImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RequestProjectMembershipImpl dto = new RequestProjectMembershipImpl();
      JsonObject json = jsonElem.getAsJsonObject();

      if (json.has("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.SimilarPersistedFace>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.SimilarPersistedFace>>.getType
com.google.gson.Gson.fromJson

    @Override
    public SimilarFace[] findSimilar(UUID faceId, UUID[] faceIds, int maxNumOfCandidatesReturned, FindSimilarMatchMode mode) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String uri = String.format("%s/%s", mServiceHost, FIND_SIMILARS_QUERY);
        params.put("faceId", faceId);
        params.put("faceIds", faceIds);
        params.put("maxNumOfCandidatesReturned", maxNumOfCandidatesReturned);
        params.put("mode", mode.toString());
        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        Type listType = new TypeToken<List<SimilarFace>>() {
        }.<mark>getType</mark>();
        List<SimilarFace> result = mGson.<mark>fromJson</mark>(json, listType);
        return result.toArray(new SimilarFace[result.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>GoogleCloudPlatform_____java-docs-samples_____AlertSample_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/GoogleCloudPlatform_____java-docs-samples_____AlertSample.java

com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson

  // [START monitoring_alert_restore_policies]
  private static void restorePolicies(String projectId, String filePath) throws IOException {
    FileReader reader = new FileReader(filePath);
    BufferedReader bufferedReader = new BufferedReader(reader);

    JsonObject backupContent = getPolicyJsonContents(filePath, bufferedReader);
    String backupProjectId = backupContent.<mark>get</mark>("project_id").getAsString();
    boolean isSameProject = projectId.equals(backupProjectId);

    AlertPolicy[] policies = gson.<mark>fromJson</mark>(backupContent.<mark>get</mark>("policies"), AlertPolicy[].class);
    List<NotificationChannel> notificationChannels = readNotificationChannelsJson(backupContent);
    Map<String, String> restoredChannelIds = restoreNotificationChannels(projectId,
        notificationChannels,
        isSameProject);
    List<AlertPolicy> policiesToRestore =
        reviseRestoredPolicies(policies, isSameProject, restoredChannelIds);

    restoreRevisedPolicies(projectId, isSameProject, policiesToRestore);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_42.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static EndUploadSessionImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      EndUploadSessionImpl dto = new EndUploadSessionImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("sessionId")) {
        JsonElement sessionIdIn = json.<mark>get</mark>("sessionId");
        java.lang.String sessionIdOut = gson.<mark>fromJson</mark>(sessionIdIn, java.lang.String.class);
        dto.setSessionId(sessionIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NikoHomeControlCommunication2_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NikoHomeControlCommunication2.java

com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.getType
com.google.gson.Gson.fromJson


    private void profilesListRsp(String response) {
        Type messageType = new TypeToken<NhcMessage2>() {
        }.<mark>getType</mark>();
        List<NhcProfile2> profileList = null;
        try {
            NhcMessage2 message = gson.<mark>fromJson</mark>(response, messageType);
            if (message.params != null) {
                profileList = message.params.stream().filter(p -> (p.profiles != null)).findFirst().get().profiles;
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Niko Home Control: unexpected json {}", response);
        } catch (NoSuchElementException ignore) {
            // Ignore if profiles not present in response, this should not happen in a profiles response
        }
        profiles.clear();
        if (profileList != null) {
            profiles.addAll(profileList);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NikoHomeControlCommunication2_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NikoHomeControlCommunication2.java

com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.getType
com.google.gson.Gson.fromJson


    private void servicesListRsp(String response) {
        Type messageType = new TypeToken<NhcMessage2>() {
        }.<mark>getType</mark>();
        List<NhcService2> serviceList = null;
        try {
            NhcMessage2 message = gson.<mark>fromJson</mark>(response, messageType);
            if (message.params != null) {
                serviceList = message.params.stream().filter(p -> (p.services != null)).findFirst().get().services;
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Niko Home Control: unexpected json {}", response);
        } catch (NoSuchElementException ignore) {
            // Ignore if services not present in response, this should not happen in a services response
        }
        services.clear();
        if (serviceList != null) {
            services.addAll(serviceList);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NikoHomeControlCommunication2_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NikoHomeControlCommunication2.java

com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.getType
com.google.gson.Gson.fromJson


    private void locationsListRsp(String response) {
        Type messageType = new TypeToken<NhcMessage2>() {
        }.<mark>getType</mark>();
        List<NhcLocation2> locationList = null;
        try {
            NhcMessage2 message = gson.<mark>fromJson</mark>(response, messageType);
            if (message.params != null) {
                locationList = message.params.stream().filter(p -> (p.locations != null)).findFirst().get().locations;
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Niko Home Control: unexpected json {}", response);
        } catch (NoSuchElementException ignore) {
            // Ignore if locations not present in response, this should not happen in a locations response
        }
        locations.clear();
        if (locationList != null) {
            locations.addAll(locationList);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____ClusteredAgentManagerImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____ClusteredAgentManagerImpl.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    private Answer[] sendRebalanceCommand(final long peer, final long agentId, final long currentOwnerId, final long futureOwnerId, final Event event) {
        final TransferAgentCommand transfer = new TransferAgentCommand(agentId, currentOwnerId, futureOwnerId, event);
        final Commands commands = new Commands(Command.OnError.Stop);
        commands.addCommand(transfer);

        final Command[] cmds = commands.toCommands();

        try {
            if (s_logger.isDebugEnabled()) {
                s_logger.debug("Forwarding " + cmds[0].toString() + " to " + peer);
            }
            final String peerName = Long.toString(peer);
            final String cmdStr = _gson.<mark>toJson</mark>(cmds);
            final String ansStr = _clusterMgr.execute(peerName, agentId, cmdStr, true);
            final Answer[] answers = _gson.<mark>fromJson</mark>(ansStr, Answer[].class);
            return answers;
        } catch (final Exception e) {
            s_logger.warn("Caught exception while talking to " + currentOwnerId, e);
            return null;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testCreateDB() {
        String query = "create database test1";
        byte [] bytes = query.getBytes();
        runner.enqueue(bytes);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);
        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertNull("Value should be null", flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));

        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(new String(flowFiles.get(0).toByteArray())), QueryResult.class);
        assertNotNull("QueryResult should not be null", queryResult.getResults());
        assertEquals("results array should be same size", 1, queryResult.getResults().size());
        assertNull("No series", queryResult.getResults().get(0).getSeries());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_79.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceImpl dto = new GetWorkspaceImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_28.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult addPersonFaceInLargePersonGroup(String largePersonGroupId, UUID personId, String url, String userData, FaceRectangle targetFace) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String path = String.format("%s/%s/%s/%s/%s/%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId, PERSONS_QUERY, personId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);
        params.clear();
        params.put("url", url);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____AbstractKerberosDescriptorFactory_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____AbstractKerberosDescriptorFactory.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson

/**
   * Parses a JSON-formatted String into a (generic) Map.
   *
   * @param json a String containing the JSON-formatted text to parse
   * @return a Map of the data
   * @throws AmbariException if an error occurs while parsing the JSON-formatted String
   */   */
  protected Map<String, Object> parseFile(File file) throws IOException {
    if (file == null) {
      return Collections.emptyMap();
    } else if (!file.isFile() || !file.canRead()) {
      throw new IOException(String.format("%s is not a readable file", file.getAbsolutePath()));
    } else {
      try {
        return <mark>new Gson</mark>().<mark>fromJson</mark>(new FileReader(file),
            new TypeToken<Map<String, Object>>() {
            }.<mark>getType</mark>());
      } catch (JsonSyntaxException e) {
        throw new AmbariException(String.format("Failed to parse JSON-formatted file: %s", file.getAbsolutePath()), e);
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_125.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static RefreshWorkspaceImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RefreshWorkspaceImpl dto = new RefreshWorkspaceImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("basePath")) {
        JsonElement basePathIn = json.<mark>get</mark>("basePath");
        java.lang.String basePathOut = gson.<mark>fromJson</mark>(basePathIn, java.lang.String.class);
        dto.setBasePath(basePathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_136.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ServerErrorImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ServerErrorImpl dto = new ServerErrorImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("failureReason")) {
        JsonElement failureReasonIn = json.<mark>get</mark>("failureReason");
        com.google.collide.dto.ServerError.FailureReason failureReasonOut = gson.<mark>fromJson</mark>(failureReasonIn, com.google.collide.dto.ServerError.FailureReason.class);
        dto.setFailureReason(failureReasonOut);
      }

      if (json.<mark>has</mark>("details")) {
        JsonElement detailsIn = json.<mark>get</mark>("details");
        java.lang.String detailsOut = gson.<mark>fromJson</mark>(detailsIn, java.lang.String.class);
        dto.setDetails(detailsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_37.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static RetainImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RetainImpl dto = new RetainImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("hasTrailingNewline")) {
        JsonElement hasTrailingNewlineIn = json.<mark>get</mark>("hasTrailingNewline");
        boolean hasTrailingNewlineOut = hasTrailingNewlineIn.getAsBoolean();
        dto.setHasTrailingNewline(hasTrailingNewlineOut);
      }

      if (json.<mark>has</mark>("count")) {
        JsonElement countIn = json.<mark>get</mark>("count");
        int countOut = countIn.<mark>getAsInt</mark>();
        dto.setCount(countOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codice_____ddf_____UserApplication_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/codice_____ddf_____UserApplication.java

com.google.gson.Gson.fromJson

  @Override
  public void init() {
    get(
        "/user",
        (req, res) -> {
          Subject subject = (Subject) SecurityUtils.getSubject();
          res.type(APPLICATION_JSON);
          return getSubjectAttributes(subject);
        },
        util::getJson);

    put(
        "/user/preferences",
        APPLICATION_JSON,
        (req, res) -> {
          Subject subject = (Subject) SecurityUtils.getSubject();

          if (subject.isGuest()) {
            res.status(401);
            return ImmutableMap.of("message", "Guest cannot save preferences.");
          }

          Map<String, Object> preferences =
              GSON.<mark>fromJson</mark>(util.safeGetBody(req), MAP_STRING_TO_OBJECT_TYPE);

          if (preferences == null) {
            preferences = new HashMap<>();
          }

          setUserPreferences(subject, preferences);

          return preferences;
        },
        util::getJson);

    exception(EntityTooLargeException.class, util::handleEntityTooLargeException);

    exception(IOException.class, util::handleIOException);

    exception(RuntimeException.class, util::handleRuntimeException);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____MyStatusDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____MyStatusDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.printStackTrace


    public static MyStatusTimeLineData get(String accountId) {
        Gson gson = <mark>new Gson</mark>();
        MessageListBean result = new MessageListBean();

        List<MessageBean> msgList = new ArrayList<MessageBean>();
        String sql = "select * from " + MyStatusTable.StatusDataTable.TABLE_NAME + " where "
                + MyStatusTable.StatusDataTable.ACCOUNTID + "  = " + accountId
                + " order by " + MyStatusTable.StatusDataTable.MBLOGID + " desc limit 50";
        Cursor c = getRsd().rawQuery(sql, null);
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(MyStatusTable.StatusDataTable.JSONDATA));
            try {
                MessageBean value = gson.<mark>fromJson</mark>(json, MessageBean.class);
                value.getListViewSpannableString();
                msgList.add(value);
            } catch (JsonSyntaxException ignored) {

            }

        }

        result.setStatuses(msgList);
        c.close();
        return new MyStatusTimeLineData(result, getPosition(accountId));

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>pusher_____pusher-websocket-java_____PresenceChannelImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/pusher_____pusher-websocket-java_____PresenceChannelImpl.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson

    @SuppressWarnings("rawtypes")
    public String toSubscribeMessage() {

        final String authResponse = getAuthResponse();

        try {
            final Map authResponseMap = GSON.<mark>fromJson</mark>(authResponse, Map.class);
            final String authKey = (String)authResponseMap.get("auth");
            final Object channelData = authResponseMap.get("channel_data");

            storeMyUserId(channelData);

            final Map<Object, Object> jsonObject = new LinkedHashMap<Object, Object>();
            jsonObject.put("event", "pusher:subscribe");

            final Map<Object, Object> dataMap = new LinkedHashMap<Object, Object>();
            dataMap.put("channel", name);
            dataMap.put("auth", authKey);
            dataMap.put("channel_data", channelData);

            jsonObject.put("data", dataMap);

            final String json = GSON.<mark>toJson</mark>(jsonObject);

            return json;
        }
        catch (final Exception e) {
            throw new AuthorizationFailureException("Unable to parse response from Authorizer: " + authResponse, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NeatoAccountHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NeatoAccountHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    private List<Robot> sendGetRobots(String accessToken) {
        Properties headers = new Properties();
        headers.setProperty("Accept", "application/vnd.neato.nucleo.v1");

        headers.setProperty("Authorization", "Token token=" + accessToken);

        try {
            String resultString = HttpUtil.executeUrl("GET", "https://beehive.neatocloud.com/dashboard", headers, null,
                    "application/json", 20000);

            Gson gson = <mark>new Gson</mark>();
            NeatoAccountInformation accountInformation = gson.<mark>fromJson</mark>(resultString, NeatoAccountInformation.class);

            logger.debug("Result from WS call to get Robots: {}", resultString);

            return accountInformation.getRobots();
        } catch (IOException e) {
            logger.debug("Error attempting to find robots registered to account", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                    "Error attempting to find robots registered to account");
            return new ArrayList<Robot>();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_74.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsBoolean


    public static GetSyncStateResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetSyncStateResponseImpl dto = new GetSyncStateResponseImpl();
      JsonObject json = jsonElem.getAsJsonObject();

      if (json.has("syncState")) {
        JsonElement syncStateIn = json.<mark>get</mark>("syncState");
        com.google.collide.dto.GetSyncStateResponse.SyncState syncStateOut = gson.<mark>fromJson</mark>(syncStateIn, com.google.collide.dto.GetSyncStateResponse.SyncState.class);
        dto.setSyncState(syncStateOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>capitalone_____Hydrograph_____ViewExecutionHistoryUtility_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/capitalone_____Hydrograph_____ViewExecutionHistoryUtility.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.Gson.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson

/**
	 * @param message Display the error message 
	 * 
	 */	 */
	public ExecutionStatus readJsonLogFile(String uniqueJobId, boolean isLocalMode, String filePath, boolean isReplay) throws IOException{
		ExecutionStatus[] executionStatus;
		String jobId = "";
		String path = null;
		String jsonArray = "";
		if(isLocalMode){
			jobId = EXECUTION_TRACKING_LOCAL_MODE + uniqueJobId;
		}else{
			jobId = EXECUTION_TRACKING_REMOTE_MODE + uniqueJobId;
		}
		
		
		if(isReplay){
 			path = filePath + jobId + EXECUTION_TRACKING_LOG_FILE_EXTENTION;
 		}else{
 			path = getLogPath() + jobId + EXECUTION_TRACKING_LOG_FILE_EXTENTION;
 		}
		
		JsonParser jsonParser = <mark>new JsonParser</mark>();
		
		Gson gson = <mark>new Gson</mark>();
		try(Reader fileReader = new FileReader(new File(path));){
			jsonArray = jsonParser.<mark>parse</mark>(fileReader).toString();
		}catch (Exception exception) {
			logger.error("Failed to read file: ", exception);
		}
		
		executionStatus = gson.<mark>fromJson</mark>(jsonArray, ExecutionStatus[].class);
		return executionStatus[executionStatus.length-1];
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____HeliumRestApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____HeliumRestApi.java

com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.getType
com.google.gson.Gson.fromJson

  @Path("config/{packageName}/{artifact}")
  public Response updatePackageConfig(@PathParam("packageName") String packageName,
          @PathParam("artifact") String artifact, String rawConfig) {
    if (StringUtils.isEmpty(packageName) || StringUtils.isEmpty(artifact)) {
      return new JsonResponse(Response.Status.BAD_REQUEST,
          "package name or artifact is empty"
      ).build();
    }

    try {
      Map<String, Object> packageConfig = gson.<mark>fromJson</mark>(
          rawConfig, new TypeToken<Map<String, Object>>(){}.<mark>getType</mark>());
      helium.updatePackageConfig(artifact, packageConfig);
      return new JsonResponse<>(Response.Status.OK, packageConfig).build();
    } catch (JsonParseException e) {
      logger.error(e.getMessage(), e);
      return new JsonResponse(Response.Status.BAD_REQUEST,
          e.getMessage()).build();
    } catch (IOException | RuntimeException e) {
      return new JsonResponse(Response.Status.INTERNAL_SERVER_ERROR,
          e.getMessage()).build();
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public boolean cancelOrder(String orderId, String marketIdNotNeeded) throws TradingApiException, ExchangeNetworkException {

        try {
            final Map<String, String> params = createRequestParamMap();
            params.put("id", orderId);

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("cancel_order", params);
            LOG.debug(() -> "Cancel Order response: " + response);

            final BitstampCancelOrderResponse cancelOrderResponse = gson.<mark>fromJson</mark>(response.getPayload(), BitstampCancelOrderResponse.class);
            if (!orderId.equals(String.valueOf(cancelOrderResponse.id))) {
                final String errorMsg = "Failed to cancel order on exchange. Error response: " + response;
                LOG.error(errorMsg);
                return false;
            } else {
                return true;
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_78.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetUserAppEngineAppIdsResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetUserAppEngineAppIdsResponseImpl dto = new GetUserAppEngineAppIdsResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("appIds")) {
        JsonElement appIdsIn = json.<mark>get</mark>("appIds");
        java.util.ArrayList<java.lang.String> appIdsOut = null;
        if (appIdsIn != null && !appIdsIn.<mark>isJsonNull</mark>()) {
          appIdsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> appIdsInIterator = appIdsIn.getAsJsonArray().iterator();
          while (appIdsInIterator.hasNext()) {
            JsonElement appIdsIn_ = appIdsInIterator.next();
            java.lang.String appIdsOut_ = gson.<mark>fromJson</mark>(appIdsIn_, java.lang.String.class);
            appIdsOut.add(appIdsOut_);
          }
        }
        dto.setAppIds(appIdsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NukiHttpClient_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NukiHttpClient.java

com.google.gson.Gson.fromJson


    public synchronized BridgeCallbackListResponse getBridgeCallbackList() {
        logger.debug("getBridgeCallbackList()");
        String uri = prepareUri(NukiBindingConstants.URI_CBLIST);
        try {
            ContentResponse contentResponse = executeRequest(uri);
            int status = contentResponse.getStatus();
            String response = contentResponse.getContentAsString();
            if (status == HttpStatus.OK_200) {
                BridgeApiCallbackListDto bridgeApiCallbackListDto = gson.<mark>fromJson</mark>(response,
                        BridgeApiCallbackListDto.class);
                return new BridgeCallbackListResponse(status, contentResponse.getReason(), bridgeApiCallbackListDto);
            } else {
                logger.debug("Could not execute Callback List! Status[{}] - Response[{}]", status, response);
                return new BridgeCallbackListResponse(status, contentResponse.getReason(), null);
            }
        } catch (Exception e) {
            logger.debug("Could not execute Callback List! Exception[{}]", e.getMessage());
            return new BridgeCallbackListResponse(handleException(e));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____OkCoinExchangeAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____OkCoinExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public boolean cancelOrder(String orderId, String marketId) throws TradingApiException, ExchangeNetworkException {

        try {
            final Map<String, String> params = createRequestParamMap();
            params.put("order_id", orderId);
            params.put("symbol", marketId);

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("cancel_order.do", params);
            LOG.debug(() -> "Cancel Order response: " + response);

            final OKCoinCancelOrderResponse cancelOrderResponse = gson.<mark>fromJson</mark>(response.getPayload(), OKCoinCancelOrderResponse.class);
            if (cancelOrderResponse.result) {
                return true;
            } else {
                final String errorMsg = "Failed to cancel order on exchange. Error response: " + response;
                LOG.error(errorMsg);
                return false;
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____HDFSFileInterpreter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____HDFSFileInterpreter.java

com.google.gson.Gson.fromJson


  public String listAll(String path) throws InterpreterException {
    String all = "";
    if (exceptionOnConnect != null) {
      return "Error connecting to provided endpoint.";
    }

    try {
      //see if directory.
      if (isDirectory(path)) {
        String sfs = listDir(path);
        if (sfs != null) {
          AllFileStatus allFiles = gson.<mark>fromJson</mark>(sfs, AllFileStatus.class);

          if (allFiles != null &&
                  allFiles.fileStatuses != null &&
                  allFiles.fileStatuses.fileStatus != null) {
            int length = cmd.maxLength < allFiles.fileStatuses.fileStatus.length ? cmd.maxLength :
                    allFiles.fileStatuses.fileStatus.length;
            for (int index = 0; index < length; index++) {
              OneFileStatus fs = allFiles.fileStatuses.fileStatus[index];
              all = all + listOne(path, fs) + '\n';
            }
          }
        }
        return all;
      } else {
        return listFile(path);
      }
    } catch (Exception e) {
      logger.error("listall: listDir " + path, e);
      throw new InterpreterException("Could not find file or directory:\t" + path);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_50.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetAppEngineClusterTypeImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetAppEngineClusterTypeImpl dto = new GetAppEngineClusterTypeImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("clusterType")) {
        JsonElement clusterTypeIn = json.<mark>get</mark>("clusterType");
        com.google.collide.dto.GetAppEngineClusterType.Type clusterTypeOut = gson.<mark>fromJson</mark>(clusterTypeIn, com.google.collide.dto.GetAppEngineClusterType.Type.class);
        dto.setClusterType(clusterTypeOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ForgeEssentials_____ForgeEssentials_____JsonProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ForgeEssentials_____ForgeEssentials_____JsonProvider.java

com.google.gson.Gson.fromJson


    private void loadGroups(ServerZone serverZone)
    {
        GroupsData groupsData = null;
        try
        {
            BufferedReader reader = new BufferedReader(new FileReader(path + "/groups.json"));
            groupsData = gson.<mark>fromJson</mark>(reader, GroupsData.class);
        }
        catch (IOException e)
        {
            LoggingHandler.felog.error("Could not load groups data: " + e.getMessage());
            return;
        }
        for (String group : groupsData.groups.keySet())
        {
            GroupData groupData = groupsData.groups.get(group);
            PermissionList list = PermissionList.fromList(groupData.permissions);
            list.put(FEPermissions.PREFIX, groupData.prefix);
            list.put(FEPermissions.SUFFIX, groupData.suffix);
            list.put(FEPermissions.GROUP_PRIORITY, Integer.toString(groupData.priority));
            list.put(FEPermissions.GROUP, Zone.PERMISSION_TRUE);
            if (groupData.Default)
            {
                list.put("fe.internal.group.default", Zone.PERMISSION_TRUE);
            }
            serverZone.getOrCreateGroupPermissions(group).putAll(list);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_84.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson


    public static GetWorkspaceMetaDataImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceMetaDataImpl dto = new GetWorkspaceMetaDataImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>googlesamples_____io2014-codelabs_____SubscriptionRemovalServlet_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/googlesamples_____io2014-codelabs_____SubscriptionRemovalServlet.java

com.google.gson.Gson.fromJson

/**
   * Remove device subscription entities based on input parameters
   * @param req Http request contains parameters 'cursor' and 'timeStamp'. 'Cursor'
   *            provides hint to last query result position.  'TimeStamp' filters out
   *            entities created after delete method was initiated.
   */
  private void removePsiSubscription(HttpServletRequest req) {
    String subIdsParameter = req.getParameter("subIds");
    if (StringUtility.isNullOrEmpty(subIdsParameter)) {
      log.warning("Missing 'subIds' argument on task queue request. This indicates a bug");
      return;
    }

    String[] subIds;
    try {
      subIds = gson.<mark>fromJson</mark>(subIdsParameter, String[].class);
    } catch (JsonSyntaxException e) {
      log.warning("Invalid format of 'subIds' argument on task queue request. " +
          "This indicates a bug");
      return;
    }

    for (String subId : subIds) {
      try {
        prosSearch.unsubscribe(QueryOperations.PROS_SEARCH_DEFAULT_TOPIC, subId);
      } catch (IllegalArgumentException e) {
        log.info("Unsubscribe " + subId + " from PSI encounters error, " + e.getMessage());
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____incubator-brooklyn_____VaultExternalConfigSupplier_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____incubator-brooklyn_____VaultExternalConfigSupplier.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    protected JsonObject apiGet(String path, ImmutableMap<String, String> headers) {
        try {
            String uri = Urls.mergePaths(endpoint, path);
            LOG.debug("Vault request - GET: {}", uri);
            LOG.debug("Vault request - headers: {}", headers.toString());
            HttpToolResponse response = HttpTool.httpGet(httpClient, Urls.toUri(uri), headers);
            LOG.debug("Vault response - code: {} {}", new Object[]{Integer.toString(response.getResponseCode()), response.getReasonPhrase()});
            LOG.debug("Vault response - headers: {}", response.getHeaderLists().toString());
            String responseBody = new String(response.getContent(), CHARSET_NAME);
            LOG.debug("Vault response - body: {}", responseBody);
            if (HttpTool.isStatusCodeHealthy(response.getResponseCode())) {
                return gson.<mark>fromJson</mark>(responseBody, JsonObject.class);
            } else {
                throw new IllegalStateException("HTTP request returned error");
            }
        } catch (UnsupportedEncodingException e) {
            throw Exceptions.propagate(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_30.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    public static DeployWorkspaceStatusImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DeployWorkspaceStatusImpl dto = new DeployWorkspaceStatusImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("status")) {
        JsonElement statusIn = json.<mark>get</mark>("status");
        int statusOut = statusIn.getAsInt();
        dto.setStatus(statusOut);
      }

      if (json.<mark>has</mark>("appUrl")) {
        JsonElement appUrlIn = json.<mark>get</mark>("appUrl");
        java.lang.String appUrlOut = gson.<mark>fromJson</mark>(appUrlIn, java.lang.String.class);
        dto.setAppUrl(appUrlOut);
      }

      if (json.<mark>has</mark>("message")) {
        JsonElement messageIn = json.<mark>get</mark>("message");
        java.lang.String messageOut = gson.<mark>fromJson</mark>(messageIn, java.lang.String.class);
        dto.setMessage(messageOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_117.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ParticipantUserDetailsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ParticipantUserDetailsImpl dto = new ParticipantUserDetailsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("participant")) {
        JsonElement participantIn = json.<mark>get</mark>("participant");
        ParticipantImpl participantOut = ParticipantImpl.fromJsonElement(participantIn);
        dto.setParticipant(participantOut);
      }

      if (json.<mark>has</mark>("userDetails")) {
        JsonElement userDetailsIn = json.<mark>get</mark>("userDetails");
        UserDetailsImpl userDetailsOut = UserDetailsImpl.fromJsonElement(userDetailsIn);
        dto.setUserDetails(userDetailsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>RestComm_____Restcomm-Connect_____RvdProjectsMigrationHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/RestComm_____Restcomm-Connect_____RvdProjectsMigrationHelper.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public void loadProjectState(String projectName) throws RvdProjectsMigrationException {
        try {
            String pathName = workspacePath + File.separator + projectName + File.separator + "state";
            File file = new File(pathName);
            if (!file.exists()) {
                throw new RvdProjectsMigrationException("File " + file.getPath() + "does not exist");
            }
            String data = FileUtils.readFileToString(file, Charset.forName("UTF-8"));
            JsonParser parser = <mark>new JsonParser</mark>();
            JsonElement headerElement = parser.<mark>parse</mark>(data).getAsJsonObject().get("header");
            if (headerElement == null) {
                throw new RvdProjectsMigrationException();
            }
            Gson gson = <mark>new Gson</mark>();
            currentStateHeader = gson.<mark>fromJson</mark>(headerElement, StateHeader.class);
        } catch (IOException e) {
            throw new RvdProjectsMigrationException("[ERROR-CODE:6] Error loading state file from project '" + projectName
                    + "' " + e.getMessage(), 6);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gitskarios_____Gitskarios_____EventsListFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gitskarios_____Gitskarios_____EventsListFragment.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


  public void getSavedFilter() {
    SharedPreferences shared = getActivity().getSharedPreferences("FILTERS", Context.MODE_PRIVATE);

    Gson gson = <mark>new Gson</mark>();

    ArrayList events_filter = gson.<mark>fromJson</mark>(shared.getString("EVENTS_FILTER", null), ArrayList.class);

    if (events_filter != null) {
      EventsListFragment.this.filterNames = new ArrayStrings();
      for (Object o : events_filter) {
        EventsListFragment.this.filterNames.add(String.valueOf(o));
      }
    }

    ArrayList events_filter_ids = gson.<mark>fromJson</mark>(shared.getString("EVENTS_FILTER_IDS", null), ArrayList.class);

    if (events_filter_ids != null) {
      EventsListFragment.this.filterIds = new ArrayIntegers();
      for (Object o : events_filter_ids) {
        EventsListFragment.this.filterIds.add(Double.valueOf(String.valueOf(o)).intValue());
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____ToonApiClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____ToonApiClient.java

com.google.gson.Gson.fromJson


    public List<Agreement> getAgreements() throws ToonConnectionException {
        logger.debug("getAgreements start");

        if (configuration == null) {
            throw new ToonConnectionException("Configuration is missing or corrupted");
        } else if (StringUtils.isEmpty(configuration.username)) {
            throw new ToonConnectionException("Username not provided");
        } else if (StringUtils.isEmpty(configuration.password)) {
            throw new ToonConnectionException("Password not provided");
        }

        Form form = new Form();
        form.param("username", configuration.username);
        form.param("password", configuration.password);

        Response response = toonTarget.path(TOON_LOGIN_PATH).request(MediaType.APPLICATION_JSON_TYPE)
                .post(Entity.entity(form, MediaType.APPLICATION_FORM_URLENCODED_TYPE));

        JsonObject json = validateResponse(response);
        logger.debug("json {}", json);
        JsonArray agreements = json.get("agreements").getAsJsonArray();
        if (agreements != null) {
            return Arrays.asList(gson.<mark>fromJson</mark>(agreements, Agreement[].class));
        }
        return Collections.emptyList();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public BalanceInfo getBalanceInfo() throws ExchangeNetworkException, TradingApiException {
		try {
			final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("GetBalance", null);
			LOG.debug(() -> "Balance response: " + response);
			
			final Type responseApiType = new TypeToken<CryptopiaPrivateApiResponse<CryptopiaBalances>>() {}.getType();
			final CryptopiaPrivateApiResponse<CryptopiaBalances> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(), responseApiType);
			final CryptopiaBalances cryptopiaBalances = cryptopiaResponse.Data;
			
			final Map<String,BigDecimal> availableBalances = new HashMap<>();
			final Map<String,BigDecimal> onholdBalances = new HashMap<>();
			for(CryptopiaBalance balance : cryptopiaBalances) {
				availableBalances.put(balance.Symbol, balance.Available);
				onholdBalances.put(balance.Symbol, balance.Unconfirmed);
			}
			return new BalanceInfoImpl(availableBalances, onholdBalances);
		} catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____RemoteInterpreterServer_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____RemoteInterpreterServer.java

com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.Map<java.lang.String,org.apache.zeppelin.display.AngularObject>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.Map<java.lang.String,org.apache.zeppelin.display.AngularObject>>>.getType
com.google.gson.Gson.fromJson

  @Override
  public void angularObjectAdd(String name, String noteId, String paragraphId, String object)
      throws TException {
    AngularObjectRegistry registry = interpreterGroup.getAngularObjectRegistry();
    // first try local objects
    AngularObject ao = registry.get(name, noteId, paragraphId);
    if (ao != null) {
      angularObjectUpdate(name, noteId, paragraphId, object);
      return;
    }

    // Generic java object type for json.
    Object value = null;
    try {
      value = gson.<mark>fromJson</mark>(object,
          new TypeToken<Map<String, Object>>() {
          }.<mark>getType</mark>());
    } catch (Exception e) {
      // it's okay. proceed to treat object as a string
      logger.debug(e.getMessage(), e);
    }

    // try string object type at last
    if (value == null) {
      value = gson.<mark>fromJson</mark>(object, String.class);
    }

    registry.add(name, value, noteId, paragraphId, false);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NukiHttpClient_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NukiHttpClient.java

com.google.gson.Gson.fromJson


    public synchronized BridgeLockActionResponse getBridgeLockAction(String nukiId, int lockAction) {
        logger.debug("getBridgeLockAction({}, {})", nukiId, lockAction);
        String uri = prepareUri(NukiBindingConstants.URI_LOCKACTION, nukiId, Integer.toString(lockAction));
        try {
            ContentResponse contentResponse = executeRequest(uri);
            int status = contentResponse.getStatus();
            String response = contentResponse.getContentAsString();
            if (status == HttpStatus.OK_200) {
                BridgeApiLockActionDto bridgeApiLockActionDto = gson.<mark>fromJson</mark>(response, BridgeApiLockActionDto.class);
                return new BridgeLockActionResponse(status, contentResponse.getReason(), bridgeApiLockActionDto);
            } else {
                logger.debug("Could not execute Lock Action! Status[{}] - Response[{}]", status, response);
                return new BridgeLockActionResponse(status, contentResponse.getReason(), null);
            }
        } catch (Exception e) {
            logger.debug("Could not execute Lock Action! Exception[{}]", e.getMessage());
            return new BridgeLockActionResponse(handleException(e));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_45.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static EnterWorkspaceImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      EnterWorkspaceImpl dto = new EnterWorkspaceImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>awslabs_____aws-sdk-android-samples_____TemperatureActivity_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/awslabs_____aws-sdk-android-samples_____TemperatureActivity.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public void temperatureStatusUpdated(String temperatureStatusState) {
        Gson gson = <mark>new Gson</mark>();
        TemperatureStatus ts = gson.<mark>fromJson</mark>(temperatureStatusState, TemperatureStatus.class);

        Log.i(LOG_TAG, String.format("intTemp:  %d", ts.state.desired.intTemp));
        Log.i(LOG_TAG, String.format("extTemp:  %d", ts.state.desired.extTemp));
        Log.i(LOG_TAG, String.format("curState: %s", ts.state.desired.curState));

        TextView intTempText = (TextView) findViewById(R.id.intTemp);
        intTempText.setText(ts.state.desired.intTemp.toString());
        if ("stopped".equals(ts.state.desired.curState)) {
            intTempText.setTextColor(getResources().getColor(R.color.colorOff));
        } else if ("heating".equals(ts.state.desired.curState)) {
            intTempText.setTextColor(getResources().getColor(R.color.colorHeating));
        } else if ("cooling".equals(ts.state.desired.curState)) {
            intTempText.setTextColor(getResources().getColor(R.color.colorCooling));
        }

        TextView extTempText = (TextView) findViewById(R.id.extTemp);
        extTempText.setText(ts.state.desired.extTemp.toString());
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gitskarios_____Gitskarios_____OrgsEventsListFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gitskarios_____Gitskarios_____OrgsEventsListFragment.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


  public void getSavedFilter() {
    SharedPreferences shared = getActivity().getSharedPreferences("FILTERS", Context.MODE_PRIVATE);

    Gson gson = <mark>new Gson</mark>();

    ArrayList events_filter = gson.<mark>fromJson</mark>(shared.getString("EVENTS_FILTER", null), ArrayList.class);

    if (events_filter != null) {
      OrgsEventsListFragment.this.filterNames = new ArrayStrings();
      for (Object o : events_filter) {
        OrgsEventsListFragment.this.filterNames.add(String.valueOf(o));
      }
    }

    ArrayList events_filter_ids = gson.<mark>fromJson</mark>(shared.getString("EVENTS_FILTER_IDS", null), ArrayList.class);

    if (events_filter_ids != null) {
      OrgsEventsListFragment.this.filterIds = new ArrayIntegers();
      for (Object o : events_filter_ids) {
        OrgsEventsListFragment.this.filterIds.add(Double.valueOf(String.valueOf(o)).intValue());
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testValidSinglePoint() {
        String message = "water,country=US,city=newark rain=1,humidity=0.6 1501002274856668652";
        influxDB.write(dbName, DEFAULT_RETENTION_POLICY, InfluxDB.ConsistencyLevel.ONE, message);
        String query = "select * from water";
        byte [] bytes = query.getBytes();
        runner.enqueue(bytes);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);
        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertNull("Value should be null", flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));

        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(new String(flowFiles.get(0).toByteArray())), QueryResult.class);
        Series series = queryResult.getResults().get(0).getSeries().get(0);
        validateSeries(series.getName(), series.getColumns(), series.getValues().get(0),"newark",1.0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_24.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CreateProjectImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CreateProjectImpl dto = new CreateProjectImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("summary")) {
        JsonElement summaryIn = json.<mark>get</mark>("summary");
        java.lang.String summaryOut = gson.<mark>fromJson</mark>(summaryIn, java.lang.String.class);
        dto.setSummary(summaryOut);
      }

      if (json.<mark>has</mark>("name")) {
        JsonElement nameIn = json.<mark>get</mark>("name");
        java.lang.String nameOut = gson.<mark>fromJson</mark>(nameIn, java.lang.String.class);
        dto.setName(nameOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_98.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static InvalidationMessageImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      InvalidationMessageImpl dto = new InvalidationMessageImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("version")) {
        JsonElement versionIn = json.<mark>get</mark>("version");
        java.lang.String versionOut = gson.<mark>fromJson</mark>(versionIn, java.lang.String.class);
        dto.setVersion(versionOut);
      }

      if (json.<mark>has</mark>("objectName")) {
        JsonElement objectNameIn = json.<mark>get</mark>("objectName");
        java.lang.String objectNameOut = gson.<mark>fromJson</mark>(objectNameIn, java.lang.String.class);
        dto.setObjectName(objectNameOut);
      }

      if (json.<mark>has</mark>("payload")) {
        JsonElement payloadIn = json.<mark>get</mark>("payload");
        java.lang.String payloadOut = gson.<mark>fromJson</mark>(payloadIn, java.lang.String.class);
        dto.setPayload(payloadOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____HypervDirectConnectResource_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____HypervDirectConnectResource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    private Answer execute(final CopyCommand cmd) {
        URI agentUri = null;
        try {
            final String cmdName = cmd.getClass().getName();
            agentUri =
                    new URI("https", null, _agentIp, _port,
                            "/api/HypervResource/" + cmdName, null, null);
        } catch (final URISyntaxException e) {
            final String errMsg = "Could not generate URI for Hyper-V agent";
            s_logger.error(errMsg, e);
            return null;
        }
        cleanPassword(cmd.getSrcTO().getDataStore());
        cleanPassword(cmd.getDestTO().getDataStore());

        // Send the cmd to hyperv agent.
        final String ansStr = postHttpRequest(s_gson.<mark>toJson</mark>(cmd), agentUri);
        if (ansStr == null) {
            return Answer.createUnsupportedCommandAnswer(cmd);
        }

        final Answer[] result = s_gson.<mark>fromJson</mark>(ansStr, Answer[].class);
        final String logResult = cleanPassword(s_gson.<mark>toJson</mark>(result));
        s_logger.debug("executeRequest received response " + logResult);
        if (result.length > 0) {
            return result[0];
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NukiHttpClient_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NukiHttpClient.java

com.google.gson.Gson.fromJson


    public synchronized BridgeCallbackAddResponse getBridgeCallbackAdd(String callbackUrl) {
        logger.debug("getBridgeCallbackAdd({})", callbackUrl);
        try {
            String uri = prepareUri(NukiBindingConstants.URI_CBADD, URLEncoder.encode(callbackUrl, "UTF-8"));
            ContentResponse contentResponse = executeRequest(uri);
            int status = contentResponse.getStatus();
            String response = contentResponse.getContentAsString();
            if (status == HttpStatus.OK_200) {
                BridgeApiCallbackAddDto bridgeApiCallbackAddDto = gson.<mark>fromJson</mark>(response,
                        BridgeApiCallbackAddDto.class);
                return new BridgeCallbackAddResponse(status, contentResponse.getReason(), bridgeApiCallbackAddDto);
            } else {
                logger.debug("Could not execute Callback Add! Status[{}] - Response[{}]", status, response);
                return new BridgeCallbackAddResponse(status, contentResponse.getReason(), null);
            }
        } catch (Exception e) {
            logger.debug("Could not execute Callback Add! Exception[{}]", e.getMessage());
            return new BridgeCallbackAddResponse(handleException(e));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Redgram_____redgram-for-reddit_____ImagePreviewFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Redgram_____redgram-for-reddit_____ImagePreviewFragment.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {

        View view = inflater.inflate(R.layout.preview_image_fragment, container, false);
        ButterKnife.inject(this, view);

        if(getArguments().containsKey(getMainKey())){
            String data = getArguments().getString(getMainKey());
            postItem = <mark>new Gson</mark>().<mark>fromJson</mark>(data, PostItem.class);
            topBannerTitle.setText(postItem.getTitle());
        }

        if(getArguments().containsKey(getLocalCacheKey())){
            String path = getArguments().getString(getLocalCacheKey());
            imagePreview.setImage(ImageSource.uri(path));
            imagePreview.setVisibility(View.VISIBLE);
            filePath = path;
        }else{
            preFetchToDiskCacheAndDisplay();
        }

        if(getContext() instanceof MainActivity){
            MainActivity mainActivity = (MainActivity)getContext();
            mainActivity.setDraggable(topBanner);
        }

        if(getContext() instanceof ThreadActivity){
            topBanner.setVisibility(View.GONE);
        }

        return view;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Redgram_____redgram-for-reddit_____WebPreviewFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Redgram_____redgram-for-reddit_____WebPreviewFragment.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {

        View view = inflater.inflate(R.layout.preview_web_fragment, container, false);
        ButterKnife.inject(this, view);

        //setup
        webView.getSettings().setBuiltInZoomControls(true);
        webView.getSettings().setDisplayZoomControls(false);
        webView.getSettings().setJavaScriptEnabled(true);
        webView.setWebViewClient(getWebViewClient());
        webView.setWebChromeClient(getWebChromeClient());

        if(getContext() instanceof MainActivity){
            MainActivity mainActivity = (MainActivity)getContext();
            mainActivity.setDraggable(topBanner);
        }

        if(getContext() instanceof ThreadActivity){
            topBanner.setVisibility(View.GONE);
        }

        if(getArguments().containsKey(getMainKey())){
            String data = getArguments().getString(getMainKey());
            postItem = <mark>new Gson</mark>().<mark>fromJson</mark>(data, PostItem.class);

            webView.loadUrl(postItem.getUrl());

            topBannerTitle.setText(postItem.getTitle());
        }

        return view;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>brk3_____glimmr_____PhotoViewerActivity_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/brk3_____glimmr_____PhotoViewerActivity.java

com.google.gson.reflect.TypeToken<java.util.Collection<com.googlecode.flickrjandroid.photos.Photo>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Collection<com.googlecode.flickrjandroid.photos.Photo>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public void onRestoreInstanceState(Bundle savedInstanceState) {
        super.onRestoreInstanceState(savedInstanceState);

        if (mPhotos.isEmpty()) {
            String json = new GsonHelper(this).loadJson(PHOTO_LIST_FILE);
            if (json.length() == 0) {
                Log.e(TAG, String.format("Error reading '%s'", PHOTO_LIST_FILE));
            } else {
                Type collectionType = new TypeToken<Collection<Photo>>(){}.<mark>getType</mark>();
                mPhotos = <mark>new Gson</mark>().<mark>fromJson</mark>(json, collectionType);
            }
        }

        boolean overlayOn = savedInstanceState.getBoolean(KEY_ACTIONBAR_SHOW, true);
        if (overlayOn) {
            mActionBar.show();
        } else {
            mActionBar.hide();
        }

        int pagerIndex = savedInstanceState.getInt(KEY_CURRENT_INDEX, 0);
        initViewPager(pagerIndex, false);

        if (savedInstanceState.getBoolean(KEY_SLIDESHOW_RUNNING, false)) {
            startSlideshow();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GeminiExchangeAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GeminiExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public boolean cancelOrder(String orderId, String marketIdNotNeeded) throws TradingApiException, ExchangeNetworkException {

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("order_id", orderId);

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("order/cancel", params);
            LOG.debug(() -> "Cancel Order response: " + response);

            // Exchange returns order id and other details if successful, a 400 HTTP Status if the order id was not recognised.
            gson.<mark>fromJson</mark>(response.getPayload(), GeminiOpenOrder.class);
            return true;

        } catch (ExchangeNetworkException | TradingApiException e) {
            if (e.getCause() != null && e.getCause().getMessage().contains("400")) {
                final String errorMsg = "Failed to cancel order on exchange. Did not recognise Order Id: " + orderId;
                LOG.error(errorMsg, e);
                return false;
            } else {
                throw e;
            }
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CodeErrorImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeErrorImpl dto = new CodeErrorImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("errorEnd")) {
        JsonElement errorEndIn = json.<mark>get</mark>("errorEnd");
        FilePositionImpl errorEndOut = FilePositionImpl.fromJsonElement(errorEndIn);
        dto.setErrorEnd(errorEndOut);
      }

      if (json.<mark>has</mark>("errorStart")) {
        JsonElement errorStartIn = json.<mark>get</mark>("errorStart");
        FilePositionImpl errorStartOut = FilePositionImpl.fromJsonElement(errorStartIn);
        dto.setErrorStart(errorStartOut);
      }

      if (json.<mark>has</mark>("message")) {
        JsonElement messageIn = json.<mark>get</mark>("message");
        java.lang.String messageOut = gson.<mark>fromJson</mark>(messageIn, java.lang.String.class);
        dto.setMessage(messageOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_34.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static DocOpImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DocOpImpl dto = new DocOpImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("components")) {
        JsonElement componentsIn = json.<mark>get</mark>("components");
        java.util.ArrayList<DocOpComponentImpl> componentsOut = null;
        if (componentsIn != null && !componentsIn.<mark>isJsonNull</mark>()) {
          componentsOut = new java.util.ArrayList<DocOpComponentImpl>();
          java.util.Iterator<JsonElement> componentsInIterator = componentsIn.getAsJsonArray().iterator();
          while (componentsInIterator.hasNext()) {
            JsonElement componentsIn_ = componentsInIterator.next();
            DocOpComponentImpl componentsOut_ = DocOpComponentImpl.fromJsonElement(componentsIn_);
            componentsOut.add(componentsOut_);
          }
        }
        dto.setComponents(componentsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public boolean cancelOrder(String orderId, String marketIdNotNeeded) throws TradingApiException, ExchangeNetworkException {

        try {
            final Map<String, Object> params = createRequestParamMap();
            params.put("order_id", Long.parseLong(orderId));

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("order/cancel", params);
            LOG.debug(() -> "Cancel Order response: " + response);

            // Exchange returns order id and other details if successful, a 400 HTTP Status if the order id was not recognised.
            gson.<mark>fromJson</mark>(response.getPayload(), BitfinexCancelOrderResponse.class);
            return true;

        } catch (ExchangeNetworkException | TradingApiException e) {
            if (e.getCause() != null && e.getCause().getMessage().contains("400")) {
                final String errorMsg = "Failed to cancel order on exchange. Did not recognise Order Id: " + orderId;
                LOG.error(errorMsg, e);
                return false;
            } else {
                throw e;
            }
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testValidScheduleQueryWithNoIncoming() {
        String message = "water,country=US,city=newark rain=1,humidity=0.6 1501002274856668652";
        influxDB.write(dbName, DEFAULT_RETENTION_POLICY, InfluxDB.ConsistencyLevel.ONE, message);

        String query = "select * from water";
        runner.setProperty(ExecuteInfluxDBQuery.INFLUX_DB_QUERY, query);

        runner.setIncomingConnection(false);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);
        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertNull("Value should be null", flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));

        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(new String(flowFiles.get(0).toByteArray())), QueryResult.class);
        Series series = queryResult.getResults().get(0).getSeries().get(0);
        validateSeries(series.getName(), series.getColumns(), series.getValues().get(0),"newark",1.0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitreid-connect_____OpenID-Connect-Java-Spring-Server_____ScopeAPI_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mitreid-connect_____OpenID-Connect-Java-Spring-Server_____ScopeAPI.java

com.google.gson.Gson.fromJson

	@RequestMapping(value = "/{id}", method = RequestMethod.PUT, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)
	public String updateScope(@PathVariable("id") Long id, @RequestBody String json, ModelMap m) {

		SystemScope existing = scopeService.getById(id);

		SystemScope scope = gson.<mark>fromJson</mark>(json, SystemScope.class);

		if (existing != null && scope != null) {

			if (existing.getId().equals(scope.getId())) {
				// sanity check

				scope = scopeService.save(scope);

				m.put(JsonEntityView.ENTITY, scope);

				return JsonEntityView.VIEWNAME;
			} else {

				logger.error("updateScope failed; scope ids to not match: got "
						+ existing.getId() + " and " + scope.getId());

				m.put(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
				m.put(JsonErrorView.ERROR_MESSAGE, "Could not update scope. Scope ids to not match: got "
						+ existing.getId() + " and " + scope.getId());
				return JsonErrorView.VIEWNAME;
			}

		} else {

			logger.error("updateScope failed; scope with id " + id + " not found.");
			m.put(HttpCodeView.CODE, HttpStatus.NOT_FOUND);
			m.put(JsonErrorView.ERROR_MESSAGE, "Could not update scope. The scope with id " + id + " could not be found.");
			return JsonErrorView.VIEWNAME;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Floobits_____floobits-intellij_____InboundRequestHandler_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Floobits_____floobits-intellij_____InboundRequestHandler.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    void _on_delete_buf(JsonObject obj) {
        final DeleteBuf deleteBuf = <mark>new Gson</mark>().<mark>fromJson</mark>(obj, (Type) DeleteBuf.class);
        if (state == null || state.bufs == null) {
            return;
        }
        Buf buf = state.bufs.get(deleteBuf.id);
        if (buf == null) {
            Flog.warn(String.format("Tried to delete a buf that doesn't exist: %d", deleteBuf.id));
            return;
        }
        editor.queue(buf, new RunLater<Buf>() {
            @Override
            public void run(Buf buf) {
                buf.cancelTimeout();
                if (state.bufs != null) {
                    state.bufs.remove(deleteBuf.id);
                    state.pathsToIds.remove(buf.path);
                }
                if (!deleteBuf.unlink) {
                    fileRemovedMessageThrottler.statusMessage(String.format("Removed the file, %s, from the workspace.", buf.path));
                    return;
                }
                String absPath = context.absPath(buf.path);
                final IFile fileByPath = context.iFactory.findFileByPath(absPath);

                if (fileByPath == null) {
                    return;
                }

                fileByPath.delete(this);
            }
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cloverstudio_____Spika_____Preferences_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cloverstudio_____Spika_____Preferences.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public void increaseClickSticker(Sticker sticker){
        String json = getStickersString();
        if(!TextUtils.isEmpty(json)){
            Gson gson = <mark>new Gson</mark>();
            try {
                StickerCategory responseModel = gson.<mark>fromJson</mark>(json, StickerCategory.class);
                if(responseModel.list.contains(sticker)){
                    int position = responseModel.list.indexOf(sticker);
                    responseModel.list.get(position).timesClicked ++;
                }else{
                    sticker.timesClicked = 1;
                    responseModel.list.add(sticker);
                }

                String jsonNew = gson.toJson(responseModel);
                setRecentStickers(jsonNew);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }else{
            StickerCategory category = new StickerCategory();
            category.list = new ArrayList<>();
            sticker.timesClicked = 1;
            category.list.add(sticker);
            Gson gson = <mark>new Gson</mark>();
            try {
                String jsonNew = gson.toJson(category);
                setRecentStickers(jsonNew);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public BigDecimal getPercentageOfBuyOrderTakenForExchangeFee(String marketId)
			throws TradingApiException, ExchangeNetworkException {
		try {
			if(useGlobalTradingFee) {
				return globalTradingFee;
			} else {
				final ExchangeHttpResponse response = sendPublicRequestToExchange("GetTradePairs");
				LOG.debug(() -> "Buy Fee response: " + response);
				final Type responseApiType = new TypeToken<CryptopiaPrivateApiResponse<CryptopiaTradePairs>>() {}.getType();
				final CryptopiaPrivateApiResponse<CryptopiaTradePairs> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(), responseApiType);
				final CryptopiaTradePairs cryptopiaTradePairs = cryptopiaResponse.Data;
				
				
				for(CryptopiaTradePair tradePair : cryptopiaTradePairs) {
					if(tradePair.Symbol.equalsIgnoreCase(marketId.split("_")[0])) {
						return tradePair.TradeFee;
					}
				}
				
				LOG.error("getPercentageOfBuyOrderTakenForExchangeFee: marketId {} not found.", marketId );
		        throw new TradingApiException(UNEXPECTED_ERROR_MSG);
			}
        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public BigDecimal getPercentageOfSellOrderTakenForExchangeFee(String marketId)
			throws TradingApiException, ExchangeNetworkException {
		try {
			if(useGlobalTradingFee) {
				return globalTradingFee;
			} else {
				final ExchangeHttpResponse response = sendPublicRequestToExchange("GetTradePairs");
				LOG.debug(() -> "Buy Fee response: " + response);
				final Type responseApiType = new TypeToken<CryptopiaPrivateApiResponse<CryptopiaTradePairs>>() {}.getType();
				final CryptopiaPrivateApiResponse<CryptopiaTradePairs> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(), responseApiType);
				final CryptopiaTradePairs cryptopiaTradePairs = cryptopiaResponse.Data;
				
				
				for(CryptopiaTradePair tradePair : cryptopiaTradePairs) {
					if(tradePair.Symbol.equalsIgnoreCase(marketId.split("_")[0])) {
						return tradePair.TradeFee;
					}
				}
				
				LOG.error("getPercentageOfBuyOrderTakenForExchangeFee: marketId {} not found.", marketId );
		        throw new TradingApiException(UNEXPECTED_ERROR_MSG);
			}
        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____MockIaasApiClient_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____MockIaasApiClient.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public boolean terminateInstance(String instanceId) {
        try {
            if (log.isDebugEnabled()) {
                log.debug(String.format("Terminate instance: [instance-id] %s", instanceId));
            }
            URI uri = new URIBuilder(endpoint + INSTANCES_CONTEXT + instanceId).build();
            HttpResponse response = restClient.doDelete(uri);
            if (response != null) {
                if ((response.getStatusCode() >= 200) && (response.getStatusCode() < 300)) {
                    return true;
                } else {
                    GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
                    Gson gson = gsonBuilder.<mark>create</mark>();
                    ErrorResponse errorResponse = gson.<mark>fromJson</mark>(response.getContent(), ErrorResponse.class);
                    if (errorResponse != null) {
                        throw new RuntimeException(errorResponse.getErrorMessage());
                    }
                }
            }
            throw new RuntimeException("An unknown error occurred");
        } catch (Exception e) {
            String message = "Could not start mock instance";
            throw new RuntimeException(message, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_31.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static DiffChunkResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DiffChunkResponseImpl dto = new DiffChunkResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("afterData")) {
        JsonElement afterDataIn = json.<mark>get</mark>("afterData");
        java.lang.String afterDataOut = gson.<mark>fromJson</mark>(afterDataIn, java.lang.String.class);
        dto.setAfterData(afterDataOut);
      }

      if (json.<mark>has</mark>("beforeData")) {
        JsonElement beforeDataIn = json.<mark>get</mark>("beforeData");
        java.lang.String beforeDataOut = gson.<mark>fromJson</mark>(beforeDataIn, java.lang.String.class);
        dto.setBeforeData(beforeDataOut);
      }

      if (json.<mark>has</mark>("diffType")) {
        JsonElement diffTypeIn = json.<mark>get</mark>("diffType");
        com.google.collide.dto.DiffChunkResponse.DiffType diffTypeOut = gson.<mark>fromJson</mark>(diffTypeIn, com.google.collide.dto.DiffChunkResponse.DiffType.class);
        dto.setDiffType(diffTypeOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_32.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson


    public static DiffStatsDtoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DiffStatsDtoImpl dto = new DiffStatsDtoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("added")) {
        JsonElement addedIn = json.<mark>get</mark>("added");
        int addedOut = addedIn.getAsInt();
        dto.setAdded(addedOut);
      }

      if (json.<mark>has</mark>("changed")) {
        JsonElement changedIn = json.<mark>get</mark>("changed");
        int changedOut = changedIn.getAsInt();
        dto.setChanged(changedOut);
      }

      if (json.<mark>has</mark>("deleted")) {
        JsonElement deletedIn = json.<mark>get</mark>("deleted");
        int deletedOut = deletedIn.getAsInt();
        dto.setDeleted(deletedOut);
      }

      if (json.<mark>has</mark>("unchanged")) {
        JsonElement unchangedIn = json.<mark>get</mark>("unchanged");
        int unchangedOut = unchangedIn.getAsInt();
        dto.setUnchanged(unchangedOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    private ArrayList<SomfyTahomaEvent> getEvents() {
        String url;
        String line = "";

        try {
            url = TAHOMA_URL + "getEvents";

            line = sendDataToTahomaWithCookie(url, "");
            SomfyTahomaEvent[] array = gson.<mark>fromJson</mark>(line, SomfyTahomaEvent[].class);
            return new ArrayList<>(Arrays.asList(array));
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", line, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Unauthorized. Please check credentials");
        } catch (ExecutionException e) {
            if (isAuthenticationChallenge(e)) {
                login();
            } else {
                logger.debug("Cannot get Tahoma events!", e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
            }
        } catch (InterruptedException | TimeoutException e) {
            logger.debug("Cannot get Tahoma events!", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
        }
        return new ArrayList<>();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openMF_____mifosx_____CurrencyHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openMF_____mifosx_____CurrencyHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.Map<java.lang.String,java.util.List<java.lang.String>>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.util.Map<java.lang.String,java.util.List<java.lang.String>>>>.getType
com.google.gson.Gson.fromJson


    private ArrayList<Currency> getCurrencies(final String getUrl, final List<String> permittedCurrencyArrays) {
        System.out.println("--------------------------------- GET CURRENCY OPTIONS -------------------------------");
        final String json = given().spec(requestSpec).expect().spec(responseSpec).log().ifError().when()
                .get(getUrl).andReturn().asString();
        final Gson gson = <mark>new Gson</mark>();
        Assert.notNull(json);
        final ArrayList<Currency> currencyList = new ArrayList<Currency>();
        final Type typeOfHashMap = new TypeToken<Map<String, List<Currency>>>() { }.<mark>getType</mark>();
        final Map<String, List<Currency>> responseMap = gson.<mark>fromJson</mark>(json, typeOfHashMap);
        for(Map.Entry<String, List<Currency>> entry : responseMap.entrySet()) {
            Assert.isTrue(permittedCurrencyArrays.contains(entry.getKey()));
            for(Currency currency : entry.getValue()) {
                currencyList.add(currency);
            }
        }
        return currencyList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_107.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static LogMetricsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LogMetricsImpl dto = new LogMetricsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("metrics")) {
        JsonElement metricsIn = json.<mark>get</mark>("metrics");
        java.util.ArrayList<LogMetricImpl> metricsOut = null;
        if (metricsIn != null && !metricsIn.<mark>isJsonNull</mark>()) {
          metricsOut = new java.util.ArrayList<LogMetricImpl>();
          java.util.Iterator<JsonElement> metricsInIterator = metricsIn.<mark>getAsJsonArray</mark>().iterator();
          while (metricsInIterator.hasNext()) {
            JsonElement metricsIn_ = metricsInIterator.next();
            LogMetricImpl metricsOut_ = LogMetricImpl.fromJsonElement(metricsIn_);
            metricsOut.add(metricsOut_);
          }
        }
        dto.setMetrics(metricsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____HypervDirectConnectResource_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____HypervDirectConnectResource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    protected int getVmFreeNicIndex(final String vmName) {
        final GetVmConfigCommand vmConfig = new GetVmConfigCommand(vmName);
        URI agentUri = null;
        int nicposition = -1;
        try {
            final String cmdName = GetVmConfigCommand.class.getName();
            agentUri =
                    new URI("https", null, _agentIp, _port,
                            "/api/HypervResource/" + cmdName, null, null);
        } catch (final URISyntaxException e) {
            final String errMsg = "Could not generate URI for Hyper-V agent";
            s_logger.error(errMsg, e);
        }
        final String ansStr = postHttpRequest(s_gson.<mark>toJson</mark>(vmConfig), agentUri);
        final Answer[] result = s_gson.<mark>fromJson</mark>(ansStr, Answer[].class);
        s_logger.debug("GetVmConfigCommand response received "
                + s_gson.<mark>toJson</mark>(result));
        if (result.length > 0) {
            final GetVmConfigAnswer ans = (GetVmConfigAnswer)result[0];
            final List<NicDetails> nics = ans.getNics();
            for (final NicDetails nic : nics) {
                if (nic.getState() == false) {
                    nicposition = nics.indexOf(nic);
                    break;
                }
            }
        }
        return nicposition;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    public @Nullable SomfyTahomaSetup listDevices() {
        String url;
        String line = "";

        try {
            url = TAHOMA_URL + "getSetup";
            String urlParameters = "";

            line = sendDataToTahomaWithCookie(url, urlParameters);
            SomfyTahomaSetupResponse data = gson.<mark>fromJson</mark>(line, SomfyTahomaSetupResponse.class);
            return data.getSetup();
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", line, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Unauthorized. Please check credentials");
        } catch (ExecutionException e) {
            if (isAuthenticationChallenge(e)) {
                login();
            } else {
                logger.debug("Cannot send getSetup command!", e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
            }
        } catch (InterruptedException | TimeoutException e) {
            logger.debug("Cannot send getSetup command!", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_40.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static DocumentSelectionImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DocumentSelectionImpl dto = new DocumentSelectionImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("cursorPosition")) {
        JsonElement cursorPositionIn = json.<mark>get</mark>("cursorPosition");
        FilePositionImpl cursorPositionOut = FilePositionImpl.fromJsonElement(cursorPositionIn);
        dto.setCursorPosition(cursorPositionOut);
      }

      if (json.<mark>has</mark>("userId")) {
        JsonElement userIdIn = json.<mark>get</mark>("userId");
        java.lang.String userIdOut = gson.<mark>fromJson</mark>(userIdIn, java.lang.String.class);
        dto.setUserId(userIdOut);
      }

      if (json.<mark>has</mark>("basePosition")) {
        JsonElement basePositionIn = json.<mark>get</mark>("basePosition");
        FilePositionImpl basePositionOut = FilePositionImpl.fromJsonElement(basePositionIn);
        dto.setBasePosition(basePositionOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * Deactivate tenant
     *
     * @param tenantDomain domain name of the tenant
     * @throws CommandException
     */     */
    public void deleteTenant(String tenantDomain) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doDelete(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_TENANT + "/" + tenantDomain);

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println("You have successfully deleted the tenant: " + tenantDomain);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                ExceptionMapper exception = gson.<mark>fromJson</mark>(resultString, ExceptionMapper.class);
                System.out.println(exception);
            }

        } catch (Exception e) {
            String message = "Could not delete tenant: " + tenantDomain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____HypervDirectConnectResource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____HypervDirectConnectResource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    public final ArrayList<Map<String, String>> requestHostVmStateReport() {
        URI agentUri = null;
        try {
            agentUri = new URI("https", null, _agentIp, _port, "/api/HypervResource/" + HOST_VM_STATE_REPORT_COMMAND, null, null);
        } catch (final URISyntaxException e) {
            final String errMsg = "Could not generate URI for Hyper-V agent";
            s_logger.error(errMsg, e);
            return null;
        }
        final String incomingCmd = postHttpRequest("{}", agentUri);

        if (incomingCmd == null) {
            return null;
        }
        ArrayList<Map<String, String>> result = null;
        try {
            result = s_gson.<mark>fromJson</mark>(incomingCmd, new TypeToken<ArrayList<HashMap<String, String>>>() {
            }.getType());
        } catch (final Exception ex) {
            final String errMsg = "Failed to deserialize Command[] " + incomingCmd;
            s_logger.error(errMsg, ex);
        }
        s_logger.debug("HostVmStateReportCommand received response "
                + s_gson.<mark>toJson</mark>(result));
        if (result != null) {
            if (!result.isEmpty()) {
                return result;
            } else {
                return new ArrayList<Map<String, String>>();
            }
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zstackio_____zstack_____ZSClient_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/zstackio_____zstack_____ZSClient.java

com.google.gson.Gson.fromJson


        private ApiResult pollResult(Response response) throws IOException {
            if (!info.needPoll) {
                throw new ApiException(String.format("[Internal Error] the api[%s] is not an async API but" +
                        " the server returns 201 status code", action.getClass().getSimpleName()));
            }

            Map body = gson.<mark>fromJson</mark>(response.body().string(), LinkedHashMap.class);
            String pollingUrl = (String) body.get(Constants.LOCATION);
            if (pollingUrl == null) {
                throw new ApiException(String.format("Internal Error] the api[%s] is an async API but the server" +
                        " doesn't return the polling location url", action.getClass().getSimpleName()));
            }

            String configHost = String.format("%s:%s", config.getHostname(), config.getPort());
            if (!pollingUrl.contains(configHost)) {
                String splitRegex = "/zstack/v1/api-jobs";
                pollingUrl = String.format("http://%s%s%s", configHost, splitRegex ,pollingUrl.split(splitRegex)[1]);
            }

            if (completion == null) {
                // sync polling
                return syncPollResult(pollingUrl);
            } else {
                // async polling
                asyncPollResult(pollingUrl);
                return null;
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____NewCommentApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____NewCommentApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

{
	public static boolean commentOn(long id, String comment, boolean commentOrig) {
		WeiboParameters params = new WeiboParameters();
		params.put("comment", comment);
		params.put("id", id);
		params.put("comment_ori", commentOrig ? 1 : 0);

		try {
			JSONObject json = request(Constants.COMMENTS_CREATE, params, HTTP_POST);
			CommentModel msg = <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), CommentModel.class);

			if (msg == null || msg.id <= 0) {
				return false;
			}
		} catch (Exception e) {
			return false;
		}

		return true;
	}
	
	public static boolean replyTo(long id, long cid, String comment, boolean commentOrig) {
		WeiboParameters params = new WeiboParameters();
		params.put("comment", comment);
		params.put("id", id);
		params.put("cid", cid);
		params.put("comment_ori", commentOrig ? 1 : 0);

		try {
			JSONObject json = request(Constants.COMMENTS_REPLY, params, HTTP_POST);
			CommentModel msg = <mark>new Gson</mark>().<mark>fromJson</mark>(json.toString(), CommentModel.class);

			if (msg == null || msg.id <= 0) {
				return false;
			}
		} catch (Exception e) {
			return false;
		}

		return true;
	}
	
	public static void deleteComment(long cid) {
		WeiboParameters params = new WeiboParameters();
		params.put("cid", cid);
		
		try {
			request(Constants.COMMENTS_DESTROY, params, HTTP_POST);
		} catch (Exception e) {
			
		}
	}
}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_53.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetDeployInformationResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetDeployInformationResponseImpl dto = new GetDeployInformationResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("deployInformation")) {
        JsonElement deployInformationIn = json.<mark>get</mark>("deployInformation");
        java.util.ArrayList<DeployInformationImpl> deployInformationOut = null;
        if (deployInformationIn != null && !deployInformationIn.<mark>isJsonNull</mark>()) {
          deployInformationOut = new java.util.ArrayList<DeployInformationImpl>();
          java.util.Iterator<JsonElement> deployInformationInIterator = deployInformationIn.getAsJsonArray().iterator();
          while (deployInformationInIterator.hasNext()) {
            JsonElement deployInformationIn_ = deployInformationInIterator.next();
            DeployInformationImpl deployInformationOut_ = DeployInformationImpl.fromJsonElement(deployInformationIn_);
            deployInformationOut.add(deployInformationOut_);
          }
        }
        dto.setDeployInformation(deployInformationOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * List tenants
     *
     * @throws CommandException
     */     */
    public void deactivateTenant(String tenantDomain) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPut(httpClient, restClient.getBaseURL()
                    + ENDPOINT_DEACTIVATE_TENANT.replace("{tenantDomain}", tenantDomain), "");

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println("You have successfully deactivated the tenant: " + tenantDomain);
                return;
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);
            }

        } catch (Exception e) {
            String message = "Could not de-activate tenant: " + tenantDomain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_80.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceChangeSummaryImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceChangeSummaryImpl dto = new GetWorkspaceChangeSummaryImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_34.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult AddFaceToFaceList(String faceListId, InputStream imageStream, String userData, FaceRectangle targetFace) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String path = String.format("%s/%s/%s/%s", mServiceHost, FACE_LISTS_QUERY, faceListId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        int bytesRead;
        byte[] bytes = new byte[1024];
        while ((bytesRead = imageStream.read(bytes)) > 0) {
            byteArrayOutputStream.write(bytes, 0, bytesRead);
        }
        byte[] data = byteArrayOutputStream.toByteArray();
        params.clear();
        params.put(DATA, data);
        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, STREAM_DATA);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_27.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CreateWorkspaceResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CreateWorkspaceResponseImpl dto = new CreateWorkspaceResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspace")) {
        JsonElement workspaceIn = json.<mark>get</mark>("workspace");
        WorkspaceInfoImpl workspaceOut = WorkspaceInfoImpl.fromJsonElement(workspaceIn);
        dto.setWorkspace(workspaceOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * List Kubernetes Hosts
     *
     * @param clusterId cluster id
     * @throws CommandException
     */     */
    public void activateTenant(String tenantDomain) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPut(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ACTIVATE_TENANT.replace("{tenantDomain}", tenantDomain), "");

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println("You have successfully activated the tenant: " + tenantDomain);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);
            }

        } catch (Exception e) {
            String message = "Could not activate tenant: " + tenantDomain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NikoHomeControlCommunication2_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NikoHomeControlCommunication2.java

com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.getType
com.google.gson.Gson.fromJson


    private void devicesStatusEvt(String response) {
        Type messageType = new TypeToken<NhcMessage2>() {
        }.<mark>getType</mark>();
        List<NhcDevice2> deviceList = null;
        try {
            NhcMessage2 message = gson.<mark>fromJson</mark>(response, messageType);
            if (message.params != null) {
                deviceList = message.params.stream().filter(p -> (p.devices != null)).findFirst().get().devices;
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Niko Home Control: unexpected json {}", response);
        } catch (NoSuchElementException ignore) {
            // Ignore if devices not present in response, this should not happen in a devices event
        }
        if (deviceList == null) {
            return;
        }

        for (NhcDevice2 device : deviceList) {
            if (actions.containsKey(device.uuid)) {
                updateActionState((NhcAction2) actions.get(device.uuid), device);
            } else if (thermostats.containsKey(device.uuid)) {
                updateThermostatState((NhcThermostat2) thermostats.get(device.uuid), device);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_48.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static FileInfoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      FileInfoImpl dto = new FileInfoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("size")) {
        JsonElement sizeIn = json.<mark>get</mark>("size");
        java.lang.String sizeOut = gson.<mark>fromJson</mark>(sizeIn, java.lang.String.class);
        dto.setSize(sizeOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("nodeType")) {
        JsonElement nodeTypeIn = json.<mark>get</mark>("nodeType");
        int nodeTypeOut = nodeTypeIn.getAsInt();
        dto.setNodeType(nodeTypeOut);
      }

      if (json.<mark>has</mark>("name")) {
        JsonElement nameIn = json.<mark>get</mark>("name");
        java.lang.String nameOut = gson.<mark>fromJson</mark>(nameIn, java.lang.String.class);
        dto.setName(nameOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_110.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static MutationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      MutationImpl dto = new MutationImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("mutationType")) {
        JsonElement mutationTypeIn = json.<mark>get</mark>("mutationType");
        com.google.collide.dto.Mutation.Type mutationTypeOut = gson.<mark>fromJson</mark>(mutationTypeIn, com.google.collide.dto.Mutation.Type.class);
        dto.setMutationType(mutationTypeOut);
      }

      if (json.<mark>has</mark>("newNodeInfo")) {
        JsonElement newNodeInfoIn = json.<mark>get</mark>("newNodeInfo");
        TreeNodeInfoImpl newNodeInfoOut = TreeNodeInfoImpl.fromJsonElement(newNodeInfoIn);
        dto.setNewNodeInfo(newNodeInfoOut);
      }

      if (json.<mark>has</mark>("newPath")) {
        JsonElement newPathIn = json.<mark>get</mark>("newPath");
        java.lang.String newPathOut = gson.<mark>fromJson</mark>(newPathIn, java.lang.String.class);
        dto.setNewPath(newPathOut);
      }

      if (json.<mark>has</mark>("oldPath")) {
        JsonElement oldPathIn = json.<mark>get</mark>("oldPath");
        java.lang.String oldPathOut = gson.<mark>fromJson</mark>(oldPathIn, java.lang.String.class);
        dto.setOldPath(oldPathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Udinic_____SyncAdapter_____ParseComServer_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Udinic_____SyncAdapter_____ParseComServer.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public User userSignUp(String name, String email, String pass, String authType) throws Exception {

        String url = "https://api.parse.com/1/users";

        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        for (Header header : getAppParseComHeaders()) {
            httpPost.addHeader(header);
        }
        httpPost.addHeader("Content-Type", "application/json");

        String user = "{\"username\":\"" + email + "\",\"password\":\"" + pass + "\",\"phone\":\"415-392-0202\"}";
        HttpEntity entity = new StringEntity(user);
        httpPost.setEntity(entity);

        try {
            HttpResponse response = httpClient.execute(httpPost);
            String responseString = EntityUtils.toString(response.getEntity());

            if (response.getStatusLine().getStatusCode() != 201) {
                ParseComError error = <mark>new Gson</mark>().<mark>fromJson</mark>(responseString, ParseComError.class);
                throw new Exception("Error creating user[" + error.code + "] - " + error.error);
            }

            User createdUser = <mark>new Gson</mark>().<mark>fromJson</mark>(responseString, User.class);

            return createdUser;

        } catch (IOException e) {
            e.printStackTrace();
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_39.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult AddFaceToLargeFaceList(String largeFaceListId, InputStream imageStream, String userData, FaceRectangle targetFace) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();
        String path = String.format("%s/%s/%s/%s", mServiceHost, LARGE_FACE_LISTS_QUERY, largeFaceListId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        int bytesRead;
        byte[] bytes = new byte[1024];
        while ((bytesRead = imageStream.read(bytes)) > 0) {
            byteArrayOutputStream.write(bytes, 0, bytesRead);
        }
        byte[] data = byteArrayOutputStream.toByteArray();
        params.clear();
        params.put(DATA, data);
        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, STREAM_DATA);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_82.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceMembersImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceMembersImpl dto = new GetWorkspaceMembersImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fluxtream_____fluxtream-app_____BodyTrackHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/fluxtream_____fluxtream-app_____BodyTrackHelper.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    public GetTileResponse fetchTileObject(Long guestId, String deviceNickname, String channelName, int level, long offset){
        try{
            if (guestId == null)
                throw new IllegalArgumentException();
            ChannelMapping mapping = getChannelMapping(guestId, deviceNickname, channelName);
            String internalDeviceName = mapping != null ? mapping.getInternalDeviceName() : deviceNickname;
            String internalChannelName = mapping != null ? mapping.getInternalChannelName() : channelName;
            internalDeviceName = checkDatastoreDir(guestId, internalDeviceName);
            final DataStoreExecutionResult dataStoreExecutionResult = executeDataStore("gettile", new Object[]{guestId, internalDeviceName + "." + internalChannelName, level, offset});
            String result = dataStoreExecutionResult.getResponse();

            // TODO: check statusCode in DataStoreExecutionResult
            GetTileResponse tileResponse = gson.<mark>fromJson</mark>(result,GetTileResponse.class);

            if (tileResponse.data == null){
                tileResponse = GetTileResponse.getEmptyTile(level,offset);
            }//TODO:several fields are missing still and should be implemented

            return tileResponse;
        }
        catch(Exception e){
            return GetTileResponse.getEmptyTile(level,offset);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_101.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static LoadTemplateImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LoadTemplateImpl dto = new LoadTemplateImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      if (json.<mark>has</mark>("templateTag")) {
        JsonElement templateTagIn = json.<mark>get</mark>("templateTag");
        java.lang.String templateTagOut = gson.<mark>fromJson</mark>(templateTagIn, java.lang.String.class);
        dto.setTemplateTag(templateTagOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_87.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static GetWorkspaceParticipantsResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceParticipantsResponseImpl dto = new GetWorkspaceParticipantsResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("participants")) {
        JsonElement participantsIn = json.<mark>get</mark>("participants");
        java.util.ArrayList<ParticipantUserDetailsImpl> participantsOut = null;
        if (participantsIn != null && !participantsIn.<mark>isJsonNull</mark>()) {
          participantsOut = new java.util.ArrayList<ParticipantUserDetailsImpl>();
          java.util.Iterator<JsonElement> participantsInIterator = participantsIn.getAsJsonArray().iterator();
          while (participantsInIterator.hasNext()) {
            JsonElement participantsIn_ = participantsInIterator.next();
            ParticipantUserDetailsImpl participantsOut_ = ParticipantUserDetailsImpl.fromJsonElement(participantsIn_);
            participantsOut.add(participantsOut_);
          }
        }
        dto.setParticipants(participantsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_76.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetTemplatesResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetTemplatesResponseImpl dto = new GetTemplatesResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("templates")) {
        JsonElement templatesIn = json.<mark>get</mark>("templates");
        java.util.HashMap<String, java.lang.String> templatesOut = null;
        if (templatesIn != null && !templatesIn.<mark>isJsonNull</mark>()) {
          templatesOut = new java.util.HashMap<String, java.lang.String>();
          java.util.Set<Map.Entry<String, JsonElement>> entries0 = templatesIn.<mark>getAsJsonObject</mark>().entrySet();
          for (Map.Entry<String, JsonElement> entry0 : entries0) {
            JsonElement templatesIn_ = entry0.getValue();
            java.lang.String templatesOut_ = gson.<mark>fromJson</mark>(templatesIn_, java.lang.String.class);
            templatesOut.put(entry0.getKey(), templatesOut_);
          }
        }
        dto.setTemplates(templatesOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_55.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static GetDirectoryResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetDirectoryResponseImpl dto = new GetDirectoryResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("rootId")) {
        JsonElement rootIdIn = json.<mark>get</mark>("rootId");
        java.lang.String rootIdOut = gson.<mark>fromJson</mark>(rootIdIn, java.lang.String.class);
        dto.setRootId(rootIdOut);
      }

      if (json.<mark>has</mark>("baseDirectory")) {
        JsonElement baseDirectoryIn = json.<mark>get</mark>("baseDirectory");
        DirInfoImpl baseDirectoryOut = DirInfoImpl.fromJsonElement(baseDirectoryIn);
        dto.setBaseDirectory(baseDirectoryOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>matrix-org_____matrix-android-sdk_____JsonUtils_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/matrix-org_____matrix-android-sdk_____JsonUtils.java

com.google.gson.Gson.fromJson

/**
     * Convert a stringified JSON into a class instance.
     * The returned value cannot be null.
     *
     * @param jsonObjectAsString the json object as string to convert
     * @param aClass             the class
     * @return the converted object
     */    @NonNull
    public static Message toMessage(JsonElement jsonObject) {
        try {
            Message message = gson.<mark>fromJson</mark>(jsonObject, Message.class);

            // Try to return the right subclass
            if (Message.MSGTYPE_IMAGE.equals(message.msgtype)) {
                return toImageMessage(jsonObject);
            }

            if (Message.MSGTYPE_VIDEO.equals(message.msgtype)) {
                return toVideoMessage(jsonObject);
            }

            if (Message.MSGTYPE_LOCATION.equals(message.msgtype)) {
                return toLocationMessage(jsonObject);
            }

            // Try to return the right subclass
            if (Message.MSGTYPE_FILE.equals(message.msgtype)) {
                return toFileMessage(jsonObject);
            }

            if (Message.MSGTYPE_AUDIO.equals(message.msgtype)) {
                return toAudioMessage(jsonObject);
            }

            // Fall back to the generic Message type
            return message;
        } catch (Exception e) {
            Log.e(LOG_TAG, "## toMessage failed " + e.getMessage(), e);
        }

        return new Message();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_97.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray


    public static InvalidXsrfTokenServerErrorImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      InvalidXsrfTokenServerErrorImpl dto = new InvalidXsrfTokenServerErrorImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("newXsrfToken")) {
        JsonElement newXsrfTokenIn = json.<mark>get</mark>("newXsrfToken");
        java.lang.String newXsrfTokenOut = gson.<mark>fromJson</mark>(newXsrfTokenIn, java.lang.String.class);
        dto.setNewXsrfToken(newXsrfTokenOut);
      }

      if (json.<mark>has</mark>("failureReason")) {
        JsonElement failureReasonIn = json.<mark>get</mark>("failureReason");
        com.google.collide.dto.ServerError.FailureReason failureReasonOut = gson.<mark>fromJson</mark>(failureReasonIn, com.google.collide.dto.ServerError.FailureReason.class);
        dto.setFailureReason(failureReasonOut);
      }

      if (json.<mark>has</mark>("details")) {
        JsonElement detailsIn = json.<mark>get</mark>("details");
        java.lang.String detailsOut = gson.<mark>fromJson</mark>(detailsIn, java.lang.String.class);
        dto.setDetails(detailsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_35.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean


    public static DeleteImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DeleteImpl dto = new DeleteImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("text")) {
        JsonElement textIn = json.<mark>get</mark>("text");
        java.lang.String textOut = gson.<mark>fromJson</mark>(textIn, java.lang.String.class);
        dto.setText(textOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>commons-app_____apps-android-commons_____NearbyMapFragment_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/commons-app_____apps-android-commons_____NearbyMapFragment.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.registerTypeAdapter
com.google.gson.reflect.TypeToken<java.util.List<fr.free.nrw.commons.nearby.Place>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<fr.free.nrw.commons.nearby.Place>>.getType
com.google.gson.Gson.fromJson
com.google.gson.reflect.TypeToken<fr.free.nrw.commons.nearby.fr.free.nrw.commons.location.LatLng>.&ltinit&gt
com.google.gson.reflect.TypeToken<fr.free.nrw.commons.nearby.fr.free.nrw.commons.location.LatLng>.getType
com.google.gson.reflect.TypeToken<fr.free.nrw.commons.nearby.fr.free.nrw.commons.location.LatLng[]>.&ltinit&gt
com.google.gson.reflect.TypeToken<fr.free.nrw.commons.nearby.fr.free.nrw.commons.location.LatLng[]>.getType
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public void updateMapSlightly() {
        // Get arguments from bundle for new location
        Bundle bundle = this.getArguments();
        if (mapboxMap != null) {
            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>registerTypeAdapter</mark>(Uri.class, new UriDeserializer())
                    .create();
            if (bundle != null) {
                String gsonLatLng = bundle.getString("CurLatLng");
                Type curLatLngType = new TypeToken<fr.free.nrw.commons.location.LatLng>() {}.<mark>getType</mark>();
                curLatLng = gson.<mark>fromJson</mark>(gsonLatLng, curLatLngType);
            }
            updateMapToTrackPosition();
        }

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_23.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult addPersonFace(String personGroupId, UUID personId, InputStream imageStream, String userData, FaceRectangle targetFace) throws ClientException, IOException
    {
        Map<String, Object> params = new HashMap<>();

        String path = String.format("%s/%s/%s/%s/%s/%s", mServiceHost, PERSON_GROUPS_QUERY, personGroupId, PERSONS_QUERY, personId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        int bytesRead;
        byte[] bytes = new byte[1024];
        while ((bytesRead = imageStream.read(bytes)) > 0) {
            byteArrayOutputStream.write(bytes, 0, bytesRead);
        }
        byte[] data = byteArrayOutputStream.toByteArray();
        params.clear();
        params.put(DATA, data);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, STREAM_DATA);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____HypervDirectConnectResource_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____HypervDirectConnectResource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson

    // host
    public final Command[] requestStartupCommand(final Command[] cmd) {
        // Set HTTP POST destination URI
        // Using java.net.URI, see
        // http://docs.oracle.com/javase/1.5.0/docs/api/java/net/URI.html
        URI agentUri = null;
        try {
            final String cmdName = StartupCommand.class.getName();
            agentUri =
                    new URI("https", null, _agentIp, _port,
                            "/api/HypervResource/" + cmdName, null, null);
        } catch (final URISyntaxException e) {
            // TODO add proper logging
            final String errMsg = "Could not generate URI for Hyper-V agent";
            s_logger.error(errMsg, e);
            return null;
        }
        final String incomingCmd = postHttpRequest(s_gson.<mark>toJson</mark>(cmd), agentUri);

        if (incomingCmd == null) {
            return null;
        }
        Command[] result = null;
        try {
            result = s_gson.<mark>fromJson</mark>(incomingCmd, Command[].class);
        } catch (final Exception ex) {
            final String errMsg = "Failed to deserialize Command[] " + incomingCmd;
            s_logger.error(errMsg, ex);
        }
        s_logger.debug("requestStartupCommand received response " + s_gson.<mark>toJson</mark>(result));
        if (result.length > 0) {
            return result;
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static AddProjectMembersImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      AddProjectMembersImpl dto = new AddProjectMembersImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("changeRoleInfo")) {
        JsonElement changeRoleInfoIn = json.<mark>get</mark>("changeRoleInfo");
        ChangeRoleInfoImpl changeRoleInfoOut = ChangeRoleInfoImpl.fromJsonElement(changeRoleInfoIn);
        dto.setChangeRoleInfo(changeRoleInfoOut);
      }

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      if (json.<mark>has</mark>("userEmails")) {
        JsonElement userEmailsIn = json.<mark>get</mark>("userEmails");
        java.lang.String userEmailsOut = gson.<mark>fromJson</mark>(userEmailsIn, java.lang.String.class);
        dto.setUserEmails(userEmailsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____DeconzBridgeHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____DeconzBridgeHandler.java

com.google.gson.Gson.fromJson

/**
     * Perform a request to the REST API for retrieving the full bridge state with all sensors and switches
     * and configuration.
     */     */
    private void parseAPIKeyResponse(AsyncHttpClient.Result r) {
        if (r.getResponseCode() == 403) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_PENDING,
                    "Allow authentification for 3rd party apps. Trying again in " + String.valueOf(POLL_FREQUENCY_SEC)
                            + " seconds");
            stopTimer();
            scheduledFuture = scheduler.schedule(() -> requestApiKey(), POLL_FREQUENCY_SEC, TimeUnit.SECONDS);
        } else if (r.getResponseCode() == 200) {
            ApiKeyMessage[] response = gson.<mark>fromJson</mark>(r.getBody(), ApiKeyMessage[].class);
            if (response.length == 0) {
                throw new IllegalStateException("Authorisation request response is empty");
            }
            config.apikey = response[0].success.username;
            Configuration configuration = editConfiguration();
            configuration.put(CONFIG_APIKEY, config.apikey);
            updateConfiguration(configuration);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_PENDING, "Waiting for configuration");
            requestFullState();
        } else {
            throw new IllegalStateException("Unknown status code for authorisation request");
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____HypervDirectConnectResource_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____HypervDirectConnectResource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    protected int getVmNics(final String vmName, String vlanid) {
        final GetVmConfigCommand vmConfig = new GetVmConfigCommand(vmName);
        URI agentUri = null;
        int nicposition = -1;
        if(vlanid.equalsIgnoreCase("untagged")) {
            vlanid = "-1";
        }
        try {
            final String cmdName = GetVmConfigCommand.class.getName();
            agentUri =
                    new URI("https", null, _agentIp, _port,
                            "/api/HypervResource/" + cmdName, null, null);
        } catch (final URISyntaxException e) {
            final String errMsg = "Could not generate URI for Hyper-V agent";
            s_logger.error(errMsg, e);
        }
        final String ansStr = postHttpRequest(s_gson.<mark>toJson</mark>(vmConfig), agentUri);
        final Answer[] result = s_gson.<mark>fromJson</mark>(ansStr, Answer[].class);
        s_logger.debug("executeRequest received response "
                + s_gson.<mark>toJson</mark>(result));
        if (result.length > 0) {
            final GetVmConfigAnswer ans = (GetVmConfigAnswer)result[0];
            final List<NicDetails> nics = ans.getNics();
            for (final NicDetails nic : nics) {
                nicposition++;
                if (nicposition > 1 && nic.getVlanid().equals(vlanid)) {
                    break;
                }
            }
        }
        return nicposition;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>sachin-handiekar_____jInstagram_____InstagramBase_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/sachin-handiekar_____jInstagram_____InstagramBase.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Creates an object from the JSON response and the class which the object
     * would be mapped to.
     *
     * @param clazz
     *            a class instance
     * @param response
     *            a JSON feed
     * @return a object of type <T>
     * @throws InstagramException
     *             if any error occurs.
     */
	private Exception testResponseBody(Response response) {
		Exception capturedException = null;
		int code = response.getCode();

		try {
			// get response entity, attempt parse as JSON.
			String jsonString = response.getBody();
			<mark>new Gson</mark>().<mark>fromJson</mark>(jsonString, JsonObject.class);
		} catch (IllegalStateException e) {
			// this indicates a socket error (e.g. connection reset) when attempting
			// to read HTTP response entity, capture the latest exception to be thrown
			// at the end
			capturedException = e;
			if (e.getCause() instanceof SocketException) {
				logger.warn(
						format("Socket error with HTTP response (code %d).", code),
						e.getCause());
			} else {
				logger.warn(
						format("IllegalState exception with HTTP response (code %d).", code),
						e.getCause());
			}
		} catch (JsonSyntaxException e) {
			// HTTP response body contained malformed JSON
			logger.warn(
					format("HTTP response body contained malformed JSON (code %d).", code),
					response.getCode());
			capturedException = e;
		}

		return capturedException;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____MockIaasApiClient_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____MockIaasApiClient.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson


    public MockInstanceMetadata allocateIpAddress(String instanceId) {
        try {
            if (log.isDebugEnabled()) {
                log.debug(String.format("Allocating ip address: [instance-id] %s", instanceId));
            }
            URI uri = new URIBuilder(endpoint + INSTANCES_CONTEXT + instanceId + "/allocateIpAddress").build();
            HttpResponse response = restClient.doPost(uri, new String());
            if (response != null) {
                GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
                Gson gson = gsonBuilder.<mark>create</mark>();

                if ((response.getStatusCode() >= 200) && (response.getStatusCode() < 300)) {
                    return gson.<mark>fromJson</mark>(response.getContent(), MockInstanceMetadata.class);
                } else {
                    ErrorResponse errorResponse = gson.<mark>fromJson</mark>(response.getContent(), ErrorResponse.class);
                    if (errorResponse != null) {
                        throw new RuntimeException(errorResponse.getErrorMessage());
                    }
                }
            }
            throw new RuntimeException("An unknown error occurred");
        } catch (Exception e) {
            String message = String.format("Could not allocate ip address: [instance-id] ", instanceId);
            throw new RuntimeException(message, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_19.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean


    public static CodeReferencesImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeReferencesImpl dto = new CodeReferencesImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("references")) {
        JsonElement referencesIn = json.<mark>get</mark>("references");
        java.util.ArrayList<CodeReferenceImpl> referencesOut = null;
        if (referencesIn != null && !referencesIn.<mark>isJsonNull</mark>()) {
          referencesOut = new java.util.ArrayList<CodeReferenceImpl>();
          java.util.Iterator<JsonElement> referencesInIterator = referencesIn.getAsJsonArray().iterator();
          while (referencesInIterator.hasNext()) {
            JsonElement referencesIn_ = referencesInIterator.next();
            CodeReferenceImpl referencesOut_ = CodeReferenceImpl.fromJsonElement(referencesIn_);
            referencesOut.add(referencesOut_);
          }
        }
        dto.setReferences(referencesOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_106.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static LogMetricImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LogMetricImpl dto = new LogMetricImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("timestamp")) {
        JsonElement timestampIn = json.<mark>get</mark>("timestamp");
        double timestampOut = timestampIn.getAsDouble();
        dto.setTimestamp(timestampOut);
      }

      if (json.<mark>has</mark>("action")) {
        JsonElement actionIn = json.<mark>get</mark>("action");
        java.lang.String actionOut = gson.<mark>fromJson</mark>(actionIn, java.lang.String.class);
        dto.setAction(actionOut);
      }

      if (json.<mark>has</mark>("event")) {
        JsonElement eventIn = json.<mark>get</mark>("event");
        java.lang.String eventOut = gson.<mark>fromJson</mark>(eventIn, java.lang.String.class);
        dto.setEvent(eventOut);
      }

      if (json.<mark>has</mark>("message")) {
        JsonElement messageIn = json.<mark>get</mark>("message");
        java.lang.String messageOut = gson.<mark>fromJson</mark>(messageIn, java.lang.String.class);
        dto.setMessage(messageOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    public @Nullable String getTahomaVersion(String gatewayId) {
        String line = "";
        try {
            String url = SETUP_URL + gatewayId + "/version";
            line = sendGetToTahomaWithCookie(url);
            SomfyTahomaVersionResponse data = gson.<mark>fromJson</mark>(line, SomfyTahomaVersionResponse.class);
            logger.debug("Tahoma version: {}", data.getResult());

            return data.getResult();
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", line, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Unauthorized. Please check credentials");
            return UNAUTHORIZED;
        } catch (ExecutionException e) {
            if (isAuthenticationChallenge(e)) {
                login();
                return UNAUTHORIZED;
            } else {
                logger.debug("Cannot get Tahoma gateway version!", e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
            }
        } catch (InterruptedException | TimeoutException e) {
            logger.debug("Cannot get Tahoma gateway version!", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____MiIoBasicHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____MiIoBasicHandler.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.serializeNulls
com.google.gson.Gson.fromJson


    private URL findDatabaseEntry(String deviceName) {
        URL fn;
        try {
            Bundle bundle = FrameworkUtil.getBundle(getClass());
            fn = bundle.getEntry(MiIoBindingConstants.DATABASE_PATH + deviceName + ".json");
            if (fn != null) {
                logger.trace("bundle: {}, {}", bundle, fn.getFile());
                return fn;
            }
            for (URL db : Collections.list(bundle.findEntries(MiIoBindingConstants.DATABASE_PATH, "*.json", false))) {
                try {
                    JsonObject deviceMapping = Utils.convertFileToJSON(db);
                    Gson gson = <mark>new GsonBuilder</mark>().<mark>serializeNulls</mark>().create();
                    MiIoBasicDevice devdb = gson.<mark>fromJson</mark>(deviceMapping, MiIoBasicDevice.class);
                    for (String id : devdb.getDevice().getId()) {
                        if (deviceName.equals(id)) {
                            return db;
                        }
                    }
                } catch (Exception e) {
                    // not relevant
                    logger.debug("Error while searching for {} in database '{}': {}", deviceName, db, e.getMessage());
                }
            }
        } catch (Exception e) {
            logger.debug("Error while searching for {} in database: {}", deviceName, e.getMessage());
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_36.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static InsertImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      InsertImpl dto = new InsertImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("text")) {
        JsonElement textIn = json.<mark>get</mark>("text");
        java.lang.String textOut = gson.<mark>fromJson</mark>(textIn, java.lang.String.class);
        dto.setText(textOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_29.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public AddPersistedFaceResult addPersonFaceInLargePersonGroup(String largePersonGroupId, UUID personId, InputStream imageStream, String userData, FaceRectangle targetFace) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        String path = String.format("%s/%s/%s/%s/%s/%s", mServiceHost, LARGE_PERSON_GROUPS_QUERY, largePersonGroupId, PERSONS_QUERY, personId, PERSISTED_FACES_QUERY);
        if (userData != null && userData.length() > 0) {
            params.put("userData", userData);
        }

        if (targetFace != null) {
            String targetFaceString = String.format(Locale.ENGLISH, "%1d,%2d,%3d,%4d", targetFace.left, targetFace.top, targetFace.width, targetFace.height);
            params.put("targetFace", targetFaceString);
        }

        String uri = WebServiceRequest.getUrl(path, params);

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        int bytesRead;
        byte[] bytes = new byte[1024];
        while ((bytesRead = imageStream.read(bytes)) > 0) {
            byteArrayOutputStream.write(bytes, 0, bytesRead);
        }
        byte[] data = byteArrayOutputStream.toByteArray();
        params.clear();
        params.put(DATA, data);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, STREAM_DATA);
        return mGson.<mark>fromJson</mark>(json, AddPersistedFaceResult.class);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____FibaroInfo_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____FibaroInfo.java

com.google.gson.Gson.fromJson


	public Device[] getDevices()
	{
		Room[] rooms = getRooms();

		log.debug("getDevices Found: " + rooms.length + " rooms");

		String result = null;
		if(isDevMode)
			result = FibaroTestData.DeviceTestData;
		else
			result = request("/api/devices?enabled=true&visible=true");
		log.debug("getDevices response: <<<" + result + ">>>");
		Device[] all_devices = result == null ? new Device[0] : gson.<mark>fromJson</mark>(result, Device[].class);

		int count = 0;
		for(Device d : all_devices)
			if(d.getRoomID() > 0 && (theFilters.isUseSaveLogs() ? "true".equals(d.getProperties().getSaveLogs()) : true))
				count++;

		Device[] devices = new Device[count];
		int i = 0;
		for(Device d : all_devices)
			if(d.getRoomID() > 0 && (theFilters.isUseSaveLogs() ? "true".equals(d.getProperties().getSaveLogs()) : true))
			{
				if(theFilters.isUseUserDescription() && d.getProperties().getUserDescription() != null && !d.getProperties().getUserDescription().isEmpty())
					d.setName(d.getProperties().getUserDescription());
				if(theFilters.isReplaceTrash())
					d.setName(replaceTrash(d.getName()));
				
				devices[i++] = d;

				for(Room room : rooms)
					if(d.getRoomID() == room.getId())
						d.setRoomName(room.getName());

				d.fibaroaddress = fibaroAddress.getIp();
				d.fibaroport = fibaroAddress.getPort();
				d.fibaroAuth = fibaroAuth;
				d.fibaroname = fibaroAddress.getName();
			}

		log.debug("getDevices Found: " + devices.length + " devices");

		return devices;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * Undeploy application
     *
     * @param applicationId application id
     * @throws CommandException
     */     */
    public void synchronizeArtifacts(String cartridgeAlias) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL() + ENDPOINT_SYNCHRONIZE_ARTIFACTS.replace("{subscriptionAlias}", cartridgeAlias), cartridgeAlias);

            String responseCode = "" + response.getStatusLine().getStatusCode();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println(String.format("Synchronizing artifacts for cartridge subscription alias: %s", cartridgeAlias));
            } else {
                GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
                Gson gson = gsonBuilder.<mark>create</mark>();
                String resultString = CliUtils.getHttpResponseString(response);
                ExceptionMapper exception = gson.<mark>fromJson</mark>(resultString, ExceptionMapper.class);
                System.out.println(exception);
            }
        } catch (Exception e) {
            String message = "Could not synchronize artifacts for cartridge subscription alias: " + cartridgeAlias;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____BaremetalVlanManagerImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____BaremetalVlanManagerImpl.java

com.google.gson.Gson.fromJson

    @Override
    public void prepareVlan(Network nw, DeployDestination destHost) {
        List<BaremetalRctVO> vos = rctDao.listAll();
        if (vos.isEmpty()) {
            throw new CloudRuntimeException("no rack configuration found, please call addBaremetalRct to add one");
        }

        BaremetalRctVO vo = vos.get(0);
        BaremetalRct rct = gson.<mark>fromJson</mark>(vo.getRct(), BaremetalRct.class);

        RackPair rp = findRack(rct, destHost.getHost().getPrivateMacAddress());
        if (rp == null) {
            throw new CloudRuntimeException(String.format("cannot find any rack contains host[mac:%s], please double check your rack configuration file, update it and call addBaremetalRct again", destHost.getHost().getPrivateMacAddress()));
        }

        int vlan = Integer.parseInt(Networks.BroadcastDomainType.getValue(nw.getBroadcastUri()));
        BaremetalSwitchBackend backend = getSwitchBackend(rp.rack.getL2Switch().getType());
        BaremetalVlanStruct struct = new BaremetalVlanStruct();
        struct.setHostMac(rp.host.getMac());
        struct.setPort(rp.host.getPort());
        struct.setSwitchIp(rp.rack.getL2Switch().getIp());
        struct.setSwitchPassword(rp.rack.getL2Switch().getPassword());
        struct.setSwitchType(rp.rack.getL2Switch().getType());
        struct.setSwitchUsername(rp.rack.getL2Switch().getUsername());
        struct.setVlan(vlan);
        backend.prepareVlan(struct);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    public @Nullable String executeActionGroupInternal(String id) {
        String line = "";
        try {
            String url = EXEC_URL + id;

            line = sendDataToTahomaWithCookie(url, "");
            SomfyTahomaApplyResponse data = gson.<mark>fromJson</mark>(line, SomfyTahomaApplyResponse.class);
            if (data.getExecId().isEmpty()) {
                logger.debug("Got empty exec response");
            }
            return data.getExecId();
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", line, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Unauthorized. Please check credentials");
            return UNAUTHORIZED;
        } catch (ExecutionException e) {
            if (isAuthenticationChallenge(e)) {
                login();
                return UNAUTHORIZED;
            } else {
                logger.debug("Cannot exec execution group!", e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
            }
        } catch (InterruptedException | TimeoutException e) {
            logger.debug("Cannot exec execution group!", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_83.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsDouble
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceMembersResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceMembersResponseImpl dto = new GetWorkspaceMembersResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("members")) {
        JsonElement membersIn = json.<mark>get</mark>("members");
        java.util.ArrayList<UserDetailsWithRoleImpl> membersOut = null;
        if (membersIn != null && !membersIn.<mark>isJsonNull</mark>()) {
          membersOut = new java.util.ArrayList<UserDetailsWithRoleImpl>();
          java.util.Iterator<JsonElement> membersInIterator = membersIn.getAsJsonArray().iterator();
          while (membersInIterator.hasNext()) {
            JsonElement membersIn_ = membersInIterator.next();
            UserDetailsWithRoleImpl membersOut_ = UserDetailsWithRoleImpl.fromJsonElement(membersIn_);
            membersOut.add(membersOut_);
          }
        }
        dto.setMembers(membersOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitreid-connect_____OpenID-Connect-Java-Spring-Server_____BlacklistAPI_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mitreid-connect_____OpenID-Connect-Java-Spring-Server_____BlacklistAPI.java

com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson

/**
	 * Delete a blacklisted site
	 *
	 */	@RequestMapping(method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)
	public String addNewBlacklistedSite(@RequestBody String jsonString, ModelMap m, Principal p) {

		JsonObject json;

		BlacklistedSite blacklist = null;

		try {

			json = parser.<mark>parse</mark>(jsonString).getAsJsonObject();
			blacklist = gson.<mark>fromJson</mark>(json, BlacklistedSite.class);
			BlacklistedSite newBlacklist = blacklistService.saveNew(blacklist);
			m.put(JsonEntityView.ENTITY, newBlacklist);

		}
		catch (JsonSyntaxException e) {
			logger.error("addNewBlacklistedSite failed due to JsonSyntaxException: ", e);
			m.put(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.put(JsonErrorView.ERROR_MESSAGE, "Could not save new blacklisted site. The server encountered a JSON syntax exception. Contact a system administrator for assistance.");
			return JsonErrorView.VIEWNAME;
		} catch (IllegalStateException e) {
			logger.error("addNewBlacklistedSite failed due to IllegalStateException", e);
			m.put(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.put(JsonErrorView.ERROR_MESSAGE, "Could not save new blacklisted site. The server encountered an IllegalStateException. Refresh and try again - if the problem persists, contact a system administrator for assistance.");
			return JsonErrorView.VIEWNAME;
		}

		return JsonEntityView.VIEWNAME;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GdaxExchangeAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GdaxExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BalanceInfo getBalanceInfo() throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("GET", "accounts", null);
            LOG.debug(() -> "Balance Info response: " + response);

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final GdaxAccount[] gdaxAccounts = gson.<mark>fromJson</mark>(response.getPayload(), GdaxAccount[].class);

                final HashMap<String, BigDecimal> balancesAvailable = new HashMap<>();
                final HashMap<String, BigDecimal> balancesOnHold = new HashMap<>();

                for (final GdaxAccount gdaxAccount : gdaxAccounts) {
                    balancesAvailable.put(gdaxAccount.currency, gdaxAccount.available);
                    balancesOnHold.put(gdaxAccount.currency, gdaxAccount.hold);
                }
                return new BalanceInfoImpl(balancesAvailable, balancesOnHold);

            } else {
                final String errorMsg = "Failed to get your wallet balance info from exchange. Details: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_64.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetOwningProjectResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetOwningProjectResponseImpl dto = new GetOwningProjectResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspace")) {
        JsonElement workspaceIn = json.<mark>get</mark>("workspace");
        WorkspaceInfoImpl workspaceOut = WorkspaceInfoImpl.fromJsonElement(workspaceIn);
        dto.setWorkspace(workspaceOut);
      }

      if (json.<mark>has</mark>("owningProject")) {
        JsonElement owningProjectIn = json.<mark>get</mark>("owningProject");
        ProjectInfoImpl owningProjectOut = ProjectInfoImpl.fromJsonElement(owningProjectIn);
        dto.setOwningProject(owningProjectOut);
      }

      if (json.<mark>has</mark>("projectMembersInfo")) {
        JsonElement projectMembersInfoIn = json.<mark>get</mark>("projectMembersInfo");
        ProjectMembersInfoImpl projectMembersInfoOut = ProjectMembersInfoImpl.fromJsonElement(projectMembersInfoIn);
        dto.setProjectMembersInfo(projectMembersInfoOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getPercentageOfBuyOrderTakenForExchangeFee(String marketId) throws TradingApiException,
            ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("balance", null);
            LOG.debug(() -> "Buy Fee response: " + response);

            final BitstampBalance balances = gson.<mark>fromJson</mark>(response.getPayload(), BitstampBalance.class);

            // Ouch!
            final Class<?> clazz = balances.getClass();
            final Field[] fields = clazz.getDeclaredFields();
            for (final Field field : fields) {
                if (field.getName().startsWith(marketId)) {
                    final BigDecimal fee = (BigDecimal) field.get(balances);
                    // adapt the % into BigDecimal format
                    return fee.divide(new BigDecimal("100"), 8, BigDecimal.ROUND_HALF_UP);
                }
            }

            final String errorMsg = "Unable to map marketId to currency balances returned from the Exchange. "
                    + "MarketId: " + marketId + " BitstampBalances: " + balances;
            LOG.error(errorMsg);
            throw new IllegalArgumentException(errorMsg);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getPercentageOfSellOrderTakenForExchangeFee(String marketId) throws TradingApiException,
            ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("balance", null);
            LOG.debug(() -> "Sell Fee response: " + response);

            final BitstampBalance balances = gson.<mark>fromJson</mark>(response.getPayload(), BitstampBalance.class);

            // Ouch!
            final Class<?> clazz = balances.getClass();
            final Field[] fields = clazz.getDeclaredFields();
            for (final Field field : fields) {
                if (field.getName().startsWith(marketId)) {
                    final BigDecimal fee = (BigDecimal) field.get(balances);
                    // adapt the % into BigDecimal format
                    return fee.divide(new BigDecimal("100"), 8, BigDecimal.ROUND_HALF_UP);
                }
            }

            final String errorMsg = "Unable to map marketId to currency balances returned from the Exchange. "
                    + "MarketId: " + marketId + " BitstampBalances: " + balances;
            LOG.error(errorMsg);
            throw new IllegalArgumentException(errorMsg);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testEmptyFlowFileQueryWithScheduledQuery() {
        String message = "water,country=US,city=newark rain=1,humidity=0.6 1501002274856668652";
        influxDB.write(dbName, DEFAULT_RETENTION_POLICY, InfluxDB.ConsistencyLevel.ONE, message);

        String query = "select * from water";
        runner.setProperty(ExecuteInfluxDBQuery.INFLUX_DB_QUERY, query);

        byte [] bytes = new byte [] {};
        runner.enqueue(bytes);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);

        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertEquals("Value should be equal",null, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));

        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(new String(flowFiles.get(0).toByteArray())), QueryResult.class);
        assertNotNull("QueryResult should not be null", queryResult.getResults());
        assertEquals("results array should be same size", 1, queryResult.getResults().size());
        Series series = queryResult.getResults().get(0).getSeries().get(0);
        validateSeries(series.getName(), series.getColumns(), series.getValues().get(0),"newark",1.0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * Add cartridge group
     *
     * @param entityBody cartridge group definition
     * @throws CommandException
     */     */
    public void addKubernetesHost(String entityBody, String clusterId) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_DEPLOY_KUBERNETES_HOST.replace("{kubernetesClusterId}", clusterId), entityBody);

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK) || responseCode.equals(CliConstants.RESPONSE_CREATED)) {
                System.out.println("You have successfully deployed host to Kubernetes cluster: " + clusterId);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                ExceptionMapper exception = gson.<mark>fromJson</mark>(resultString, ExceptionMapper.class);
                System.out.println(exception);
            }

        } catch (Exception e) {
            String message = "Could not add host to Kubernetes cluster: " + clusterId;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testValidSameTwoPoints() {
        String message = "water,country=US,city=nyc rain=1,humidity=0.6 1501002274856668652" +
            System.lineSeparator() +
            "water,country=US,city=nyc rain=1,humidity=0.6 1501002274856668652";
        influxDB.write(dbName, DEFAULT_RETENTION_POLICY, InfluxDB.ConsistencyLevel.ONE, message);
        String query = "select * from water";
        byte [] bytes = query.getBytes();
        runner.enqueue(bytes);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);
        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertNull("Value should be null", flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));

        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(new String(flowFiles.get(0).toByteArray())), QueryResult.class);
        assertNotNull("QueryResult should not be null", queryResult.getResults());
        assertEquals("Result size should be same", 1, queryResult.getResults().size());
        Series series = queryResult.getResults().get(0).getSeries().get(0);
        validateSeries(series.getName(), series.getColumns(), series.getValues().get(0),"nyc",1.0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testShowDatabases() {
        String query = "show databases";
        byte [] bytes = query.getBytes();
        runner.enqueue(bytes);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);
        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertNull("Value should be null", flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));

        String result = new String(flowFiles.get(0).toByteArray());
        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(result), QueryResult.class);
        Series series = queryResult.getResults().get(0).getSeries().get(0);
        assertEquals("series name should be same", "databases", series.getName());
        assertEquals("series column should be same", "name", series.getColumns().get(0));
        boolean internal = series.getValues().get(0).stream().anyMatch(o -> o.equals("_internal"));
        Assert.assertTrue("content should contain _internal " + queryResult, internal);
        boolean test = series.getValues().stream().flatMap(i -> ((List<Object>)i).stream()).anyMatch(o -> o.equals("test"));
        Assert.assertTrue("content should contain test " + queryResult, test);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____MockIaasApiClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____MockIaasApiClient.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


    public MockInstanceMetadata startInstance(MockInstanceContext mockInstanceContext) {
        try {
            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            String content = gson.toJson(mockInstanceContext);
            if (log.isDebugEnabled()) {
                log.debug("Start instance request body: " + content);
            }
            URI uri = new URIBuilder(endpoint + INSTANCES_CONTEXT).build();
            HttpResponse response = restClient.doPost(uri, content);
            if (log.isDebugEnabled()) {
                log.debug("Mock start instance call response: " + response.getContent());
            }
            if (response != null) {
                if ((response.getStatusCode() >= 200) && (response.getStatusCode() < 300)) {
                    return gson.<mark>fromJson</mark>(response.getContent(), MockInstanceMetadata.class);
                } else {
                    ErrorResponse errorResponse = gson.<mark>fromJson</mark>(response.getContent(), ErrorResponse.class);
                    if (errorResponse != null) {
                        throw new RuntimeException(errorResponse.getErrorMessage());
                    }
                }
            }
            throw new RuntimeException("An unknown error occurred");
        } catch (Exception e) {
            String message = "Could not start mock instance";
            throw new RuntimeException(message, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____WebServiceRequest_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____WebServiceRequest.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    private Object post(String url, Map<String, Object> data, String contentType) throws ClientException, IOException {
        Request.Builder builder = new Request.Builder()
                .url(url)
                .header(HEADER_KEY, this.mSubscriptionKey);

        boolean isStream = false;

        if (contentType != null && !(contentType.length() == 0)) {
            builder.header(CONTENT_TYPE, contentType);

            if (contentType.toLowerCase(Locale.ENGLISH).contains(OCTET_STREAM)) {
                isStream = true;
            }
        } else {
            builder.header(CONTENT_TYPE, APPLICATION_JSON);
        }

        if (!isStream) {
            String json = mGson.<mark>toJson</mark>(data);
            builder.post(RequestBody.create(MediaType.get(APPLICATION_JSON), json));
        } else {
            builder.post(RequestBody.create(MediaType.get(contentType), (byte[]) data.get(DATA)));
        }

        Response response = mClient.newCall(builder.build()).execute();

        if (response.isSuccessful()) {
            return readInput(response);
        } else {
            String json = readInput(response);
            if (json != null) {
                ServiceError error = mGson.<mark>fromJson</mark>(json, ServiceError.class);
                if (error != null) {
                    throw new ClientException(error.error);
                }
            }

            throw new ClientException("Error executing POST request!", response.code());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_52.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static DeployInformationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DeployInformationImpl dto = new DeployInformationImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("version")) {
        JsonElement versionIn = json.<mark>get</mark>("version");
        java.lang.String versionOut = gson.<mark>fromJson</mark>(versionIn, java.lang.String.class);
        dto.setVersion(versionOut);
      }

      if (json.<mark>has</mark>("appId")) {
        JsonElement appIdIn = json.<mark>get</mark>("appId");
        java.lang.String appIdOut = gson.<mark>fromJson</mark>(appIdIn, java.lang.String.class);
        dto.setAppId(appIdOut);
      }

      if (json.<mark>has</mark>("appYamlPath")) {
        JsonElement appYamlPathIn = json.<mark>get</mark>("appYamlPath");
        java.lang.String appYamlPathOut = gson.<mark>fromJson</mark>(appYamlPathIn, java.lang.String.class);
        dto.setAppYamlPath(appYamlPathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_109.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static MembershipChangedPayloadImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      MembershipChangedPayloadImpl dto = new MembershipChangedPayloadImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("membershipChange")) {
        JsonElement membershipChangeIn = json.<mark>get</mark>("membershipChange");
        com.google.collide.dto.MembershipChangedPayload.MembershipChange membershipChangeOut = gson.<mark>fromJson</mark>(membershipChangeIn, com.google.collide.dto.MembershipChangedPayload.MembershipChange.class);
        dto.setMembershipChange(membershipChangeOut);
      }

      if (json.<mark>has</mark>("id")) {
        JsonElement idIn = json.<mark>get</mark>("id");
        java.lang.String idOut = gson.<mark>fromJson</mark>(idIn, java.lang.String.class);
        dto.setId(idOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BalanceInfo getBalanceInfo() throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("balance", null);
            LOG.debug(() -> "Balance Info response: " + response);

            final BitstampBalance balances = gson.<mark>fromJson</mark>(response.getPayload(), BitstampBalance.class);

            final Map<String, BigDecimal> balancesAvailable = new HashMap<>();
            balancesAvailable.put("BTC", balances.btc_available);
            balancesAvailable.put("USD", balances.usd_available);
            balancesAvailable.put("EUR", balances.eur_available);
            balancesAvailable.put("LTC", balances.ltc_available);
            balancesAvailable.put("XRP", balances.xrp_available);

            final Map<String, BigDecimal> balancesOnOrder = new HashMap<>();
            balancesOnOrder.put("BTC", balances.btc_reserved);
            balancesOnOrder.put("USD", balances.usd_reserved);
            balancesOnOrder.put("EUR", balances.eur_reserved);
            balancesOnOrder.put("LTC", balances.ltc_reserved);
            balancesOnOrder.put("XRP", balances.xrp_reserved);

            return new BalanceInfoImpl(balancesAvailable, balancesOnOrder);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * Delete user
     *
     * @param userName username
     * @throws CommandException
     */     */
    public void addUser(String userName, String credential, String role, String firstName, String lastName, String email, String profileName)
            throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            UserInfoBean userInfoBean = new UserInfoBean();
            userInfoBean.setUserName(userName);
            userInfoBean.setCredential(credential);
            userInfoBean.setRole(role);
            userInfoBean.setFirstName(firstName);
            userInfoBean.setLastName(lastName);
            userInfoBean.setEmail(email);
            userInfoBean.setProfileName(profileName);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            String jsonString = gson.toJson(userInfoBean, UserInfoBean.class);

            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_USER, jsonString);

            String result = getHttpResponseString(response);
            System.out.println(gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage());

        } catch (Exception e) {
            String message = "Could not add user: " + userName;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_72.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetStagingServerInfoResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetStagingServerInfoResponseImpl dto = new GetStagingServerInfoResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("autoUpdate")) {
        JsonElement autoUpdateIn = json.<mark>get</mark>("autoUpdate");
        boolean autoUpdateOut = autoUpdateIn.getAsBoolean();
        dto.setAutoUpdate(autoUpdateOut);
      }

      if (json.<mark>has</mark>("stagingServerAppId")) {
        JsonElement stagingServerAppIdIn = json.<mark>get</mark>("stagingServerAppId");
        java.lang.String stagingServerAppIdOut = gson.<mark>fromJson</mark>(stagingServerAppIdIn, java.lang.String.class);
        dto.setStagingServerAppId(stagingServerAppIdOut);
      }

      if (json.<mark>has</mark>("latestMimicVersionId")) {
        JsonElement latestMimicVersionIdIn = json.<mark>get</mark>("latestMimicVersionId");
        int latestMimicVersionIdOut = latestMimicVersionIdIn.getAsInt();
        dto.setLatestMimicVersionId(latestMimicVersionIdOut);
      }

      if (json.<mark>has</mark>("lastKnownMimicVersionId")) {
        JsonElement lastKnownMimicVersionIdIn = json.<mark>get</mark>("lastKnownMimicVersionId");
        int lastKnownMimicVersionIdOut = lastKnownMimicVersionIdIn.getAsInt();
        dto.setLastKnownMimicVersionId(lastKnownMimicVersionIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CodeErrorsRequestImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeErrorsRequestImpl dto = new CodeErrorsRequestImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_11.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CodeErrorsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeErrorsImpl dto = new CodeErrorsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("codeErrors")) {
        JsonElement codeErrorsIn = json.<mark>get</mark>("codeErrors");
        java.util.ArrayList<CodeErrorImpl> codeErrorsOut = null;
        if (codeErrorsIn != null && !codeErrorsIn.<mark>isJsonNull</mark>()) {
          codeErrorsOut = new java.util.ArrayList<CodeErrorImpl>();
          java.util.Iterator<JsonElement> codeErrorsInIterator = codeErrorsIn.getAsJsonArray().iterator();
          while (codeErrorsInIterator.hasNext()) {
            JsonElement codeErrorsIn_ = codeErrorsInIterator.next();
            CodeErrorImpl codeErrorsOut_ = CodeErrorImpl.fromJsonElement(codeErrorsIn_);
            codeErrorsOut.add(codeErrorsOut_);
          }
        }
        dto.setCodeErrors(codeErrorsOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Udinic_____AccountAuthenticator_____ParseComServerAuthenticate_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Udinic_____AccountAuthenticator_____ParseComServerAuthenticate.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public String userSignUp(String name, String email, String pass, String authType) throws Exception {

        String url = "https://api.parse.com/1/users";

        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        httpPost.addHeader("X-Parse-Application-Id","XUafJTkPikD5XN5HxciweVuSe12gDgk2tzMltOhr");
        httpPost.addHeader("X-Parse-REST-API-Key", "8L9yTQ3M86O4iiucwWb4JS7HkxoSKo7ssJqGChWx");
        httpPost.addHeader("Content-Type", "application/json");

        String user = "{\"username\":\"" + email + "\",\"password\":\"" + pass + "\",\"phone\":\"415-392-0202\"}";
        HttpEntity entity = new StringEntity(user);
        httpPost.setEntity(entity);

        String authtoken = null;
        try {
            HttpResponse response = httpClient.execute(httpPost);
            String responseString = EntityUtils.toString(response.getEntity());

            if (response.getStatusLine().getStatusCode() != 201) {
                ParseComError error = <mark>new Gson</mark>().<mark>fromJson</mark>(responseString, ParseComError.class);
                throw new Exception("Error creating user["+error.code+"] - " + error.error);
            }


            User createdUser = <mark>new Gson</mark>().<mark>fromJson</mark>(responseString, User.class);

            authtoken = createdUser.sessionToken;

        } catch (IOException e) {
            e.printStackTrace();
        }

        return authtoken;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ccrama_____Slide_____Toolbox_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ccrama_____Slide_____Toolbox.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Upload a subreddit's usernotes to the wiki
     *
     * @param subreddit Sub to upload usernotes for
     * @param editReason Reason for the wiki edit
     */     */
    public static void downloadUsernotes(String subreddit) {
        WikiManager manager = new WikiManager(Authentication.reddit);
        Gson gson = new GsonBuilder().registerTypeAdapter(new TypeToken<Map<String, List<Usernote>>>() {}.getType(),
                new Usernotes.BlobDeserializer()).create();
        try {
            String data = manager.get(subreddit, "usernotes").getContent();
            Usernotes result = gson.<mark>fromJson</mark>(data, Usernotes.class);
            cache.edit().putLong(subreddit + "_usernotes_timestamp", System.currentTimeMillis()).apply();
            if (result != null && result.getSchema() == 6) {
                result.setSubreddit(subreddit);
                notes.put(subreddit, result);
                cache.edit().putBoolean(subreddit + "_usernotes_exists", true)
                        .putString(subreddit + "_usernotes_data", data).apply();
            } else {
                cache.edit().putBoolean(subreddit + "_usernotes_exists", false).apply();
            }
        } catch (NetworkException | JsonParseException e) {
            if (e instanceof JsonParseException) {
                notes.remove(subreddit);
            }
            cache.edit().putLong(subreddit + "_usernotes_timestamp", System.currentTimeMillis())
                    .putBoolean(subreddit + "_usernotes_exists", false).apply();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____ConsoleProxyManagerImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____ConsoleProxyManagerImpl.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.setVersion
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

        @Override
        public void onLoadReport(ConsoleProxyLoadReportCommand cmd) {
            if (cmd.getLoadInfo() == null) {
                return;
            }

            ConsoleProxyStatus status = null;
            try {
                GsonBuilder gb = <mark>new GsonBuilder</mark>();
                gb.<mark>setVersion</mark>(1.3);
                Gson gson = gb.<mark>create</mark>();
                status = gson.<mark>fromJson</mark>(cmd.getLoadInfo(), ConsoleProxyStatus.class);
            } catch (Throwable e) {
                s_logger.warn("Unable to parse load info from proxy, proxy vm id : " + cmd.getProxyVmId() + ", info : " + cmd.getLoadInfo());
            }

            if (status != null) {
                int count = 0;
                if (status.getConnections() != null) {
                    count = status.getConnections().length;
                }

                byte[] details = null;
                if (cmd.getLoadInfo() != null) {
                    details = cmd.getLoadInfo().getBytes(Charset.forName("US-ASCII"));
                }
                _consoleProxyDao.update(cmd.getProxyVmId(), count, DateUtil.currentGMTTime(), details);
            } else {
                if (s_logger.isTraceEnabled()) {
                    s_logger.trace("Unable to get console proxy load info, id : " + cmd.getProxyVmId());
                }

                _consoleProxyDao.update(cmd.getProxyVmId(), 0, DateUtil.currentGMTTime(), null);
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____FavouriteDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____FavouriteDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.printStackTrace


    public static FavouriteTimeLineData getFavouriteMsgList(String accountId) {

        FavListBean result = new FavListBean();

        List<FavBean> msgList = new ArrayList<FavBean>();
        String sql = "select * from " + FavouriteTable.FavouriteDataTable.TABLE_NAME + " where "
                + FavouriteTable.FavouriteDataTable.ACCOUNTID + "  = "
                + accountId + " order by " + FavouriteTable.FavouriteDataTable.MBLOGID + " desc";
        Cursor c = getRsd().rawQuery(sql, null);
        Gson gson = <mark>new Gson</mark>();
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(FavouriteTable.FavouriteDataTable.JSONDATA));
            try {
                FavBean value = gson.<mark>fromJson</mark>(json, FavBean.class);
                if (value != null) {
                    value.getStatus().getListViewSpannableString();
                }
                msgList.add(value);
            } catch (JsonSyntaxException e) {
                AppLoggerUtils.e(e.getMessage());
            }
        }

        result.setFavorites(msgList);
        c.close();

        sql = "select * from " + FavouriteTable.TABLE_NAME + " where " + FavouriteTable.ACCOUNTID + "  = " + accountId;
        c = getRsd().rawQuery(sql, null);
        int page = 0;
        while (c.moveToNext()) {
            page = c.getInt(c.getColumnIndex(FavouriteTable.PAGE));
        }
        c.close();
        return new FavouriteTimeLineData(result, page, getPosition(accountId));

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_112.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean


    public static ConflictedPathImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ConflictedPathImpl dto = new ConflictedPathImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("nodeType")) {
        JsonElement nodeTypeIn = json.<mark>get</mark>("nodeType");
        int nodeTypeOut = nodeTypeIn.getAsInt();
        dto.setNodeType(nodeTypeOut);
      }

      if (json.<mark>has</mark>("isUtf8")) {
        JsonElement isUtf8In = json.<mark>get</mark>("isUtf8");
        boolean isUtf8Out = isUtf8In.<mark>getAsBoolean</mark>();
        dto.setIsUtf8(isUtf8Out);
      }

      if (json.<mark>has</mark>("startId")) {
        JsonElement startIdIn = json.<mark>get</mark>("startId");
        java.lang.String startIdOut = gson.<mark>fromJson</mark>(startIdIn, java.lang.String.class);
        dto.setStartId(startIdOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_93.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GwtSettingsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GwtSettingsImpl dto = new GwtSettingsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("modules")) {
        JsonElement modulesIn = json.<mark>get</mark>("modules");
        java.util.ArrayList<GwtRecompileImpl> modulesOut = null;
        if (modulesIn != null && !modulesIn.<mark>isJsonNull</mark>()) {
          modulesOut = new java.util.ArrayList<GwtRecompileImpl>();
          java.util.Iterator<JsonElement> modulesInIterator = modulesIn.getAsJsonArray().iterator();
          while (modulesInIterator.hasNext()) {
            JsonElement modulesIn_ = modulesInIterator.next();
            GwtRecompileImpl modulesOut_ = GwtRecompileImpl.fromJsonElement(modulesIn_);
            modulesOut.add(modulesOut_);
          }
        }
        dto.setModules(modulesOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_26.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CreateWorkspaceImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CreateWorkspaceImpl dto = new CreateWorkspaceImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      if (json.<mark>has</mark>("description")) {
        JsonElement descriptionIn = json.<mark>get</mark>("description");
        java.lang.String descriptionOut = gson.<mark>fromJson</mark>(descriptionIn, java.lang.String.class);
        dto.setDescription(descriptionOut);
      }

      if (json.<mark>has</mark>("baseWorkspaceId")) {
        JsonElement baseWorkspaceIdIn = json.<mark>get</mark>("baseWorkspaceId");
        java.lang.String baseWorkspaceIdOut = gson.<mark>fromJson</mark>(baseWorkspaceIdIn, java.lang.String.class);
        dto.setBaseWorkspaceId(baseWorkspaceIdOut);
      }

      if (json.<mark>has</mark>("name")) {
        JsonElement nameIn = json.<mark>get</mark>("name");
        java.lang.String nameOut = gson.<mark>fromJson</mark>(nameIn, java.lang.String.class);
        dto.setName(nameOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____RESTApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____RESTApi.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

    @SuppressWarnings("null")
    public int handle(HttpMethod method, String body, Writer out, Path path, boolean isDebug)
            throws IOException, JsonParseException {
        if (!"api".equals(path.getName(0).toString())) {
            return 404;
        }

        if (path.getNameCount() == 1) { // request for API key
            if (method != HttpMethod.POST) {
                return 405;
            }
            if (!ds.config.linkbutton) {
                return 10403;
            }

            final HueCreateUser userRequest;
            userRequest = gson.<mark>fromJson</mark>(body, HueCreateUser.class);
            if (userRequest.devicetype == null || userRequest.devicetype.isEmpty()) {
                throw new JsonParseException("devicetype not given");
            }

            String apiKey = userRequest.username;
            if (apiKey == null || apiKey.length() == 0) {
                apiKey = UUID.randomUUID().toString();
            }
            userManagement.addUser(apiKey, userRequest.devicetype);

            try (JsonWriter writer = new JsonWriter(out)) {
                HueSuccessResponseCreateUser h = new HueSuccessResponseCreateUser(apiKey);
                gson.<mark>toJson</mark>(Collections.singleton(new HueResponse(h)), new TypeToken<List<?>>() {
                }.getType(), writer);
            }
            return 200;
        }

        updateDataStore();

        Path userPath = remaining(path);

        return handleUser(method, body, out, userPath.getName(0).toString(), remaining(userPath), path, isDebug);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>PaperAirplane-Dev-Team_____BlackLight_____UserApiCache_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/PaperAirplane-Dev-Team_____BlackLight_____UserApiCache.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson


	public UserModel getUser(String uid) {
		UserModel model;

		model = UserApi.getUser(uid);

		if (model == null) {
			Cursor cursor = mHelper.getReadableDatabase().query(UsersTable.NAME, new String[] {
				UsersTable.UID,
				UsersTable.TIMESTAMP,
				UsersTable.USERNAME,
				UsersTable.JSON
			}, UsersTable.UID + "=?", new String[]{uid}, null, null, null);

			if (cursor.getCount() >= 1) {
				cursor.moveToFirst();

				long time = cursor.getLong(cursor.getColumnIndex(UsersTable.TIMESTAMP));

				if (DEBUG) {
					Log.d(TAG, "time = " + time);
					Log.d(TAG, "available = " + Utility.isCacheAvailable(time, Constants.DB_CACHE_DAYS));
				}

				if (Utility.isCacheAvailable(time, Constants.DB_CACHE_DAYS)) {
					model = <mark>new Gson</mark>().<mark>fromJson</mark>(cursor.getString(cursor.getColumnIndex(UsersTable.JSON)), UserModel.class);
					model.timestamp = cursor.getInt(cursor.getColumnIndex(UsersTable.TIMESTAMP));
				}
			}
		} else {

			// Insert into database
			ContentValues values = new ContentValues();
			values.put(UsersTable.UID, uid);
			values.put(UsersTable.TIMESTAMP, model.timestamp);
			values.put(UsersTable.USERNAME, model.getName());
			values.put(UsersTable.JSON, <mark>new Gson</mark>().<mark>toJson</mark>(model));

			SQLiteDatabase db = mHelper.getWritableDatabase();
			db.beginTransaction();
			db.delete(UsersTable.NAME, UsersTable.UID + "=?", new String[]{uid});
			db.insert(UsersTable.NAME, null, values);
			db.setTransactionSuccessful();
			db.endTransaction();

		}

		return model;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitreid-connect_____OpenID-Connect-Java-Spring-Server_____WhitelistAPI_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mitreid-connect_____OpenID-Connect-Java-Spring-Server_____WhitelistAPI.java

com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson

/**
	 * Delete a whitelisted site
	 *
	 */	@RequestMapping(method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)
	public String addNewWhitelistedSite(@RequestBody String jsonString, ModelMap m, Principal p) {

		JsonObject json;

		WhitelistedSite whitelist = null;
		try {
			json = parser.<mark>parse</mark>(jsonString).getAsJsonObject();
			whitelist = gson.<mark>fromJson</mark>(json, WhitelistedSite.class);

		} catch (JsonParseException e) {
			logger.error("addNewWhitelistedSite failed due to JsonParseException", e);
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Could not save new whitelisted site. The server encountered a JSON syntax exception. Contact a system administrator for assistance.");
			return JsonErrorView.VIEWNAME;
		} catch (IllegalStateException e) {
			logger.error("addNewWhitelistedSite failed due to IllegalStateException", e);
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Could not save new whitelisted site. The server encountered an IllegalStateException. Refresh and try again - if the problem persists, contact a system administrator for assistance.");
			return JsonErrorView.VIEWNAME;
		}

		// save the id of the person who created this
		whitelist.setCreatorUserId(p.getName());

		WhitelistedSite newWhitelist = whitelistService.saveNew(whitelist);

		m.put(JsonEntityView.ENTITY, newWhitelist);

		return JsonEntityView.VIEWNAME;

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____BaremetalVlanManagerImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____BaremetalVlanManagerImpl.java

com.google.gson.Gson.fromJson

    @Override
    public BaremetalRctResponse addRct(AddBaremetalRctCmd cmd) {
        try {
            List<BaremetalRctVO> existings = rctDao.listAll();
            if (!existings.isEmpty()) {
                throw new CloudRuntimeException(String.format("there is some RCT existing. A CloudStack deployment accepts only one RCT"));
            }
            URL url = new URL(cmd.getRctUrl());
            RestTemplate rest = new RestTemplate();
            String rctStr = rest.getForObject(url.toString(), String.class);

            // validate it's right format
            BaremetalRct rct = gson.<mark>fromJson</mark>(rctStr, BaremetalRct.class);
            QueryBuilder<BaremetalRctVO> sc = QueryBuilder.create(BaremetalRctVO.class);
            sc.and(sc.entity().getUrl(), SearchCriteria.Op.EQ, cmd.getRctUrl());
            BaremetalRctVO vo =  sc.find();
            if (vo == null) {
                vo = new BaremetalRctVO();
                vo.setRct(gson.toJson(rct));
                vo.setUrl(cmd.getRctUrl());
                vo = rctDao.persist(vo);
            } else {
                vo.setRct(gson.toJson(rct));
                rctDao.update(vo.getId(), vo);
            }

            BaremetalRctResponse rsp = new BaremetalRctResponse();
            rsp.setUrl(vo.getUrl());
            rsp.setId(vo.getUuid());
            rsp.setObjectName("baremetalrct");
            return rsp;
        } catch (MalformedURLException e) {
            throw new IllegalArgumentException(String.format("%s is not a legal http url", cmd.getRctUrl()));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_122.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static RecoverFromDroppedTangoInvalidationResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RecoverFromDroppedTangoInvalidationResponseImpl dto = new RecoverFromDroppedTangoInvalidationResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("payloads")) {
        JsonElement payloadsIn = json.<mark>get</mark>("payloads");
        java.util.ArrayList<RecoveredPayloadImpl> payloadsOut = null;
        if (payloadsIn != null && !payloadsIn.<mark>isJsonNull</mark>()) {
          payloadsOut = new java.util.ArrayList<RecoveredPayloadImpl>();
          java.util.Iterator<JsonElement> payloadsInIterator = payloadsIn.getAsJsonArray().iterator();
          while (payloadsInIterator.hasNext()) {
            JsonElement payloadsIn_ = payloadsInIterator.next();
            RecoveredPayloadImpl payloadsOut_ = RecoveredPayloadImpl.fromJsonElement(payloadsIn_);
            payloadsOut.add(payloadsOut_);
          }
        }
        dto.setPayloads(payloadsOut);
      }

      if (json.<mark>has</mark>("currentObjectVersion")) {
        JsonElement currentObjectVersionIn = json.<mark>get</mark>("currentObjectVersion");
        int currentObjectVersionOut = currentObjectVersionIn.getAsInt();
        dto.setCurrentObjectVersion(currentObjectVersionOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_20.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CompileResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CompileResponseImpl dto = new CompileResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      if (json.<mark>has</mark>("compilerStatus")) {
        JsonElement compilerStatusIn = json.<mark>get</mark>("compilerStatus");
        com.google.collide.dto.CompileResponse.CompilerState compilerStatusOut = gson.<mark>fromJson</mark>(compilerStatusIn, com.google.collide.dto.CompileResponse.CompilerState.class);
        dto.setCompilerStatus(compilerStatusOut);
      }

      if (json.<mark>has</mark>("staticName")) {
        JsonElement staticNameIn = json.<mark>get</mark>("staticName");
        java.lang.String staticNameOut = gson.<mark>fromJson</mark>(staticNameIn, java.lang.String.class);
        dto.setStaticName(staticNameOut);
      }

      if (json.<mark>has</mark>("isAuthorized")) {
        JsonElement isAuthorizedIn = json.<mark>get</mark>("isAuthorized");
        boolean isAuthorizedOut = isAuthorizedIn.getAsBoolean();
        dto.setIsAuthorized(isAuthorizedOut);
      }

      if (json.<mark>has</mark>("port")) {
        JsonElement portIn = json.<mark>get</mark>("port");
        int portOut = portIn.getAsInt();
        dto.setPort(portOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____InternalMessageDataRepository_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____InternalMessageDataRepository.java

com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.getType
com.google.gson.Gson.fromJson

    @Override
    public Observable<List<MessageEntity>> fetchByStatus(MessageEntity.Status status) {
        if (status.equals(MessageEntity.Status.SENT)) {
            return Observable.defer(() -> {
                Type messageList = new TypeToken<List<Message>>() {
                }.<mark>getType</mark>();
                String json = loadSentMessages();
                List<Message> messageEntityList = null;
                try {
                    messageEntityList = mGson.<mark>fromJson</mark>(json, messageList);
                } catch (Exception e) {
                    e.printStackTrace();
                    return Observable.error(e);
                }
                List<MessageEntity> messages = mMessageDataMapper.map(messageEntityList);
                return Observable.just(messages);
            });
        }

        return Observable.defer(() -> {
            Type messageList = new TypeToken<List<Message>>() {
            }.<mark>getType</mark>();
            String json = loadFailedMessages();
            List<Message> messageEntityList = null;
            try {
                messageEntityList = mGson.<mark>fromJson</mark>(json, messageList);
            } catch (Exception e) {
                e.printStackTrace();
                return Observable.error(e);
            }
            List<MessageEntity> messages = mMessageDataMapper.map(messageEntityList);
            return Observable.just(messages);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>zstackio_____zstack_____ZSClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/zstackio_____zstack_____ZSClient.java

com.google.gson.Gson.fromJson


    public static void webHookCallback(HttpServletRequest req, HttpServletResponse rsp) {
        try {
            StringBuilder jb = new StringBuilder();
            BufferedReader reader = req.getReader();
            String line;

            while ((line = reader.readLine()) != null) {
                jb.append(line);
            }

            String jobUuid = req.getHeader(Constants.HEADER_JOB_UUID);
            if (jobUuid == null) {
                // TODO: log error
                rsp.sendError(400, String.format("missing header[%s]", Constants.HEADER_JOB_UUID));
                return;
            }

            String jobSuccess = req.getHeader(Constants.HEADER_JOB_SUCCESS);
            if (jobSuccess == null) {
                // TODO: log error
                rsp.sendError(400, String.format("missing header[%s]", Constants.HEADER_JOB_SUCCESS));
                return;
            }

            boolean success = Boolean.valueOf(jobSuccess);

            ApiResult res = new ApiResult();
            if (!success) {
                res = gson.<mark>fromJson</mark>(jb.toString(), ApiResult.class);
            } else {
                res.setResultString(jb.toString());
            }

            Api api = waittingApis.get(jobUuid);
            if (api == null) {
                //TODO: log error
                rsp.sendError(404, String.format("no job[uuid:%s] found", jobUuid));
                return;
            }

            api.wakeUpFromWebHook(res);
            rsp.setStatus(200);
            rsp.getWriter().write("");
        } catch (Exception e) {
            throw new ApiException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yahoo_____pulsar_____KubernetesSecretsProviderConfigurator_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yahoo_____pulsar_____KubernetesSecretsProviderConfigurator.java

com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @Override
    public void configureKubernetesRuntimeSecretsProvider(V1PodSpec podSpec, String functionsContainerName, Function.FunctionDetails functionDetails) {
        V1Container container = null;
        for (V1Container v1Container : podSpec.getContainers()) {
            if (v1Container.getName().equals(functionsContainerName)) {
                container = v1Container;
                break;
            }
        }
        if (container == null) {
            throw new RuntimeException("No FunctionContainer found");
        }
        if (!StringUtils.isEmpty(functionDetails.getSecretsMap())) {
            Type type = new TypeToken<Map<String, Object>>() {
            }.<mark>getType</mark>();
            Map<String, Object> secretsMap = <mark>new Gson</mark>().<mark>fromJson</mark>(functionDetails.getSecretsMap(), type);
            for (Map.Entry<String, Object> entry : secretsMap.entrySet()) {
                final V1EnvVar secretEnv = new V1EnvVar();
                Map<String, String> kv = (Map<String, String>) entry.getValue();
                secretEnv.name(entry.getKey())
                        .valueFrom(new V1EnvVarSource()
                                .secretKeyRef(new V1SecretKeySelector()
                                        .name(kv.get(ID_KEY))
                                        .key(kv.get(KEY_KEY))));
                container.addEnvItem(secretEnv);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____CommentToMeTimeLineDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____CommentToMeTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.printStackTrace


    public static CommentTimeLineData getCommentLineMsgList(String accountId) {
        TimeLinePosition position = getPosition(accountId);

        int limit = position.position + AppConfig.DB_CACHE_COUNT_OFFSET > AppConfig.DEFAULT_MSG_COUNT_50 ? position.position
                + AppConfig.DB_CACHE_COUNT_OFFSET
                : AppConfig.DEFAULT_MSG_COUNT_50;

        CommentListBean result = new CommentListBean();

        List<CommentBean> msgList = new ArrayList<CommentBean>();
        String sql = "select * from " + CommentsTable.CommentsDataTable.TABLE_NAME + " where "
                + CommentsTable.CommentsDataTable.ACCOUNTID + "  = " + accountId
                + " order by " + CommentsTable.CommentsDataTable.MBLOGID + " desc limit " + limit;
        Cursor c = getRsd().rawQuery(sql, null);
        Gson gson = <mark>new Gson</mark>();
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(CommentsTable.CommentsDataTable.JSONDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    CommentBean value = gson.<mark>fromJson</mark>(json, CommentBean.class);
                    value.getListViewSpannableString();
                    msgList.add(value);
                } catch (JsonSyntaxException e) {
                    AppLoggerUtils.e(e.getMessage());
                }
            } else {
                msgList.add(null);
            }
        }

        result.setComments(msgList);
        c.close();
        return new CommentTimeLineData(result, position);

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____SalesforceExtractor_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____SalesforceExtractor.java

com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.get

  @Override
  public long getHighWatermark(CommandOutput<?, ?> response, String watermarkColumn, String format)
      throws HighWatermarkException {
    log.info("Get high watermark from salesforce");

    String output;
    Iterator<String> itr = (Iterator<String>) response.getResults().values().iterator();
    if (itr.hasNext()) {
      output = itr.next();
    } else {
      throw new HighWatermarkException("Failed to get high watermark from salesforce; REST response has no output");
    }

    JsonElement element = GSON.<mark>fromJson</mark>(output, JsonObject.class);
    long high_ts;
    try {
      JsonObject jsonObject = element.<mark>getAsJsonObject</mark>();
      JsonArray jsonArray = jsonObject.getAsJsonArray("records");
      if (jsonArray.size() == 0) {
        return -1;
      }

      String value = jsonObject.getAsJsonArray("records").<mark>get</mark>(0).<mark>getAsJsonObject</mark>().<mark>get</mark>(watermarkColumn).getAsString();
      if (format != null) {
        SimpleDateFormat inFormat = new SimpleDateFormat(format);
        Date date = null;
        try {
          date = inFormat.parse(value);
        } catch (ParseException e) {
          log.error("ParseException: " + e.getMessage(), e);
        }
        SimpleDateFormat outFormat = new SimpleDateFormat("yyyyMMddHHmmss");
        high_ts = Long.parseLong(outFormat.format(date));
      } else {
        high_ts = Long.parseLong(value);
      }

    } catch (Exception e) {
      throw new HighWatermarkException("Failed to get high watermark from salesforce; error - " + e.getMessage(), e);
    }
    return high_ts;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>syncthing_____syncthing-android_____RestApi_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/syncthing_____syncthing-android_____RestApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
         * Called for each event.
         */     */
    public void getConnections(final OnResultListener1<Connections> listener) {
        new GetRequest(mContext, mUrl, GetRequest.URI_CONNECTIONS, mApiKey, null, result -> {
            Long now = System.currentTimeMillis();
            Long msElapsed = now - mPreviousConnectionTime;
            if (msElapsed < Constants.GUI_UPDATE_INTERVAL) {
                listener.onResult(deepCopy(mPreviousConnections.get(), Connections.class));
                return;
            }

            mPreviousConnectionTime = now;
            Connections connections = <mark>new Gson</mark>().<mark>fromJson</mark>(result, Connections.class);
            for (Map.Entry<String, Connections.Connection> e : connections.connections.entrySet()) {
                e.getValue().completion = mCompletion.getDeviceCompletion(e.getKey());

                Connections.Connection prev =
                        (mPreviousConnections.isPresent() && mPreviousConnections.get().connections.containsKey(e.getKey()))
                                ? mPreviousConnections.get().connections.get(e.getKey())
                                : new Connections.Connection();
                e.getValue().setTransferRate(prev, msElapsed);
            }
            Connections.Connection prev =
                    mPreviousConnections.transform(c -> c.total).or(new Connections.Connection());
            connections.total.setTransferRate(prev, msElapsed);
            mPreviousConnections = Optional.of(connections);
            listener.onResult(deepCopy(connections, Connections.class));
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____RemoteInterpreterServer_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____RemoteInterpreterServer.java

com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

  @Override
  public void angularObjectUpdate(String name, String noteId, String paragraphId, String object)
      throws TException {
    AngularObjectRegistry registry = interpreterGroup.getAngularObjectRegistry();
    // first try local objects
    AngularObject ao = registry.get(name, noteId, paragraphId);
    if (ao == null) {
      logger.debug("Angular object {} not exists", name);
      return;
    }

    if (object == null) {
      ao.set(null, false);
      return;
    }

    Object oldObject = ao.get();
    Object value = null;
    if (oldObject != null) {  // first try with previous object's type
      try {
        value = gson.<mark>fromJson</mark>(object, oldObject.getClass());
        ao.set(value, false);
        return;
      } catch (Exception e) {
        // it's not a previous object's type. proceed to treat as a generic type
        logger.debug(e.getMessage(), e);
      }
    }

    // Generic java object type for json.
    if (value == null) {
      try {
        value = gson.<mark>fromJson</mark>(object,
            new TypeToken<Map<String, Object>>() {
            }.<mark>getType</mark>());
      } catch (Exception e) {
        // it's not a generic json object, too. okay, proceed to threat as a string type
        logger.debug(e.getMessage(), e);
      }
    }

    // try string object type at last
    if (value == null) {
      value = gson.<mark>fromJson</mark>(object, String.class);
    }

    ao.set(value, false);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_114.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static NodeHistoryInfoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      NodeHistoryInfoImpl dto = new NodeHistoryInfoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("creationTime")) {
        JsonElement creationTimeIn = json.<mark>get</mark>("creationTime");
        java.lang.String creationTimeOut = gson.<mark>fromJson</mark>(creationTimeIn, java.lang.String.class);
        dto.setCreationTime(creationTimeOut);
      }

      if (json.<mark>has</mark>("predecessorId")) {
        JsonElement predecessorIdIn = json.<mark>get</mark>("predecessorId");
        java.lang.String predecessorIdOut = gson.<mark>fromJson</mark>(predecessorIdIn, java.lang.String.class);
        dto.setPredecessorId(predecessorIdOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("nodeType")) {
        JsonElement nodeTypeIn = json.<mark>get</mark>("nodeType");
        int nodeTypeOut = nodeTypeIn.getAsInt();
        dto.setNodeType(nodeTypeOut);
      }

      if (json.<mark>has</mark>("name")) {
        JsonElement nameIn = json.<mark>get</mark>("name");
        java.lang.String nameOut = gson.<mark>fromJson</mark>(nameIn, java.lang.String.class);
        dto.setName(nameOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____JobSerializerHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____JobSerializerHelper.java

com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.JsonParseException.&ltinit&gt


    public static Object fromSerializedString(String result) {
        try {
            if (result != null && !result.isEmpty()) {

                String[] serializedParts = result.split(token);

                if (serializedParts.length < 2) {
                    return null;
                }
                String clzName = serializedParts[0];
                String nameField = null;
                String content = null;
                if (serializedParts.length == 2) {
                    content = serializedParts[1];
                } else {
                    nameField = serializedParts[1];
                    int index = result.indexOf(token + nameField + token);
                    content = result.substring(index + nameField.length() + 2);
                }

                Class<?> clz;
                try {
                    clz = Class.forName(clzName);
                } catch (ClassNotFoundException e) {
                    return null;
                }

                Object obj = s_gson.<mark>fromJson</mark>(content, clz);
                return obj;
            }
            return null;
        } catch (RuntimeException e) {
            throw new CloudRuntimeException("Unable to deserialize: " + result, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____FriendsTimeLineDBTask_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____FriendsTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.getMessage


    private static void updateCount(String msgId, int commentCount, int repostCount) {

        DevLog.printLog("getHomeLineMsgList - updateCount: ", " " + msgId + " " + commentCount + "  " + repostCount);

        String sql = "select * from " + HomeTable.HomeDataTable.HOME_DATA_TABLE + " where " + HomeTable.HomeDataTable.MBLOGID
                + "  = " + msgId + " order by "
                + HomeTable.HomeDataTable.ID + " asc limit 50";

        DevLog.printLog("getHomeLineMsgList - updateCount: ", " SQLITE: update Count: " + sql);


        Cursor c = getRsd().rawQuery(sql, null);
        Gson gson = <mark>new Gson</mark>();
        while (c.moveToNext()) {
            String id = c.getString(c.getColumnIndex(HomeTable.HomeDataTable.ID));
            String json = c.getString(c.getColumnIndex(HomeTable.HomeDataTable.JSONDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    MessageBean value = gson.<mark>fromJson</mark>(json, MessageBean.class);
                    value.setComments_count(commentCount);
                    value.setReposts_count(repostCount);
                    String[] args = {
                            id
                    };
                    ContentValues cv = new ContentValues();
                    cv.put(HomeTable.HomeDataTable.JSONDATA, gson.toJson(value));
                    getWsd().update(HomeTable.HomeDataTable.HOME_DATA_TABLE, cv, HomeTable.HomeDataTable.ID + "=?", args);
                } catch (JsonSyntaxException e) {

                }

            }
        }
        c.close();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>freedomotic_____freedomotic_____DrupalRestHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/freedomotic_____freedomotic_____DrupalRestHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<UNRESOLVED.MarketPlacePlugin2>.&ltinit&gt
com.google.gson.reflect.TypeToken<UNRESOLVED.MarketPlacePlugin2>.getType
com.google.gson.Gson.fromJson


    public static ArrayList<MarketPlacePlugin2> retrievePluginsByCategory(String categoryId) {
        ArrayList<MarketPlacePlugin2> pluginPackageList = new ArrayList<MarketPlacePlugin2>();
        int page = 0;
        boolean newData = true;
        String previousJsonData = "EMPTY";
        ArrayList<MarketPlacePlugin2> pagePluginPackageList = new ArrayList<MarketPlacePlugin2>();
        while (newData) {
            String jsonData = "";
            try {
                jsonData = JavaUploader.postTaxonomySelectNodes(categoryId, page);
                if (!jsonData.isEmpty()) {
                    if (page == 0 || !jsonData.equals(previousJsonData)) {
                        Gson gson = <mark>new Gson</mark>();
                        Type collectionType = new TypeToken<ArrayList<MarketPlacePlugin2>>() {
                        }.<mark>getType</mark>();
                        pagePluginPackageList = gson.<mark>fromJson</mark>(jsonData, collectionType);
                        pluginPackageList.addAll(pagePluginPackageList);
                        page++;
                        previousJsonData = jsonData;
                    } else {
                        newData = false;
                    }
                } else {
                    previousJsonData = "EMPTY";
                    newData = false;
                }
            } catch (Exception e) {
                //Freedomotic.logger.severe(e.getMessage());
            }
        }
        return pluginPackageList;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____CommentByMeTimeLineDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____CommentByMeTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.printStackTrace


    public static CommentTimeLineData getCommentLineMsgList(String accountId) {
        TimeLinePosition position = getPosition(accountId);

        CommentListBean result = new CommentListBean();

        int limit = position.position + AppConfig.DB_CACHE_COUNT_OFFSET > AppConfig.DEFAULT_MSG_COUNT_50 ? position.position
                + AppConfig.DB_CACHE_COUNT_OFFSET
                : AppConfig.DEFAULT_MSG_COUNT_50;

        List<CommentBean> msgList = new ArrayList<CommentBean>();
        String sql = "select * from " + CommentByMeTable.CommentByMeDataTable.TABLE_NAME + " where "
                + CommentByMeTable.CommentByMeDataTable.ACCOUNTID + "  = "
                + accountId + " order by " + CommentByMeTable.CommentByMeDataTable.MBLOGID + " desc limit " + limit;
        Cursor c = getRsd().rawQuery(sql, null);
        Gson gson = <mark>new Gson</mark>();
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(CommentByMeTable.CommentByMeDataTable.JSONDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    CommentBean value = gson.<mark>fromJson</mark>(json, CommentBean.class);
                    value.getListViewSpannableString();
                    msgList.add(value);
                } catch (JsonSyntaxException e) {
                    AppLoggerUtils.e(e.getMessage());
                }
            } else {
                msgList.add(null);
            }
        }

        result.setComments(msgList);
        c.close();
        return new CommentTimeLineData(result, position);

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testEmptyFlowFileQueryWithScheduledQueryEL() {
        String message = "water,country=US,city=newark rain=1,humidity=0.6 1501002274856668652";
        influxDB.write(dbName, DEFAULT_RETENTION_POLICY, InfluxDB.ConsistencyLevel.ONE, message);

        String query = "select * from ${measurement}";
        runner.setProperty(ExecuteInfluxDBQuery.INFLUX_DB_QUERY, query);

        byte [] bytes = new byte [] {};
        Map<String,String> properties = new HashMap<>();
        properties.put("measurement","water");
        runner.enqueue(bytes, properties);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);

        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertNull("Value should be null",flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query.replace("${measurement}", "water"), flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));

        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(new String(flowFiles.get(0).toByteArray())), QueryResult.class);
        assertNotNull("QueryResult should not be null", queryResult.getResults());
        assertEquals("results array should be same size", 1, queryResult.getResults().size());
        Series series = queryResult.getResults().get(0).getSeries().get(0);
        validateSeries(series.getName(), series.getColumns(), series.getValues().get(0),"newark",1.0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_135.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray


    public static SearchResultImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      SearchResultImpl dto = new SearchResultImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("snippets")) {
        JsonElement snippetsIn = json.<mark>get</mark>("snippets");
        java.util.ArrayList<SnippetImpl> snippetsOut = null;
        if (snippetsIn != null && !snippetsIn.<mark>isJsonNull</mark>()) {
          snippetsOut = new java.util.ArrayList<SnippetImpl>();
          java.util.Iterator<JsonElement> snippetsInIterator = snippetsIn.<mark>getAsJsonArray</mark>().iterator();
          while (snippetsInIterator.hasNext()) {
            JsonElement snippetsIn_ = snippetsInIterator.next();
            SnippetImpl snippetsOut_ = SnippetImpl.fromJsonElement(snippetsIn_);
            snippetsOut.add(snippetsOut_);
          }
        }
        dto.setSnippets(snippetsOut);
      }

      if (json.<mark>has</mark>("title")) {
        JsonElement titleIn = json.<mark>get</mark>("title");
        java.lang.String titleOut = gson.<mark>fromJson</mark>(titleIn, java.lang.String.class);
        dto.setTitle(titleOut);
      }

      if (json.<mark>has</mark>("url")) {
        JsonElement urlIn = json.<mark>get</mark>("url");
        java.lang.String urlOut = gson.<mark>fromJson</mark>(urlIn, java.lang.String.class);
        dto.setUrl(urlOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____OkCoinExchangeAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____OkCoinExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BalanceInfo getBalanceInfo() throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("userinfo.do", null);
            LOG.debug(() -> "Balance Info response: " + response);

            final OKCoinUserInfoWrapper userInfoWrapper = gson.<mark>fromJson</mark>(response.getPayload(), OKCoinUserInfoWrapper.class);
            if (userInfoWrapper.result) {

                final Map<String, BigDecimal> balancesAvailable = new HashMap<>();
                for (final Map.Entry<String, BigDecimal> balance : userInfoWrapper.info.funds.free.entrySet()) {
                    balancesAvailable.put(balance.getKey().toUpperCase(), balance.getValue());
                }

                final Map<String, BigDecimal> balancesOnOrder = new HashMap<>();
                for (final Map.Entry<String, BigDecimal> balance : userInfoWrapper.info.funds.freezed.entrySet()) {
                    balancesOnOrder.put(balance.getKey().toUpperCase(), balance.getValue());
                }

                return new BalanceInfoImpl(balancesAvailable, balancesOnOrder);

            } else {
                final String errorMsg = "Failed to get Balance Info from exchange. Error response: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_120.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static RecoverFromDroppedTangoInvalidationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RecoverFromDroppedTangoInvalidationImpl dto = new RecoverFromDroppedTangoInvalidationImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("tangoObjectIdName")) {
        JsonElement tangoObjectIdNameIn = json.<mark>get</mark>("tangoObjectIdName");
        java.lang.String tangoObjectIdNameOut = gson.<mark>fromJson</mark>(tangoObjectIdNameIn, java.lang.String.class);
        dto.setTangoObjectIdName(tangoObjectIdNameOut);
      }

      if (json.<mark>has</mark>("currentClientVersion")) {
        JsonElement currentClientVersionIn = json.<mark>get</mark>("currentClientVersion");
        int currentClientVersionOut = currentClientVersionIn.getAsInt();
        dto.setCurrentClientVersion(currentClientVersionOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_29.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static DeployWorkspaceImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DeployWorkspaceImpl dto = new DeployWorkspaceImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("appId")) {
        JsonElement appIdIn = json.<mark>get</mark>("appId");
        java.lang.String appIdOut = gson.<mark>fromJson</mark>(appIdIn, java.lang.String.class);
        dto.setAppId(appIdOut);
      }

      if (json.<mark>has</mark>("appVersion")) {
        JsonElement appVersionIn = json.<mark>get</mark>("appVersion");
        java.lang.String appVersionOut = gson.<mark>fromJson</mark>(appVersionIn, java.lang.String.class);
        dto.setAppVersion(appVersionOut);
      }

      if (json.<mark>has</mark>("basePath")) {
        JsonElement basePathIn = json.<mark>get</mark>("basePath");
        java.lang.String basePathOut = gson.<mark>fromJson</mark>(basePathIn, java.lang.String.class);
        dto.setBasePath(basePathOut);
      }

      if (json.<mark>has</mark>("clusterType")) {
        JsonElement clusterTypeIn = json.<mark>get</mark>("clusterType");
        com.google.collide.dto.GetAppEngineClusterType.Type clusterTypeOut = gson.<mark>fromJson</mark>(clusterTypeIn, com.google.collide.dto.GetAppEngineClusterType.Type.class);
        dto.setClusterType(clusterTypeOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_119.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ProjectMembersInfoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ProjectMembersInfoImpl dto = new ProjectMembersInfoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("pendingMembersCount")) {
        JsonElement pendingMembersCountIn = json.<mark>get</mark>("pendingMembersCount");
        int pendingMembersCountOut = pendingMembersCountIn.<mark>getAsInt</mark>();
        dto.setPendingMembersCount(pendingMembersCountOut);
      }

      if (json.<mark>has</mark>("members")) {
        JsonElement membersIn = json.<mark>get</mark>("members");
        java.util.ArrayList<UserDetailsImpl> membersOut = null;
        if (membersIn != null && !membersIn.<mark>isJsonNull</mark>()) {
          membersOut = new java.util.ArrayList<UserDetailsImpl>();
          java.util.Iterator<JsonElement> membersInIterator = membersIn.getAsJsonArray().iterator();
          while (membersInIterator.hasNext()) {
            JsonElement membersIn_ = membersInIterator.next();
            UserDetailsImpl membersOut_ = UserDetailsImpl.fromJsonElement(membersIn_);
            membersOut.add(membersOut_);
          }
        }
        dto.setMembers(membersOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____ZuoraExtractor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____ZuoraExtractor.java

com.google.gson.JsonArray.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.add

  @Override
  public void extractMetadata(String schema, String entity, WorkUnit workUnit)
      throws SchemaException, IOException {
    String deltaFields = workUnit.getProp(ConfigurationKeys.EXTRACT_DELTA_FIELDS_KEY);
    String primaryKeyColumn = workUnit.getProp(ConfigurationKeys.EXTRACT_PRIMARY_KEY_FIELDS_KEY);
    JsonArray columnArray = <mark>new JsonArray</mark>();
    _header = new ArrayList<>();

    try {
      JsonArray array =
          GSON.<mark>fromJson</mark>(workUnit.getProp(ConfigurationKeys.SOURCE_SCHEMA), JsonArray.class).getAsJsonArray();
      for (JsonElement columnElement : array) {
        Schema obj = GSON.<mark>fromJson</mark>(columnElement, Schema.class);
        String columnName = obj.getColumnName();
        _header.<mark>add</mark>(columnName);

        boolean isWaterMarkColumn = isWatermarkColumn(deltaFields, columnName);
        if (isWaterMarkColumn) {
          obj.setWaterMark(true);
          obj.setNullable(false);
        }

        int primarykeyIndex = getPrimarykeyIndex(primaryKeyColumn, columnName);
        obj.setPrimaryKey(primarykeyIndex);
        boolean isPrimaryKeyColumn = primarykeyIndex > 0;
        if (isPrimaryKeyColumn) {
          obj.setNullable(false);
        }

        String jsonStr = GSON.<mark>toJson</mark>(obj);
        JsonObject jsonObject = GSON.<mark>fromJson</mark>(jsonStr, JsonObject.class).getAsJsonObject();
        columnArray.<mark>add</mark>(jsonObject);
      }

      log.info("Update Schema is:" + columnArray);
      setOutputSchema(columnArray);
    } catch (Exception e) {
      throw new SchemaException("Failed to get schema using rest api; error - " + e.getMessage(), e);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____MentionWeiboTimeLineDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____MentionWeiboTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.printStackTrace


    public static MentionTimeLineData getRepostLineMsgList(String accountId) {
        TimeLinePosition position = getPosition(accountId);

        Gson gson = <mark>new Gson</mark>();
        MessageListBean result = new MessageListBean();

        int limit = position.position + AppConfig.DB_CACHE_COUNT_OFFSET > AppConfig.DEFAULT_MSG_COUNT_50 ? position.position
                + AppConfig.DB_CACHE_COUNT_OFFSET
                : AppConfig.DEFAULT_MSG_COUNT_50;

        List<MessageBean> msgList = new ArrayList<MessageBean>();
        String sql = "select * from " + RepostsTable.RepostDataTable.TABLE_NAME + " where "
                + RepostsTable.RepostDataTable.ACCOUNTID + "  = " + accountId
                + " order by " + RepostsTable.RepostDataTable.MBLOGID + " desc limit " + limit;
        Cursor c = getRsd().rawQuery(sql, null);
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(RepostsTable.RepostDataTable.JSONDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    MessageBean value = gson.<mark>fromJson</mark>(json, MessageBean.class);
                    value.getListViewSpannableString();
                    msgList.add(value);
                } catch (JsonSyntaxException e) {
                    AppLoggerUtils.e(e.getMessage());
                }
            } else {
                msgList.add(null);
            }

        }

        result.setStatuses(msgList);
        c.close();
        MentionTimeLineData mentionTimeLineData = new MentionTimeLineData(result, position);

        return mentionTimeLineData;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_133.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static SearchImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      SearchImpl dto = new SearchImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("page")) {
        JsonElement pageIn = json.<mark>get</mark>("page");
        int pageOut = pageIn.getAsInt();
        dto.setPage(pageOut);
      }

      if (json.<mark>has</mark>("query")) {
        JsonElement queryIn = json.<mark>get</mark>("query");
        java.lang.String queryOut = gson.<mark>fromJson</mark>(queryIn, java.lang.String.class);
        dto.setQuery(queryOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gerrit-review_____gerrit_____CapabilitiesIT_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gerrit-review_____gerrit_____CapabilitiesIT.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<com.google.gerrit.acceptance.rest.account.CapabilityInfo>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.google.gerrit.acceptance.rest.account.CapabilityInfo>.getType
com.google.gson.Gson.fromJson

  @Test
  public void capabilitiesUser() throws Exception {
    Iterable<String> all =
        Iterables.filter(
            GlobalCapability.getAllNames(),
            c -> !ADMINISTRATE_SERVER.equals(c) && !PRIORITY.equals(c));

    allowGlobalCapabilities(REGISTERED_USERS, all);
    try {
      RestResponse r = userRestSession.get("/accounts/self/capabilities");
      r.assertOK();
      CapabilityInfo info =
          (<mark>new Gson</mark>()).<mark>fromJson</mark>(r.getReader(), new TypeToken<CapabilityInfo>() {}.<mark>getType</mark>());
      for (String c : GlobalCapability.getAllNames()) {
        if (ADMINISTRATE_SERVER.equals(c)) {
          assertThat(info.administrateServer).isFalse();
        } else if (BATCH_CHANGES_LIMIT.equals(c)) {
          assertThat(info.batchChangesLimit.min).isEqualTo((short) 0);
          assertThat(info.batchChangesLimit.max).isEqualTo((short) DEFAULT_MAX_BATCH_CHANGES_LIMIT);
        } else if (PRIORITY.equals(c)) {
          assertThat(info.priority).isFalse();
        } else if (QUERY_LIMIT.equals(c)) {
          assertThat(info.queryLimit.min).isEqualTo((short) 0);
          assertThat(info.queryLimit.max).isEqualTo((short) DEFAULT_MAX_QUERY_LIMIT);
        } else {
          assertWithMessage(String.format("capability %s was not granted", c))
              .that((Boolean) CapabilityInfo.class.getField(c).get(info))
              .isTrue();
        }
      }
    } finally {
      removeGlobalCapabilities(REGISTERED_USERS, all);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____intellij-community_____JiraRepository_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/JetBrains_____intellij-community_____JiraRepository.java

com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.getAsJsonArray

  @NotNull
  public JiraRemoteApi discoverApiVersion() throws Exception {
    if (LEGACY_API_ONLY) {
      LOG.info("Intentionally using only legacy JIRA API");
      return createLegacyApi();
    }

    String responseBody;
    GetMethod method = new GetMethod(getRestUrl("serverInfo"));
    try {
      responseBody = executeMethod(method);
    }
    catch (Exception e) {
      // probably JIRA version prior 4.2
      // It's not safe to call HttpMethod.getStatusCode() directly, because it will throw NPE
      // if response was not received (connection lost etc.) and hasBeenUsed()/isRequestSent() are
      // not the way to check it safely.
      StatusLine status = method.getStatusLine();
      if (status != null && status.getStatusCode() == HttpStatus.SC_NOT_FOUND) {
        return createLegacyApi();
      }
      else {
        throw e;
      }
    }
    JsonObject serverInfo = GSON.<mark>fromJson</mark>(responseBody, JsonObject.class);
    // when JIRA 4.x support will be dropped 'versionNumber' array in response
    // may be used instead version string parsing
    myJiraVersion = serverInfo.get("version").getAsString();
    myInCloud = isHostedInCloud(serverInfo);
    LOG.info("JIRA version (from serverInfo): " + getPresentableVersion());
    if (isInCloud()) {
      LOG.info("Connecting to JIRA Cloud. Cookie authentication is enabled unless 'tasks.jira.basic.auth.only' VM flag is used.");
    }
    JiraRestApi restApi = JiraRestApi.fromJiraVersion(myJiraVersion, this);
    if (restApi == null) {
      throw new Exception(TaskBundle.message("jira.failure.no.REST"));
    }
    return restApi;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GeminiExchangeAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GeminiExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public MarketOrderBook getMarketOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {

            final ExchangeHttpResponse response = sendPublicRequestToExchange("book/" + marketId);
            LOG.debug(() -> "Market Orders response: " + response);

            final GeminiOrderBook orderBook = gson.<mark>fromJson</mark>(response.getPayload(), GeminiOrderBook.class);

            final List<MarketOrder> buyOrders = new ArrayList<>();
            for (GeminiMarketOrder geminiBuyOrder : orderBook.bids) {
                final MarketOrder buyOrder = new MarketOrderImpl(
                        OrderType.BUY,
                        geminiBuyOrder.price,
                        geminiBuyOrder.amount,
                        geminiBuyOrder.price.multiply(geminiBuyOrder.amount));
                buyOrders.add(buyOrder);
            }

            final List<MarketOrder> sellOrders = new ArrayList<>();
            for (GeminiMarketOrder geminiSellOrder : orderBook.asks) {
                final MarketOrder sellOrder = new MarketOrderImpl(
                        OrderType.SELL,
                        geminiSellOrder.price,
                        geminiSellOrder.amount,
                        geminiSellOrder.price.multiply(geminiSellOrder.amount));
                sellOrders.add(sellOrder);
            }

            return new MarketOrderBookImpl(marketId, sellOrders, buyOrders);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_61.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson


    public static GetFileRevisionsResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetFileRevisionsResponseImpl dto = new GetFileRevisionsResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("revisions")) {
        JsonElement revisionsIn = json.<mark>get</mark>("revisions");
        java.util.ArrayList<RevisionImpl> revisionsOut = null;
        if (revisionsIn != null && !revisionsIn.<mark>isJsonNull</mark>()) {
          revisionsOut = new java.util.ArrayList<RevisionImpl>();
          java.util.Iterator<JsonElement> revisionsInIterator = revisionsIn.<mark>getAsJsonArray</mark>().iterator();
          while (revisionsInIterator.hasNext()) {
            JsonElement revisionsIn_ = revisionsInIterator.next();
            RevisionImpl revisionsOut_ = RevisionImpl.fromJsonElement(revisionsIn_);
            revisionsOut.add(revisionsOut_);
          }
        }
        dto.setRevisions(revisionsOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_95.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static ImportAssociationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ImportAssociationImpl dto = new ImportAssociationImpl();
      JsonArray json = jsonElem.getAsJsonArray();

      if (0 < json.size()) {
        JsonElement sourceFileIdIn = json.<mark>get</mark>(0);
        java.lang.String sourceFileIdOut = gson.<mark>fromJson</mark>(sourceFileIdIn, java.lang.String.class);
        dto.setSourceFileId(sourceFileIdOut);
      }

      if (1 < json.size()) {
        JsonElement sourceLocalIdIn = json.<mark>get</mark>(1);
        java.lang.String sourceLocalIdOut = gson.<mark>fromJson</mark>(sourceLocalIdIn, java.lang.String.class);
        dto.setSourceLocalId(sourceLocalIdOut);
      }

      if (2 < json.size()) {
        JsonElement targetFileIdIn = json.<mark>get</mark>(2);
        java.lang.String targetFileIdOut = gson.<mark>fromJson</mark>(targetFileIdIn, java.lang.String.class);
        dto.setTargetFileId(targetFileIdOut);
      }

      if (3 < json.size()) {
        JsonElement targetLocalIdIn = json.<mark>get</mark>(3);
        java.lang.String targetLocalIdOut = gson.<mark>fromJson</mark>(targetLocalIdIn, java.lang.String.class);
        dto.setTargetLocalId(targetLocalIdOut);
      }

      if (4 < json.size()) {
        JsonElement isRootAssociationIn = json.<mark>get</mark>(4);
        boolean isRootAssociationOut = isRootAssociationIn.getAsBoolean();
        dto.setIsRootAssociation(isRootAssociationOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.Face>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<com.microsoft.projectoxford.face.contract.Face>>.getType
com.google.gson.Gson.fromJson

    @Override
    public Face[] detect(String url, boolean returnFaceId, boolean returnFaceLandmarks, FaceAttributeType[] returnFaceAttributes) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        params.put("returnFaceId", returnFaceId);
        params.put("returnFaceLandmarks", returnFaceLandmarks);
        if (returnFaceAttributes != null && returnFaceAttributes.length > 0) {
            StringBuilder faceAttributesStringBuilder = new StringBuilder();
            boolean firstAttribute = true;
            for (FaceAttributeType faceAttributeType: returnFaceAttributes)
            {
                if (firstAttribute) {
                    firstAttribute = false;
                } else {
                    faceAttributesStringBuilder.append(",");
                }

                faceAttributesStringBuilder.append(faceAttributeType);
            }
            params.put("returnFaceAttributes", faceAttributesStringBuilder.toString());
        }

        String path = String.format("%s/%s", mServiceHost, DETECT_QUERY);
        String uri = WebServiceRequest.getUrl(path, params);

        params.clear();
        params.put("url", url);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, null);
        Type listType = new TypeToken<List<Face>>() {
        }.<mark>getType</mark>();
        List<Face> faces = mGson.<mark>fromJson</mark>(json, listType);

        return faces.toArray(new Face[faces.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_54.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson


    public static GetDirectoryImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetDirectoryImpl dto = new GetDirectoryImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("depth")) {
        JsonElement depthIn = json.<mark>get</mark>("depth");
        int depthOut = depthIn.getAsInt();
        dto.setDepth(depthOut);
      }

      if (json.<mark>has</mark>("rootId")) {
        JsonElement rootIdIn = json.<mark>get</mark>("rootId");
        java.lang.String rootIdOut = gson.<mark>fromJson</mark>(rootIdIn, java.lang.String.class);
        dto.setRootId(rootIdOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab_____MystromClient_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab_____MystromClient.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson

    @Override
    public MystromDevice getDeviceInfo(String deviceId) {
        Reader reader = null;

        logger.debug("get device info...");

        try {
            String url = API_URL + "device" + "?authToken=" + this.authToken + "&id=" + deviceId;
            HttpURLConnection httpURLConnection;
            httpURLConnection = (HttpURLConnection) new URL(url).openConnection();

            httpURLConnection.connect();

            int responseCode = httpURLConnection.getResponseCode();

            if (responseCode != HttpURLConnection.HTTP_OK) {
                logger.error("Get device info http code: '{}'", responseCode);
                return null;
            }

            InputStream inputStream = httpURLConnection.getInputStream();
            reader = new InputStreamReader(inputStream, "UTF-8");
            JsonObject jsonObject = (JsonObject) jsonParser.<mark>parse</mark>(reader);

            String status = jsonObject.<mark>get</mark>("status").getAsString();
            if (!status.equals("ok")) {
                logger.error("Error while getting device info id: '{}' status '{}'", deviceId, status);
                return null;
            }

            GetDeviceInfoResult result = gson.<mark>fromJson</mark>(jsonObject, GetDeviceInfoResult.class);

            return result.device;
        } catch (Exception ex) {
            logger.error("Error getting device info  with id: '{}', detail '{}'", deviceId, ex.toString());
            return null;
        } finally {
            if (reader != null) {
                try {
                    reader.close();
                } catch (IOException ignored) {

                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____RestApiConnector_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____RestApiConnector.java

com.google.gson.Gson.fromJson

   */
  public boolean connect() throws RestApiConnectionException {
    if (this.autoEstablishAuthToken) {
      if (this.authTokenTimeout <= 0) {
        return false;
      } else if ((System.currentTimeMillis() - this.createdAt) > this.authTokenTimeout) {
        return false;
      }
    }

    HttpEntity httpEntity = null;
    try {
      httpEntity = getAuthentication();

      if (httpEntity != null) {
        JsonElement json = GSON.<mark>fromJson</mark>(EntityUtils.toString(httpEntity), JsonObject.class);
        if (json == null) {
          log.error("Http entity: " + httpEntity);
          log.error("entity class: " + httpEntity.getClass().getName());
          log.error("entity string size: " + EntityUtils.toString(httpEntity).length());
          log.error("content length: " + httpEntity.getContentLength());
          log.error("content: " + IOUtils.toString(httpEntity.getContent(), Charsets.UTF_8));
          throw new RestApiConnectionException(
              "JSON is NULL ! Failed on authentication with the following HTTP response received:\n"
                  + EntityUtils.toString(httpEntity));
        }

        JsonObject jsonRet = json.getAsJsonObject();
        log.info("jsonRet: " + jsonRet.toString());
        parseAuthenticationResponse(jsonRet);
      }
    } catch (IOException e) {
      throw new RestApiConnectionException("Failed to get rest api connection; error - " + e.getMessage(), e);
    } finally {
      if (httpEntity != null) {
        try {
          EntityUtils.consume(httpEntity);
        } catch (IOException e) {
          throw new RestApiConnectionException("Failed to consume httpEntity; error - " + e.getMessage(), e);
        }
      }
    }

    return true;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____RESTApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____RESTApi.java

com.google.gson.Gson.fromJson
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.stream.JsonWriter.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<?>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<?>>.getType
com.google.gson.Gson.toJson

/**
     * Update changing parameters of the data store like the time.
     */     */
    public int handleConfig(HttpMethod method, String body, Writer out, Path remainingPath, String authorizedUser)
            throws IOException, JsonParseException {
        if (remainingPath.getNameCount() == 0) {
            switch (method) {
                case GET:
                    out.write(gson.<mark>toJson</mark>(ds.config));
                    return 200;
                case PUT:
                    final HueChangeRequest changes;
                    changes = gson.<mark>fromJson</mark>(body, HueChangeRequest.class);
                    if (changes.devicename != null) {
                        ds.config.devicename = changes.devicename;
                    }
                    if (changes.dhcp != null) {
                        ds.config.dhcp = changes.dhcp;
                    }
                    if (changes.linkbutton != null) {
                        ds.config.linkbutton = changes.linkbutton;
                        configManagement.checkPairingTimeout();
                    }
                    configManagement.writeToFile();
                    return 200;
                default:
                    return 405;
            }
        } else if (remainingPath.getNameCount() >= 1 && "whitelist".equals(remainingPath.getName(0).toString())) {
            return handleConfigWhitelist(method, out, remaining(remainingPath), authorizedUser);
        } else {
            return 404;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public MarketOrderBook getMarketOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendPublicRequestToExchange("book/" + marketId);
            LOG.debug(() -> "Market Orders response: " + response);

            final BitfinexOrderBook orderBook = gson.<mark>fromJson</mark>(response.getPayload(), BitfinexOrderBook.class);

            final List<MarketOrder> buyOrders = new ArrayList<>();
            for (BitfinexMarketOrder bitfinexBuyOrder : orderBook.bids) {
                final MarketOrder buyOrder = new MarketOrderImpl(
                        OrderType.BUY,
                        bitfinexBuyOrder.price,
                        bitfinexBuyOrder.amount,
                        bitfinexBuyOrder.price.multiply(bitfinexBuyOrder.amount));
                buyOrders.add(buyOrder);
            }

            final List<MarketOrder> sellOrders = new ArrayList<>();
            for (BitfinexMarketOrder bitfinexSellOrder : orderBook.asks) {
                final MarketOrder sellOrder = new MarketOrderImpl(
                        OrderType.SELL,
                        bitfinexSellOrder.price,
                        bitfinexSellOrder.amount,
                        bitfinexSellOrder.price.multiply(bitfinexSellOrder.amount));
                sellOrders.add(sellOrder);
            }

            return new MarketOrderBookImpl(marketId, sellOrders, buyOrders);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_124.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray


    public static RecoverFromMissedDocOpsResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RecoverFromMissedDocOpsResponseImpl dto = new RecoverFromMissedDocOpsResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("docOps")) {
        JsonElement docOpsIn = json.<mark>get</mark>("docOps");
        java.util.ArrayList<ServerToClientDocOpImpl> docOpsOut = null;
        if (docOpsIn != null && !docOpsIn.<mark>isJsonNull</mark>()) {
          docOpsOut = new java.util.ArrayList<ServerToClientDocOpImpl>();
          java.util.Iterator<JsonElement> docOpsInIterator = docOpsIn.<mark>getAsJsonArray</mark>().iterator();
          while (docOpsInIterator.hasNext()) {
            JsonElement docOpsIn_ = docOpsInIterator.next();
            ServerToClientDocOpImpl docOpsOut_ = ServerToClientDocOpImpl.fromJsonElement(docOpsIn_);
            docOpsOut.add(docOpsOut_);
          }
        }
        dto.setDocOps(docOpsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____MieleApplianceHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____MieleApplianceHandler.java

com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson
com.google.gson.JsonParser.&ltinit&gt
com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson

    @Override
    public void onApplianceStateChanged(String UID, DeviceClassObject dco) {
        String myUID = "hdm:ZigBee:" + (String) getThing().getConfiguration().getProperties().get(APPLIANCE_ID);
        String modelID = StringUtils.right(dco.DeviceClass,
                dco.DeviceClass.length() - new String("com.miele.xgw3000.gateway.hdm.deviceclasses.Miele").length());

        if (myUID.equals(UID)) {
            if (modelID.equals(this.modelID)) {
                for (JsonElement prop : dco.Properties.getAsJsonArray()) {
                    try {
                        DeviceProperty dp = gson.<mark>fromJson</mark>(prop, DeviceProperty.class);
                        dp.Value = StringUtils.trim(dp.Value);
                        dp.Value = StringUtils.strip(dp.Value);

                        onAppliancePropertyChanged(UID, dp);
                    } catch (Exception p) {
                        // Ignore - this is due to an unrecognized and not yet reverse-engineered array property
                    }
                }

                for (JsonElement operation : dco.Operations.getAsJsonArray()) {
                    try {
                        DeviceOperation devop = gson.<mark>fromJson</mark>(operation, DeviceOperation.class);
                        DeviceMetaData pmd = gson.<mark>fromJson</mark>(devop.Metadata, DeviceMetaData.class);
                    } catch (Exception p) {
                        // Ignore - this is due to an unrecognized and not yet reverse-engineered array property
                    }
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CodeBlockAssociationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeBlockAssociationImpl dto = new CodeBlockAssociationImpl();
      JsonArray json = jsonElem.getAsJsonArray();

      if (0 < json.size()) {
        JsonElement sourceFileIdIn = json.<mark>get</mark>(0);
        java.lang.String sourceFileIdOut = gson.<mark>fromJson</mark>(sourceFileIdIn, java.lang.String.class);
        dto.setSourceFileId(sourceFileIdOut);
      }

      if (1 < json.size()) {
        JsonElement sourceLocalIdIn = json.<mark>get</mark>(1);
        java.lang.String sourceLocalIdOut = gson.<mark>fromJson</mark>(sourceLocalIdIn, java.lang.String.class);
        dto.setSourceLocalId(sourceLocalIdOut);
      }

      if (2 < json.size()) {
        JsonElement targetFileIdIn = json.<mark>get</mark>(2);
        java.lang.String targetFileIdOut = gson.<mark>fromJson</mark>(targetFileIdIn, java.lang.String.class);
        dto.setTargetFileId(targetFileIdOut);
      }

      if (3 < json.size()) {
        JsonElement targetLocalIdIn = json.<mark>get</mark>(3);
        java.lang.String targetLocalIdOut = gson.<mark>fromJson</mark>(targetLocalIdIn, java.lang.String.class);
        dto.setTargetLocalId(targetLocalIdOut);
      }

      if (4 < json.size()) {
        JsonElement isRootAssociationIn = json.<mark>get</mark>(4);
        boolean isRootAssociationOut = isRootAssociationIn.getAsBoolean();
        dto.setIsRootAssociation(isRootAssociationOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_128.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ResolveTreeConflictImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ResolveTreeConflictImpl dto = new ResolveTreeConflictImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("conflictHandle")) {
        JsonElement conflictHandleIn = json.<mark>get</mark>("conflictHandle");
        ConflictHandleImpl conflictHandleOut = ConflictHandleImpl.fromJsonElement(conflictHandleIn);
        dto.setConflictHandle(conflictHandleOut);
      }

      if (json.<mark>has</mark>("newPath")) {
        JsonElement newPathIn = json.<mark>get</mark>("newPath");
        java.lang.String newPathOut = gson.<mark>fromJson</mark>(newPathIn, java.lang.String.class);
        dto.setNewPath(newPathOut);
      }

      if (json.<mark>has</mark>("resolutionChoice")) {
        JsonElement resolutionChoiceIn = json.<mark>get</mark>("resolutionChoice");
        com.google.collide.dto.ResolveTreeConflict.ConflictResolutionChoice resolutionChoiceOut = gson.<mark>fromJson</mark>(resolutionChoiceIn, com.google.collide.dto.ResolveTreeConflict.ConflictResolutionChoice.class);
        dto.setResolutionChoice(resolutionChoiceOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____MentionCommentsTimeLineDBTask_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____MentionCommentsTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.printStackTrace


    public static CommentTimeLineData getCommentLineMsgList(String accountId) {

        TimeLinePosition position = getPosition(accountId);

        int limit = position.position + AppConfig.DB_CACHE_COUNT_OFFSET > AppConfig.DEFAULT_MSG_COUNT_50 ? position.position
                + AppConfig.DB_CACHE_COUNT_OFFSET
                : AppConfig.DEFAULT_MSG_COUNT_50;

        CommentListBean result = new CommentListBean();

        List<CommentBean> msgList = new ArrayList<CommentBean>();
        String sql = "select * from " + MentionCommentsTable.MentionCommentsDataTable.TABLE_NAME + " where "
                + MentionCommentsTable.MentionCommentsDataTable.ACCOUNTID + "  = " + accountId + " order by "
                + MentionCommentsTable.MentionCommentsDataTable.MBLOGID + " desc limit " + limit;
        Cursor c = getRsd().rawQuery(sql, null);
        Gson gson = <mark>new Gson</mark>();
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(MentionCommentsTable.MentionCommentsDataTable.JSONDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    CommentBean value = gson.<mark>fromJson</mark>(json, CommentBean.class);
                    value.getListViewSpannableString();
                    msgList.add(value);
                } catch (JsonSyntaxException e) {
                    AppLoggerUtils.e(e.getMessage());
                }
            } else {
                msgList.add(null);
            }
        }

        result.setComments(msgList);
        c.close();
        CommentTimeLineData mentionTimeLineData = new CommentTimeLineData(result, position);

        return mentionTimeLineData;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_22.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ConflictChunkResolvedImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ConflictChunkResolvedImpl dto = new ConflictChunkResolvedImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("conflictChunkIndex")) {
        JsonElement conflictChunkIndexIn = json.<mark>get</mark>("conflictChunkIndex");
        int conflictChunkIndexOut = conflictChunkIndexIn.getAsInt();
        dto.setConflictChunkIndex(conflictChunkIndexOut);
      }

      if (json.<mark>has</mark>("conflictHandle")) {
        JsonElement conflictHandleIn = json.<mark>get</mark>("conflictHandle");
        ConflictHandleImpl conflictHandleOut = ConflictHandleImpl.fromJsonElement(conflictHandleIn);
        dto.setConflictHandle(conflictHandleOut);
      }

      if (json.<mark>has</mark>("isResolved")) {
        JsonElement isResolvedIn = json.<mark>get</mark>("isResolved");
        boolean isResolvedOut = isResolvedIn.getAsBoolean();
        dto.setIsResolved(isResolvedOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ram-on_____SkyTube_____BookmarksDb_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ram-on_____SkyTube_____BookmarksDb.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<free.rm.skytube.businessobjects.YouTube.POJOs.YouTubeVideo>.&ltinit&gt
com.google.gson.reflect.TypeToken<free.rm.skytube.businessobjects.YouTube.POJOs.YouTubeVideo>.getType
com.google.gson.Gson.fromJson

/**
	 * Add a Listener that will be notified when a Video is added or removed from Bookmarked Videos. This will
	 * allow the Video Grid to be redrawn in order to remove the video from display.
	 *
	 * @param listener The Listener (which implements BookmarksDbListener) to add.
	 */	 */
	public boolean remove(YouTubeVideo video) {
		int rowsDeleted = getWritableDatabase().delete(BookmarksTable.TABLE_NAME,
						BookmarksTable.COL_YOUTUBE_VIDEO_ID + " = ?",
						new String[]{video.getId()});
		boolean successful = false;

		if(rowsDeleted >= 0) {
			// Since we've removed a video, we will need to update the order column for all the videos.
			int order = 1;
			Cursor	cursor = getReadableDatabase().query(
							BookmarksTable.TABLE_NAME,
							new String[]{BookmarksTable.COL_YOUTUBE_VIDEO, BookmarksTable.COL_ORDER},
							null,
							null, null, null, BookmarksTable.COL_ORDER + " ASC");
			if(cursor.moveToNext()) {
				do {
					byte[] blob = cursor.getBlob(cursor.getColumnIndex(BookmarksTable.COL_YOUTUBE_VIDEO));
					YouTubeVideo uvideo = <mark>new Gson</mark>().<mark>fromJson</mark>(new String(blob), new TypeToken<YouTubeVideo>(){}.<mark>getType</mark>());
					ContentValues contentValues = new ContentValues();
					contentValues.put(BookmarksTable.COL_ORDER, order++);

					getWritableDatabase().update(BookmarksTable.TABLE_NAME, contentValues, BookmarksTable.COL_YOUTUBE_VIDEO_ID + " = ?",
									new String[]{uvideo.getId()});
				} while(cursor.moveToNext());
			}

			cursor.close();

			onUpdated();
			successful = true;
		}

		return successful;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NukiHttpClient_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NukiHttpClient.java

com.google.gson.Gson.fromJson


    public synchronized BridgeLockStateResponse getBridgeLockState(String nukiId) {
        logger.debug("getBridgeLockState({})", nukiId);
        long timestampSecs = Instant.now().getEpochSecond();
        if (this.bridgeLockStateResponseCache != null
                && timestampSecs < this.bridgeLockStateResponseCache.getCreated().getEpochSecond() + CACHE_PERIOD) {
            logger.debug("Returning LockState from cache - now[{}]<created[{}]+cachePeriod[{}]", timestampSecs,
                    this.bridgeLockStateResponseCache.getCreated().getEpochSecond(), CACHE_PERIOD);
            return bridgeLockStateResponseCache;
        } else {
            logger.debug("Requesting LockState from Bridge.");
        }
        String uri = prepareUri(NukiBindingConstants.URI_LOCKSTATE, nukiId);
        try {
            ContentResponse contentResponse = executeRequest(uri);
            int status = contentResponse.getStatus();
            String response = contentResponse.getContentAsString();
            if (status == HttpStatus.OK_200) {
                BridgeApiLockStateDto bridgeApiLockStateDto = gson.<mark>fromJson</mark>(response, BridgeApiLockStateDto.class);
                return bridgeLockStateResponseCache = new BridgeLockStateResponse(status, contentResponse.getReason(),
                        bridgeApiLockStateDto);
            } else {
                logger.debug("Could not get Lock State! Status[{}] - Response[{}]", status, response);
                return new BridgeLockStateResponse(status, contentResponse.getReason(), null);
            }
        } catch (Exception e) {
            logger.debug("Could not get Bridge Lock State! Exception[{}]", e.getMessage());
            return new BridgeLockStateResponse(handleException(e));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_86.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceParticipantsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceParticipantsImpl dto = new GetWorkspaceParticipantsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("participantIds")) {
        JsonElement participantIdsIn = json.<mark>get</mark>("participantIds");
        java.util.ArrayList<java.lang.String> participantIdsOut = null;
        if (participantIdsIn != null && !participantIdsIn.<mark>isJsonNull</mark>()) {
          participantIdsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> participantIdsInIterator = participantIdsIn.getAsJsonArray().iterator();
          while (participantIdsInIterator.hasNext()) {
            JsonElement participantIdsIn_ = participantIdsInIterator.next();
            java.lang.String participantIdsOut_ = gson.<mark>fromJson</mark>(participantIdsIn_, java.lang.String.class);
            participantIdsOut.add(participantIdsOut_);
          }
        }
        dto.setParticipantIds(participantIdsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public MarketOrderBook getMarketOrders(String marketId) throws ExchangeNetworkException, TradingApiException {
		try {
			final ExchangeHttpResponse response = sendPublicRequestToExchange("GetMarketOrders/" + marketId.toUpperCase());
			LOG.debug(() -> "Market Orders response: " + response);
			
			Type responseApiType = new TypeToken<CryptopiaPublicApiResponse<CryptopiaOrderBook>>() {}.getType();
			final CryptopiaPublicApiResponse<CryptopiaOrderBook> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(), responseApiType);
			final CryptopiaOrderBook cryptopiaMarket = cryptopiaResponse.Data;
			
			final List<MarketOrder> buyOrders = new ArrayList<>();
	        for (CryptopiaOrder cryptopiaBuyOrder : cryptopiaMarket.Buy) {
	            final MarketOrder buyOrder = new MarketOrderImpl(
	                    OrderType.BUY,
	                    cryptopiaBuyOrder.Price,
	                    cryptopiaBuyOrder.Volume,
	                    cryptopiaBuyOrder.Total);
	            buyOrders.add(buyOrder);
	        }
	
	        final List<MarketOrder> sellOrders = new ArrayList<>();
	        for (CryptopiaOrder cryptopiaSellOrder : cryptopiaMarket.Sell) {
	            final MarketOrder sellOrder = new MarketOrderImpl(
	                    OrderType.SELL,
	                    cryptopiaSellOrder.Price,
	                    cryptopiaSellOrder.Volume,
	                    cryptopiaSellOrder.Total);
	            sellOrders.add(sellOrder);
	        }
			return new MarketOrderBookImpl(marketId, sellOrders, buyOrders);
        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_65.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetProjectByIdImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetProjectByIdImpl dto = new GetProjectByIdImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      if (json.<mark>has</mark>("workspaceType")) {
        JsonElement workspaceTypeIn = json.<mark>get</mark>("workspaceType");
        com.google.collide.dto.WorkspaceInfo.WorkspaceType workspaceTypeOut = gson.<mark>fromJson</mark>(workspaceTypeIn, com.google.collide.dto.WorkspaceInfo.WorkspaceType.class);
        dto.setWorkspaceType(workspaceTypeOut);
      }

      if (json.<mark>has</mark>("pageLength")) {
        JsonElement pageLengthIn = json.<mark>get</mark>("pageLength");
        int pageLengthOut = pageLengthIn.getAsInt();
        dto.setPageLength(pageLengthOut);
      }

      if (json.<mark>has</mark>("shouldLoadWorkspaces")) {
        JsonElement shouldLoadWorkspacesIn = json.<mark>get</mark>("shouldLoadWorkspaces");
        boolean shouldLoadWorkspacesOut = shouldLoadWorkspacesIn.getAsBoolean();
        dto.setShouldLoadWorkspaces(shouldLoadWorkspacesOut);
      }

      if (json.<mark>has</mark>("startKey")) {
        JsonElement startKeyIn = json.<mark>get</mark>("startKey");
        java.lang.String startKeyOut = gson.<mark>fromJson</mark>(startKeyIn, java.lang.String.class);
        dto.setStartKey(startKeyOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iFixit_____iFixitAndroid_____JSONHelper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/iFixit_____iFixitAndroid_____JSONHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


   public static SearchResults parseSearchResults(String json) throws JSONException {

      SearchResults search = new SearchResults();
      JSONObject response = new JSONObject(json);

      search.mLimit = response.getInt("limit");
      search.mOffset = response.getInt("offset");
      search.mTotalResults = response.getInt("totalResults");
      search.mHasMoreResults = response.getBoolean("moreResults");
      search.mQuery = response.getString("search");

      if (response.has("results")) {
         JSONArray resultsArr = response.getJSONArray("results");
         int count = resultsArr.length();

         for (int i = 0; i < count; i++) {
            JSONObject result = resultsArr.getJSONObject(i);
            String resultType = result.getString("dataType");
            if (resultType.equals("guide")) {
               Type guidesType = new TypeToken<GuideInfo>() {}.getType();
               GuideInfo gi = <mark>new Gson</mark>().<mark>fromJson</mark>(result.toString(), guidesType);

               GuideSearchResult gsr = new GuideSearchResult(gi);
               search.mResults.add(gsr);
            } else if (resultType.equals("wiki")) {
               TopicSearchResult tsr = new TopicSearchResult();
               tsr.mDisplayTitle = result.getString("display_title");
               tsr.mTitle = result.getString("title");
               tsr.mText = result.getString("text");
               tsr.mNamespace = result.getString("namespace");
               tsr.mSummary = result.getString("summary");
               tsr.mUrl = result.getString("url");
               if (!result.isNull("image")) {
                  tsr.mImage = parseImage(result, "image");
               }

               search.mResults.add(tsr);
            }
         }
      }

      return search;
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ITExecuteInfluxDBQuery_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ITExecuteInfluxDBQuery.java

com.google.gson.Gson.fromJson

    @Test
    public void testValidTwoPoints() {
        String message = "water,country=US,city=newark rain=1,humidity=0.6 1501002274856668652" +
            System.lineSeparator() +
            "water,country=US,city=nyc rain=2,humidity=0.6 1501002274856668652";
        influxDB.write(dbName, DEFAULT_RETENTION_POLICY, InfluxDB.ConsistencyLevel.ONE, message);
        String query = "select * from water";
        byte [] bytes = query.getBytes();
        runner.enqueue(bytes);
        runner.run(1,true,true);
        runner.assertAllFlowFilesTransferred(ExecuteInfluxDBQuery.REL_SUCCESS, 1);
        List<MockFlowFile> flowFiles = runner.getFlowFilesForRelationship(ExecuteInfluxDBQuery.REL_SUCCESS);
        assertEquals("Value should be equal", 1, flowFiles.size());
        assertNull("Value should be null", flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_ERROR_MESSAGE));
        assertEquals("Value should be equal",query, flowFiles.get(0).getAttribute(ExecuteInfluxDBQuery.INFLUX_DB_EXECUTED_QUERY));
        QueryResult queryResult = gson.<mark>fromJson</mark>(new StringReader(new String(flowFiles.get(0).toByteArray())), QueryResult.class);
        assertNotNull("QueryResult should not be null", queryResult.getResults());
        assertEquals("results array should be same size", 1, queryResult.getResults().size());
        assertEquals("Series size should be same",1, queryResult.getResults().get(0).getSeries().size());
        Series series1 = queryResult.getResults().get(0).getSeries().get(0);
        validateSeries(series1.getName(),series1.getColumns(), series1.getValues().get(0),"newark",1.0);

        Series series2 = queryResult.getResults().get(0).getSeries().get(0);
        validateSeries(series2.getName(),series2.getColumns(), series2.getValues().get(1),"nyc",2.0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____JdbcExtractor_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____JdbcExtractor.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

/**
   * Schema of a custom column - required if column not found in metadata
   *
   * @return column schema
   */  @Override
  public JsonArray getSchema(CommandOutput<?, ?> response) throws SchemaException, IOException {
    this.log.debug("Extract schema from resultset");
    ResultSet resultset = null;
    Iterator<ResultSet> itr = (Iterator<ResultSet>) response.getResults().values().iterator();
    if (itr.hasNext()) {
      resultset = itr.next();
    } else {
      throw new SchemaException("Failed to get schema from database - Resultset has no records");
    }

    JsonArray fieldJsonArray = new JsonArray();
    try {
      while (resultset.next()) {
        Schema schema = new Schema();
        String columnName = resultset.getString(1);
        schema.setColumnName(columnName);

        String dataType = resultset.getString(2);
        String elementDataType = "string";
        List<String> mapSymbols = null;
        JsonObject newDataType = this.convertDataType(columnName, dataType, elementDataType, mapSymbols);

        schema.setDataType(newDataType);
        schema.setLength(resultset.getLong(3));
        schema.setPrecision(resultset.getInt(4));
        schema.setScale(resultset.getInt(5));
        schema.setNullable(resultset.getBoolean(6));
        schema.setFormat(resultset.getString(7));
        schema.setComment(resultset.getString(8));
        schema.setDefaultValue(null);
        schema.setUnique(false);

        String jsonStr = gson.<mark>toJson</mark>(schema);
        JsonObject obj = gson.<mark>fromJson</mark>(jsonStr, JsonObject.class).getAsJsonObject();
        fieldJsonArray.add(obj);
      }
    } catch (Exception e) {
      throw new SchemaException("Failed to get schema from database; error - " + e.getMessage(), e);
    }

    return fieldJsonArray;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    public @Nullable List<SomfyTahomaState> getAllStates(Collection<String> stateNames, String deviceUrl) {
        String url;
        String line = "";

        logger.debug("Getting states for a device: {}", deviceUrl);
        try {
            url = TAHOMA_URL + "getStates";
            String urlParameters = "[{\"deviceURL\": \"" + deviceUrl + "\", \"states\": ["
                    + getFormattedParameters(stateNames) + "]}]";

            line = sendDataToTahomaWithCookie(url, urlParameters);

            SomfyTahomaStatesResponse data = gson.<mark>fromJson</mark>(line, SomfyTahomaStatesResponse.class);
            SomfyTahomaDeviceWithState device = data.getDevices().get(0);
            if (!device.hasStates()) {
                logger.debug("Device: {} has not returned any state", deviceUrl);
            }
            return device.getStates();
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", line, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Unauthorized. Please check credentials");
        } catch (ExecutionException e) {
            if (isAuthenticationChallenge(e)) {
                login();
            } else {
                logger.debug("Cannot send getStates command!", e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
            }
        } catch (InterruptedException | TimeoutException e) {
            logger.debug("Cannot send getStates command!", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_104.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static LogFatalRecordResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LogFatalRecordResponseImpl dto = new LogFatalRecordResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("serviceName")) {
        JsonElement serviceNameIn = json.<mark>get</mark>("serviceName");
        java.lang.String serviceNameOut = gson.<mark>fromJson</mark>(serviceNameIn, java.lang.String.class);
        dto.setServiceName(serviceNameOut);
      }

      if (json.<mark>has</mark>("throwableProtoHex")) {
        JsonElement throwableProtoHexIn = json.<mark>get</mark>("throwableProtoHex");
        java.lang.String throwableProtoHexOut = gson.<mark>fromJson</mark>(throwableProtoHexIn, java.lang.String.class);
        dto.setThrowableProtoHex(throwableProtoHexOut);
      }

      if (json.<mark>has</mark>("stackTrace")) {
        JsonElement stackTraceIn = json.<mark>get</mark>("stackTrace");
        java.lang.String stackTraceOut = gson.<mark>fromJson</mark>(stackTraceIn, java.lang.String.class);
        dto.setStackTrace(stackTraceOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_127.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ResolveConflictChunkImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ResolveConflictChunkImpl dto = new ResolveConflictChunkImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("conflictChunkIndex")) {
        JsonElement conflictChunkIndexIn = json.<mark>get</mark>("conflictChunkIndex");
        int conflictChunkIndexOut = conflictChunkIndexIn.getAsInt();
        dto.setConflictChunkIndex(conflictChunkIndexOut);
      }

      if (json.<mark>has</mark>("conflictHandle")) {
        JsonElement conflictHandleIn = json.<mark>get</mark>("conflictHandle");
        ConflictHandleImpl conflictHandleOut = ConflictHandleImpl.fromJsonElement(conflictHandleIn);
        dto.setConflictHandle(conflictHandleOut);
      }

      if (json.<mark>has</mark>("isResolved")) {
        JsonElement isResolvedIn = json.<mark>get</mark>("isResolved");
        boolean isResolvedOut = isResolvedIn.getAsBoolean();
        dto.setIsResolved(isResolvedOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>commons-app_____apps-android-commons_____NearbyMapFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/commons-app_____apps-android-commons_____NearbyMapFragment.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.registerTypeAdapter
com.google.gson.reflect.TypeToken<fr.free.nrw.commons.nearby.fr.free.nrw.commons.location.LatLng>.&ltinit&gt
com.google.gson.reflect.TypeToken<fr.free.nrw.commons.nearby.fr.free.nrw.commons.location.LatLng>.getType
com.google.gson.Gson.fromJson

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        Bundle bundle = this.getArguments();
        Gson gson = <mark>new GsonBuilder</mark>()
                .<mark>registerTypeAdapter</mark>(Uri.class, new UriDeserializer())
                .create();
        if (bundle != null) {
            String gsonPlaceList = bundle.getString("PlaceList");
            String gsonLatLng = bundle.getString("CurLatLng");
            Type listType = new TypeToken<List<Place>>() {
            }.<mark>getType</mark>();
            String gsonBoundaryCoordinates = bundle.getString("BoundaryCoord");
            List<Place> placeList = gson.<mark>fromJson</mark>(gsonPlaceList, listType);
            Type curLatLngType = new TypeToken<fr.free.nrw.commons.location.LatLng>() {
            }.<mark>getType</mark>();
            Type gsonBoundaryCoordinatesType = new TypeToken<fr.free.nrw.commons.location.LatLng[]>() {}.<mark>getType</mark>();
            curLatLng = gson.<mark>fromJson</mark>(gsonLatLng, curLatLngType);
            baseMarkerOptions = NearbyController
                    .loadAttractionsFromLocationToBaseMarkerOptions(curLatLng,
                            placeList,
                            getActivity());
            boundaryCoordinates = gson.<mark>fromJson</mark>(gsonBoundaryCoordinates, gsonBoundaryCoordinatesType);
        }
        Mapbox.getInstance(getActivity(),
                getString(R.string.mapbox_commons_app_token));
        MapboxTelemetry.getInstance().setTelemetryEnabled(false);
        setRetainInstance(true);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iFixit_____iFixitAndroid_____JSONHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/iFixit_____iFixitAndroid_____JSONHelper.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    */
   public static TopicLeaf parseTopicLeaf(String json) throws JSONException {

      JSONObject jTopic = new JSONObject(json);
      JSONArray jGuides = jTopic.getJSONArray("guides");
      JSONArray jWikis = jTopic.getJSONArray("related_wikis");
      TopicLeaf topicLeaf = new TopicLeaf(jTopic.getString("title"));
      JSONArray jFeaturedGuides = jTopic.getJSONArray("featured_guides");

      for (int i = 0; i < jFeaturedGuides.length(); i++) {
         String guideJson = jFeaturedGuides.getJSONObject(i).toString();
         GuideInfo guide = <mark>new Gson</mark>().<mark>fromJson</mark>(guideJson, GuideInfo.class);
         topicLeaf.addFeaturedGuide(guide);
      }


      for (int i = 0; i < jGuides.length(); i++) {
         String guideJson = jGuides.getJSONObject(i).toString();
         GuideInfo guide = <mark>new Gson</mark>().<mark>fromJson</mark>(guideJson, GuideInfo.class);
         topicLeaf.addGuide(guide);
      }

      for (int i = 0; i < jWikis.length(); i++) {
         String wikiJson = jWikis.getJSONObject(i).toString();
         Log.d("dozuki", wikiJson);
         Wiki wiki = <mark>new Gson</mark>().<mark>fromJson</mark>(wikiJson, Wiki.class);
         topicLeaf.addWiki(wiki);
      }

      topicLeaf.setSolutionsUrl(jTopic.getString("solutions_url"));

      if (!jTopic.isNull("description")) {
         topicLeaf.setDescription(jTopic.getString("description"));
      }

      if (jTopic.isNull("image")) {
         topicLeaf.setImage(new Image());
      } else {
         topicLeaf.setImage(parseImage(jTopic.getJSONObject("image"), null));
      }

      topicLeaf.setLocale(jTopic.getString("langid"));
      topicLeaf.setContentsRaw(jTopic.getString("contents_raw"));
      topicLeaf.setContentsRendered(jTopic.getString("contents_rendered"));
      topicLeaf.setTitle(jTopic.getString("display_title"));

      return topicLeaf;
   }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>ushahidi_____SMSSync_____InternalMessageDataRepository_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/ushahidi_____SMSSync_____InternalMessageDataRepository.java

com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.getType
com.google.gson.Gson.fromJson
com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.addhen.smssync.data.entity.Message>>.getType
com.google.gson.Gson.fromJson

    @Override
    public Observable<List<MessageEntity>> fetchByType(MessageEntity.Type type) {
        if (type.equals(MessageEntity.Type.PENDING)) {
            return Observable.defer(() -> {
                Type messageList = new TypeToken<List<Message>>() {
                }.<mark>getType</mark>();
                String json = loadPendingMessages();
                List<Message> messageEntityList = null;
                try {
                    messageEntityList = mGson.<mark>fromJson</mark>(json, messageList);
                } catch (Exception e) {
                    e.printStackTrace();
                    return Observable.error(e);
                }
                List<MessageEntity> messages = mMessageDataMapper.map(messageEntityList);
                return Observable.just(messages);
            });
        }

        return Observable.defer(() -> {
            Type messageList = new TypeToken<List<Message>>() {
            }.<mark>getType</mark>();
            String json = loadSentMessages();
            List<Message> messageEntityList = null;
            try {
                messageEntityList = mGson.<mark>fromJson</mark>(json, messageList);
            } catch (Exception e) {
                e.printStackTrace();
                return Observable.error(e);
            }
            List<MessageEntity> messages = mMessageDataMapper.map(messageEntityList);
            return Observable.just(messages);
        });
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    public static ChangeRoleInfoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ChangeRoleInfoImpl dto = new ChangeRoleInfoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("emailUsers")) {
        JsonElement emailUsersIn = json.<mark>get</mark>("emailUsers");
        boolean emailUsersOut = emailUsersIn.getAsBoolean();
        dto.setEmailUsers(emailUsersOut);
      }

      if (json.<mark>has</mark>("emailSelf")) {
        JsonElement emailSelfIn = json.<mark>get</mark>("emailSelf");
        boolean emailSelfOut = emailSelfIn.getAsBoolean();
        dto.setEmailSelf(emailSelfOut);
      }

      if (json.<mark>has</mark>("role")) {
        JsonElement roleIn = json.<mark>get</mark>("role");
        com.google.collide.dto.Role roleOut = gson.<mark>fromJson</mark>(roleIn, com.google.collide.dto.Role.class);
        dto.setRole(roleOut);
      }

      if (json.<mark>has</mark>("emailMessage")) {
        JsonElement emailMessageIn = json.<mark>get</mark>("emailMessage");
        java.lang.String emailMessageOut = gson.<mark>fromJson</mark>(emailMessageIn, java.lang.String.class);
        dto.setEmailMessage(emailMessageOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public BalanceInfo getBalanceInfo() throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("balances", null);
            LOG.debug(() -> "Balance Info response: " + response);

            final BitfinexBalances allAccountBalances = gson.<mark>fromJson</mark>(response.getPayload(), BitfinexBalances.class);
            final HashMap<String, BigDecimal> balancesAvailable = new HashMap<>();

            /*
             * The adapter only fetches the 'exchange' account balance details - this is the Bitfinex 'exchange' account,
             * i.e. the limit order trading account balance.
             */
            if (allAccountBalances != null) {
                allAccountBalances
                        .stream()
                        .filter(accountBalance -> accountBalance.type.equalsIgnoreCase("exchange"))
                        .forEach(accountBalance -> {
                            if (accountBalance.currency.equalsIgnoreCase("usd")) {
                                balancesAvailable.put("USD", accountBalance.available);
                            } else if (accountBalance.currency.equalsIgnoreCase("btc")) {
                                balancesAvailable.put("BTC", accountBalance.available);
                            }
                        });
            }

            // 2nd arg of BalanceInfo constructor for reserved/on-hold balances is not provided by exchange.
            return new BalanceInfoImpl(balancesAvailable, new HashMap<>());

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>clun_____ff4j_____FeatureConverter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/clun_____ff4j_____FeatureConverter.java

com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonElement.getAsString
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonElement.getAsString
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.reflect.TypeToken<java.util.HashSet<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.HashSet<java.lang.String>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonElement.isJsonNull
com.google.gson.reflect.TypeToken<java.util.HashMap<java.lang.String,?>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.HashMap<java.lang.String,?>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonElement.isJsonNull
com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<org.ff4j.elastic.com.google.gson.internal.LinkedTreeMap<java.lang.String,com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>>>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.ff4j.elastic.com.google.gson.internal.LinkedTreeMap<java.lang.String,com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>>>.getType
com.google.gson.Gson.fromJson
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.get
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.get
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.get
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.get
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.get

	@Override
	public JsonElement serialize(Feature feature, Type srcType, JsonSerializationContext context) {
		return gson.<mark>fromJson</mark>(feature.toJson(), JsonElement.class);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>naver_____pinpoint_____GsonIT_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/naver_____pinpoint_____GsonIT.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.getDeclaredMethod

    @Test
    public void test() throws Exception {
        final Gson gson = <mark>new Gson</mark>();

        /**
         * @see Gson#<mark>fromJson</mark>(String, Class)
         * @see Gson#<mark>fromJson</mark>(String, InterceptPoint)
         */
        gson.<mark>fromJson</mark>(json, String.class);
        gson.<mark>fromJson</mark>(json, (Type) String.class);

        Method fromJson1 = Gson.class.<mark>getDeclaredMethod</mark>("fromJson", String.class, Class.class);
        Method fromJson2 = Gson.class.<mark>getDeclaredMethod</mark>("fromJson", String.class, Type.class);

        /**
         * @see Gson#<mark>toJson</mark>(Object)
         * @see Gson#<mark>toJson</mark>(Object, InterceptPoint)
         */
        gson.<mark>toJson</mark>(java);
        gson.<mark>toJson</mark>(java, String.class);

        Method toJson1 = Gson.class.<mark>getDeclaredMethod</mark>("toJson", Object.class);
        Method toJson2 = Gson.class.<mark>getDeclaredMethod</mark>("toJson", Object.class, Type.class);

        PluginTestVerifier verifier = PluginTestVerifierHolder.getInstance();
        verifier.printCache();

        verifier.verifyTrace(event(serviceType, fromJson1, expectedAnnotation),
                event(serviceType, fromJson2, expectedAnnotation));

        verifier.verifyTrace(event(serviceType, toJson1, expectedAnnotation),
                event(serviceType, toJson2, expectedAnnotation));

        // No more traces
        verifier.verifyTraceCount(0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_85.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceMetaDataResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceMetaDataResponseImpl dto = new GetWorkspaceMetaDataResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("runTarget")) {
        JsonElement runTargetIn = json.<mark>get</mark>("runTarget");
        RunTargetImpl runTargetOut = RunTargetImpl.fromJsonElement(runTargetIn);
        dto.setRunTar<mark>get</mark>(runTargetOut);
      }

      if (json.<mark>has</mark>("lastOpenFiles")) {
        JsonElement lastOpenFilesIn = json.<mark>get</mark>("lastOpenFiles");
        java.util.ArrayList<java.lang.String> lastOpenFilesOut = null;
        if (lastOpenFilesIn != null && !lastOpenFilesIn.<mark>isJsonNull</mark>()) {
          lastOpenFilesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> lastOpenFilesInIterator = lastOpenFilesIn.getAsJsonArray().iterator();
          while (lastOpenFilesInIterator.hasNext()) {
            JsonElement lastOpenFilesIn_ = lastOpenFilesInIterator.next();
            java.lang.String lastOpenFilesOut_ = gson.<mark>fromJson</mark>(lastOpenFilesIn_, java.lang.String.class);
            lastOpenFilesOut.add(lastOpenFilesOut_);
          }
        }
        dto.setLastOpenFiles(lastOpenFilesOut);
      }

      if (json.<mark>has</mark>("workspaceName")) {
        JsonElement workspaceNameIn = json.<mark>get</mark>("workspaceName");
        java.lang.String workspaceNameOut = gson.<mark>fromJson</mark>(workspaceNameIn, java.lang.String.class);
        dto.setWorkspaceName(workspaceNameOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public MarketOrderBook getMarketOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendPublicRequestToExchange("order_book/" + marketId);
            LOG.debug(() -> "Market Orders response: " + response);

            final BitstampOrderBook bitstampOrderBook = gson.<mark>fromJson</mark>(response.getPayload(), BitstampOrderBook.class);

            final List<MarketOrder> buyOrders = new ArrayList<>();
            final List<List<BigDecimal>> bitstampBuyOrders = bitstampOrderBook.bids;
            for (final List<BigDecimal> order : bitstampBuyOrders) {
                final MarketOrder buyOrder = new MarketOrderImpl(
                        OrderType.BUY,
                        order.get(0), // price
                        order.get(1), // quantity
                        order.get(0).multiply(order.get(1)));
                buyOrders.add(buyOrder);
            }

            final List<MarketOrder> sellOrders = new ArrayList<>();
            final List<List<BigDecimal>> bitstampSellOrders = bitstampOrderBook.asks;
            for (final List<BigDecimal> order : bitstampSellOrders) {
                final MarketOrder sellOrder = new MarketOrderImpl(
                        OrderType.SELL,
                        order.get(0), // price
                        order.get(1), // quantity
                        order.get(0).multiply(order.get(1)));
                sellOrders.add(sellOrder);
            }

            return new MarketOrderBookImpl(marketId, sellOrders, buyOrders);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Microsoft_____Cognitive-Face-Android_____FaceServiceRestClient.java

com.google.gson.Gson.fromJson

    @Override
    public Face[] detect(InputStream imageStream, boolean returnFaceId, boolean returnFaceLandmarks, FaceAttributeType[] returnFaceAttributes) throws ClientException, IOException {
        Map<String, Object> params = new HashMap<>();

        params.put("returnFaceId", returnFaceId);
        params.put("returnFaceLandmarks", returnFaceLandmarks);
        if (returnFaceAttributes != null && returnFaceAttributes.length > 0) {
            StringBuilder faceAttributesStringBuilder = new StringBuilder();
            boolean firstAttribute = true;
            for (FaceAttributeType faceAttributeType: returnFaceAttributes)
            {
                if (firstAttribute) {
                    firstAttribute = false;
                } else {
                    faceAttributesStringBuilder.append(",");
                }

                faceAttributesStringBuilder.append(faceAttributeType);
            }
            params.put("returnFaceAttributes", faceAttributesStringBuilder.toString());
        }

        String path = String.format("%s/%s", mServiceHost, DETECT_QUERY);
        String uri = WebServiceRequest.getUrl(path, params);

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        int bytesRead;
        byte[] bytes = new byte[1024];
        while ((bytesRead = imageStream.read(bytes)) > 0) {
            byteArrayOutputStream.write(bytes, 0, bytesRead);
        }
        byte[] data = byteArrayOutputStream.toByteArray();
        params.clear();
        params.put(DATA, data);

        String json = (String)mRestCall.request(uri, RequestMethod.POST, params, STREAM_DATA);
        Type listType = new TypeToken<List<Face>>() {
        }.getType();
        List<Face> faces = mGson.<mark>fromJson</mark>(json, listType);

        return faces.toArray(new Face[faces.size()]);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_43.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static UnzipFailureImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      UnzipFailureImpl dto = new UnzipFailureImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("zipWorkspacePath")) {
        JsonElement zipWorkspacePathIn = json.<mark>get</mark>("zipWorkspacePath");
        java.lang.String zipWorkspacePathOut = gson.<mark>fromJson</mark>(zipWorkspacePathIn, java.lang.String.class);
        dto.setZipWorkspacePath(zipWorkspacePathOut);
      }

      if (json.<mark>has</mark>("displayFailedWorkspacePaths")) {
        JsonElement displayFailedWorkspacePathsIn = json.<mark>get</mark>("displayFailedWorkspacePaths");
        java.util.ArrayList<java.lang.String> displayFailedWorkspacePathsOut = null;
        if (displayFailedWorkspacePathsIn != null && !displayFailedWorkspacePathsIn.<mark>isJsonNull</mark>()) {
          displayFailedWorkspacePathsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> displayFailedWorkspacePathsInIterator = displayFailedWorkspacePathsIn.getAsJsonArray().iterator();
          while (displayFailedWorkspacePathsInIterator.hasNext()) {
            JsonElement displayFailedWorkspacePathsIn_ = displayFailedWorkspacePathsInIterator.next();
            java.lang.String displayFailedWorkspacePathsOut_ = gson.<mark>fromJson</mark>(displayFailedWorkspacePathsIn_, java.lang.String.class);
            displayFailedWorkspacePathsOut.add(displayFailedWorkspacePathsOut_);
          }
        }
        dto.setDisplayFailedWorkspacePaths(displayFailedWorkspacePathsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____WatchUpdaterService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____WatchUpdaterService.java

com.google.gson.Gson.fromJson


    private synchronized void syncStepSensorData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncStepSensorData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        Log.d(TAG, "syncStepSensorData add to Table" );
        if (entries != null) {

            Gson gson = new GsonBuilder()
                    .excludeFieldsWithoutExposeAnnotation()
                    .registerTypeAdapter(Date.class, new DateTypeAdapter())
                    .serializeSpecialFloatingPointValues()
                    .create();

            StepCounter pm = StepCounter.last();
            Log.d(TAG, "syncStepSensorData add Table entries count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncStepSensorData add Table entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null) {
                        Log.d(TAG, "syncStepSensorData add Table record=" + record);
                        StepCounter data = gson.<mark>fromJson</mark>(record, StepCounter.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            Log.d(TAG, "syncStepSensorData add Entry Wear=" + data.toString());
                            Log.d(TAG, "syncStepSensorData WATCH data.metric=" + data.metric + " timestamp=" + JoH.dateTimeText((long) data.timestamp));
                            if (!bBenchmark)
                                data.saveit();
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH,"DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark?"BM":"STEP", -1);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_118.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static ProjectInfoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ProjectInfoImpl dto = new ProjectInfoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("summary")) {
        JsonElement summaryIn = json.<mark>get</mark>("summary");
        java.lang.String summaryOut = gson.<mark>fromJson</mark>(summaryIn, java.lang.String.class);
        dto.setSummary(summaryOut);
      }

      if (json.<mark>has</mark>("logoUrl")) {
        JsonElement logoUrlIn = json.<mark>get</mark>("logoUrl");
        java.lang.String logoUrlOut = gson.<mark>fromJson</mark>(logoUrlIn, java.lang.String.class);
        dto.setLogoUrl(logoUrlOut);
      }

      if (json.<mark>has</mark>("rootWsId")) {
        JsonElement rootWsIdIn = json.<mark>get</mark>("rootWsId");
        java.lang.String rootWsIdOut = gson.<mark>fromJson</mark>(rootWsIdIn, java.lang.String.class);
        dto.setRootWsId(rootWsIdOut);
      }

      if (json.<mark>has</mark>("currentUserRole")) {
        JsonElement currentUserRoleIn = json.<mark>get</mark>("currentUserRole");
        com.google.collide.dto.Role currentUserRoleOut = gson.<mark>fromJson</mark>(currentUserRoleIn, com.google.collide.dto.Role.class);
        dto.setCurrentUserRole(currentUserRoleOut);
      }

      if (json.<mark>has</mark>("name")) {
        JsonElement nameIn = json.<mark>get</mark>("name");
        java.lang.String nameOut = gson.<mark>fromJson</mark>(nameIn, java.lang.String.class);
        dto.setName(nameOut);
      }

      if (json.<mark>has</mark>("id")) {
        JsonElement idIn = json.<mark>get</mark>("id");
        java.lang.String idOut = gson.<mark>fromJson</mark>(idIn, java.lang.String.class);
        dto.setId(idOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wu-sheng_____sky-walking_____MetadataQueryEsDAO_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wu-sheng_____sky-walking_____MetadataQueryEsDAO.java

com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get

    @Override
    public List<Database> getAllDatabases() throws IOException {
        SearchSourceBuilder sourceBuilder = SearchSourceBuilder.searchSource();

        BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();
        boolQueryBuilder.must().add(QueryBuilders.termQuery(ServiceInventory.NODE_TYPE, NodeType.Database.value()));

        sourceBuilder.query(boolQueryBuilder);
        sourceBuilder.size(queryMaxSize);

        SearchResponse response = getClient().search(ServiceInventory.MODEL_NAME, sourceBuilder);

        List<Database> databases = new ArrayList<>();
        for (SearchHit searchHit : response.getHits()) {
            Map<String, Object> sourceAsMap = searchHit.getSourceAsMap();
            Database database = new Database();
            database.setId(((Number)sourceAsMap.<mark>get</mark>(ServiceInventory.SEQUENCE)).intValue());
            database.setName((String)sourceAsMap.<mark>get</mark>(ServiceInventory.NAME));
            String propertiesString = (String)sourceAsMap.<mark>get</mark>(ServiceInstanceInventory.PROPERTIES);
            if (!Strings.isNullOrEmpty(propertiesString)) {
                JsonObject properties = GSON.<mark>fromJson</mark>(propertiesString, JsonObject.class);
                if (properties.<mark>has</mark>(ServiceInventory.PropertyUtil.DATABASE)) {
                    database.setType(properties.<mark>get</mark>(ServiceInventory.PropertyUtil.DATABASE).getAsString());
                } else {
                    database.setType("UNKNOWN");
                }
            }
            databases.add(database);
        }
        return databases;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____WatchUpdaterService_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____WatchUpdaterService.java

com.google.gson.Gson.fromJson


    private synchronized void syncStepSensorData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncStepSensorData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        Log.d(TAG, "syncStepSensorData add to Table");
        if (entries != null) {

            Gson gson = new GsonBuilder()
                    .excludeFieldsWithoutExposeAnnotation()
                    .registerTypeAdapter(Date.class, new DateTypeAdapter())
                    .serializeSpecialFloatingPointValues()
                    .create();

            StepCounter pm = StepCounter.last();
            Log.d(TAG, "syncStepSensorData add Table entries count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncStepSensorData add Table entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null) {
                        Log.d(TAG, "syncStepSensorData add Table record=" + record);
                        StepCounter data = gson.<mark>fromJson</mark>(record, StepCounter.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            Log.d(TAG, "syncStepSensorData add Entry Wear=" + data.toString());
                            Log.d(TAG, "syncStepSensorData WATCH data.metric=" + data.metric + " timestamp=" + JoH.dateTimeText((long) data.timestamp));
                            if (!bBenchmark)
                                data.saveit();
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "STEP", -1);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_21.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static ConflictChunkImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ConflictChunkImpl dto = new ConflictChunkImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("endLineNumber")) {
        JsonElement endLineNumberIn = json.<mark>get</mark>("endLineNumber");
        int endLineNumberOut = endLineNumberIn.getAsInt();
        dto.setEndLineNumber(endLineNumberOut);
      }

      if (json.<mark>has</mark>("startLineNumber")) {
        JsonElement startLineNumberIn = json.<mark>get</mark>("startLineNumber");
        int startLineNumberOut = startLineNumberIn.getAsInt();
        dto.setStartLineNumber(startLineNumberOut);
      }

      if (json.<mark>has</mark>("remoteText")) {
        JsonElement remoteTextIn = json.<mark>get</mark>("remoteText");
        java.lang.String remoteTextOut = gson.<mark>fromJson</mark>(remoteTextIn, java.lang.String.class);
        dto.setRemoteText(remoteTextOut);
      }

      if (json.<mark>has</mark>("localText")) {
        JsonElement localTextIn = json.<mark>get</mark>("localText");
        java.lang.String localTextOut = gson.<mark>fromJson</mark>(localTextIn, java.lang.String.class);
        dto.setLocalText(localTextOut);
      }

      if (json.<mark>has</mark>("baseText")) {
        JsonElement baseTextIn = json.<mark>get</mark>("baseText");
        java.lang.String baseTextOut = gson.<mark>fromJson</mark>(baseTextIn, java.lang.String.class);
        dto.setBaseText(baseTextOut);
      }

      if (json.<mark>has</mark>("isResolved")) {
        JsonElement isResolvedIn = json.<mark>get</mark>("isResolved");
        boolean isResolvedOut = isResolvedIn.getAsBoolean();
        dto.setIsResolved(isResolvedOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>iainconnor_____ObjectCache_____CacheManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/iainconnor_____ObjectCache_____CacheManager.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


	public Object get ( String key, Class objectClass, Type objectType ) {
		Object result = null;

		CachedObject runtimeCachedObject = runtimeCache.get(key);
		if (runtimeCachedObject != null && !runtimeCachedObject.isExpired()) {
			result = <mark>new Gson</mark>().<mark>fromJson</mark>(runtimeCachedObject.getPayload(), objectType);
		} else if (runtimeCachedObject != null && runtimeCachedObject.isSoftExpired()) {
			result = new SoftCachedObject<Object>(<mark>new Gson</mark>().<mark>fromJson</mark>(runtimeCachedObject.getPayload(), objectType));
		} else {
			try {
				String json = diskCache.getValue(key);
				if (json != null) {
					CachedObject cachedObject = <mark>new Gson</mark>().<mark>fromJson</mark>(json, CachedObject.class);
					if (!cachedObject.isExpired()) {
						runtimeCache.put(key, cachedObject);
						result = <mark>new Gson</mark>().<mark>fromJson</mark>(cachedObject.getPayload(), objectType);
					} else {
						if (cachedObject.isSoftExpired()) {
							result = new SoftCachedObject<Object>(<mark>new Gson</mark>().<mark>fromJson</mark>(cachedObject.getPayload(), objectType));
						}

						// To avoid cache rushing, we insert the value back in the cache with a longer expiry
						// Presumably, whoever received this expiration result will have inserted a fresh value by now
						putAsync(key, <mark>new Gson</mark>().<mark>fromJson</mark>(cachedObject.getPayload(), objectType), CACHE_RUSH_SECONDS, false, new PutCallback() {
							@Override
							public void onSuccess () {

							}

							@Override
							public void onFailure ( Exception e ) {

							}
						});
					}
				}
			} catch (Exception e) {
				e.printStackTrace();
				// Do nothing, return null
			}
		}

		return result;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    private @Nullable String getCurrentExecutionsInternal(String type) {
        String url;
        String line = "";

        try {
            url = TAHOMA_URL + "getCurrentExecutions";
            String urlParameters = "";

            line = sendDataToTahomaWithCookie(url, urlParameters);

            SomfyTahomaExecutionsResponse data = gson.<mark>fromJson</mark>(line, SomfyTahomaExecutionsResponse.class);
            for (SomfyTahomaExecution execution : data.getExecutions()) {
                String execId = execution.getId();
                SomfyTahomaActionGroup group = execution.getActionGroup();
                for (SomfyTahomaAction action : group.getActions()) {
                    if (action.getDeviceURL().equals(type)) {
                        return execId;
                    }
                }
            }
            return null;
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", line, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Unauthorized. Please check credentials");
            return UNAUTHORIZED;
        } catch (ExecutionException e) {
            if (isAuthenticationChallenge(e)) {
                login();
                return UNAUTHORIZED;
            } else {
                logger.debug("Cannot send getCurrentExecutions command!", e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
            }
        } catch (InterruptedException | TimeoutException e) {
            logger.debug("Cannot send getCurrentExecutions command!", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____ConsoleProxyManagerImpl_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____ConsoleProxyManagerImpl.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.setVersion
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson


    private boolean hasPreviousSession(ConsoleProxyVO proxy, VMInstanceVO vm) {

        ConsoleProxyStatus status = null;
        try {
            GsonBuilder gb = <mark>new GsonBuilder</mark>();
            gb.<mark>setVersion</mark>(1.3);
            Gson gson = gb.<mark>create</mark>();

            byte[] details = proxy.getSessionDetails();
            status = gson.<mark>fromJson</mark>(details != null ? new String(details, Charset.forName("US-ASCII")) : null, ConsoleProxyStatus.class);
        } catch (Throwable e) {
            s_logger.warn("Unable to parse proxy session details : " + Arrays.toString(proxy.getSessionDetails()));
        }

        if (status != null && status.getConnections() != null) {
            ConsoleProxyConnectionInfo[] connections = status.getConnections();
            for (int i = 0; i < connections.length; i++) {
                long taggedVmId = 0;
                if (connections[i].tag != null) {
                    try {
                        taggedVmId = Long.parseLong(connections[i].tag);
                    } catch (NumberFormatException e) {
                        s_logger.warn("Unable to parse console proxy connection info passed through tag: " + connections[i].tag, e);
                    }
                }
                if (taggedVmId == vm.getId()) {
                    return true;
                }
            }

            //
            // even if we are not in the list, it may because we haven't
            // received load-update yet
            // wait until session time
            //
            if (DateUtil.currentGMTTime().getTime() - vm.getProxyAssignTime().getTime() < _proxySessionTimeoutValue) {
                return true;
            }

            return false;
        } else {
            s_logger.error("No proxy load info on an overloaded proxy ?");
            return false;
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_66.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetProjectByIdResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetProjectByIdResponseImpl dto = new GetProjectByIdResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("project")) {
        JsonElement projectIn = json.<mark>get</mark>("project");
        ProjectInfoImpl projectOut = ProjectInfoImpl.fromJsonElement(projectIn);
        dto.setProject(projectOut);
      }

      if (json.<mark>has</mark>("projectMembersInfo")) {
        JsonElement projectMembersInfoIn = json.<mark>get</mark>("projectMembersInfo");
        ProjectMembersInfoImpl projectMembersInfoOut = ProjectMembersInfoImpl.fromJsonElement(projectMembersInfoIn);
        dto.setProjectMembersInfo(projectMembersInfoOut);
      }

      if (json.<mark>has</mark>("workspaces")) {
        JsonElement workspacesIn = json.<mark>get</mark>("workspaces");
        java.util.ArrayList<WorkspaceInfoImpl> workspacesOut = null;
        if (workspacesIn != null && !workspacesIn.<mark>isJsonNull</mark>()) {
          workspacesOut = new java.util.ArrayList<WorkspaceInfoImpl>();
          java.util.Iterator<JsonElement> workspacesInIterator = workspacesIn.<mark>getAsJsonArray</mark>().iterator();
          while (workspacesInIterator.hasNext()) {
            JsonElement workspacesIn_ = workspacesInIterator.next();
            WorkspaceInfoImpl workspacesOut_ = WorkspaceInfoImpl.fromJsonElement(workspacesIn_);
            workspacesOut.add(workspacesOut_);
          }
        }
        dto.setWorkspaces(workspacesOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public List<OpenOrder> getYourOpenOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("open_orders/" + marketId, null);
            LOG.debug(() -> "Open Orders response: " + response);

            final BitstampOrderResponse[] myOpenOrders = gson.<mark>fromJson</mark>(response.getPayload(), BitstampOrderResponse[].class);

            // No need to filter on marketId; exchange does this for us.
            final List<OpenOrder> ordersToReturn = new ArrayList<>();
            for (final BitstampOrderResponse openOrder : myOpenOrders) {
                OrderType orderType;
                if (openOrder.type == 0) {
                    orderType = OrderType.BUY;
                } else if (openOrder.type == 1) {
                    orderType = OrderType.SELL;
                } else {
                    throw new TradingApiException(
                            "Unrecognised order type received in getYourOpenOrders(). Value: " + openOrder.type);
                }

                final OpenOrder order = new OpenOrderImpl(
                        Long.toString(openOrder.id),
                        openOrder.datetime,
                        marketId,
                        orderType,
                        openOrder.price,
                        openOrder.amount,
                        null, // orig_quantity - not provided by stamp :-(
                        openOrder.price.multiply(openOrder.amount) // total - not provided by stamp :-(
                );

                ordersToReturn.add(order);
            }
            return ordersToReturn;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vmware_____admiral_____AppRunner_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/vmware_____admiral_____AppRunner.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get


    public void proceedWithClosureDescription(String closureDescUri, JsonObject inputs,
            String closureSemaphore) {
        HttpResponse response = getClosureContent(closureDescUri);
        String responseContent = getResponseContent(response);
        int closureDescResponse = response.getStatusLine().getStatusCode();
        try {
            if (closureDescResponse == 200) {
                Gson gson = <mark>new Gson</mark>();
                JsonObject closureDescJson = gson
                        .<mark>fromJson</mark>(responseContent.toString(), JsonObject.class);
                String[] moduleAndIndexNames = createEntryPoint(closureDescJson);
                String moduleName = moduleAndIndexNames[0];
                String handlerName = moduleAndIndexNames[1];

                JsonElement sourceUrl = closureDescJson.<mark>get</mark>(SOURCE_URL);
                if (sourceUrl == null || sourceUrl.isJsonNull() || sourceUrl.getAsString()
                        .isEmpty()) {
                    saveSourceInFile(closureDescJson, moduleName);
                    executeSource(inputs, closureSemaphore, moduleName, handlerName, false);
                    return;
                }

                String contentType = downloadAngGetContentType(sourceUrl.getAsString());
                handleExternalSourceUrl(inputs, closureSemaphore, moduleName, handlerName,
                        contentType);
            } else {
                String message = "Unable to get closure description from URI: " + CLOSURE_URI + ""
                        + " Reason: "
                        + closureDescResponse;
                System.err.println(message);
                patchFailedState(closureSemaphore, message);
            }
        } catch (Exception e) {
            e.printStackTrace();
            patchFailedState(closureSemaphore, e.getMessage());
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_81.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetWorkspaceChangeSummaryResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetWorkspaceChangeSummaryResponseImpl dto = new GetWorkspaceChangeSummaryResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("nodeMutations")) {
        JsonElement nodeMutationsIn = json.<mark>get</mark>("nodeMutations");
        java.util.ArrayList<NodeMutationDtoImpl> nodeMutationsOut = null;
        if (nodeMutationsIn != null && !nodeMutationsIn.<mark>isJsonNull</mark>()) {
          nodeMutationsOut = new java.util.ArrayList<NodeMutationDtoImpl>();
          java.util.Iterator<JsonElement> nodeMutationsInIterator = nodeMutationsIn.getAsJsonArray().iterator();
          while (nodeMutationsInIterator.hasNext()) {
            JsonElement nodeMutationsIn_ = nodeMutationsInIterator.next();
            NodeMutationDtoImpl nodeMutationsOut_ = NodeMutationDtoImpl.fromJsonElement(nodeMutationsIn_);
            nodeMutationsOut.add(nodeMutationsOut_);
          }
        }
        dto.setNodeMutations(nodeMutationsOut);
      }

      if (json.<mark>has</mark>("baseRootId")) {
        JsonElement baseRootIdIn = json.<mark>get</mark>("baseRootId");
        java.lang.String baseRootIdOut = gson.<mark>fromJson</mark>(baseRootIdIn, java.lang.String.class);
        dto.setBaseRootId(baseRootIdOut);
      }

      if (json.<mark>has</mark>("finalRootId")) {
        JsonElement finalRootIdIn = json.<mark>get</mark>("finalRootId");
        java.lang.String finalRootIdOut = gson.<mark>fromJson</mark>(finalRootIdIn, java.lang.String.class);
        dto.setFinalRootId(finalRootIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>SlimeKnights_____TinkersConstruct_____MaterialRenderInfoLoader_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/SlimeKnights_____TinkersConstruct_____MaterialRenderInfoLoader.java

com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.get
com.google.gson.JsonParseException.&ltinit&gt
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get

  // <mod that registered the material> -> tconstruct -> minecraft
  public void loadRenderInfo() {
    for(Material material : TinkerRegistry.getAllMaterials()) {
      // check if info exists in the form of json
      // if not, check if there already is data
      // if no data exists and no json is present, fill it with textcolor default

      List<String> domains = Lists.newArrayList();

      ModContainer registeredBy = TinkerRegistry.getTrace(material);
      if(!Util.MODID.equals(registeredBy.getModId())) {
        domains.add(registeredBy.getModId().toLowerCase());
      }

      domains.add(Util.MODID);
      domains.add("minecraft");

      for(String domain : domains) {
        ResourceLocation location = new ResourceLocation(domain, "materials/" + material.getIdentifier());
        try {
          Reader reader = ModelHelper.getReaderForResource(location, resourceManager);
          IMaterialRenderInfoDeserializer deserializer = GSON.<mark>fromJson</mark>(reader, TYPE);
          if(deserializer != null) {
            material.renderInfo = deserializer.getMaterialRenderInfo();
            material.renderInfo.setTextureSuffix(deserializer.getSuffix());
          }
        } catch(FileNotFoundException e) {
          // set default if nothing is present
          if(material.renderInfo == null) {
            material.renderInfo = new MaterialRenderInfo.Default(material.materialTextColor);
            log.warn("Material " + material.getIdentifier() + " has no rendering info. Substituting default");
          }
        } catch(IOException | JsonParseException e) {
          log.error("Exception when loading render info for material " + material.getIdentifier() + " from file " + location.toString(), e);
        }
      }
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public String createOrder(String marketId, OrderType orderType, BigDecimal quantity, BigDecimal price)
			throws ExchangeNetworkException, TradingApiException {

        try {

        	final Map<String, Object> params = createRequestParamMap();

        	// transform e.g. dot_btc to DOT/BTC
            final String market = marketId.replace("_", "/").toUpperCase(); 
            params.put("market", market);
            params.put("type", orderType.getStringValue());
            // note we need to limit amount and price to 8 decimal places else exchange will barf
            params.put("rate", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(price));
            params.put("amount", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(quantity));

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("SubmitTrade", params);
            LOG.debug(() -> "Create Order response: " + response);

            Type responseApiType = new TypeToken<CryptopiaPrivateApiResponse<CryptopiaNewOrderResponse>>() {}.getType();
            final CryptopiaPrivateApiResponse<CryptopiaNewOrderResponse> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(),responseApiType);
            final CryptopiaNewOrderResponse createOrderResponse = cryptopiaResponse.Data;
            
            final long id = createOrderResponse.OrderId;
            if (id == 0) {
                final String errorMsg = "Failed to place order on exchange. Error response: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            } else {
                return Long.toString(createOrderResponse.OrderId);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

/**
     * Add user
     *
     * @param userName    username
     * @param credential  password
     * @param role        user role
     * @param firstName   first name
     * @param lastName    last name
     * @param email       email
     * @param profileName profile name
     * @throws CommandException
     */     */
    public void addTenant(String admin, String firstName, String lastName, String password, String domain, String email)
            throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            TenantInfoBean tenantInfo = new TenantInfoBean();
            tenantInfo.setAdmin(admin);
            tenantInfo.setFirstName(firstName);
            tenantInfo.setLastName(lastName);
            tenantInfo.setAdminPassword(password);
            tenantInfo.setTenantDomain(domain);
            tenantInfo.setEmail(email);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            String jsonString = gson.<mark>toJson</mark>(tenantInfo, TenantInfoBean.class);
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_TENANT, jsonString);

            int responseCode = response.getStatusLine().getStatusCode();
            if (responseCode == 201) {
                System.out.println("Tenant added successfully: " + domain);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);
            }
        } catch (Exception e) {
            String message = "Could not add tenant: " + domain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____HomeOtherGroupTimeLineDBTask_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____HomeOtherGroupTimeLineDBTask.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    static MessageListBean get(String accountId, String groupId, int limitCount) {
        Gson gson = <mark>new Gson</mark>();
        MessageListBean result = new MessageListBean();
        int limit = limitCount > AppConfig.DEFAULT_MSG_COUNT_50 ? limitCount : AppConfig.DEFAULT_MSG_COUNT_50;
        List<MessageBean> msgList = new ArrayList<MessageBean>();
        String sql = "select * from " + HomeOtherGroupTable.HomeOtherGroupDataTable.TABLE_NAME + " where "
                + HomeOtherGroupTable.HomeOtherGroupDataTable.ACCOUNTID + "  = " + accountId + " and "
                + HomeOtherGroupTable.HomeOtherGroupDataTable.GROUPID
                + " =  " + groupId + " order by " + HomeOtherGroupTable.HomeOtherGroupDataTable.ID + " asc limit " + limit;
        Cursor c = getRsd().rawQuery(sql, null);
        while (c.moveToNext()) {
            String json = c.getString(c.getColumnIndex(HomeOtherGroupTable.HomeOtherGroupDataTable.JSONDATA));
            if (!TextUtils.isEmpty(json)) {
                try {
                    MessageBean value = gson.<mark>fromJson</mark>(json, MessageBean.class);
                    value.getListViewSpannableString();
                    msgList.add(value);
                } catch (JsonSyntaxException e) {
                    AppLoggerUtils.e(e.getMessage());
                }

            } else {
                msgList.add(null);
            }
        }

        // delete the null flag at the head positon and the end position
        for (int i = msgList.size() - 1; i >= 0; i--) {
            if (msgList.get(i) == null) {
                msgList.remove(i);
            } else {
                break;
            }
        }

        for (int i = 0; i < msgList.size(); i++) {
            if (msgList.get(i) == null) {
                msgList.remove(i);
            } else {
                break;
            }
        }

        result.setStatuses(msgList);
        c.close();
        return result;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____HeliumOnlineRegistry_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____HeliumOnlineRegistry.java

com.google.gson.reflect.TypeToken<java.util.List<org.apache.zeppelin.helium.HeliumPackage>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.apache.zeppelin.helium.HeliumPackage>>.getType
com.google.gson.Gson.fromJson

  @Override
  public synchronized List<HeliumPackage> getAll() throws IOException {
    HttpClient client = HttpClientBuilder.create()
        .setUserAgent("ApacheZeppelin/" + Util.getVersion())
        .setProxy(getProxy(uri()))
        .build();
    HttpGet get = new HttpGet(uri());
    HttpResponse response;
    try {
      ZeppelinConfiguration cfg = ZeppelinConfiguration.create();
      if ((get.getURI().getHost().equals(cfg.getS3Endpoint()))) {
        if (cfg.getS3Timeout() != null) {
          int timeout = Integer.valueOf(cfg.getS3Timeout());
          RequestConfig requestCfg = RequestConfig.custom()
                  .setConnectTimeout(timeout)
                  .setSocketTimeout(timeout)
                  .build();
          get.setConfig(requestCfg);
        }
      }
      response = client.execute(get);
    } catch (Exception e) {
      logger.error(e.getMessage());
      return readFromCache();
    }

    if (response.getStatusLine().getStatusCode() != 200) {
      // try read from cache
      logger.error(uri() + " returned " + response.getStatusLine().toString());
      return readFromCache();
    } else {
      List<HeliumPackage> packageList = new LinkedList<>();

      BufferedReader reader;
      reader = new BufferedReader(
          new InputStreamReader(response.getEntity().getContent()));

      List<Map<String, Map<String, HeliumPackage>>> packages = gson.<mark>fromJson</mark>(
          reader,
          new TypeToken<List<Map<String, Map<String, HeliumPackage>>>>() {
          }.<mark>getType</mark>());
      reader.close();

      for (Map<String, Map<String, HeliumPackage>> pkg : packages) {
        for (Map<String, HeliumPackage> versions : pkg.values()) {
          packageList.addAll(versions.values());
        }
      }

      writeToCache(packageList);
      return packageList;
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>DragonetMC_____DragonProxy_____CLSAuthenticationService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/DragonetMC_____DragonProxy_____CLSAuthenticationService.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has


    public boolean authenticate(UpstreamSession session) {
        if (session.getProfile().isLoginVerified()) {
            CLSAuthenticateRequest request = new CLSAuthenticateRequest();
            request.chain = session.getProfile().getChainJWT();
            request.token = session.getProfile().getClientDataJWT();
            String rawResult = HTTP.performPostRequest(this.clsServer + "/api/v1/authenticate", gson.<mark>toJson</mark>(request));
            if (rawResult != null)
                try {
                    JsonObject result = gson.<mark>fromJson</mark>(rawResult, JsonObject.class);
                    if (result.<mark>has</mark>("pin")) {
                        session.getDataCache().put("cls_link_server", this.clsServer + "/link");
                        session.getDataCache().put("cls_link_pin", result.get("pin").getAsString());
                        return false;
                    } else if (result.<mark>has</mark>("success")) {
                        session.getDataCache().put("mojang_clientToken", result.get("clientToken").getAsString());
                        session.getDataCache().put("mojang_accessToken", result.get("accessToken").getAsString());
                        session.getDataCache().put("mojang_uuid", result.get("uuid").getAsString());
                        session.getDataCache().put("mojang_displayName", result.get("displayName").getAsString());
                        return true;
                    }
                } catch (JsonSyntaxException ex) {
                    session.getProxy().getLogger().warning("An error occured on CLS server.");
                    return false;
                }
            else {
                session.getProxy().getLogger().warning("Unable to connect to CLS server.");
                return false;
            }
        }
        session.getProxy().getLogger().warning("Trying to authenticate " + session.getUsername() + " with CLS server but Xbox Live not connected.");
        return false;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_59.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.Gson.fromJson


    public static GetFileDiffResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetFileDiffResponseImpl dto = new GetFileDiffResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("diffChunks")) {
        JsonElement diffChunksIn = json.<mark>get</mark>("diffChunks");
        java.util.ArrayList<DiffChunkResponseImpl> diffChunksOut = null;
        if (diffChunksIn != null && !diffChunksIn.<mark>isJsonNull</mark>()) {
          diffChunksOut = new java.util.ArrayList<DiffChunkResponseImpl>();
          java.util.Iterator<JsonElement> diffChunksInIterator = diffChunksIn.getAsJsonArray().iterator();
          while (diffChunksInIterator.hasNext()) {
            JsonElement diffChunksIn_ = diffChunksInIterator.next();
            DiffChunkResponseImpl diffChunksOut_ = DiffChunkResponseImpl.fromJsonElement(diffChunksIn_);
            diffChunksOut.add(diffChunksOut_);
          }
        }
        dto.setDiffChunks(diffChunksOut);
      }

      if (json.<mark>has</mark>("diffStats")) {
        JsonElement diffStatsIn = json.<mark>get</mark>("diffStats");
        DiffStatsDtoImpl diffStatsOut = DiffStatsDtoImpl.fromJsonElement(diffStatsIn);
        dto.setDiffStats(diffStatsOut);
      }

      if (json.<mark>has</mark>("beforeFilePath")) {
        JsonElement beforeFilePathIn = json.<mark>get</mark>("beforeFilePath");
        java.lang.String beforeFilePathOut = gson.<mark>fromJson</mark>(beforeFilePathIn, java.lang.String.class);
        dto.setBeforeFilePath(beforeFilePathOut);
      }

      if (json.<mark>has</mark>("afterFilePath")) {
        JsonElement afterFilePathIn = json.<mark>get</mark>("afterFilePath");
        java.lang.String afterFilePathOut = gson.<mark>fromJson</mark>(afterFilePathIn, java.lang.String.class);
        dto.setAfterFilePath(afterFilePathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>wu-sheng_____sky-walking_____H2MetadataQueryDAO_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/wu-sheng_____sky-walking_____H2MetadataQueryDAO.java

com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get

    @Override
    public List<Database> getAllDatabases() throws IOException {
        StringBuilder sql = new StringBuilder();
        List<Object> condition = new ArrayList<>(1);
        sql.append("select * from ").append(ServiceInventory.MODEL_NAME).append(" where ");
        sql.append(ServiceInventory.NODE_TYPE).append("=? limit ").append(metadataQueryMaxSize);
        condition.add(NodeType.Database.value());

        try (Connection connection = h2Client.getConnection()) {
            try (ResultSet resultSet = h2Client.executeQuery(connection, sql.toString(), condition.toArray(new Object[0]))) {
                List<Database> databases = new ArrayList<>();
                while (resultSet.next()) {
                    Database database = new Database();
                    database.setId(resultSet.getInt(ServiceInventory.SEQUENCE));
                    database.setName(resultSet.getString(ServiceInventory.NAME));
                    String propertiesString = resultSet.getString(ServiceInstanceInventory.PROPERTIES);
                    if (!Strings.isNullOrEmpty(propertiesString)) {
                        JsonObject properties = GSON.<mark>fromJson</mark>(propertiesString, JsonObject.class);
                        if (properties.<mark>has</mark>(ServiceInventory.PropertyUtil.DATABASE)) {
                            database.setType(properties.<mark>get</mark>(ServiceInventory.PropertyUtil.DATABASE).getAsString());
                        } else {
                            database.setType("UNKNOWN");
                        }
                    }
                    databases.add(database);
                }
                return databases;
            }
        } catch (SQLException e) {
            throw new IOException(e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>googlesamples_____io2014-codelabs_____DeviceSubscription_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/googlesamples_____io2014-codelabs_____DeviceSubscription.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
   * Delete Prospective Search Api subscriptions in batches.
   *
   * @param subIds A list of Prospective Search Api subscription ids to be deleted.
   */   */
  public Entity create(SubscriptionUtility.MobileType deviceType, String deviceId,
      String subscriptionId) {
    if (StringUtility.isNullOrEmpty(deviceId) || StringUtility.isNullOrEmpty(subscriptionId)) {
      return null;
    }

    Key key;
    String newDeviceId = SubscriptionUtility.extractRegId(deviceId);
    Entity deviceSubscription = get(newDeviceId);
    // Subscriptions is a "set" instead of a "list" to ensure uniqueness of each subscriptionId
    // for a device
    Set<String> subscriptions = new HashSet<String>();

    if (deviceSubscription == null) {
      // Create a brand new one
      key = getKey(newDeviceId);
      deviceSubscription = new Entity(key);
      deviceSubscription.setProperty(PROPERTY_ID, newDeviceId);
      deviceSubscription.setProperty(PROPERTY_DEVICE_TYPE, deviceType.toString());
    } else {
      key = deviceSubscription.getKey();

      // Update the existing subscription list
      String ids = (String) deviceSubscription.getProperty(PROPERTY_SUBSCRIPTION_IDS);
      if (!StringUtility.isNullOrEmpty(ids)) {
        subscriptions = this.gson.<mark>fromJson</mark>(ids, setType);
      }
    }

    // Update entity subscription property and save only when subscriptionId has successfully added
    // to the subscriptions "set".  If a subscriptionId is a duplicate of an existing subscription
    // in the set, we don't save this duplicated value into the entity.
    if (subscriptions.add(subscriptionId)) {
      deviceSubscription.setProperty(PROPERTY_SUBSCRIPTION_IDS, this.gson.toJson(subscriptions));
      Calendar time = Calendar.getInstance(TimeZone.getTimeZone("UTC"));
      deviceSubscription.setProperty(PROPERTY_TIMESTAMP, time.getTime());

      this.datastoreService.put(deviceSubscription);
      this.memcacheService.put(key, deviceSubscription);
    }

    return deviceSubscription;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitreid-connect_____OpenID-Connect-Java-Spring-Server_____PolicyAPI_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mitreid-connect_____OpenID-Connect-Java-Spring-Server_____PolicyAPI.java

com.google.gson.Gson.fromJson

/**
	 * Delete a specific policy
	 * @param rsid
	 * @param pid
	 * @param m
	 * @param auth
	 * @return
	 */	@RequestMapping(value = "/{rsid}" + POLICYURL, method = RequestMethod.POST, produces = MimeTypeUtils.APPLICATION_JSON_VALUE)
	public String createNewPolicyForResourceSet(@PathVariable (value = "rsid") Long rsid, @RequestBody String jsonString, Model m, Authentication auth) {
		ResourceSet rs = resourceSetService.getById(rsid);

		if (rs == null) {
			m.addAttribute(HttpCodeView.CODE, HttpStatus.NOT_FOUND);
			return HttpCodeView.VIEWNAME;
		}

		if (!rs.getOwner().equals(auth.getName())) {
			logger.warn("Unauthorized resource set request from bad user; expected " + rs.getOwner() + " got " + auth.getName());

			// authenticated user didn't match the owner of the resource set
			m.addAttribute(HttpCodeView.CODE, HttpStatus.FORBIDDEN);
			return HttpCodeView.VIEWNAME;
		}

		Policy p = gson.<mark>fromJson</mark>(jsonString, Policy.class);

		if (p.getId() != null) {
			logger.warn("Tried to add a policy with a non-null ID: " + p.getId());
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			return HttpCodeView.VIEWNAME;
		}

		for (Claim claim : p.getClaimsRequired()) {
			if (claim.getId() != null) {
				logger.warn("Tried to add a policy with a non-null claim ID: " + claim.getId());
				m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
				return HttpCodeView.VIEWNAME;
			}
		}

		rs.getPolicies().add(p);
		ResourceSet saved = resourceSetService.update(rs, rs);

		// find the new policy object
		Collection<Policy> newPolicies = Sets.difference(new HashSet<>(saved.getPolicies()), new HashSet<>(rs.getPolicies()));

		if (newPolicies.size() == 1) {
			Policy newPolicy = newPolicies.iterator().next();
			m.addAttribute(JsonEntityView.ENTITY, newPolicy);
			return JsonEntityView.VIEWNAME;
		} else {
			logger.warn("Unexpected result trying to add a new policy object: " + newPolicies);
			m.addAttribute(HttpCodeView.CODE, HttpStatus.INTERNAL_SERVER_ERROR);
			return HttpCodeView.VIEWNAME;
		}

	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    private @Nullable Boolean sendCommandInternal(String io, String command, String params) {
        String url;
        String line = "";

        try {
            url = TAHOMA_URL + "apply";

            String value = params.equals("[]") ? command : params.replace("\"", "");
            String urlParameters = "{\"label\":\"" + getThingLabelByURL(io) + " - " + value + " - OH2\",\"actions\":[{\"deviceURL\":\"" + io + "\",\"commands\":[{\"name\":\""
                    + command + "\",\"parameters\":" + params + "}]}]}";

            line = sendDataToTahomaWithCookie(url, urlParameters);

            SomfyTahomaApplyResponse data = gson.<mark>fromJson</mark>(line, SomfyTahomaApplyResponse.class);

            if (!StringUtils.isEmpty(data.getExecId())) {
                logger.debug("Exec id: {}", data.getExecId());
            } else {
                logger.warn("Apply command response: {}", line);
                throw new SomfyTahomaException(line);
            }
            return true;
        } catch (JsonSyntaxException e) {
            logger.debug("Received data: {} is not JSON", line, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Unauthorized. Please check credentials");
            return false;
        } catch (ExecutionException e) {
            if (isAuthenticationChallenge(e)) {
                login();
                return false;
            } else {
                logger.debug("Cannot send apply command {} with params {}!", command, params, e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
            }
        } catch (InterruptedException | TimeoutException e) {
            logger.debug("Cannot send apply command {} with params {}!", command, params, e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR);
        }
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____oozie_____OozieDBImportCLI_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____oozie_____OozieDBImportCLI.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.getMessage


    private void checkDBVersion() throws IOException {
        try {
            final String currentDBVersion = (String) entityManager
                    .createNativeQuery("select data from OOZIE_SYS where name='db.version'")
                    .getSingleResult();
            String dumpDBVersion = null;
            final ZipEntry sysInfoEntry = mainZipFile.getEntry(OOZIEDB_SYS_INFO_JSON);

            try (BufferedReader reader = new BufferedReader(
                    new InputStreamReader(mainZipFile.getInputStream(sysInfoEntry), StandardCharsets.UTF_8))) {
                String line;
                final Gson gson = <mark>new Gson</mark>();
                while ((line = reader.readLine()) != null) {
                    final List<String> info = gson.<mark>fromJson</mark>(line, List.class);
                    if (info.size() > 1 && "db.version".equals(info.get(0))) {
                        dumpDBVersion = info.get(1);
                    }
                }
            }

            if (currentDBVersion.equals(dumpDBVersion)) {
                System.out.println("Loading to Oozie database version " + currentDBVersion);
            }
            else {
                System.err.println("ERROR Oozie database version mismatch.");
                System.err.println("Oozie DB version:\t" + currentDBVersion);
                System.err.println("Dump DB version:\t" + dumpDBVersion);
                System.exit(1);
            }
        } catch (final Exception e) {
            System.err.println();
            System.err.println("Error during DB version check: " + e.<mark>getMessage</mark>());
            System.err.println();

            if (verbose) {
                System.err.println("Stack trace for the error was (for debug purposes):");
                System.err.println("--------------------------------------");
                e.printStackTrace(System.err);
                System.err.println("--------------------------------------");
                System.err.println();
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_96.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static InheritanceAssociationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      InheritanceAssociationImpl dto = new InheritanceAssociationImpl();
      JsonArray json = jsonElem.<mark>getAsJsonArray</mark>();

      if (0 < json.size()) {
        JsonElement sourceFileIdIn = json.<mark>get</mark>(0);
        java.lang.String sourceFileIdOut = gson.<mark>fromJson</mark>(sourceFileIdIn, java.lang.String.class);
        dto.setSourceFileId(sourceFileIdOut);
      }

      if (1 < json.size()) {
        JsonElement sourceLocalIdIn = json.<mark>get</mark>(1);
        java.lang.String sourceLocalIdOut = gson.<mark>fromJson</mark>(sourceLocalIdIn, java.lang.String.class);
        dto.setSourceLocalId(sourceLocalIdOut);
      }

      if (2 < json.size()) {
        JsonElement targetFileIdIn = json.<mark>get</mark>(2);
        java.lang.String targetFileIdOut = gson.<mark>fromJson</mark>(targetFileIdIn, java.lang.String.class);
        dto.setTargetFileId(targetFileIdOut);
      }

      if (3 < json.size()) {
        JsonElement targetLocalIdIn = json.<mark>get</mark>(3);
        java.lang.String targetLocalIdOut = gson.<mark>fromJson</mark>(targetLocalIdIn, java.lang.String.class);
        dto.setTargetLocalId(targetLocalIdOut);
      }

      if (4 < json.size()) {
        JsonElement isRootAssociationIn = json.<mark>get</mark>(4);
        boolean isRootAssociationOut = isRootAssociationIn.getAsBoolean();
        dto.setIsRootAssociation(isRootAssociationOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

/**
     * Update user
     *
     * @param userName    username
     * @param credential  password
     * @param role        user role
     * @param firstName   first name
     * @param lastName    last name
     * @param email       email
     * @param profileName profile name
     * @throws CommandException
     */     */
    public void updateTenant(int id, String admin, String firstName, String lastName, String password, String domain, String email)
            throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            TenantInfoBean tenantInfo = new TenantInfoBean();
            tenantInfo.setAdmin(admin);
            tenantInfo.setFirstName(firstName);
            tenantInfo.setLastName(lastName);
            tenantInfo.setAdminPassword(password);
            tenantInfo.setTenantDomain(domain);
            tenantInfo.setEmail(email);
            tenantInfo.setTenantId(id);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            String jsonString = gson.<mark>toJson</mark>(tenantInfo, TenantInfoBean.class);

            HttpResponse response = restClient.doPut(httpClient, restClient.getBaseURL()
                    + ENDPOINT_UPDATE_TENANT, jsonString);

            int responseCode = response.getStatusLine().getStatusCode();
            if (responseCode < 200 || responseCode >= 300) {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);

            } else {
                System.out.println("Tenant updated successfully: " + domain);
            }
        } catch (Exception e) {
            String message = "Could not update tenant: " + domain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____OkCoinExchangeAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____OkCoinExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public String createOrder(String marketId, OrderType orderType, BigDecimal quantity, BigDecimal price) throws
            TradingApiException, ExchangeNetworkException {

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("symbol", marketId);

            if (orderType == OrderType.BUY) {
                params.put("type", "buy");
            } else if (orderType == OrderType.SELL) {
                params.put("type", "sell");
            } else {
                final String errorMsg = "Invalid order type: " + orderType
                        + " - Can only be "
                        + OrderType.BUY.getStringValue() + " or "
                        + OrderType.SELL.getStringValue();
                LOG.error(errorMsg);
                throw new IllegalArgumentException(errorMsg);
            }

            params.put("price", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(price));

            // note we need to limit amount to 8 decimal places else exchange will barf
            params.put("amount", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(quantity));

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("trade.do", params);
            LOG.debug(() -> "Create Order response: " + response);

            final OKCoinTradeResponse createOrderResponse = gson.<mark>fromJson</mark>(response.getPayload(), OKCoinTradeResponse.class);
            if (createOrderResponse.result) {
                return Long.toString(createOrderResponse.order_id);
            } else {
                final String errorMsg = "Failed to place order on exchange. Error response: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AEFeinstein_____mtg-familiar_____TcgpApi_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AEFeinstein_____mtg-familiar_____TcgpApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Return a paged list of all CategoryGroups for Magic expansions
     *
     * @param offset The offset for this query. The 0th index in this array will be used and updated
     * @return The CategoryGroups retrieved from the API
     * @throws IOException If something goes wrong with the network
     */     */
    public ProductMarketPrice getProductMarketPrice(long[] productIds) throws IOException {
        // Make sure we have an access token first
        if (null != mAccessToken) {

            // Concatenate all the product IDs into one string
            StringBuilder stringIds = new StringBuilder();
            for (long id : productIds) {
                if (stringIds.length() > 0) {
                    stringIds.append(',');
                }
                stringIds.append(Long.toString(id));
            }

            // Create the connection with default options and headers
            HttpURLConnection conn = (HttpURLConnection) new URL(
                    "https://api.tcgplayer.com/" + TCGP_VERSION + "/pricing/product/" +
                            stringIds.toString()).openConnection();
            setDefaultOptions(conn, HttpMethod.GET);
            addHeaders(conn);

            // Get the response stream. This opens the connection
            InputStream inStream;
            try {
                inStream = conn.getInputStream();
            } catch (FileNotFoundException e) {
                inStream = conn.getErrorStream();
                if (null == inStream) {
                    conn.disconnect();
                    // Return an empty, not null, object
                    return new ProductMarketPrice();
                }
            }

            // Parse the json out of the response and save it
            ProductMarketPrice price = <mark>new Gson</mark>()
                    .<mark>fromJson</mark>(new InputStreamReader(inStream), ProductMarketPrice.class);

            // Clean up
            inStream.close();
            conn.disconnect();
            return price;
        }
        // No access token
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____AccountDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____AccountDao.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.getMessage


    public static List<AccountBean> getAccountList() {
        List<AccountBean> accountList = new ArrayList<AccountBean>();
        String sql = "select * from " + AccountTable.ACCOUNT_TABLE;
        Cursor c = getWsd().rawQuery(sql, null);
        while (c.moveToNext()) {
            AccountBean account = new AccountBean();
            // uname
            int uname = c.getColumnIndex(AccountTable.USER_NAME);
            account.setUname(c.getString(uname));
            // pwd
            int pwd = c.getColumnIndex(AccountTable.USER_PWD);
            account.setPwd(c.getString(pwd));
            // cookie
            int cookie = c.getColumnIndex(AccountTable.COOKIE);
            account.setCookie(c.getString(cookie));

            // access_token_hack
            int access_token_hack_index = c.getColumnIndex(AccountTable.ACCESS_TOKEN_HACK);
            account.setAccess_token_hack(c.getString(access_token_hack_index));

            // gsid
            int gsid = c.getColumnIndex(AccountTable.GSID);
            account.setGsid(c.getString(gsid));


            int colid = c.getColumnIndex(AccountTable.OAUTH_TOKEN);
            account.setAccess_token(c.getString(colid));

            colid = c.getColumnIndex(AccountTable.OAUTH_TOKEN_EXPIRES_TIME);
            account.setExpires_time(Long.valueOf(c.getString(colid)));

            colid = c.getColumnIndex(AccountTable.BLACK_MAGIC);
            account.setBlack_magic(c.getInt(colid) == 1);

            colid = c.getColumnIndex(AccountTable.NAVIGATION_POSITION);
            account.setNavigationPosition(c.getInt(colid));

            Gson gson = <mark>new Gson</mark>();
            String json = c.getString(c.getColumnIndex(AccountTable.INFOJSON));
            try {
                UserBean value = gson.<mark>fromJson</mark>(json, UserBean.class);
                account.setInfo(value);
            } catch (JsonSyntaxException e) {
                AppLoggerUtils.e(e.<mark>getMessage</mark>());
            }

            accountList.add(account);
        }
        c.close();
        return accountList;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_58.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetFileDiffImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetFileDiffImpl dto = new GetFileDiffImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("clientId")) {
        JsonElement clientIdIn = json.<mark>get</mark>("clientId");
        java.lang.String clientIdOut = gson.<mark>fromJson</mark>(clientIdIn, java.lang.String.class);
        dto.setClientId(clientIdOut);
      }

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("beforeNodeId")) {
        JsonElement beforeNodeIdIn = json.<mark>get</mark>("beforeNodeId");
        java.lang.String beforeNodeIdOut = gson.<mark>fromJson</mark>(beforeNodeIdIn, java.lang.String.class);
        dto.setBeforeNodeId(beforeNodeIdOut);
      }

      if (json.<mark>has</mark>("afterNodeId")) {
        JsonElement afterNodeIdIn = json.<mark>get</mark>("afterNodeId");
        java.lang.String afterNodeIdOut = gson.<mark>fromJson</mark>(afterNodeIdIn, java.lang.String.class);
        dto.setAfterNodeId(afterNodeIdOut);
      }

      if (json.<mark>has</mark>("isStatsOnly")) {
        JsonElement isStatsOnlyIn = json.<mark>get</mark>("isStatsOnly");
        boolean isStatsOnlyOut = isStatsOnlyIn.getAsBoolean();
        dto.setIsStatsOnly(isStatsOnlyOut);
      }

      if (json.<mark>has</mark>("changedType")) {
        JsonElement changedTypeIn = json.<mark>get</mark>("changedType");
        com.google.collide.dto.NodeMutationDto.MutationType changedTypeOut = gson.<mark>fromJson</mark>(changedTypeIn, com.google.collide.dto.NodeMutationDto.MutationType.class);
        dto.setChangedType(changedTypeOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static AddWorkspaceMembersImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      AddWorkspaceMembersImpl dto = new AddWorkspaceMembersImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("changeRoleInfo")) {
        JsonElement changeRoleInfoIn = json.<mark>get</mark>("changeRoleInfo");
        ChangeRoleInfoImpl changeRoleInfoOut = ChangeRoleInfoImpl.fromJsonElement(changeRoleInfoIn);
        dto.setChangeRoleInfo(changeRoleInfoOut);
      }

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      if (json.<mark>has</mark>("userEmails")) {
        JsonElement userEmailsIn = json.<mark>get</mark>("userEmails");
        java.lang.String userEmailsOut = gson.<mark>fromJson</mark>(userEmailsIn, java.lang.String.class);
        dto.setUserEmails(userEmailsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>cymcsg_____UltimateAndroid_____JsonUtil_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/cymcsg_____UltimateAndroid_____JsonUtil.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

public class JsonUtil {
    public static <T> T getListFromJson(String jsonString, TypeToken typeToken) {
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(jsonString, typeToken.getType());
    }

    public static <T> T getTFromJson(String jsonString, Class<T> t) {
        Gson gson = <mark>new Gson</mark>();
        return gson.<mark>fromJson</mark>(jsonString, t);
    }


    public static ArrayList getArrayListMapFromJson(String jsonString) {
        JsonParser jsonParser = new JsonParser();
        Gson gson = <mark>new Gson</mark>();
        JsonElement jsonElement = jsonParser.parse(jsonString);
        Logs.d(jsonElement.isJsonArray() + "   " + jsonElement.isJsonObject());
        ArrayList<HashMap<String, Object>> arrayList = new ArrayList<>();
        if (jsonElement.isJsonObject()) {
            arrayList.add(gson.<mark>fromJson</mark>(jsonElement, HashMap.class));
        } else if (jsonElement.isJsonArray()) {
            arrayList = getListFromJson(jsonString, new TypeToken<ArrayList<HashMap<String, Object>>>() {
            });
        }
        return arrayList;
    }

    public static ArrayList getArrayListFromJson(String jsonString) {
        JsonParser jsonParser = new JsonParser();
        Gson gson = <mark>new Gson</mark>();
        JsonElement jsonElement = jsonParser.parse(jsonString);
        Logs.d(jsonElement.isJsonArray() + "   " + jsonElement.isJsonObject());
        ArrayList arrayList = new ArrayList();
        if (jsonElement.isJsonObject()) {
            arrayList.add(gson.<mark>fromJson</mark>(jsonElement, HashMap.class));
        } else if (jsonElement.isJsonArray()) {
            arrayList = getListFromJson(jsonString, new TypeToken<ArrayList>() {
            });
        }
        return arrayList;
    }

    public static Object getObjectListFromJson(String jsonString) {
        Gson gson = <mark>new Gson</mark>();
        Object object = gson.<mark>fromJson</mark>(jsonString, new TypeToken<List<Object>>() {
        }.getType());
        return object;
    }

    public static Object getObjectFromJson(String jsonString) {
        Gson gson = <mark>new Gson</mark>();
        Object object = gson.<mark>fromJson</mark>(jsonString, Object.class);
        return object;
    }

}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static AddMembersResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      AddMembersResponseImpl dto = new AddMembersResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("newMembers")) {
        JsonElement newMembersIn = json.<mark>get</mark>("newMembers");
        java.util.ArrayList<UserDetailsWithRoleImpl> newMembersOut = null;
        if (newMembersIn != null && !newMembersIn.<mark>isJsonNull</mark>()) {
          newMembersOut = new java.util.ArrayList<UserDetailsWithRoleImpl>();
          java.util.Iterator<JsonElement> newMembersInIterator = newMembersIn.getAsJsonArray().iterator();
          while (newMembersInIterator.hasNext()) {
            JsonElement newMembersIn_ = newMembersInIterator.next();
            UserDetailsWithRoleImpl newMembersOut_ = UserDetailsWithRoleImpl.fromJsonElement(newMembersIn_);
            newMembersOut.add(newMembersOut_);
          }
        }
        dto.setNewMembers(newMembersOut);
      }

      if (json.<mark>has</mark>("invalidEmails")) {
        JsonElement invalidEmailsIn = json.<mark>get</mark>("invalidEmails");
        java.util.ArrayList<java.lang.String> invalidEmailsOut = null;
        if (invalidEmailsIn != null && !invalidEmailsIn.<mark>isJsonNull</mark>()) {
          invalidEmailsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> invalidEmailsInIterator = invalidEmailsIn.getAsJsonArray().iterator();
          while (invalidEmailsInIterator.hasNext()) {
            JsonElement invalidEmailsIn_ = invalidEmailsInIterator.next();
            java.lang.String invalidEmailsOut_ = gson.<mark>fromJson</mark>(invalidEmailsIn_, java.lang.String.class);
            invalidEmailsOut.add(invalidEmailsOut_);
          }
        }
        dto.setInvalidEmails(invalidEmailsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GeminiExchangeAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GeminiExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public List<OpenOrder> getYourOpenOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("orders", null);
            LOG.debug(() -> "Open Orders response: " + response);

            final GeminiOpenOrders geminiOpenOrders = gson.<mark>fromJson</mark>(response.getPayload(), GeminiOpenOrders.class);

            final List<OpenOrder> ordersToReturn = new ArrayList<>();
            for (final GeminiOpenOrder geminiOpenOrder : geminiOpenOrders) {

                if (!marketId.equalsIgnoreCase(geminiOpenOrder.symbol)) {
                    continue;
                }

                OrderType orderType;
                switch (geminiOpenOrder.side) {
                    case "buy":
                        orderType = OrderType.BUY;
                        break;
                    case "sell":
                        orderType = OrderType.SELL;
                        break;
                    default:
                        throw new TradingApiException(
                                "Unrecognised order type received in getYourOpenOrders(). Value: " + geminiOpenOrder.type);
                }

                final OpenOrder order = new OpenOrderImpl(
                        Long.toString(geminiOpenOrder.order_id),
                        Date.from(Instant.ofEpochMilli(geminiOpenOrder.timestampms)),
                        marketId,
                        orderType,
                        geminiOpenOrder.price,
                        geminiOpenOrder.remaining_amount,
                        geminiOpenOrder.original_amount,
                        geminiOpenOrder.price.multiply(geminiOpenOrder.original_amount) // total - not provided by Gemini :-(
                );

                ordersToReturn.add(order);
            }
            return ordersToReturn;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_105.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static LogMessageImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LogMessageImpl dto = new LogMessageImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("logLevel")) {
        JsonElement logLevelIn = json.<mark>get</mark>("logLevel");
        com.google.gwt.core.ext.TreeLogger.Type logLevelOut = gson.<mark>fromJson</mark>(logLevelIn, com.google.gwt.core.ext.TreeLogger.Type.class);
        dto.setLogLevel(logLevelOut);
      }

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      if (json.<mark>has</mark>("error")) {
        JsonElement errorIn = json.<mark>get</mark>("error");
        java.lang.String errorOut = gson.<mark>fromJson</mark>(errorIn, java.lang.String.class);
        dto.setError(errorOut);
      }

      if (json.<mark>has</mark>("code")) {
        JsonElement codeIn = json.<mark>get</mark>("code");
        int codeOut = codeIn.getAsInt();
        dto.setCode(codeOut);
      }

      if (json.<mark>has</mark>("helpInfo")) {
        JsonElement helpInfoIn = json.<mark>get</mark>("helpInfo");
        java.lang.String helpInfoOut = gson.<mark>fromJson</mark>(helpInfoIn, java.lang.String.class);
        dto.setHelpInfo(helpInfoOut);
      }

      if (json.<mark>has</mark>("message")) {
        JsonElement messageIn = json.<mark>get</mark>("message");
        java.lang.String messageOut = gson.<mark>fromJson</mark>(messageIn, java.lang.String.class);
        dto.setMessage(messageOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____BlueprintResourceProvider_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____BlueprintResourceProvider.java

com.google.gson.Gson.fromJson

/**
   * Populate blueprint configurations.
   *
   * @param propertyMaps  collection of configuration property maps
   * @param blueprint     blueprint entity to set configurations on
   */   */
  List<Map<String, Map<String, Object>>> populateConfigurationList(
      Collection<? extends BlueprintConfiguration> configurations) throws NoSuchResourceException {

    List<Map<String, Map<String, Object>>> listConfigurations = new ArrayList<>();
    for (BlueprintConfiguration config : configurations) {
      Map<String, Map<String, Object>> mapConfigurations = new HashMap<>();
      Map<String, Object> configTypeDefinition = new HashMap<>();
      String type = config.getType();

      if(config instanceof BlueprintConfigEntity) {
        Map<String, String> properties = jsonSerializer.<Map<String, String>><mark>fromJson</mark>(
            config.getConfigData(), Map.class);

        StackEntity stack = ((BlueprintConfigEntity)config).getBlueprintEntity().getStack();
        StackInfo metaInfoStack;

        try {
          metaInfoStack = ambariMetaInfo.getStack(stack.getStackName(), stack.getStackVersion());
        } catch (AmbariException e) {
          throw new NoSuchResourceException(e.getMessage());
        }

        Map<org.apache.ambari.server.state.PropertyInfo.PropertyType, Set<String>> propertiesTypes =
            metaInfoStack.getConfigPropertiesTypes(type);

        SecretReference.replacePasswordsWithReferences(propertiesTypes, properties, type, -1l);

        configTypeDefinition.put(PROPERTIES_PROPERTY_ID, properties);
      } else {
        Map<String, Object> properties = jsonSerializer.<Map<String, Object>><mark>fromJson</mark>(
            config.getConfigData(), Map.class);
        configTypeDefinition.put(PROPERTIES_PROPERTY_ID, properties);
      }

      Map<String, Map<String, String>> attributes = jsonSerializer.<Map<String, Map<String, String>>><mark>fromJson</mark>(
          config.getConfigAttributes(), Map.class);
      if (attributes != null && !attributes.isEmpty()) {
        configTypeDefinition.put(PROPERTIES_ATTRIBUTES_PROPERTY_ID, attributes);
      }
      mapConfigurations.put(type, configTypeDefinition);
      listConfigurations.add(mapConfigurations);
    }

    return listConfigurations;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_15.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CodeGraphRequestImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeGraphRequestImpl dto = new CodeGraphRequestImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("freshness")) {
        JsonElement freshnessIn = json.<mark>get</mark>("freshness");
        CodeGraphFreshnessImpl freshnessOut = CodeGraphFreshnessImpl.fromJsonElement(freshnessIn);
        dto.setFreshness(freshnessOut);
      }

      if (json.<mark>has</mark>("filePath")) {
        JsonElement filePathIn = json.<mark>get</mark>("filePath");
        java.lang.String filePathOut = gson.<mark>fromJson</mark>(filePathIn, java.lang.String.class);
        dto.setFilePath(filePathOut);
      }

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GdaxExchangeAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GdaxExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public MarketOrderBook getMarketOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("level", "2"); //  "2" = Top 50 bids and asks (aggregated)

            final ExchangeHttpResponse response = sendPublicRequestToExchange("products/" + marketId + "/book", params);
            LOG.debug(() -> "Market Orders response: " + response);

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final GdaxBookWrapper orderBook = gson.<mark>fromJson</mark>(response.getPayload(), GdaxBookWrapper.class);

                final List<MarketOrder> buyOrders = new ArrayList<>();
                for (GdaxMarketOrder gdaxBuyOrder : orderBook.bids) {
                    final MarketOrder buyOrder = new MarketOrderImpl(
                            OrderType.BUY,
                            gdaxBuyOrder.get(0),
                            gdaxBuyOrder.get(1),
                            gdaxBuyOrder.get(0).multiply(gdaxBuyOrder.get(1)));
                    buyOrders.add(buyOrder);
                }

                final List<MarketOrder> sellOrders = new ArrayList<>();
                for (GdaxMarketOrder gdaxSellOrder : orderBook.asks) {
                    final MarketOrder sellOrder = new MarketOrderImpl(
                            OrderType.SELL,
                            gdaxSellOrder.get(0),
                            gdaxSellOrder.get(1),
                            gdaxSellOrder.get(0).multiply(gdaxSellOrder.get(1)));
                    sellOrders.add(sellOrder);
                }

                return new MarketOrderBookImpl(marketId, sellOrders, buyOrders);

            } else {
                final String errorMsg = "Failed to get market order book from exchange. Details: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitstampExchangeAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitstampExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public String createOrder(String marketId, OrderType orderType, BigDecimal quantity, BigDecimal price) throws
            TradingApiException, ExchangeNetworkException {

        try {
            final Map<String, String> params = createRequestParamMap();

            // note we need to limit price to 2 decimal places else exchange will barf
            params.put("price", new DecimalFormat("#.##", getDecimalFormatSymbols()).format(price));

            // note we need to limit amount to 8 decimal places else exchange will barf
            params.put("amount", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(quantity));

            final ExchangeHttpResponse response;
            if (orderType == OrderType.BUY) {
                // buying BTC
                response = sendAuthenticatedRequestToExchange("buy/" + marketId, params);
            } else if (orderType == OrderType.SELL) {
                // selling BTC
                response = sendAuthenticatedRequestToExchange("sell/" + marketId, params);
            } else {
                final String errorMsg = "Invalid order type: " + orderType
                        + " - Can only be "
                        + OrderType.BUY.getStringValue() + " or "
                        + OrderType.SELL.getStringValue();
                LOG.error(errorMsg);
                throw new IllegalArgumentException(errorMsg);
            }

            LOG.debug(() -> "Create Order response: " + response);

            final BitstampOrderResponse createOrderResponse = gson.<mark>fromJson</mark>(response.getPayload(), BitstampOrderResponse.class);
            final long id = createOrderResponse.id;
            if (id == 0) {
                final String errorMsg = "Failed to place order on exchange. Error response: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            } else {
                return Long.toString(createOrderResponse.id);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jimkyndemeyer_____js-graphql-intellij-plugin_____GraphQLConfigManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jimkyndemeyer_____js-graphql-intellij-plugin_____GraphQLConfigManager.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public JSGraphQLSchemaEndpointConfiguration getEndpointLanguageConfiguration(VirtualFile virtualFile, @Nullable Ref<VirtualFile> configBasedir) {
        if (virtualFile.getFileType() != GraphQLFileType.INSTANCE && virtualFile.getFileType() != JSGraphQLEndpointFileType.INSTANCE && !GraphQLFileType.isGraphQLScratchFile(myProject, virtualFile)) {
            if (!GraphQLFindUsagesUtil.getService().getIncludedFileTypes().contains(virtualFile.getFileType())) {
                return null;
            }
        }
        try {
            readLock.lock();
            GraphQLNamedScope schemaScope = getSchemaScope(virtualFile);
            if (schemaScope != null) {
                JSGraphQLSchemaEndpointConfiguration configuration = scopeToSchemaEndpointLanguageConfiguration.computeIfAbsent(schemaScope, scope -> {
                    if (schemaScope.getConfigData() != null) {
                        final Map<String, Object> extensions = schemaScope.getConfigData().extensions;
                        if (extensions != null && extensions.containsKey(ENDPOINT_LANGUAGE_EXTENSION)) {
                            try {
                                final Gson gson = <mark>new Gson</mark>();
                                final JSGraphQLSchemaEndpointConfiguration config = gson.<mark>fromJson</mark>(gson.toJsonTree(extensions.get(ENDPOINT_LANGUAGE_EXTENSION)), JSGraphQLSchemaEndpointConfiguration.class);
                                return config;
                            } catch (JsonSyntaxException je) {
                                log.warn("Invalid JSON in config file", je);
                            }

                        }
                    }
                    // using sentinel value to avoid re-computing values which happens on nulls
                    return JSGraphQLSchemaEndpointConfiguration.NONE;
                });
                if (configuration != JSGraphQLSchemaEndpointConfiguration.NONE) {
                    if (configBasedir != null) {
                        configBasedir.set(schemaScope.getConfigBaseDir());
                    }
                    return configuration;
                }
            }
            return null;
        } finally {
            readLock.unlock();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codice_____ddf_____CqlTransformHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/codice_____ddf_____CqlTransformHandler.java

com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

  @Override
  public Object handle(Request request, Response response) throws Exception {
    String transformerId = request.params(":transformerId");
    String body = util.safeGetBody(request);
    CqlRequest cqlRequest;

    try {
      cqlRequest = GSON.<mark>fromJson</mark>(body, CqlRequest.class);
    } catch (IllegalArgumentException | ArrayIndexOutOfBoundsException e) {
      LOGGER.debug("Error fetching cql request");
      response.status(HttpStatus.BAD_REQUEST_400);
      return ImmutableMap.of("message", "Error retrieving cql request");
    }

    if (cqlRequest.getCql() == null) {
      LOGGER.debug("Cql not found in request");
      return ImmutableMap.of("message", "Cql not found in request");
    }

    Map<String, Serializable> arguments =
        GSON.<mark>fromJson</mark>(body, Arguments.class).getSerializableArguments();

    LOGGER.trace("Finding transformer to transform query response.");

    ServiceReference<QueryResponseTransformer> queryResponseTransformer =
        queryResponseTransformers
            .stream()
            .filter(
                transformer ->
                    transformerId.equals(transformer.getProperty(TRANSFORMER_ID_PROPERTY)))
            .findFirst()
            .orElse(null);

    if (queryResponseTransformer == null) {
      LOGGER.debug("Could not find transformer with id: {}", transformerId);
      response.status(HttpStatus.NOT_FOUND_404);
      return ImmutableMap.of("message", "Service not found");
    }

    CqlQueryResponse cqlQueryResponse = util.executeCqlQuery(cqlRequest);

    Object schema = queryResponseTransformer.getProperty("schema");

    List<String> mimeTypeServiceProperty =
        queryResponseTransformer.getProperty("mime-type") instanceof List
            ? (List) queryResponseTransformer.getProperty("mime-type")
            : Collections.emptyList();

    if (mimeTypeServiceProperty.contains("text/csv")) {
      arguments = csvTransformArgumentsAdapter(arguments);
    } else if (schema != null && schema.toString().equals(CswConstants.CSW_NAMESPACE_URI)) {
      arguments = cswTransformArgumentsAdapter();
    }

    attachFileToResponse(request, response, queryResponseTransformer, cqlQueryResponse, arguments);

    return "";
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_123.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static RecoverFromMissedDocOpsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RecoverFromMissedDocOpsImpl dto = new RecoverFromMissedDocOpsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("clientId")) {
        JsonElement clientIdIn = json.<mark>get</mark>("clientId");
        java.lang.String clientIdOut = gson.<mark>fromJson</mark>(clientIdIn, java.lang.String.class);
        dto.setClientId(clientIdOut);
      }

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("docOps2")) {
        JsonElement docOps2In = json.<mark>get</mark>("docOps2");
        java.util.ArrayList<java.lang.String> docOps2Out = null;
        if (docOps2In != null && !docOps2In.<mark>isJsonNull</mark>()) {
          docOps2Out = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> docOps2InIterator = docOps2In.<mark>getAsJsonArray</mark>().iterator();
          while (docOps2InIterator.hasNext()) {
            JsonElement docOps2In_ = docOps2InIterator.next();
            java.lang.String docOps2Out_ = gson.<mark>fromJson</mark>(docOps2In_, java.lang.String.class);
            docOps2Out.add(docOps2Out_);
          }
        }
        dto.setDocOps2(docOps2Out);
      }

      if (json.<mark>has</mark>("currentCcRevision")) {
        JsonElement currentCcRevisionIn = json.<mark>get</mark>("currentCcRevision");
        int currentCcRevisionOut = currentCcRevisionIn.getAsInt();
        dto.setCurrentCcRevision(currentCcRevisionOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>P2Pvalue_____swellrt_____WaveImport_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/P2Pvalue_____swellrt_____WaveImport.java

com.google.gson.Gson.fromJson


  private ImportWaveletState importDeltas(File deltasFile, WaveId targetWaveId, WaveletId targetWaveletId,
      Set<AttachmentId> attachmentIds) throws IOException {
    ImportWaveletState state = ImportWaveletState.NOTHING_DONE;
    @SuppressWarnings("unchecked")
    List<byte[]> sourceHistory = gson.<mark>fromJson</mark>(readFile(deltasFile), GsonFactory.RAW_DELTAS_TYPE);
    List<byte[]> targetHistory;
    List<ProtocolWaveletDelta> deltas = DeltaParser.parseDeltas(sourceHistory);
    List<ProtocolWaveletDelta> targetDeltas;
    if (waveDomain != null) {
      try {
        targetDeltas = DomainConverter.convertDeltas(deltas, waveDomain);
      } catch (InvalidParticipantAddress ex) {
        throw new IOException(ex);
      }
      targetHistory = new LinkedList<byte[]>();
      for (ProtocolWaveletDelta delta : targetDeltas) {
        targetHistory.add(delta.toByteArray());
      }
    } else {
      targetDeltas = deltas;
      targetHistory = sourceHistory;
    }
    if (!targetDeltas.isEmpty()) {
      long fromVersion = targetDeltas.get(0).getHashedVersion().getVersion();
      ProtocolWaveletDelta lastDelta = targetDeltas.get(targetDeltas.size()-1);
      long toVersion = lastDelta.getHashedVersion().getVersion()+lastDelta.getOperationCount();
      Console.print("    send deltas " + fromVersion + "-" + toVersion + " ...");
      long importedFromVersion = api.importRawDeltas(targetWaveId, targetWaveletId, targetHistory, rpcServerUrl);
      if (fromVersion == importedFromVersion) {
        Console.println(" imported");
      } else if (importedFromVersion == -1) {
        Console.println(" skipped");
      } else {
        Console.println(" imported from version " + importedFromVersion);
      }
      if (fromVersion == importedFromVersion) {
        if (fromVersion == 0) {
          state = ImportWaveletState.WAVELET_CREATED;
        } else {
          state = ImportWaveletState.WAVELET_UPDATED;
        }
      } else if (importedFromVersion != -1) {
        state = ImportWaveletState.WAVELET_UPDATED;
      }
      if (importedFromVersion != -1) {
        for (ProtocolWaveletDelta delta : targetDeltas) {
          if (delta.getHashedVersion().getVersion() >= importedFromVersion) {
            attachmentIds.addAll(DeltaParser.getAttachemntIds(delta));
          }
        }
      }
    }
    return state;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fluxtream_____fluxtream-app_____BodyTrackHelper_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/fluxtream_____fluxtream-app_____BodyTrackHelper.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.serializeSpecialFloatingPointValues
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson


    public String getSourcesResponse(Long guestId, TrustedBuddy trustedBuddy) {
        final SourcesResponse response = new SourcesResponse();

        final DataStoreExecutionResult dataStoreExecutionResult = executeDataStore("info",new Object[]{"-r",guestId});
        String result = dataStoreExecutionResult.getResponse();

        // Iterate over the various (photo) connectors (if any), manually inserting each into the ChannelSpecs
        final Map<String, TimeInterval> photoChannelTimeRanges = photoService.getPhotoChannelTimeRanges(guestId, null);

        // TODO: check statusCode in DataStoreExecutionResult
        ChannelInfoResponse infoResponse = gson.<mark>fromJson</mark>(result, ChannelInfoResponse.class);

        // create the 'All' photos block
        final Source allPhotosSource = getAllPhotosSource(infoResponse, photoChannelTimeRanges);

        // retrieve channel mappings directly if trustedBuddy is null or through the SharedChannels otherwise
        final List<ChannelMapping> channelMappings = getChannelMappings(guestId, trustedBuddy);

        // populateResponseWithChannelMappings is meant to be backward compatible with the LegacyBodytrackController
        // and so it includes a trustedBuddy parameter because it has another (deprecated) way of figuring out
        // access permissions to a buddy's info - here it has to be null since we have already filtered out
        // Channels to which the loggedIn guest doesn't have access
        try {
            populateResponseWithChannelMappings(guestId, null /*IMPORTANT: trustedBuddy needs to be null here*/,
                    response, channelMappings, infoResponse);
        } catch (Throwable e) {
            e.printStackTrace();
            throw new RuntimeException("Unexpected error trying to populate response with channel mappings: " + e.getMessage());
        }

        // if trustedBuddy is null, add the All photos block to the response
        if (trustedBuddy==null&&!photoChannelTimeRanges.isEmpty()) {
            response.sources.add(allPhotosSource);
        }

        final String jsonResponse = gson.<mark>toJson</mark>(response);
        return jsonResponse;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_115.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean


    public static NodeMutationDtoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      NodeMutationDtoImpl dto = new NodeMutationDtoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("diffStats")) {
        JsonElement diffStatsIn = json.<mark>get</mark>("diffStats");
        DiffStatsDtoImpl diffStatsOut = DiffStatsDtoImpl.fromJsonElement(diffStatsIn);
        dto.setDiffStats(diffStatsOut);
      }

      if (json.<mark>has</mark>("mutationType")) {
        JsonElement mutationTypeIn = json.<mark>get</mark>("mutationType");
        com.google.collide.dto.NodeMutationDto.MutationType mutationTypeOut = gson.<mark>fromJson</mark>(mutationTypeIn, com.google.collide.dto.NodeMutationDto.MutationType.class);
        dto.setMutationType(mutationTypeOut);
      }

      if (json.<mark>has</mark>("newPath")) {
        JsonElement newPathIn = json.<mark>get</mark>("newPath");
        java.lang.String newPathOut = gson.<mark>fromJson</mark>(newPathIn, java.lang.String.class);
        dto.setNewPath(newPathOut);
      }

      if (json.<mark>has</mark>("oldPath")) {
        JsonElement oldPathIn = json.<mark>get</mark>("oldPath");
        java.lang.String oldPathOut = gson.<mark>fromJson</mark>(oldPathIn, java.lang.String.class);
        dto.setOldPath(oldPathOut);
      }

      if (json.<mark>has</mark>("isFile")) {
        JsonElement isFileIn = json.<mark>get</mark>("isFile");
        boolean isFileOut = isFileIn.<mark>getAsBoolean</mark>();
        dto.setIsFile(isFileOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public List<OpenOrder> getYourOpenOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("orders", null);
            LOG.debug(() -> "Open Orders response: " + response);

            final BitfinexOpenOrders bitfinexOpenOrders = gson.<mark>fromJson</mark>(response.getPayload(), BitfinexOpenOrders.class);

            final List<OpenOrder> ordersToReturn = new ArrayList<>();
            for (final BitfinexOpenOrder bitfinexOpenOrder : bitfinexOpenOrders) {

                if (!marketId.equalsIgnoreCase(bitfinexOpenOrder.symbol)) {
                    continue;
                }

                OrderType orderType;
                switch (bitfinexOpenOrder.side) {
                    case "buy":
                        orderType = OrderType.BUY;
                        break;
                    case "sell":
                        orderType = OrderType.SELL;
                        break;
                    default:
                        throw new TradingApiException(
                                "Unrecognised order type received in getYourOpenOrders(). Value: " + bitfinexOpenOrder.type);
                }

                final OpenOrder order = new OpenOrderImpl(
                        Long.toString(bitfinexOpenOrder.id),
                        // for some reason 'finex adds decimal point to long date value, e.g. "1442073766.0"  - grrrr!
                        Date.from(Instant.ofEpochMilli(Integer.parseInt(bitfinexOpenOrder.timestamp.split("\\.")[0]))),
                        marketId,
                        orderType,
                        bitfinexOpenOrder.price,
                        bitfinexOpenOrder.remaining_amount,
                        bitfinexOpenOrder.original_amount,
                        bitfinexOpenOrder.price.multiply(bitfinexOpenOrder.original_amount) // total - not provided by finex :-(
                );

                ordersToReturn.add(order);
            }
            return ordersToReturn;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_131.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    public static RevisionImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RevisionImpl dto = new RevisionImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("timestamp")) {
        JsonElement timestampIn = json.<mark>get</mark>("timestamp");
        java.lang.String timestampOut = gson.<mark>fromJson</mark>(timestampIn, java.lang.String.class);
        dto.setTimestamp(timestampOut);
      }

      if (json.<mark>has</mark>("rootId")) {
        JsonElement rootIdIn = json.<mark>get</mark>("rootId");
        java.lang.String rootIdOut = gson.<mark>fromJson</mark>(rootIdIn, java.lang.String.class);
        dto.setRootId(rootIdOut);
      }

      if (json.<mark>has</mark>("hasUnresolvedConflicts")) {
        JsonElement hasUnresolvedConflictsIn = json.<mark>get</mark>("hasUnresolvedConflicts");
        boolean hasUnresolvedConflictsOut = hasUnresolvedConflictsIn.getAsBoolean();
        dto.setHasUnresolvedConflicts(hasUnresolvedConflictsOut);
      }

      if (json.<mark>has</mark>("isFinalResolution")) {
        JsonElement isFinalResolutionIn = json.<mark>get</mark>("isFinalResolution");
        boolean isFinalResolutionOut = isFinalResolutionIn.getAsBoolean();
        dto.setIsFinalResolution(isFinalResolutionOut);
      }

      if (json.<mark>has</mark>("previousNodesSkipped")) {
        JsonElement previousNodesSkippedIn = json.<mark>get</mark>("previousNodesSkipped");
        int previousNodesSkippedOut = previousNodesSkippedIn.getAsInt();
        dto.setPreviousNodesSkipped(previousNodesSkippedOut);
      }

      if (json.<mark>has</mark>("nodeId")) {
        JsonElement nodeIdIn = json.<mark>get</mark>("nodeId");
        java.lang.String nodeIdOut = gson.<mark>fromJson</mark>(nodeIdIn, java.lang.String.class);
        dto.setNodeId(nodeIdOut);
      }

      if (json.<mark>has</mark>("revisionType")) {
        JsonElement revisionTypeIn = json.<mark>get</mark>("revisionType");
        com.google.collide.dto.Revision.RevisionType revisionTypeOut = gson.<mark>fromJson</mark>(revisionTypeIn, com.google.collide.dto.Revision.RevisionType.class);
        dto.setRevisionType(revisionTypeOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_132.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static RunTargetImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RunTargetImpl dto = new RunTargetImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("runMode")) {
        JsonElement runModeIn = json.<mark>get</mark>("runMode");
        java.lang.String runModeOut = gson.<mark>fromJson</mark>(runModeIn, java.lang.String.class);
        dto.setRunMode(runModeOut);
      }

      if (json.<mark>has</mark>("alwaysRunFilename")) {
        JsonElement alwaysRunFilenameIn = json.<mark>get</mark>("alwaysRunFilename");
        java.lang.String alwaysRunFilenameOut = gson.<mark>fromJson</mark>(alwaysRunFilenameIn, java.lang.String.class);
        dto.setAlwaysRunFilename(alwaysRunFilenameOut);
      }

      if (json.<mark>has</mark>("alwaysRunUrlOrQuery")) {
        JsonElement alwaysRunUrlOrQueryIn = json.<mark>get</mark>("alwaysRunUrlOrQuery");
        java.lang.String alwaysRunUrlOrQueryOut = gson.<mark>fromJson</mark>(alwaysRunUrlOrQueryIn, java.lang.String.class);
        dto.setAlwaysRunUrlOrQuery(alwaysRunUrlOrQueryOut);
      }

      if (json.<mark>has</mark>("gwtModule")) {
        JsonElement gwtModuleIn = json.<mark>get</mark>("gwtModule");
        java.lang.String gwtModuleOut = gson.<mark>fromJson</mark>(gwtModuleIn, java.lang.String.class);
        dto.setGwtModule(gwtModuleOut);
      }

      if (json.<mark>has</mark>("antTarget")) {
        JsonElement antTargetIn = json.<mark>get</mark>("antTarget");
        java.lang.String antTargetOut = gson.<mark>fromJson</mark>(antTargetIn, java.lang.String.class);
        dto.setAntTar<mark>get</mark>(antTargetOut);
      }

      if (json.<mark>has</mark>("mavenGoal")) {
        JsonElement mavenGoalIn = json.<mark>get</mark>("mavenGoal");
        java.lang.String mavenGoalOut = gson.<mark>fromJson</mark>(mavenGoalIn, java.lang.String.class);
        dto.setMavenGoal(mavenGoalOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____OkCoinExchangeAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____OkCoinExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public MarketOrderBook getMarketOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("symbol", marketId);

            final ExchangeHttpResponse response = sendPublicRequestToExchange("depth.do", params);
            LOG.debug(() -> "Market Orders response: " + response);

            final OKCoinDepthWrapper orderBook = gson.<mark>fromJson</mark>(response.getPayload(), OKCoinDepthWrapper.class);

            final List<MarketOrder> buyOrders = new ArrayList<>();
            for (OKCoinMarketOrder okCoinBuyOrder : orderBook.bids) {
                final MarketOrder buyOrder = new MarketOrderImpl(
                        OrderType.BUY,
                        okCoinBuyOrder.get(0),
                        okCoinBuyOrder.get(1),
                        okCoinBuyOrder.get(0).multiply(okCoinBuyOrder.get(1)));
                buyOrders.add(buyOrder);
            }

            final List<MarketOrder> sellOrders = new ArrayList<>();
            for (OKCoinMarketOrder okCoinSellOrder : orderBook.asks) {
                final MarketOrder sellOrder = new MarketOrderImpl(
                        OrderType.SELL,
                        okCoinSellOrder.get(0),
                        okCoinSellOrder.get(1),
                        okCoinSellOrder.get(0).multiply(okCoinSellOrder.get(1)));
                sellOrders.add(sellOrder);
            }

            // For some reason, OKCoin sorts ask orders in descending order instead of ascending.
            // We need to re-order price ascending - lowest ASK price will be first in list.
            sellOrders.sort((thisOrder, thatOrder) -> {
                if (thisOrder.getPrice().compareTo(thatOrder.getPrice()) < 0) {
                    return -1;
                } else if (thisOrder.getPrice().compareTo(thatOrder.getPrice()) > 0) {
                    return 1;
                } else {
                    return 0; // same price
                }
            });

            return new MarketOrderBookImpl(marketId, sellOrders, buyOrders);

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.fromJson


	private String userAdd(String body, String ipAddress, boolean followingSlash) {
		UserCreateRequest aNewUser = null;
		String newUser = null;
		String aDeviceType = null;
		boolean toContinue = false;

		if (bridgeSettings.isTraceupnp() && !body.contains("test_ha_bridge"))
			log.info("Traceupnp: hue api user create requested: " + body + " from address: " + ipAddress);
		else
			log.debug("hue api user create requested: " + body + " from address: " + ipAddress);
		
		if(bridgeSettingMaster.getBridgeSecurity().isUseLinkButton() && bridgeSettingMaster.getBridgeControl().isLinkButton())
			toContinue = true;
		else if(!bridgeSettingMaster.getBridgeSecurity().isUseLinkButton())
			toContinue = true;
		
		if(toContinue) {
			log.debug("user add toContinue was true, creating user.");
	
			if (body != null && !body.isEmpty()) {
				try {
					aNewUser = aGsonHandler.<mark>fromJson</mark>(body, UserCreateRequest.class);
				} catch (Exception e) {
					log.warn("Could not add user. Request garbled: " + body);
					return aGsonHandler.toJson(HueErrorResponse.createResponse("2", "/",
							"Could not add user.", null, null, null).getTheErrors(), HueError[].class);				
				}
				newUser = aNewUser.getUsername();
				aDeviceType = aNewUser.getDevicetype();
			}
	
			if (aDeviceType == null)
				aDeviceType = "<not given>";
			else
				aDeviceType = aDeviceType + "#" + ipAddress;
	
			if (newUser == null) {
				newUser = bridgeSettingMaster.getBridgeSecurity().createWhitelistUser(aDeviceType);
			}
			else {
				bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(newUser, aDeviceType, false);
			}
	
			if(bridgeSettingMaster.getBridgeSecurity().isSettingsChanged())
				bridgeSettingMaster.updateConfigFile();
	
			if (bridgeSettings.isTraceupnp() && !aDeviceType.equals("test_ha_bridge"))
				log.info("Traceupnp: hue api user create requested for device type: " + aDeviceType + " and username: "
						+ newUser + (followingSlash ? " /api/ called" : ""));
			log.debug("hue api user create requested for device type: " + aDeviceType + " and username: " + newUser + (followingSlash ? " /api/ called" : ""));
			return "[{\"success\":{\"username\":\"" + newUser + "\"}}]";
		}
		else
			log.debug("user add toContinue was false, returning not authorized");
		return aGsonHandler.toJson(HueErrorResponse.createResponse("101", "/api/", "link button not pressed", null, null, null).getTheErrors());
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____SalesforceExtractor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____SalesforceExtractor.java

com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonObject.getAsJsonArray

  @Override
  public JsonArray getSchema(CommandOutput<?, ?> response) throws SchemaException {
    log.info("Get schema from salesforce");

    String output;
    Iterator<String> itr = (Iterator<String>) response.getResults().values().iterator();
    if (itr.hasNext()) {
      output = itr.next();
    } else {
      throw new SchemaException("Failed to get schema from salesforce; REST response has no output");
    }

    JsonArray fieldJsonArray = new JsonArray();
    JsonElement element = GSON.<mark>fromJson</mark>(output, JsonObject.class);
    JsonObject jsonObject = element.<mark>getAsJsonObject</mark>();

    try {
      JsonArray array = jsonObject.<mark>getAsJsonArray</mark>("fields");
      for (JsonElement columnElement : array) {
        JsonObject field = columnElement.<mark>getAsJsonObject</mark>();
        Schema schema = new Schema();
        schema.setColumnName(field.get("name").getAsString());

        String dataType = field.get("type").getAsString();
        String elementDataType = "string";
        List<String> mapSymbols = null;
        JsonObject newDataType =
            this.convertDataType(field.get("name").getAsString(), dataType, elementDataType, mapSymbols);
        log.debug("ColumnName:" + field.get("name").getAsString() + ";   old datatype:" + dataType + ";   new datatype:"
            + newDataType);

        schema.setDataType(newDataType);
        schema.setLength(field.get("length").getAsLong());
        schema.setPrecision(field.get("precision").getAsInt());
        schema.setScale(field.get("scale").getAsInt());
        schema.setNullable(field.get("nillable").getAsBoolean());
        schema.setFormat(null);
        schema.setComment((field.get("label").isJsonNull() ? null : field.get("label").getAsString()));
        schema
            .setDefaultValue((field.get("defaultValue").isJsonNull() ? null : field.get("defaultValue").getAsString()));
        schema.setUnique(field.get("unique").getAsBoolean());

        String jsonStr = GSON.toJson(schema);
        JsonObject obj = GSON.<mark>fromJson</mark>(jsonStr, JsonObject.class).<mark>getAsJsonObject</mark>();
        fieldJsonArray.add(obj);
      }
    } catch (Exception e) {
      throw new SchemaException("Failed to get schema from salesforce; error - " + e.getMessage(), e);
    }
    return fieldJsonArray;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____SomfyTahomaBridgeHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____SomfyTahomaBridgeHandler.java

com.google.gson.Gson.fromJson


    public synchronized void login() {
        String url;

        if (StringUtils.isEmpty(thingConfig.getEmail()) || StringUtils.isEmpty(thingConfig.getPassword())) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR,
                    "Can not access device as username and/or password are null");
            return;
        }

        try {
            if (httpClient.isStarted()) {
                httpClient.stop();
            }
            httpClient.start();

            url = TAHOMA_URL + "login";
            String urlParameters = "userId=" + thingConfig.getEmail() + "&userPassword=" + thingConfig.getPassword();

            ContentResponse response = sendRequestBuilder(url, HttpMethod.POST)
                    .content(new StringContentProvider(urlParameters), "application/x-www-form-urlencoded; charset=UTF-8")
                    .send();

            logger.trace("Login response: {}", response.getContentAsString());
            SomfyTahomaLoginResponse data = gson.<mark>fromJson</mark>(response.getContentAsString(), SomfyTahomaLoginResponse.class);
            if (data.isSuccess()) {
                logger.debug("SomfyTahoma version: {}", data.getVersion());
                updateStatus(ThingStatus.ONLINE);
            } else {
                logger.debug("Login response: {}", response.getContentAsString());
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Error logging in");
                throw new SomfyTahomaException(response.getContentAsString());
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Received invalid data", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Received invalid data");
        } catch (SomfyTahomaException e) {
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, "Unauthorized. Please check credentials");
        } catch (InterruptedException | ExecutionException | TimeoutException e) {
            logger.debug("Cannot get login cookie!", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Cannot get login cookie");
        } catch (Exception e) {
            logger.debug("Cannot start http client", e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, "Cannot start http client");
        }

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>OpenGamma_____OG-Platform_____ColumnConfigResource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/OpenGamma_____OG-Platform_____ColumnConfigResource.java

com.google.gson.Gson.fromJson

/**
   * Gets the default configuration as a map, corresponds to {@link FunctionModelConfig}.
   * This is built from system default configuration combined with the default implementations that can be inferred
   * where there is only one known implementation of an interface. The format is
   *
   * <pre>
   *   {
   *     impls: {interface1: impl1, interface2: impl2, ... },
   *     args: {
   *         impl1: {
   *         propertyName1: arg1,
   *         propertyName2: arg2,
   *         ...
   *       },
   *       impl2: {
   *         propertyName3: arg3,
   *         ...
   *       },
   *       ...
   *     }
   *   }
   * </pre>
   *
   * @return the default configuration as a map
   */   */
  public Map<String, Object> getConfigPageModel(UniqueId columnId, String configJsonStr) {
    ArgumentChecker.notEmpty(configJsonStr, "configJsonStr");
    ArgumentChecker.notNull(columnId, "columnId");

    ViewColumn column = loadColumn(columnId);
    Class<?> inputType;
    FunctionModelConfig config;
    OutputName outputName;
    FunctionModel model;

    Map<String, Object> configJson;
    try {
      configJson = _gson.<mark>fromJson</mark>(configJsonStr, Map.class);
    } catch (JsonSyntaxException e) {
      throw new IllegalArgumentException(e);
    }
    String inputTypeName = (String) configJson.get("inputType");

    if (!StringUtils.isEmpty(inputTypeName)) {
      inputType = loadInputType(inputTypeName);
      String outputNameStr = (String) configJson.get("outputName");
      FunctionMetadata outputFunction;

      if (StringUtils.isEmpty(outputNameStr)) {
        // use the existing output name, possibly null
        outputName = column.getOutputName(inputType);
      } else {
        // use the output name from the client
        outputName = OutputName.of(outputNameStr);
      }
      if (outputName != null) {
        outputFunction = _availableOutputs.getOutputFunction(outputName, inputType);
        config = _jsonBuilder.getConfigFromJson(configJson);
        model = FunctionModel.forFunction(outputFunction, config, _availableComponents, NodeDecorator.IDENTITY, _argumentConverter);
      } else {
        config = FunctionModelConfig.EMPTY;
        model = null;
      }
    } else {
      inputType = null;
      outputName = null;
      config = null;
      model = null;
    }
    return _jsonBuilder.getConfigPageModel(column.getName(), config, inputType, outputName, model);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson


	private Object lightsListHandler(String userId, String requestIp) {
		HueError[] theErrors = null;
		Map<String, DeviceResponse> deviceResponseMap = null;
		if (bridgeSettings.isTraceupnp())
			log.info("Traceupnp: hue lights list requested by user: " + userId + " from address: " + requestIp);
		log.debug("hue lights list requested: " + userId + " from " + requestIp);
		theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors == null) {
			if(bridgeSettingMaster.getBridgeSecurity().isSettingsChanged())
				bridgeSettingMaster.updateConfigFile();

	        List<DeviceDescriptor> deviceList = repository.findAllByRequester(requestIp);
			deviceResponseMap = new HashMap<String, DeviceResponse>();
			for (DeviceDescriptor device : deviceList) {
				DeviceResponse deviceResponse = null;
				if(!device.isInactive()) {
					if (device.containsType(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
						CallItem[] callItems = null;
						try {
							if(device.getOnUrl() != null)
								callItems = aGsonHandler.<mark>fromJson</mark>(device.getOnUrl(), CallItem[].class);
						} catch(JsonSyntaxException e) {
							log.warn("Could not decode Json for url items to get Hue state for device: " + device.getName());
							callItems = null;
						}
						
						for (int i = 0; callItems != null && i < callItems.length; i++) {
							if((callItems[i].getType() != null && callItems[i].getType().equals(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) ||
										(callItems[i].getItem().getAsString().contains("hueName"))) {
								deviceResponse = myHueHome.getHueDeviceInfo(callItems[i], device);
								i = callItems.length;
							}
						}
					}
	
					if (deviceResponse == null)
						deviceResponse = DeviceResponse.createResponse(device);
					deviceResponseMap.put(device.getId(), deviceResponse);
				}
			}

			// handle groups which shall be exposed as fake lights to selected devices like amazon echos
			List<GroupDescriptor> groups = groupRepository.findVirtualLights(requestIp);
			for (GroupDescriptor group : groups) {
				deviceResponseMap.put(String.valueOf(Integer.parseInt(group.getId()) + 10000), 
					DeviceResponse.createResponseForVirtualLight(group));
			}
		}
		
		if (theErrors != null)
			return theErrors;
		
		return deviceResponseMap;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>andforce_____iBeebo_____SearchDao_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/andforce_____iBeebo_____SearchDao.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.getMessage

public class SearchDao {
    public UserListBean getUserList() throws WeiboException {

        String url = WeiBoURLs.USERS_SEARCH;

        Map<String, String> map = new HashMap<String, String>();
        map.put("access_token", access_token);
        map.put("count", count);
        map.put("page", page);
        map.put("q", q);

        String jsonData = null;

        jsonData = HttpUtility.getInstance().executeNormalTask(HttpMethod.Get, url, map);

        Gson gson = <mark>new Gson</mark>();

        UserListBean value = null;
        try {
            value = gson.<mark>fromJson</mark>(jsonData, UserListBean.class);
        } catch (JsonSyntaxException e) {

            AppLoggerUtils.e(e.<mark>getMessage</mark>());
        }

        return value;
    }

    public SearchStatusListBean getStatusList() throws WeiboException {

        String url = WeiBoURLs.STATUSES_SEARCH;

        Map<String, String> map = new HashMap<String, String>();
        map.put("access_token", access_token);
        map.put("count", count);
        map.put("page", page);
        map.put("q", q);

        String jsonData = null;

        jsonData = HttpUtility.getInstance().executeNormalTask(HttpMethod.Get, url, map);

        Gson gson = <mark>new Gson</mark>();

        SearchStatusListBean value = null;
        try {
            value = gson.<mark>fromJson</mark>(jsonData, SearchStatusListBean.class);
            List<MessageBean> list = value.getItemList();

            Iterator<MessageBean> iterator = list.iterator();
            while (iterator.hasNext()) {
                MessageBean msg = iterator.next();
                // message is deleted by sina
                if (msg.getUser() == null) {
                    iterator.remove();
                } else {
                    msg.getListViewSpannableString();
                    TimeUtility.dealMills(msg);
                }
            }
        } catch (JsonSyntaxException e) {

            AppLoggerUtils.e(e.<mark>getMessage</mark>());
        }

        return value;
    }

    private String access_token;
    private String q;
    private String count;
    private String page;

    public SearchDao(String access_token, String q) {

        this.access_token = access_token;
        this.q = q;
        this.count = SettingUtils.getMsgCount();
    }

    public SearchDao setCount(String count) {
        this.count = count;
        return this;
    }

    public SearchDao setPage(String page) {
        this.page = page;
        return this;
    }

}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____Request_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____Request.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.iterator
com.google.gson.Gson.fromJson


    protected String log(String msg, boolean logContent, Level level) {
        StringBuilder content = new StringBuilder();
        if (logContent) {
            if (_cmds == null) {
                try {
                    _cmds = s_gson.<mark>fromJson</mark>(_content, this instanceof Response ? Answer[].class : Command[].class);
                } catch (RuntimeException e) {
                    s_logger.error("Unable to deserialize from json: " + _content);
                    throw e;
                }
            }
            try {
                s_gogger.toJson(_cmds, content);
            } catch (Throwable e) {
                StringBuilder buff = new StringBuilder();
                for (Command cmd : _cmds) {
                    buff.append(cmd.getClass().getSimpleName()).append("/");
                }
                s_logger.error("Gson serialization error " + buff.toString(), e);
                assert false : "More gson errors on " + buff.toString();
                return "";
            }
            if (content.length() <= (1 + _cmds.length * 3)) {
                return null;
            }
        } else {
            if (_cmds == null) {
                _cmds = s_gson.<mark>fromJson</mark>(_content, this instanceof Response ? Answer[].class : Command[].class);
            }
            content.append("{ ");
            for (Command cmd : _cmds) {
                content.append(cmd.getClass().getSimpleName()).append(", ");
            }
            content.replace(content.length() - 2, content.length(), " }");

        }

        StringBuilder buf = new StringBuilder("Seq ");

        buf.append(_agentId).append("-").append(_seq).append(": ");

        buf.append(msg);
        buf.append(" { ").append(getType());
        if (_agentName != null) {
            buf.append(", MgmtId: ").append(_mgmtId).append(", via: ").append(_via).append("(" + _agentName + ")");
        } else {
            buf.append(", MgmtId: ").append(_mgmtId).append(", via: ").append(_via);
        }
        buf.append(", Ver: ").append(_ver.toString());
        buf.append(", Flags: ").append(Integer.toBinaryString(getFlags())).append(", ");
        String cleanContent = content.toString();
        if(cleanContent.contains("password")) {
            buf.append(cleanPassword(cleanContent));
        } else {
            buf.append(content);
        }
        buf.append(" }");
        return buf.toString();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>nextcloud_____android_____PushUtils_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/nextcloud_____android_____PushUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson


    private static void deleteRegistrationForAccount(Account account) {
        Context context = MainApp.getAppContext();
        OwnCloudAccount ocAccount = null;
        arbitraryDataProvider = new ArbitraryDataProvider(MainApp.getAppContext().getContentResolver());

        try {
            ocAccount = new OwnCloudAccount(account, context);
            OwnCloudClient mClient = OwnCloudClientManagerFactory.getDefaultSingleton().
                    getClientFor(ocAccount, context);

            RemoteOperation unregisterAccountDeviceForNotificationsOperation = new
                    UnregisterAccountDeviceForNotificationsOperation();

            RemoteOperationResult remoteOperationResult = unregisterAccountDeviceForNotificationsOperation.
                    execute(mClient);

            if (remoteOperationResult.getHttpCode() == HttpStatus.SC_ACCEPTED) {
                String arbitraryValue;
                if (!TextUtils.isEmpty(arbitraryValue = arbitraryDataProvider.getValue(account, KEY_PUSH))) {
                    Gson gson = <mark>new Gson</mark>();
                    PushConfigurationState pushArbitraryData = gson.<mark>fromJson</mark>(arbitraryValue,
                            PushConfigurationState.class);
                    RemoteOperation unregisterAccountDeviceForProxyOperation =
                            new UnregisterAccountDeviceForProxyOperation(context.getResources().
                                    getString(R.string.push_server_url),
                                    pushArbitraryData.getDeviceIdentifier(),
                                    pushArbitraryData.getDeviceIdentifierSignature(),
                                    pushArbitraryData.getUserPublicKey());

                    remoteOperationResult = unregisterAccountDeviceForProxyOperation.execute(mClient);

                    if (remoteOperationResult.isSuccess()) {
                        arbitraryDataProvider.deleteKeyForAccount(account.name, KEY_PUSH);
                    }
                }
            }


        } catch (com.owncloud.android.lib.common.accounts.AccountUtils.AccountNotFoundException e) {
            Log_OC.d(TAG, "Failed to find an account");
        } catch (AuthenticatorException e) {
            Log_OC.d(TAG, "Failed via AuthenticatorException");
        } catch (IOException e) {
            Log_OC.d(TAG, "Failed via IOException");
        } catch (OperationCanceledException e) {
            Log_OC.d(TAG, "Failed via OperationCanceledException");
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>codice_____ddf_____QueryApplication_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/codice_____ddf_____QueryApplication.java

com.google.gson.Gson.fromJson

  @Override
  public void init() {
    before((req, res) -> res.type(APPLICATION_JSON));

    post(
        "/cql",
        APPLICATION_JSON,
        (req, res) -> {
          CqlRequest cqlRequest = GSON.<mark>fromJson</mark>(util.safeGetBody(req), CqlRequest.class);
          CqlQueryResponse cqlQueryResponse = util.executeCqlQuery(cqlRequest);
          return GSON.toJson(cqlQueryResponse);
        });

    after("/cql", (req, res) -> res.header("Content-Encoding", "gzip"));

    post("/cql/transform/:transformerId", cqlTransformHandler, GSON::toJson);

    get(
        "/geofeature/suggestions",
        (req, res) -> {
          String query = req.queryParams("q");
          List<Suggestion> results = this.featureService.getSuggestedFeatureNames(query, 10);
          List<Suggestion> efficientPrependingResults = new LinkedList<>(results);
          this.utmUpsCoordinateProcessor.enhanceResults(efficientPrependingResults, query);
          this.mgrsCoordinateProcessor.enhanceResults(efficientPrependingResults, query);
          this.dmsCoordinateProcessor.enhanceResults(efficientPrependingResults, query);
          this.latLonCoordinateProcessor.enhanceResults(efficientPrependingResults, query);
          return GSON.toJson(efficientPrependingResults);
        });

    get(
        "/geofeature",
        (req, res) -> {
          String id = req.queryParams("id");
          SimpleFeature feature = this.featureService.getFeatureById(id);
          if (feature == null) {
            res.status(404);
            return GSON.toJson(ImmutableMap.of(MESSAGE, "Feature not found"));
          }
          return new FeatureJSON().toString(feature);
        });

    exception(
        UnsupportedQueryException.class,
        (e, request, response) -> {
          response.status(400);
          response.header(CONTENT_TYPE, APPLICATION_JSON);
          response.body(GSON.toJson(ImmutableMap.of(MESSAGE, "Unsupported query request.")));
          LOGGER.error(QUERY_ENDPOINT_FAILED, e);
        });

    exception(IOException.class, util::handleIOException);

    exception(EntityTooLargeException.class, util::handleEntityTooLargeException);

    exception(RuntimeException.class, util::handleRuntimeException);

    exception(
        Exception.class,
        (e, request, response) -> {
          response.status(500);
          response.header(CONTENT_TYPE, APPLICATION_JSON);
          response.body(
              GSON.toJson(ImmutableMap.of(MESSAGE, "Error while processing query request.")));
          LOGGER.error(QUERY_ENDPOINT_FAILED, e);
        });
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____intellij-community_____IpnbParser_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/JetBrains_____intellij-community_____IpnbParser.java

com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson

    @Override
    public IpnbCellRaw deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)
      throws JsonParseException {
      final JsonObject object = json.<mark>getAsJsonObject</mark>();
      final IpnbCellRaw cellRaw = new IpnbCellRaw();
      final JsonElement cell_type = object.<mark>get</mark>("cell_type");
      if (cell_type != null) {
        cellRaw.cell_type = cell_type.<mark>getAsString</mark>();
      }
      final JsonElement count = object.<mark>get</mark>("execution_count");
      if (count != null) {
        cellRaw.execution_count = count.isJsonNull() ? null : count.<mark>getAsInt</mark>();
      }
      final JsonElement metadata = object.<mark>get</mark>("metadata");
      if (metadata != null) {
        cellRaw.metadata = gson.<mark>fromJson</mark>(metadata, Map.class);
      }
      final JsonElement level = object.<mark>get</mark>("level");
      if (level != null) {
        cellRaw.level = level.<mark>getAsInt</mark>();
      }

      final JsonElement outputsElement = object.<mark>get</mark>("outputs");
      if (outputsElement != null) {
        final JsonArray outputs = outputsElement.getAsJsonArray();
        cellRaw.outputs = Lists.newArrayList();
        for (JsonElement output : outputs) {
          cellRaw.outputs.add(gson.<mark>fromJson</mark>(output, CellOutputRaw.class));
        }
      }
      cellRaw.source = getStringOrArray("source", object);
      cellRaw.input = getStringOrArray("input", object);
      final JsonElement language = object.<mark>get</mark>("language");
      if (language != null) {
        cellRaw.language = language.<mark>getAsString</mark>();
      }
      final JsonElement number = object.<mark>get</mark>("prompt_number");
      if (number != null) {
        if ("*".equals(number.<mark>getAsString</mark>())) {
          cellRaw.prompt_number = null;
        }
        else {
          cellRaw.prompt_number = number.<mark>getAsInt</mark>();
        }
      }
      return cellRaw;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_18.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean


    public static CodeReferenceImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeReferenceImpl dto = new CodeReferenceImpl();
      JsonArray json = jsonElem.getAsJsonArray();

      if (0 < json.size()) {
        JsonElement referenceTypeIn = json.<mark>get</mark>(0);
        com.google.collide.dto.CodeReference.Type referenceTypeOut = gson.<mark>fromJson</mark>(referenceTypeIn, com.google.collide.dto.CodeReference.Type.class);
        dto.setReferenceType(referenceTypeOut);
      }

      if (1 < json.size()) {
        JsonElement referenceStartIn = json.<mark>get</mark>(1);
        FilePositionImpl referenceStartOut = FilePositionImpl.fromJsonElement(referenceStartIn);
        dto.setReferenceStart(referenceStartOut);
      }

      if (2 < json.size()) {
        JsonElement referenceEndIn = json.<mark>get</mark>(2);
        FilePositionImpl referenceEndOut = FilePositionImpl.fromJsonElement(referenceEndIn);
        dto.setReferenceEnd(referenceEndOut);
      }

      if (3 < json.size()) {
        JsonElement targetFilePathIn = json.<mark>get</mark>(3);
        java.lang.String targetFilePathOut = gson.<mark>fromJson</mark>(targetFilePathIn, java.lang.String.class);
        dto.setTargetFilePath(targetFilePathOut);
      }

      if (4 < json.size()) {
        JsonElement targetStartIn = json.<mark>get</mark>(4);
        FilePositionImpl targetStartOut = FilePositionImpl.fromJsonElement(targetStartIn);
        dto.setTargetStart(targetStartOut);
      }

      if (5 < json.size()) {
        JsonElement targetEndIn = json.<mark>get</mark>(5);
        FilePositionImpl targetEndOut = FilePositionImpl.fromJsonElement(targetEndIn);
        dto.setTargetEnd(targetEndOut);
      }

      if (6 < json.size()) {
        JsonElement targetSnippetIn = json.<mark>get</mark>(6);
        java.lang.String targetSnippetOut = gson.<mark>fromJson</mark>(targetSnippetIn, java.lang.String.class);
        dto.setTargetSnippet(targetSnippetOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____OkCoinExchangeAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____OkCoinExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public List<OpenOrder> getYourOpenOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("symbol", marketId);
            params.put("order_id", "-1"); // -1 means bring back all the orders

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("order_info.do", params);
            LOG.debug(() -> "Open Orders response: " + response);

            final OKCoinOrderInfoWrapper orderInfoWrapper = gson.<mark>fromJson</mark>(response.getPayload(), OKCoinOrderInfoWrapper.class);
            if (orderInfoWrapper.result) {

                final List<OpenOrder> ordersToReturn = new ArrayList<>();
                for (final OKCoinOpenOrder openOrder : orderInfoWrapper.orders) {
                    OrderType orderType;
                    switch (openOrder.type) {
                        case "buy":
                            orderType = OrderType.BUY;
                            break;
                        case "sell":
                            orderType = OrderType.SELL;
                            break;
                        default:
                            throw new TradingApiException(
                                    "Unrecognised order type received in getYourOpenOrders(). Value: " + openOrder.type);
                    }

                    final OpenOrder order = new OpenOrderImpl(
                            Long.toString(openOrder.order_id),
                            new Date(openOrder.create_date),
                            marketId,
                            orderType,
                            openOrder.price,
                            openOrder.amount,
                            null, // orig_quantity - not provided by OKCoin :-(
                            openOrder.price.multiply(openOrder.amount) // total - not provided by OKCoin :-(
                    );

                    ordersToReturn.add(order);
                }
                return ordersToReturn;

            } else {
                final String errorMsg = "Failed to get Open Order Info from exchange. Error response: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____CryptopiaExchangeAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____CryptopiaExchangeAdapter.java

com.google.gson.Gson.fromJson

	@Override
	public List<OpenOrder> getYourOpenOrders(String marketId) throws ExchangeNetworkException, TradingApiException {
		try {
			final Map<String,Object> params = createRequestParamMap();
			params.put("Market", marketId);
			params.put("Count", Long.parseLong("100")); //show up to 100 open orders
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("GetOpenOrders", params);
            LOG.debug(() -> "Open Orders response: " + response);

            Type responseApiType = new TypeToken<CryptopiaPrivateApiResponse<CryptopiaOpenOrders>>() {}.getType();
            final CryptopiaPrivateApiResponse<CryptopiaOpenOrders> cryptopiaResponse = gson.<mark>fromJson</mark>(response.getPayload(),responseApiType);
            final CryptopiaOpenOrders cryptopiaOpenOrders = cryptopiaResponse.Data;
            
            final List<OpenOrder> ordersToReturn = new ArrayList<>();
            for (final CryptopiaOpenOrder cryptopiaOpenOrder : cryptopiaOpenOrders) {

            	//e.g. Market: DOT/BTC, but we need dot_btc
                if (!marketId.equalsIgnoreCase(cryptopiaOpenOrder.Market.replace("/", "_"))) {
                    continue;
                }

                OrderType orderType;
                switch (cryptopiaOpenOrder.Type) {
                    case "Buy":
                        orderType = OrderType.BUY;
                        break;
                    case "Sell":
                        orderType = OrderType.SELL;
                        break;
                    default:
                        throw new TradingApiException(
                                "Unrecognised order type received in getYourOpenOrders(). Value: " + cryptopiaOpenOrder.Type);
                }

                final OpenOrder order = new OpenOrderImpl(
                        Long.toString(cryptopiaOpenOrder.OrderId),
                        dateFormat.parse(cryptopiaOpenOrder.TimeStamp.split("\\.")[0]),
                        marketId,
                        orderType,
                        cryptopiaOpenOrder.Rate,
                        cryptopiaOpenOrder.Amount,
                        cryptopiaOpenOrder.Amount.add(cryptopiaOpenOrder.Remaining),
                        cryptopiaOpenOrder.Total);

                ordersToReturn.add(order);
            }
            return ordersToReturn;

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____ListenerService_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____ListenerService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncBloodTestData(DataMap dataMap, Context context) {//KS
        Log.d(TAG, "syncBloodTestData");

        boolean changed = false;
        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncBloodTestData add BloodTest Table entries count=" + entries.size());
            Sensor.InitDb(context);//ensure database has already been initialized
            for (DataMap entry : entries) {
                if (entry != null) {
                    String record = entry.getString("data");
                    if (record != null) {
                        BloodTest data = gson.<mark>fromJson</mark>(record, BloodTest.class);
                        BloodTest exists = BloodTest.byUUID(data.uuid);
                        if (exists != null) {
                            Log.d(TAG, "syncBloodTestData save existing BloodTest for uuid=" + data.uuid + " timestamp=" + data.timestamp + " timeString=" +  JoH.dateTimeText(data.timestamp) + " mgdl=" + data.mgdl + " state=" + data.state);
                            if (exists.mgdl != data.mgdl || exists.state != data.state || exists.timestamp != data.timestamp) {//state indicates if deleted
                                changed = true;
                            }
                            exists.mgdl = data.mgdl;
                            exists.created_timestamp = data.created_timestamp;
                            exists.source = data.source;
                            exists.state = data.state;
                            exists.timestamp = data.timestamp;
                            exists.save();
                        }
                        else {
                            changed = true;
                            data.save();
                            Log.d(TAG, "syncBloodTestData create new BloodTest for uuid=" + data.uuid + " timestamp=" + data.timestamp + " timeString=" +  JoH.dateTimeText(data.timestamp) + " mgdl=" + data.mgdl + " state=" + data.state);
                        }
                    }
                }
            }
            if (changed) {
                showTreatments(context, "bts");
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____KrakenExchangeAdapter_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____KrakenExchangeAdapter.java

com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenBalanceResult>>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenBalanceResult>>.getType
com.google.gson.Gson.fromJson

    @Override
    public BigDecimal getLatestMarketPrice(String marketId) throws TradingApiException, ExchangeNetworkException {

        ExchangeHttpResponse response = null;

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("pair", marketId);

            response = sendPublicRequestToExchange("Ticker", params);

            if (LOG.isDebugEnabled()) {
                LOG.debug("Latest Market Price response: " + response);
            }

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final Type resultType = new TypeToken<KrakenResponse<KrakenTickerResult>>() {
                }.<mark>getType</mark>();
                final KrakenResponse krakenResponse = gson.<mark>fromJson</mark>(response.getPayload(), resultType);

                final List<String> errors = krakenResponse.error;
                if (errors == null || errors.isEmpty()) {

                    // Assume we'll always get something here if errors array is empty; else blow fast wih NPE
                    final KrakenTickerResult tickerResult = (KrakenTickerResult) krakenResponse.result;

                    // 'c' key into map is the last market price: last trade closed array(<price>, <lot volume>)
                    return new BigDecimal(tickerResult.get("c"));

                } else {

                    if (isExchangeUndergoingMaintenance(response) && keepAliveDuringMaintenance) {
                        LOG.warn(() -> UNDER_MAINTENANCE_WARNING_MESSAGE);
                        throw new ExchangeNetworkException(UNDER_MAINTENANCE_WARNING_MESSAGE);
                    }

                    final String errorMsg = FAILED_TO_GET_TICKER + response;
                    LOG.error(errorMsg);
                    throw new TradingApiException(errorMsg);
                }

            } else {
                final String errorMsg = FAILED_TO_GET_TICKER + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_69.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetProjectsResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetProjectsResponseImpl dto = new GetProjectsResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("projects")) {
        JsonElement projectsIn = json.<mark>get</mark>("projects");
        java.util.ArrayList<ProjectInfoImpl> projectsOut = null;
        if (projectsIn != null && !projectsIn.<mark>isJsonNull</mark>()) {
          projectsOut = new java.util.ArrayList<ProjectInfoImpl>();
          java.util.Iterator<JsonElement> projectsInIterator = projectsIn.getAsJsonArray().iterator();
          while (projectsInIterator.hasNext()) {
            JsonElement projectsIn_ = projectsInIterator.next();
            ProjectInfoImpl projectsOut_ = ProjectInfoImpl.fromJsonElement(projectsIn_);
            projectsOut.add(projectsOut_);
          }
        }
        dto.setProjects(projectsOut);
      }

      if (json.<mark>has</mark>("hiddenProjectIds")) {
        JsonElement hiddenProjectIdsIn = json.<mark>get</mark>("hiddenProjectIds");
        java.util.ArrayList<java.lang.String> hiddenProjectIdsOut = null;
        if (hiddenProjectIdsIn != null && !hiddenProjectIdsIn.<mark>isJsonNull</mark>()) {
          hiddenProjectIdsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> hiddenProjectIdsInIterator = hiddenProjectIdsIn.getAsJsonArray().iterator();
          while (hiddenProjectIdsInIterator.hasNext()) {
            JsonElement hiddenProjectIdsIn_ = hiddenProjectIdsInIterator.next();
            java.lang.String hiddenProjectIdsOut_ = gson.<mark>fromJson</mark>(hiddenProjectIdsIn_, java.lang.String.class);
            hiddenProjectIdsOut.add(hiddenProjectIdsOut_);
          }
        }
        dto.setHiddenProjectIds(hiddenProjectIdsOut);
      }

      if (json.<mark>has</mark>("activeProjectId")) {
        JsonElement activeProjectIdIn = json.<mark>get</mark>("activeProjectId");
        java.lang.String activeProjectIdOut = gson.<mark>fromJson</mark>(activeProjectIdIn, java.lang.String.class);
        dto.setActiveProjectId(activeProjectIdOut);
      }

      if (json.<mark>has</mark>("userMembershipChangeNextVersion")) {
        JsonElement userMembershipChangeNextVersionIn = json.<mark>get</mark>("userMembershipChangeNextVersion");
        java.lang.String userMembershipChangeNextVersionOut = gson.<mark>fromJson</mark>(userMembershipChangeNextVersionIn, java.lang.String.class);
        dto.setUserMembershipChangeNextVersion(userMembershipChangeNextVersionOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MinecraftForge_____ForgeGradle_____JsonFactory_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MinecraftForge_____ForgeGradle_____JsonFactory.java

com.google.gson.Gson.fromJson


    public static Version loadVersion(File json, String mcVersion, File... inheritanceDirs) throws JsonSyntaxException, JsonIOException, IOException
    {
        FileReader reader = new FileReader(json);
        Version v = GSON.<mark>fromJson</mark>(reader, Version.class);
        reader.close();

        if (!Strings.isNullOrEmpty(v.inheritsFrom))
        {
            boolean found = false;

            for (File inheritDir : inheritanceDirs)
            {
                File parentFile = new File(inheritDir, v.inheritsFrom + ".json");

                if (parentFile.exists())
                {
                    List<File> dirs = new ArrayList<File>(inheritanceDirs.length-1);
                    for (File toAdd : inheritanceDirs)
                    {
                        if (toAdd != inheritDir)
                        {
                            dirs.add(toAdd);
                        }
                    }

                    Version parent = loadVersion(new File(inheritDir, v.inheritsFrom + ".json"), mcVersion, dirs.toArray(new File[dirs.size()]));
                    v.extendFrom(parent);
                    found = true;
                    break;
                }
            }

            // still didnt find the inherited
            if (!found)
            {
                throw new FileNotFoundException("Inherited json file (" + v.inheritsFrom + ") not found! Maybe you are running in offline mode?");
            }
        }
        else if (v.assetIndex == null) // inherit if the assetIndex is missing
        {
            boolean found = false;

            for (File inheritDir : inheritanceDirs)
            {
                File parentFile = new File(inheritDir, mcVersion + ".json");

                if (parentFile.exists())
                {
                    List<File> dirs = new ArrayList<File>(inheritanceDirs.length-1);
                    for (File toAdd : inheritanceDirs)
                    {
                        if (toAdd != inheritDir)
                        {
                            dirs.add(toAdd);
                        }
                    }

                    Version parent = loadVersion(new File(inheritDir, mcVersion + ".json"), mcVersion, dirs.toArray(new File[dirs.size()]));
                    v.extendFrom(parent);
                    found = true;
                    break;
                }
            }

            // still didnt find the inherited
            if (!found)
            {
                throw new FileNotFoundException("Inherited json file (" + v.inheritsFrom + ") not found! Maybe you are running in offline mode?");
            }
        }

        return v;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_103.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson


    public static LogFatalRecordImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      LogFatalRecordImpl dto = new LogFatalRecordImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("recentHistory")) {
        JsonElement recentHistoryIn = json.<mark>get</mark>("recentHistory");
        java.util.ArrayList<java.lang.String> recentHistoryOut = null;
        if (recentHistoryIn != null && !recentHistoryIn.<mark>isJsonNull</mark>()) {
          recentHistoryOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> recentHistoryInIterator = recentHistoryIn.<mark>getAsJsonArray</mark>().iterator();
          while (recentHistoryInIterator.hasNext()) {
            JsonElement recentHistoryIn_ = recentHistoryInIterator.next();
            java.lang.String recentHistoryOut_ = gson.<mark>fromJson</mark>(recentHistoryIn_, java.lang.String.class);
            recentHistoryOut.add(recentHistoryOut_);
          }
        }
        dto.setRecentHistory(recentHistoryOut);
      }

      if (json.<mark>has</mark>("windowLocation")) {
        JsonElement windowLocationIn = json.<mark>get</mark>("windowLocation");
        java.lang.String windowLocationOut = gson.<mark>fromJson</mark>(windowLocationIn, java.lang.String.class);
        dto.setWindowLocation(windowLocationOut);
      }

      if (json.<mark>has</mark>("permutationStrongName")) {
        JsonElement permutationStrongNameIn = json.<mark>get</mark>("permutationStrongName");
        java.lang.String permutationStrongNameOut = gson.<mark>fromJson</mark>(permutationStrongNameIn, java.lang.String.class);
        dto.setPermutationStrongName(permutationStrongNameOut);
      }

      if (json.<mark>has</mark>("throwable")) {
        JsonElement throwableIn = json.<mark>get</mark>("throwable");
        ThrowableDtoImpl throwableOut = ThrowableDtoImpl.fromJsonElement(throwableIn);
        dto.setThrowable(throwableOut);
      }

      if (json.<mark>has</mark>("message")) {
        JsonElement messageIn = json.<mark>get</mark>("message");
        java.lang.String messageOut = gson.<mark>fromJson</mark>(messageIn, java.lang.String.class);
        dto.setMessage(messageOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_14.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CodeGraphFreshnessImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeGraphFreshnessImpl dto = new CodeGraphFreshnessImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceLinks")) {
        JsonElement workspaceLinksIn = json.<mark>get</mark>("workspaceLinks");
        java.lang.String workspaceLinksOut = gson.<mark>fromJson</mark>(workspaceLinksIn, java.lang.String.class);
        dto.setWorkspaceLinks(workspaceLinksOut);
      }

      if (json.<mark>has</mark>("fileTree")) {
        JsonElement fileTreeIn = json.<mark>get</mark>("fileTree");
        java.lang.String fileTreeOut = gson.<mark>fromJson</mark>(fileTreeIn, java.lang.String.class);
        dto.setFileTree(fileTreeOut);
      }

      if (json.<mark>has</mark>("fileTreeHash")) {
        JsonElement fileTreeHashIn = json.<mark>get</mark>("fileTreeHash");
        java.lang.String fileTreeHashOut = gson.<mark>fromJson</mark>(fileTreeHashIn, java.lang.String.class);
        dto.setFileTreeHash(fileTreeHashOut);
      }

      if (json.<mark>has</mark>("workspaceTree")) {
        JsonElement workspaceTreeIn = json.<mark>get</mark>("workspaceTree");
        java.lang.String workspaceTreeOut = gson.<mark>fromJson</mark>(workspaceTreeIn, java.lang.String.class);
        dto.setWorkspaceTree(workspaceTreeOut);
      }

      if (json.<mark>has</mark>("fullGraph")) {
        JsonElement fullGraphIn = json.<mark>get</mark>("fullGraph");
        java.lang.String fullGraphOut = gson.<mark>fromJson</mark>(fullGraphIn, java.lang.String.class);
        dto.setFullGraph(fullGraphOut);
      }

      if (json.<mark>has</mark>("fileReferences")) {
        JsonElement fileReferencesIn = json.<mark>get</mark>("fileReferences");
        java.lang.String fileReferencesOut = gson.<mark>fromJson</mark>(fileReferencesIn, java.lang.String.class);
        dto.setFileReferences(fileReferencesOut);
      }

      if (json.<mark>has</mark>("libsSubgraph")) {
        JsonElement libsSubgraphIn = json.<mark>get</mark>("libsSubgraph");
        java.lang.String libsSubgraphOut = gson.<mark>fromJson</mark>(libsSubgraphIn, java.lang.String.class);
        dto.setLibsSubgraph(libsSubgraphOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____Connection_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____Connection.java

com.google.gson.Gson.fromJson


    private void exhangeToken() throws IOException, URISyntaxException {

        this.renewTime = 0;
        String cookiesJson = "{\"cookies\":{\"." + getAmazonSite() + "\":[]}}";
        String cookiesBase64 = Base64.getEncoder().encodeToString(cookiesJson.getBytes());

        String exchangePostData = "di.os.name=iOS&app_version=2.2.223830.0&domain=." + getAmazonSite()
                + "&source_token=" + URLEncoder.encode(this.refreshToken, "UTF8")
                + "&requested_token_type=auth_cookies&source_token_type=refresh_token&di.hw.version=iPhone&di.sdk.version=6.10.0&cookies="
                + cookiesBase64 + "&app_name=Amazon%20Alexa&di.os.version=11.4.1";

        HashMap<String, String> exchangeTokenHeader = new HashMap<String, String>();
        exchangeTokenHeader.put("Cookie", "");

        String exchangeTokenJson = makeRequestAndReturnString("POST",
                "https://www." + getAmazonSite() + "/ap/exchangetoken", exchangePostData, false, exchangeTokenHeader);
        JsonExchangeTokenResponse exchangeTokenResponse = gson.<mark>fromJson</mark>(exchangeTokenJson,
                JsonExchangeTokenResponse.class);

        org.openhab.binding.amazonechocontrol.internal.jsons.JsonExchangeTokenResponse.Response response = exchangeTokenResponse.response;
        if (response != null) {
            org.openhab.binding.amazonechocontrol.internal.jsons.JsonExchangeTokenResponse.Tokens tokens = response.tokens;
            if (tokens != null) {
                @Nullable
                Map<String, Cookie[]> cookiesMap = tokens.cookies;
                if (cookiesMap != null) {
                    for (String domain : cookiesMap.keySet()) {
                        Cookie[] cookies = cookiesMap.get(domain);
                        for (Cookie cookie : cookies) {
                            if (cookie != null) {
                                HttpCookie httpCookie = new HttpCookie(cookie.Name, cookie.Value);
                                httpCookie.setPath(cookie.Path);
                                httpCookie.setDomain(domain);
                                Boolean secure = cookie.Secure;
                                if (secure != null) {
                                    httpCookie.setSecure(secure);
                                }
                                this.cookieManager.getCookieStore().add(null, httpCookie);
                            }
                        }
                    }
                }
            }
        }
        if (!verifyLogin()) {
            throw new ConnectionException("Verify login failed after token exchange");
        }
        this.renewTime = (long) (System.currentTimeMillis() + Connection.expiresIn * 1000d / 0.8d); // start renew at
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____LxWebSocket_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____LxWebSocket.java

com.google.gson.Gson.fromJson
com.google.gson.JsonParseException.getMessage

/**
     * Sends a command to the Miniserver and encrypts it if command can be encrypted and encryption is available.
     * Request can be synchronous or asynchronous. There is always a response expected to the command, and it is a
     * standard command response as defined in {@link LxResponse}. Such commands are the majority of commands
     * used for performing actions on the controls and for executing authentication procedure.
     * A synchronous command must not be sent from the websocket thread (from websocket callback methods) or it will
     * cause a deadlock.
     * An asynchronous command request returns immediately, but the returned value will not contain valid data in
     * the subResponse structure until a response is received. Asynchronous request can be sent from the websocket
     * thread. There can be only one command sent which awaits response per websocket connection,
     * whether this is synchronous or asynchronous command (this seems how Loxone Miniserver behaves, as it does not
     * have any unique identifier to match commands to responses).
     * For synchronous commands this is ensured naturally, for asynchronous the caller must manage it.
     * If this method is called before a response to the previous command is received, it will return error and not
     * send the command.
     *
     * @param command command to send to the Miniserver
     * @param sync true is synchronous request, false if ansynchronous
     * @param encrypt true if command can be encrypted (does not mean it will)
     * @return response received (for sync command) or to be received (for async), null if error occurred
     */    @OnWebSocketMessage
    public void onMessage(String msg) {
        webSocketLock.lock();
        try {
            if (logger.isTraceEnabled()) {
                String trace = msg;
                if (trace.length() > 100) {
                    trace = msg.substring(0, 100);
                }
                logger.trace("[{}] received message: {}", debugId, trace);
            }
            if (!awaitingConfiguration) {
                processResponse(msg);
                return;
            }
            awaitingConfiguration = false;
            stopResponseTimeout();
            thingHandler.clearConfiguration();

            LxConfig config = gson.<mark>fromJson</mark>(msg, LxConfig.class);
            config.finalize(thingHandler);

            thingHandler.setMiniserverConfig(config);

            if (sendCmdWithResp(CMD_ENABLE_UPDATES, false, false) == null) {
                disconnect(LxErrorCode.COMMUNICATION_ERROR, "Failed to enable state updates.");
            }
        } finally {
            webSocketLock.unlock();
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____WatchUpdaterService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____WatchUpdaterService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncLogData(DataMap dataMap, boolean bBenchmark) {//KS
        Log.d(TAG, "syncLogData");
        long watch_syncLogsRequested = dataMap.getLong("syncLogsRequested", -1);
        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        int saved = 0;
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncLogData add Table entries count=" + entries.size() + " watch_syncLogsRequested=" + watch_syncLogsRequested);
            for (DataMap entry : entries) {
                if (entry != null) {
                    String record = entry.getString("entry");
                    if (record != null) {
                        UserError data = gson.<mark>fromJson</mark>(record, UserError.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            if (data.shortError != null && !data.shortError.isEmpty()) { //add wear prefix
                                if (!data.shortError.startsWith("wear")) {
                                    data.shortError = mPrefs.getString("wear_logs_prefix", "wear") + data.shortError;
                                }
                            }
                            UserError exists = UserError.getForTimestamp(data);
                            if (exists == null && !bBenchmark) {
                                data.save();
                                saved++;
                            } else {
                                //Log.d(TAG, "syncLogData Log entry already exists with shortError=" + data.shortError + " timestamp=" + JoH.dateTimeText((long)data.timestamp));
                            }
                        }
                    }
                }
            }
            if (saved > 0) {
                Log.d(TAG, "syncLogData Saved timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " saved=" + saved);
            } else {
                Log.d(TAG, "syncLogData No records saved due to being duplicates! timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " count=" + entries.size());
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "LOG", watch_syncLogsRequested);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jxnu-liguobin_____Java-Learning-Summary_____RedisDemo6_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jxnu-liguobin_____Java-Learning-Summary_____RedisDemo6.java

com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    public List<ChatMessages> fetchPendingMessages(Jedis conn, String recipient) {
        Set<Tuple> seenSet = conn.zrangeWithScores("seen:" + recipient, 0, -1);
        List<Tuple> seenList = new ArrayList<Tuple>(seenSet);

        Transaction trans = conn.multi();
        for (Tuple tuple : seenList){
            String chatId = tuple.getElement();
            int seenId = (int)tuple.getScore();
            trans.zrangeByScore("msgs:" + chatId, String.valueOf(seenId + 1), "inf");
        }
        List<Object> results = trans.exec();

        Gson gson = new Gson();
        Iterator<Tuple> seenIterator = seenList.iterator();
        Iterator<Object> resultsIterator = results.iterator();

        List<ChatMessages> chatMessages = new ArrayList<ChatMessages>();
        List<Object[]> seenUpdates = new ArrayList<Object[]>();
        List<Object[]> msgRemoves = new ArrayList<Object[]>();
        while (seenIterator.hasNext()){
            Tuple seen = seenIterator.next();
            Set<String> messageStrings = (Set<String>)resultsIterator.next();
            if (messageStrings.size() == 0){
                continue;
            }

            int seenId = 0;
            String chatId = seen.getElement();
            List<Map<String,Object>> messages = new ArrayList<Map<String,Object>>();
            for (String messageJson : messageStrings){
                Map<String,Object> message = (Map<String,Object>)gson.<mark>fromJson</mark>(
                    messageJson, new TypeToken<Map<String,Object>>(){}.getType());
                int messageId = ((Double)message.get("id")).intValue();
                if (messageId > seenId){
                    seenId = messageId;
                }
                message.put("id", messageId);
                messages.add(message);
            }

            conn.zadd("chat:" + chatId, seenId, recipient);
            seenUpdates.add(new Object[]{"seen:" + recipient, seenId, chatId});

            Set<Tuple> minIdSet = conn.zrangeWithScores("chat:" + chatId, 0, 0);
            if (minIdSet.size() > 0){
                msgRemoves.add(new Object[]{
                    "msgs:" + chatId, minIdSet.iterator().next().getScore()});
            }
            chatMessages.add(new ChatMessages(chatId, messages));
        }

        trans = conn.multi();
        for (Object[] seenUpdate : seenUpdates){
            trans.zadd(
                (String)seenUpdate[0],
                (Integer)seenUpdate[1],
                (String)seenUpdate[2]);
        }
        for (Object[] msgRemove : msgRemoves){
            trans.zremrangeByScore(
                (String)msgRemove[0], 0, ((Double)msgRemove[1]).intValue());
        }
        trans.exec();

        return chatMessages;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson


	private Object addGroup(String userId, String ip, String body) {
		HueError[] theErrors = null;
		log.debug("group add requested from " + ip + " user " + userId + " with body " + body);
		theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors == null) {
			if(bridgeSettingMaster.getBridgeSecurity().isSettingsChanged())
				bridgeSettingMaster.updateConfigFile();

			GroupResponse theGroup = null;
			try {
				theGroup = aGsonHandler.<mark>fromJson</mark>(body, GroupResponse.class);
			} catch (Exception e) {
				theGroup = null;
			}
			if (theGroup == null) {
				log.warn("Could not parse add group body. No group created.");
				return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("5", "/groups/lights",
						"invalid/missing parameters in body", null, null, null).getTheErrors(), HueError[].class);
			}
			
			List<GroupDescriptor> groups = groupRepository.findAll();
			GroupDescriptor newGroup = new GroupDescriptor();
			
			String type = theGroup.getType();
			String groupClass = theGroup.getClass_name();

			// check type
			if (type == null || type.trim().equals("")) {
				type = (groupClass == null || groupClass.trim().equals("")) ? "LightGroup" : "Room";
			} else if (!type.equals("LightGroup") && !type.equals("Room")) {
				type = "LightGroup";
			}
			// Everything else than a room must contain lights
			if (!type.equals("Room")) {
				if (theGroup.getLights() == null || theGroup.getLights().length == 0) {
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("5", "/groups/lights",
						"invalid/missing parameters in body", null, null, null).getTheErrors(), HueError[].class);
				}
			} else { // check room class if it's a room
				if (groupClass == null || groupClass.trim().equals("")) {
					groupClass = GroupClassTypes.OTHER;
				} else if (!new GroupClassTypes().validateType(groupClass)) {
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("7", "/groups/class",
						"invalid value, " + groupClass + ", for parameter, class", null, null, null).getTheErrors(), HueError[].class);	
				}
			}
			String name = theGroup.getName();
			Integer newId = groupRepository.getNewId();
			if (name == null || name.trim().equals("")) {
				name = type + " " + newId;
			}
			newGroup.setGroupType(type);
			newGroup.setGroupClass(groupClass);
			newGroup.setName(name);
			newGroup.setLights(theGroup.getLights());
			groups.add(newGroup);
			groupRepository.save(groups.toArray(new GroupDescriptor[0]));
			
			return "[{\"success\":{\"id\":\"" + newId + "\"}}]";
		}

		return theErrors;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AEFeinstein_____mtg-familiar_____TcgpApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AEFeinstein_____mtg-familiar_____TcgpApi.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
     * Given an array of productIds, request and return all of the product's non-price details
     *
     * @param productIds The productId of the card to query
     * @return All the non-price details
     * @throws IOException If something goes wrong with the network
     */     */
    public ProductInformation getProductInformation(String name, String expansion)
            throws IOException {
        // Make sure we have an access token first
        if (null != mAccessToken) {

            // Create the connection with default options and headers
            HttpURLConnection conn = (HttpURLConnection) new URL("https://api.tcgplayer.com/" +
                    TCGP_VERSION + "/catalog/categories/" + CATEGORY_ID_MAGIC + "/search")
                    .openConnection();
            setDefaultOptions(conn, HttpMethod.POST);
            addHeaders(conn);

            // Create the params, only adding the set if it isn't null
            GetProductInformationOptions.NameValuesPair queryParams[];
            if (null != expansion) {
                queryParams = new GetProductInformationOptions.NameValuesPair[]{
                        new GetProductInformationOptions.NameValuesPair("ProductName", new String[]{name}),
                        new GetProductInformationOptions.NameValuesPair("SetName", new String[]{expansion})};
            } else {
                queryParams = new GetProductInformationOptions.NameValuesPair[]{
                        new GetProductInformationOptions.NameValuesPair("ProductName", new String[]{name})};
            }

            // Add the information to search by
            GetProductInformationOptions options = new GetProductInformationOptions(queryParams);
            conn.getOutputStream().write(<mark>new Gson</mark>().toJson(options, GetProductInformationOptions.class)
                    .getBytes(Charset.forName("UTF-8")));

            // Get the response stream. This opens the connection
            InputStream inStream;
            try {
                inStream = conn.getInputStream();
            } catch (FileNotFoundException e) {
                inStream = conn.getErrorStream();
                if (null == inStream) {
                    conn.disconnect();
                    // Return an empty, not null, object
                    return new ProductInformation();
                }
            }

            // Parse the json out of the response and save it
            ProductInformation information = (<mark>new Gson</mark>()).<mark>fromJson</mark>(new InputStreamReader(inStream),
                    ProductInformation.class);

            // Clean up
            inStream.close();
            conn.disconnect();
            return information;
        }
        // No access token
        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsBoolean


    public static CodeBlockImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeBlockImpl dto = new CodeBlockImpl();
      JsonArray json = jsonElem.<mark>getAsJsonArray</mark>();

      if (0 < json.<mark>size</mark>()) {
        JsonElement idIn = json.<mark>get</mark>(0);
        java.lang.String idOut = gson.<mark>fromJson</mark>(idIn, java.lang.String.class);
        dto.setId(idOut);
      }

      if (1 < json.<mark>size</mark>()) {
        JsonElement blockTypeIn = json.<mark>get</mark>(1);
        int blockTypeOut = blockTypeIn.getAsInt();
        dto.setBlockType(blockTypeOut);
      }

      if (2 < json.<mark>size</mark>()) {
        JsonElement endColumnIn = json.<mark>get</mark>(2);
        int endColumnOut = endColumnIn.getAsInt();
        dto.setEndColumn(endColumnOut);
      }

      if (3 < json.<mark>size</mark>()) {
        JsonElement endLineNumberIn = json.<mark>get</mark>(3);
        int endLineNumberOut = endLineNumberIn.getAsInt();
        dto.setEndLineNumber(endLineNumberOut);
      }

      if (4 < json.<mark>size</mark>()) {
        JsonElement nameIn = json.<mark>get</mark>(4);
        java.lang.String nameOut = gson.<mark>fromJson</mark>(nameIn, java.lang.String.class);
        dto.setName(nameOut);
      }

      if (5 < json.<mark>size</mark>()) {
        JsonElement startColumnIn = json.<mark>get</mark>(5);
        int startColumnOut = startColumnIn.getAsInt();
        dto.setStartColumn(startColumnOut);
      }

      if (6 < json.<mark>size</mark>()) {
        JsonElement startLineNumberIn = json.<mark>get</mark>(6);
        int startLineNumberOut = startLineNumberIn.getAsInt();
        dto.setStartLineNumber(startLineNumberOut);
      }

      if (7 < json.<mark>size</mark>()) {
        JsonElement childrenIn = json.<mark>get</mark>(7);
        java.util.ArrayList<CodeBlockImpl> childrenOut = null;
        if (childrenIn != null && !childrenIn.<mark>isJsonNull</mark>()) {
          childrenOut = new java.util.ArrayList<CodeBlockImpl>();
          java.util.Iterator<JsonElement> childrenInIterator = childrenIn.<mark>getAsJsonArray</mark>().iterator();
          while (childrenInIterator.hasNext()) {
            JsonElement childrenIn_ = childrenInIterator.next();
            CodeBlockImpl childrenOut_ = CodeBlockImpl.fromJsonElement(childrenIn_);
            childrenOut.add(childrenOut_);
          }
        }
        dto.setChildren(childrenOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_16.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson


    public static CodeGraphResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeGraphResponseImpl dto = new CodeGraphResponseImpl();
      JsonObject json = jsonElem.getAsJsonObject();

      if (json.has("freshness")) {
        JsonElement freshnessIn = json.<mark>get</mark>("freshness");
        CodeGraphFreshnessImpl freshnessOut = CodeGraphFreshnessImpl.fromJsonElement(freshnessIn);
        dto.setFreshness(freshnessOut);
      }

      if (json.has("fileTreeJson")) {
        JsonElement fileTreeJsonIn = json.<mark>get</mark>("fileTreeJson");
        java.lang.String fileTreeJsonOut = gson.<mark>fromJson</mark>(fileTreeJsonIn, java.lang.String.class);
        dto.setFileTreeJson(fileTreeJsonOut);
      }

      if (json.has("libsSubgraphJson")) {
        JsonElement libsSubgraphJsonIn = json.<mark>get</mark>("libsSubgraphJson");
        java.lang.String libsSubgraphJsonOut = gson.<mark>fromJson</mark>(libsSubgraphJsonIn, java.lang.String.class);
        dto.setLibsSubgraphJson(libsSubgraphJsonOut);
      }

      if (json.has("workspaceTreeJson")) {
        JsonElement workspaceTreeJsonIn = json.<mark>get</mark>("workspaceTreeJson");
        java.lang.String workspaceTreeJsonOut = gson.<mark>fromJson</mark>(workspaceTreeJsonIn, java.lang.String.class);
        dto.setWorkspaceTreeJson(workspaceTreeJsonOut);
      }

      if (json.has("workspaceLinksJson")) {
        JsonElement workspaceLinksJsonIn = json.<mark>get</mark>("workspaceLinksJson");
        java.lang.String workspaceLinksJsonOut = gson.<mark>fromJson</mark>(workspaceLinksJsonIn, java.lang.String.class);
        dto.setWorkspaceLinksJson(workspaceLinksJsonOut);
      }

      if (json.has("fullGraphJson")) {
        JsonElement fullGraphJsonIn = json.<mark>get</mark>("fullGraphJson");
        java.lang.String fullGraphJsonOut = gson.<mark>fromJson</mark>(fullGraphJsonIn, java.lang.String.class);
        dto.setFullGraphJson(fullGraphJsonOut);
      }

      if (json.has("fileReferencesJson")) {
        JsonElement fileReferencesJsonIn = json.<mark>get</mark>("fileReferencesJson");
        java.lang.String fileReferencesJsonOut = gson.<mark>fromJson</mark>(fileReferencesJsonIn, java.lang.String.class);
        dto.setFileReferencesJson(fileReferencesJsonOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_60.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetFileRevisionsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetFileRevisionsImpl dto = new GetFileRevisionsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("clientId")) {
        JsonElement clientIdIn = json.<mark>get</mark>("clientId");
        java.lang.String clientIdOut = gson.<mark>fromJson</mark>(clientIdIn, java.lang.String.class);
        dto.setClientId(clientIdOut);
      }

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("rootId")) {
        JsonElement rootIdIn = json.<mark>get</mark>("rootId");
        java.lang.String rootIdOut = gson.<mark>fromJson</mark>(rootIdIn, java.lang.String.class);
        dto.setRootId(rootIdOut);
      }

      if (json.<mark>has</mark>("numOfRevisions")) {
        JsonElement numOfRevisionsIn = json.<mark>get</mark>("numOfRevisions");
        int numOfRevisionsOut = numOfRevisionsIn.getAsInt();
        dto.setNumOfRevisions(numOfRevisionsOut);
      }

      if (json.<mark>has</mark>("filtering")) {
        JsonElement filteringIn = json.<mark>get</mark>("filtering");
        boolean filteringOut = filteringIn.getAsBoolean();
        dto.setFiltering(filteringOut);
      }

      if (json.<mark>has</mark>("minId")) {
        JsonElement minIdIn = json.<mark>get</mark>("minId");
        java.lang.String minIdOut = gson.<mark>fromJson</mark>(minIdIn, java.lang.String.class);
        dto.setMinId(minIdOut);
      }

      if (json.<mark>has</mark>("includeBranchRevision")) {
        JsonElement includeBranchRevisionIn = json.<mark>get</mark>("includeBranchRevision");
        boolean includeBranchRevisionOut = includeBranchRevisionIn.getAsBoolean();
        dto.setIncludeBranchRevision(includeBranchRevisionOut);
      }

      if (json.<mark>has</mark>("includeMostRecentRevision")) {
        JsonElement includeMostRecentRevisionIn = json.<mark>get</mark>("includeMostRecentRevision");
        boolean includeMostRecentRevisionOut = includeMostRecentRevisionIn.getAsBoolean();
        dto.setIncludeMostRecentRevision(includeMostRecentRevisionOut);
      }

      if (json.<mark>has</mark>("pathRootId")) {
        JsonElement pathRootIdIn = json.<mark>get</mark>("pathRootId");
        java.lang.String pathRootIdOut = gson.<mark>fromJson</mark>(pathRootIdIn, java.lang.String.class);
        dto.setPathRootId(pathRootIdOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____WatchUpdaterService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____WatchUpdaterService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncLogData(DataMap dataMap, boolean bBenchmark) {//KS
        Log.d(TAG, "syncLogData");
        long watch_syncLogsRequested = dataMap.getLong("syncLogsRequested", -1);
        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        int saved = 0;
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncLogData add Table entries count=" + entries.size() + " watch_syncLogsRequested=" + watch_syncLogsRequested);
            for (DataMap entry : entries) {
                if (entry != null) {
                    String record = entry.getString("entry");
                    if (record != null) {
                        UserError data = gson.<mark>fromJson</mark>(record, UserError.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            if (data.shortError != null && !data.shortError.isEmpty()) { //add wear prefix
                                if (!data.shortError.startsWith("wear")) {
                                    data.shortError = mPrefs.getString("wear_logs_prefix", "wear") + data.shortError;
                                }
                            }
                            UserError exists = UserError.getForTimestamp(data);
                            if (exists == null && !bBenchmark) {
                                data.save();
                                saved++;
                            }
                            else {
                                //Log.d(TAG, "syncLogData Log entry already exists with shortError=" + data.shortError + " timestamp=" + JoH.dateTimeText((long)data.timestamp));
                            }
                        }
                    }
                }
            }
            if (saved>0) {
                Log.d(TAG, "syncLogData Saved timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " saved=" + saved);
            }
            else {
                Log.d(TAG, "syncLogData No records saved due to being duplicates! timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " count=" + entries.size());
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "LOG", watch_syncLogsRequested);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GdaxExchangeAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GdaxExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public List<OpenOrder> getYourOpenOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        try {

            // we use default request no-param call - only open or un-settled orders are returned.
            // As soon as an order is no longer open and settled, it will no longer appear in the default request.
            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("GET", "orders", null);
            LOG.debug(() -> "Open Orders response: " + response);

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final GdaxOrder[] gdaxOpenOrders = gson.<mark>fromJson</mark>(response.getPayload(), GdaxOrder[].class);

                final List<OpenOrder> ordersToReturn = new ArrayList<>();
                for (final GdaxOrder openOrder : gdaxOpenOrders) {

                    if (!marketId.equalsIgnoreCase(openOrder.product_id)) {
                        continue;
                    }

                    OrderType orderType;
                    switch (openOrder.side) {
                        case "buy":
                            orderType = OrderType.BUY;
                            break;
                        case "sell":
                            orderType = OrderType.SELL;
                            break;
                        default:
                            throw new TradingApiException(
                                    "Unrecognised order type received in getYourOpenOrders(). Value: " + openOrder.side);
                    }

                    final OpenOrder order = new OpenOrderImpl(
                            openOrder.id,
                            Date.from(Instant.parse(openOrder.created_at)),
                            marketId,
                            orderType,
                            openOrder.price,
                            openOrder.size.subtract(openOrder.filled_size), // quantity remaining - not provided by GDAX
                            openOrder.size,                                 // orig quantity
                            openOrder.price.multiply(openOrder.size)        // total - not provided by GDAX
                    );

                    ordersToReturn.add(order);
                }
                return ordersToReturn;
            } else {
                final String errorMsg = "Failed to get your open orders from exchange. Details: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>naver_____pinpoint_____GsonIT_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/naver_____pinpoint_____GsonIT.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.stream.JsonReader.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.getDeclaredMethod
com.google.gson.stream.JsonWriter.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.stream.JsonWriter.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.getDeclaredMethod
com.google.gson.Gson.getDeclaredMethod

    @Test
    public void testFromV1_2() throws Exception {
        if (!v1_2) {
            return;
        }
        
        final Gson gson = <mark>new Gson</mark>();
        final JsonElement jsonElement = getParseElements();
        
        /**
         * @see Gson#<mark>fromJson</mark>(Reader, Class)
         * @see Gson#<mark>fromJson</mark>(Reader, InterceptPoint)
         * @see Gson#<mark>fromJson</mark>(JsonElement, Class)
         * @see Gson#<mark>fromJson</mark>(JsonElement, InterceptPoint)
         */
        gson.<mark>fromJson</mark>(new StringReader(json), (Class<?>) String.class);
        gson.<mark>fromJson</mark>(new StringReader(json), (Type) String.class);
        gson.<mark>fromJson</mark>(jsonElement, String.class);
        gson.<mark>fromJson</mark>(jsonElement, (Type) String.class);

        Method fromJson3 = Gson.class.<mark>getDeclaredMethod</mark>("fromJson", Reader.class, Class.class);
        Method fromJson4 = Gson.class.<mark>getDeclaredMethod</mark>("fromJson", Reader.class, Type.class);
        Method fromJson6 = Gson.class.<mark>getDeclaredMethod</mark>("fromJson", JsonElement.class, Class.class);
        Method fromJson7 = Gson.class.<mark>getDeclaredMethod</mark>("fromJson", JsonElement.class, Type.class);

        /**
         * @see Gson#<mark>toJson</mark>(Object, Appendable)
         * @see Gson#<mark>toJson</mark>(Object, InterceptPoint, Appendable)
         * @see Gson#<mark>toJson</mark>(JsonElement)
         * @see Gson#<mark>toJson</mark>(JsonElement, Appendable)
         */
        gson.<mark>toJson</mark>(java, new StringWriter());
        gson.<mark>toJson</mark>(java, String.class, new StringWriter());
        gson.<mark>toJson</mark>(jsonElement);
        gson.<mark>toJson</mark>(jsonElement, new StringWriter());

        Method toJson3 = Gson.class.<mark>getDeclaredMethod</mark>("toJson", Object.class, Appendable.class);
        Method toJson4 = Gson.class.<mark>getDeclaredMethod</mark>("toJson", Object.class, Type.class, Appendable.class);
        Method toJson6 = Gson.class.<mark>getDeclaredMethod</mark>("toJson", JsonElement.class);
        Method toJson7 = Gson.class.<mark>getDeclaredMethod</mark>("toJson", JsonElement.class, Appendable.class);

        PluginTestVerifier verifier = PluginTestVerifierHolder.getInstance();
        verifier.printCache();

        verifier.verifyTrace(event(serviceType, fromJson3),
                event(serviceType, fromJson4),
                event(serviceType, fromJson6),
                event(serviceType, fromJson7));
        
        verifier.verifyTrace(event(serviceType, toJson3),
                event(serviceType, toJson4),
                event(serviceType, toJson6, expectedAnnotation),
                event(serviceType, toJson7));

        // No more traces
        verifier.verifyTraceCount(0);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_134.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static SearchResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      SearchResponseImpl dto = new SearchResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("pageCount")) {
        JsonElement pageCountIn = json.<mark>get</mark>("pageCount");
        int pageCountOut = pageCountIn.getAsInt();
        dto.setPageCount(pageCountOut);
      }

      if (json.<mark>has</mark>("results")) {
        JsonElement resultsIn = json.<mark>get</mark>("results");
        java.util.ArrayList<SearchResultImpl> resultsOut = null;
        if (resultsIn != null && !resultsIn.<mark>isJsonNull</mark>()) {
          resultsOut = new java.util.ArrayList<SearchResultImpl>();
          java.util.Iterator<JsonElement> resultsInIterator = resultsIn.getAsJsonArray().iterator();
          while (resultsInIterator.hasNext()) {
            JsonElement resultsIn_ = resultsInIterator.next();
            SearchResultImpl resultsOut_ = SearchResultImpl.fromJsonElement(resultsIn_);
            resultsOut.add(resultsOut_);
          }
        }
        dto.setResults(resultsOut);
      }

      if (json.<mark>has</mark>("resultCount")) {
        JsonElement resultCountIn = json.<mark>get</mark>("resultCount");
        int resultCountOut = resultCountIn.getAsInt();
        dto.setResultCount(resultCountOut);
      }

      if (json.<mark>has</mark>("page")) {
        JsonElement pageIn = json.<mark>get</mark>("page");
        int pageOut = pageIn.getAsInt();
        dto.setPage(pageOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____KodiConnection_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____KodiConnection.java

com.google.gson.JsonObject.&ltinit&gt
com.google.gson.JsonObject.add
com.google.gson.Gson.fromJson


    private void requestPlayerPropertiesUpdate(int activePlayer) {
        final String[] properties = { PROPERTY_CURRENTAUDIOSTREAM, PROPERTY_CURRENTVIDEOSTREAM, PROPERTY_PERCENTAGE,
                PROPERTY_TIME, PROPERTY_TOTALTIME };

        JsonObject params = <mark>new JsonObject</mark>();
        params.addProperty("playerid", activePlayer);
        params.<mark>add</mark>("properties", getJsonArray(properties));
        JsonElement response = socket.callMethod("Player.GetProperties", params);

        if (response instanceof JsonObject) {
            JsonObject result = response.getAsJsonObject();

            String audioCodec = null;
            if (result.has(PROPERTY_CURRENTAUDIOSTREAM)) {
                try {
                    KodiAudioStream audioStream = gson.<mark>fromJson</mark>(result.get(PROPERTY_CURRENTAUDIOSTREAM),
                            KodiAudioStream.class);
                    if (audioStream != null) {
                        audioCodec = audioStream.getCodec();
                    }
                } catch (JsonSyntaxException e) {
                    // do nothing
                }
            }

            String videoCodec = null;
            if (result.has(PROPERTY_CURRENTVIDEOSTREAM)) {
                try {
                    KodiVideoStream videoStream = gson.<mark>fromJson</mark>(result.get(PROPERTY_CURRENTVIDEOSTREAM),
                            KodiVideoStream.class);
                    if (videoStream != null) {
                        videoCodec = videoStream.getCodec();
                    }
                } catch (JsonSyntaxException e) {
                    // do nothing
                }
            }

            double percentage = -1;
            if (result.has(PROPERTY_PERCENTAGE)) {
                percentage = result.get(PROPERTY_PERCENTAGE).getAsDouble();
            }

            long currentTime = -1;
            if (result.has(PROPERTY_TIME)) {
                try {
                    KodiDuration time = gson.<mark>fromJson</mark>(result.get(PROPERTY_TIME), KodiDuration.class);
                    currentTime = time.toSeconds();
                } catch (JsonSyntaxException e) {
                    // do nothing
                }
            }

            long duration = -1;
            if (result.has(PROPERTY_TOTALTIME)) {
                try {
                    KodiDuration totalTime = gson.<mark>fromJson</mark>(result.get(PROPERTY_TOTALTIME), KodiDuration.class);
                    duration = totalTime.toSeconds();
                } catch (JsonSyntaxException e) {
                    // do nothing
                }
            }

            listener.updateAudioCodec(audioCodec);
            listener.updateVideoCodec(videoCodec);
            listener.updateCurrentTimePercentage(percentage);
            listener.updateCurrentTime(currentTime);
            listener.updateDuration(duration);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_130.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get


    public static RetryAlreadyTransferredUploadImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      RetryAlreadyTransferredUploadImpl dto = new RetryAlreadyTransferredUploadImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("sessionId")) {
        JsonElement sessionIdIn = json.<mark>get</mark>("sessionId");
        java.lang.String sessionIdOut = gson.<mark>fromJson</mark>(sessionIdIn, java.lang.String.class);
        dto.setSessionId(sessionIdOut);
      }

      if (json.<mark>has</mark>("unzipWorkspacePaths")) {
        JsonElement unzipWorkspacePathsIn = json.<mark>get</mark>("unzipWorkspacePaths");
        java.util.ArrayList<java.lang.String> unzipWorkspacePathsOut = null;
        if (unzipWorkspacePathsIn != null && !unzipWorkspacePathsIn.<mark>isJsonNull</mark>()) {
          unzipWorkspacePathsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> unzipWorkspacePathsInIterator = unzipWorkspacePathsIn.getAsJsonArray().iterator();
          while (unzipWorkspacePathsInIterator.hasNext()) {
            JsonElement unzipWorkspacePathsIn_ = unzipWorkspacePathsInIterator.next();
            java.lang.String unzipWorkspacePathsOut_ = gson.<mark>fromJson</mark>(unzipWorkspacePathsIn_, java.lang.String.class);
            unzipWorkspacePathsOut.add(unzipWorkspacePathsOut_);
          }
        }
        dto.setUnzipWorkspacePaths(unzipWorkspacePathsOut);
      }

      if (json.<mark>has</mark>("fileWorkspacePaths")) {
        JsonElement fileWorkspacePathsIn = json.<mark>get</mark>("fileWorkspacePaths");
        java.util.ArrayList<java.lang.String> fileWorkspacePathsOut = null;
        if (fileWorkspacePathsIn != null && !fileWorkspacePathsIn.<mark>isJsonNull</mark>()) {
          fileWorkspacePathsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> fileWorkspacePathsInIterator = fileWorkspacePathsIn.getAsJsonArray().iterator();
          while (fileWorkspacePathsInIterator.hasNext()) {
            JsonElement fileWorkspacePathsIn_ = fileWorkspacePathsInIterator.next();
            java.lang.String fileWorkspacePathsOut_ = gson.<mark>fromJson</mark>(fileWorkspacePathsIn_, java.lang.String.class);
            fileWorkspacePathsOut.add(fileWorkspacePathsOut_);
          }
        }
        dto.setFileWorkspacePaths(fileWorkspacePathsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____BitfinexExchangeAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____BitfinexExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public String createOrder(String marketId, OrderType orderType, BigDecimal quantity, BigDecimal price) throws
            TradingApiException, ExchangeNetworkException {

        try {
            final Map<String, Object> params = createRequestParamMap();

            params.put("symbol", marketId);

            // note we need to limit amount and price to 8 decimal places else exchange will barf
            params.put("amount", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(quantity));
            params.put("price", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(price));

            params.put("exchange", "bitfinex");

            if (orderType == OrderType.BUY) {
                params.put("side", "buy");
            } else if (orderType == OrderType.SELL) {
                params.put("side", "sell");
            } else {
                final String errorMsg = "Invalid order type: " + orderType
                        + " - Can only be "
                        + OrderType.BUY.getStringValue() + " or "
                        + OrderType.SELL.getStringValue();
                LOG.error(errorMsg);
                throw new IllegalArgumentException(errorMsg);
            }

            // 'type' is either "market" / "limit" / "stop" / "trailing-stop" / "fill-or-kill" / "exchange market" /
            // "exchange limit" / "exchange stop" / "exchange trailing-stop" / "exchange fill-or-kill".
            // (type starting by "exchange " are exchange orders, others are margin trading orders)

            // this adapter only supports 'exchange limit orders'
            params.put("type", "exchange limit");

            // This adapter does not currently support hidden orders.
            // Exchange API notes: "true if the order should be hidden. Default is false."
            // If you try and set "is_hidden" to false, the exchange barfs and sends a 401 back. Nice.
            //params.put("is_hidden", "false");

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("order/new", params);
            LOG.debug(() -> "Create Order response: " + response);

            final BitfinexNewOrderResponse createOrderResponse = gson.<mark>fromJson</mark>(response.getPayload(), BitfinexNewOrderResponse.class);
            final long id = createOrderResponse.order_id;
            if (id == 0) {
                final String errorMsg = "Failed to place order on exchange. Error response: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            } else {
                return Long.toString(createOrderResponse.order_id);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____zeppelin_____NotebookRestApi_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____zeppelin_____NotebookRestApi.java

com.google.gson.Gson.fromJson

  @ZeppelinApi
  public Response putNotePermissions(@PathParam("noteId") String noteId, String req)
      throws IOException {
    String principal = authenticationService.getPrincipal();
    Set<String> roles = authenticationService.getAssociatedRoles();
    HashSet<String> userAndRoles = new HashSet<>();
    userAndRoles.add(principal);
    userAndRoles.addAll(roles);

    checkIfUserIsAnon(getBlockNotAuthenticatedUserErrorMsg());
    checkIfUserIsOwner(noteId,
        ownerPermissionError(userAndRoles, authorizationService.getOwners(noteId)));

    HashMap<String, HashSet<String>> permMap =
        gson.<mark>fromJson</mark>(req, new TypeToken<HashMap<String, HashSet<String>>>() {
        }.getType());
    Note note = notebook.getNote(noteId);

    LOG.info("Set permissions {} {} {} {} {} {}", noteId, principal, permMap.get("owners"),
        permMap.get("readers"), permMap.get("runners"), permMap.get("writers"));

    HashSet<String> readers = permMap.get("readers");
    HashSet<String> runners = permMap.get("runners");
    HashSet<String> owners = permMap.get("owners");
    HashSet<String> writers = permMap.get("writers");
    // Set readers, if runners, writers and owners is empty -> set to user requesting the change
    if (readers != null && !readers.isEmpty()) {
      if (runners.isEmpty()) {
        runners = Sets.newHashSet(authenticationService.getPrincipal());
      }
      if (writers.isEmpty()) {
        writers = Sets.newHashSet(authenticationService.getPrincipal());
      }
      if (owners.isEmpty()) {
        owners = Sets.newHashSet(authenticationService.getPrincipal());
      }
    }
    // Set runners, if writers and owners is empty -> set to user requesting the change
    if (runners != null && !runners.isEmpty()) {
      if (writers.isEmpty()) {
        writers = Sets.newHashSet(authenticationService.getPrincipal());
      }
      if (owners.isEmpty()) {
        owners = Sets.newHashSet(authenticationService.getPrincipal());
      }
    }
    // Set writers, if owners is empty -> set to user requesting the change
    if (writers != null && !writers.isEmpty()) {
      if (owners.isEmpty()) {
        owners = Sets.newHashSet(authenticationService.getPrincipal());
      }
    }

    authorizationService.setReaders(noteId, readers);
    authorizationService.setRunners(noteId, runners);
    authorizationService.setWriters(noteId, writers);
    authorizationService.setOwners(noteId, owners);
    LOG.debug("After set permissions {} {} {} {}", authorizationService.getOwners(noteId),
            authorizationService.getReaders(noteId), authorizationService.getRunners(noteId),
            authorizationService.getWriters(noteId));
    AuthenticationInfo subject = new AuthenticationInfo(authenticationService.getPrincipal());
    notebook.saveNote(note, subject);
    notebookServer.broadcastNote(note);
    notebookServer.broadcastNoteList(subject, userAndRoles);
    return new JsonResponse<>(Status.OK).build();
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson


	private String updateState(String userId, String lightId, String body, String ipAddress) {
		String responseString = null;
		StateChangeBody theStateChanges = null;
		DeviceState state = null;
		Integer targetBri = null;
		Integer targetBriInc = null;
		ColorData colorData = null;

		log.debug("Update state requested: " + userId + " from " + ipAddress + " body: " + body);

		HueError[] theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors != null)
			return aGsonHandler.<mark>toJson</mark>(theErrors);

		try {
			theStateChanges = aGsonHandler.<mark>fromJson</mark>(body, StateChangeBody.class);
		} catch (Exception e) {
			log.warn("Could not parse state change body. Light state not changed.");
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("2", "/lights/" + lightId,
					"Could not parse state change body.", null, null, null).getTheErrors(), HueError[].class);
		}

		DeviceDescriptor device = repository.findOne(lightId);
		if (device == null) {
			log.warn("Could not find device: " + lightId + " for hue state change request: " + userId + " from "
					+ ipAddress + " body: " + body);
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/lights/" + lightId,
					"Could not find device.", "/lights/" + lightId, null, null).getTheErrors(), HueError[].class);
		}

		if (body.contains("\"bri_inc\""))
			targetBriInc = new Integer(theStateChanges.getBri_inc());
		else if (body.contains("\"bri\"")) {
			targetBri = new Integer(theStateChanges.getBri());
		}

		state = device.getDeviceState();
		if (state == null)
			state = DeviceState.createDeviceState(device.isColorDevice());

		if (body.contains("\"xy\"") || body.contains("\"ct\"") || body.contains("\"hue\"") || body.contains("\"xy_inc\"") || body.contains("\"ct_inc\"") || body.contains("\"hue_inc\"")) {
			List<Double> xy = theStateChanges.getXy();
			List<Double> xyInc = theStateChanges.getXy_inc();
			Integer ct = theStateChanges.getCt();
			Integer ctInc = theStateChanges.getCt_inc();
			if (xy != null && xy.size() == 2) {
				colorData = new ColorData(ColorData.ColorMode.XY, xy);
			} else if (xyInc != null && xyInc.size() == 2) { 
				List<Double> current = state.getXy();
				current.set(0, current.get(0) + xyInc.get(0));
				current.set(1, current.get(1) + xyInc.get(1));
				colorData = new ColorData(ColorData.ColorMode.XY, current);
			} else if (ct != null && ct != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, ct);
			} else if (ctInc != null && ctInc != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, state.getCt() + ctInc);
			}
		}
		
		responseString = this.formatSuccessHueResponse(theStateChanges, body, lightId, state, targetBri, targetBriInc, colorData, device.isOffState());
		device.setDeviceState(state);

		return responseString;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_91.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean


    public static GwtPermutationImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GwtPermutationImpl dto = new GwtPermutationImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("permutationOptions")) {
        JsonElement permutationOptionsIn = json.<mark>get</mark>("permutationOptions");
        java.util.ArrayList<java.lang.String> permutationOptionsOut = null;
        if (permutationOptionsIn != null && !permutationOptionsIn.<mark>isJsonNull</mark>()) {
          permutationOptionsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> permutationOptionsInIterator = permutationOptionsIn.getAsJsonArray().iterator();
          while (permutationOptionsInIterator.hasNext()) {
            JsonElement permutationOptionsIn_ = permutationOptionsInIterator.next();
            java.lang.String permutationOptionsOut_ = gson.<mark>fromJson</mark>(permutationOptionsIn_, java.lang.String.class);
            permutationOptionsOut.add(permutationOptionsOut_);
          }
        }
        dto.setPermutationOptions(permutationOptionsOut);
      }

      if (json.<mark>has</mark>("permutationsUsed")) {
        JsonElement permutationsUsedIn = json.<mark>get</mark>("permutationsUsed");
        java.util.ArrayList<java.lang.String> permutationsUsedOut = null;
        if (permutationsUsedIn != null && !permutationsUsedIn.<mark>isJsonNull</mark>()) {
          permutationsUsedOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> permutationsUsedInIterator = permutationsUsedIn.getAsJsonArray().iterator();
          while (permutationsUsedInIterator.hasNext()) {
            JsonElement permutationsUsedIn_ = permutationsUsedInIterator.next();
            java.lang.String permutationsUsedOut_ = gson.<mark>fromJson</mark>(permutationsUsedIn_, java.lang.String.class);
            permutationsUsedOut.add(permutationsUsedOut_);
          }
        }
        dto.setPermutationsUsed(permutationsUsedOut);
      }

      if (json.<mark>has</mark>("permutationName")) {
        JsonElement permutationNameIn = json.<mark>get</mark>("permutationName");
        java.lang.String permutationNameOut = gson.<mark>fromJson</mark>(permutationNameIn, java.lang.String.class);
        dto.setPermutationName(permutationNameOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GdaxExchangeAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GdaxExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public String createOrder(String marketId, OrderType orderType, BigDecimal quantity, BigDecimal price) throws
            TradingApiException, ExchangeNetworkException {

        try {

            /*
             * Build Limit Order: https://docs.gdax.com/#place-a-new-order
             *
             * stp param optional           - (Self-trade prevention flag) defaults to 'dc' Decrease & Cancel
             * post_only param optional     - defaults to 'false'
             * time_in_force param optional - defaults to 'GTC' Good til Cancel
             * client_oid param is optional - thia adapter does not use it.
             */
            final Map<String, String> params = createRequestParamMap();

            if (orderType == OrderType.BUY) {
                params.put("side", "buy");
            } else if (orderType == OrderType.SELL) {
                params.put("side", "sell");
            } else {
                final String errorMsg = "Invalid order type: " + orderType
                        + " - Can only be "
                        + OrderType.BUY.getStringValue() + " or "
                        + OrderType.SELL.getStringValue();
                LOG.error(errorMsg);
                throw new IllegalArgumentException(errorMsg);
            }

            params.put("product_id", marketId);

            // note we need to limit price to 2 decimal places else exchange will barf
            params.put("price", new DecimalFormat("#.##", getDecimalFormatSymbols()).format(price));

            // note we need to limit size to 8 decimal places else exchange will barf
            params.put("size", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(quantity));

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("POST", "orders", params);
            LOG.debug(() -> "Create Order response: " + response);

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {
                final GdaxOrder createOrderResponse = gson.<mark>fromJson</mark>(response.getPayload(), GdaxOrder.class);
                if (createOrderResponse != null && (createOrderResponse.id != null && !createOrderResponse.id.isEmpty())) {
                    return createOrderResponse.id;
                } else {
                    final String errorMsg = "Failed to place order on exchange. Error response: " + response;
                    LOG.error(errorMsg);
                    throw new TradingApiException(errorMsg);
                }

            } else {
                final String errorMsg = "Failed to create order on exchange. Details: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>opendatakit_____collect_____ServerPreferencesFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/opendatakit_____collect_____ServerPreferencesFragment.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<java.lang.String>>.getType
com.google.gson.Gson.fromJson

/**
     * Remotely log the URL scheme, whether the URL is on one of 3 common hosts, and a URL hash.
     * This will help inform decisions on whether or not to allow insecure server configurations
     * (HTTP) and on which hosts to strengthen support for.
     *
     * @param url the URL that the server setting has just been set to
     */
    public void addAggregatePreferences() {
        if (!new AggregatePreferencesAdder(this).add()) {
            return;
        }

        serverUrlPreference = (EditTextPreference) findPreference(
                GeneralKeys.KEY_SERVER_URL);
        usernamePreference = (EditTextPreference) findPreference(GeneralKeys.KEY_USERNAME);
        passwordPreference = (EditTextPreference) findPreference(GeneralKeys.KEY_PASSWORD);

        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getActivity());
        String urlListString = prefs.getString(KNOWN_URL_LIST, "");
        if (urlListString.isEmpty()) {
            urlList = new ArrayList<>();
        } else {
            urlList =
                    <mark>new Gson</mark>().<mark>fromJson</mark>(urlListString, new TypeToken<List<String>>() {
                    }.<mark>getType</mark>());
        }
        if (urlList.isEmpty()) {
            addUrlToPreferencesList(getString(R.string.default_server_url), prefs);
        }

        urlDropdownSetup();

        // TODO: use just 'serverUrlPreference.getEditText().setCompoundDrawablesWithIntrinsicBounds(0, 0, R.drawable.ic_arrow_drop_down, 0);' once minSdkVersion is >= 21
        serverUrlPreference.getEditText().setCompoundDrawablesWithIntrinsicBounds(null, null,
                AppCompatResources.getDrawable(getActivity(), R.drawable.ic_arrow_drop_down), null);
        serverUrlPreference.getEditText().setOnTouchListener(this);
        serverUrlPreference.setOnPreferenceChangeListener(createChangeListener());
        serverUrlPreference.setSummary(serverUrlPreference.getText());
        serverUrlPreference.getEditText().setFilters(
                new InputFilter[]{new ControlCharacterFilter(), new WhitespaceFilter()});

        usernamePreference.setOnPreferenceChangeListener(createChangeListener());
        usernamePreference.setSummary(usernamePreference.getText());
        usernamePreference.getEditText().setFilters(
                new InputFilter[]{new ControlCharacterFilter()});

        passwordPreference.setOnPreferenceChangeListener(createChangeListener());
        maskPasswordSummary(passwordPreference.getText());
        passwordPreference.getEditText().setFilters(
                new InputFilter[]{new ControlCharacterFilter()});

        //setupTransportPreferences();
        getPreferenceScreen().removePreference(findPreference(KEY_TRANSPORT_PREFERENCE));
        getPreferenceScreen().removePreference(findPreference(KEY_SMS_PREFERENCE));
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____VmwareResource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____VmwareResource.java

com.google.gson.Gson.fromJson


    private VirtualMachineDiskInfo getMatchingExistingDisk(VirtualMachineDiskInfoBuilder diskInfoBuilder, DiskTO vol, VmwareHypervisorHost hyperHost, VmwareContext context)
            throws Exception {
        if (diskInfoBuilder != null) {
            VolumeObjectTO volume = (VolumeObjectTO)vol.getData();

            String dsName = null;
            String diskBackingFileBaseName = null;

            Map<String, String> details = vol.getDetails();
            boolean isManaged = details != null && Boolean.parseBoolean(details.get(DiskTO.MANAGED));

            if (isManaged) {
                String iScsiName = details.get(DiskTO.IQN);

                // if the storage is managed, iScsiName should not be null
                dsName = VmwareResource.getDatastoreName(iScsiName);

                diskBackingFileBaseName = new DatastoreFile(volume.getPath()).getFileBaseName();
            } else {
                ManagedObjectReference morDs = HypervisorHostHelper.findDatastoreWithBackwardsCompatibility(hyperHost, volume.getDataStore().getUuid());
                DatastoreMO dsMo = new DatastoreMO(context, morDs);

                dsName = dsMo.getName();

                diskBackingFileBaseName = volume.getPath();
            }

            VirtualMachineDiskInfo diskInfo = diskInfoBuilder.getDiskInfoByBackingFileBaseName(diskBackingFileBaseName, dsName);
            if (diskInfo != null) {
                s_logger.info("Found existing disk info from volume path: " + volume.getPath());
                return diskInfo;
            } else {
                String chainInfo = volume.getChainInfo();
                if (chainInfo != null) {
                    VirtualMachineDiskInfo infoInChain = _gson.<mark>fromJson</mark>(chainInfo, VirtualMachineDiskInfo.class);
                    if (infoInChain != null) {
                        String[] disks = infoInChain.getDiskChain();
                        if (disks.length > 0) {
                            for (String diskPath : disks) {
                                DatastoreFile file = new DatastoreFile(diskPath);
                                diskInfo = diskInfoBuilder.getDiskInfoByBackingFileBaseName(file.getFileBaseName(), dsName);
                                if (diskInfo != null) {
                                    s_logger.info("Found existing disk from chain info: " + diskPath);
                                    return diskInfo;
                                }
                            }
                        }

                        if (diskInfo == null) {
                            diskInfo = diskInfoBuilder.getDiskInfoByDeviceBusName(infoInChain.getDiskDeviceBusName());
                            if (diskInfo != null) {
                                s_logger.info("Found existing disk from from chain device bus information: " + infoInChain.getDiskDeviceBusName());
                                return diskInfo;
                            }
                        }
                    }
                }
            }
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.Gson.fromJson
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonArray.size
com.google.gson.JsonArray.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray


    public static ClientToServerDocOpImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      ClientToServerDocOpImpl dto = new ClientToServerDocOpImpl();
      JsonObject json = jsonElem.getAsJsonObject();

      if (json.has("clientId")) {
        JsonElement clientIdIn = json.<mark>get</mark>("clientId");
        java.lang.String clientIdOut = gson.<mark>fromJson</mark>(clientIdIn, java.lang.String.class);
        dto.setClientId(clientIdOut);
      }

      if (json.has("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.has("ccRevision")) {
        JsonElement ccRevisionIn = json.<mark>get</mark>("ccRevision");
        int ccRevisionOut = ccRevisionIn.<mark>getAsInt</mark>();
        dto.setCcRevision(ccRevisionOut);
      }

      if (json.has("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.has("docOps2")) {
        JsonElement docOps2In = json.<mark>get</mark>("docOps2");
        java.util.ArrayList<java.lang.String> docOps2Out = null;
        if (docOps2In != null && !docOps2In.<mark>isJsonNull</mark>()) {
          docOps2Out = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> docOps2InIterator = docOps2In.<mark>getAsJsonArray</mark>().iterator();
          while (docOps2InIterator.hasNext()) {
            JsonElement docOps2In_ = docOps2InIterator.next();
            java.lang.String docOps2Out_ = gson.<mark>fromJson</mark>(docOps2In_, java.lang.String.class);
            docOps2Out.add(docOps2Out_);
          }
        }
        dto.setDocOps2(docOps2Out);
      }

      if (json.has("selection")) {
        JsonElement selectionIn = json.<mark>get</mark>("selection");
        DocumentSelectionImpl selectionOut = DocumentSelectionImpl.fromJsonElement(selectionIn);
        dto.setSelection(selectionOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____cloudstack_____HypervDirectConnectResource_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____cloudstack_____HypervDirectConnectResource.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson

    @Override
    public final Answer executeRequest(final Command cmd) {
        // Set HTTP POST destination URI
        // Using java.net.URI, see
        // http://docs.oracle.com/javase/1.5.0/docs/api/java/net/URI.html
        URI agentUri = null;
        final Class<? extends Command> clazz = cmd.getClass();
        Answer answer = null;
        try {
            final String cmdName = cmd.getClass().getName();
            agentUri =
                    new URI("https", null, _agentIp, _port,
                            "/api/HypervResource/" + cmdName, null, null);
        } catch (final URISyntaxException e) {
            // TODO add proper logging
            final String errMsg = "Could not generate URI for Hyper-V agent";
            s_logger.error(errMsg, e);
            return null;
        }
        if (cmd instanceof NetworkElementCommand) {
            return _vrResource.executeRequest((NetworkElementCommand)cmd);
        }if (clazz == CheckSshCommand.class) {
            answer = execute((CheckSshCommand)cmd);
        } else if (cmd instanceof NetworkUsageCommand) {
            answer = execute((NetworkUsageCommand)cmd);
        } else if (clazz == PingTestCommand.class) {
            answer = execute((PingTestCommand)cmd);
        } else if (clazz == PlugNicCommand.class) {
            answer = execute((PlugNicCommand)cmd);
        } else if (clazz == UnPlugNicCommand.class) {
            answer = execute((UnPlugNicCommand)cmd);
        } else if (clazz == CopyCommand.class) {
            answer = execute((CopyCommand)cmd);
        }
        else {
            if (clazz == StartCommand.class) {
                final VirtualMachineTO vmSpec = ((StartCommand)cmd).getVirtualMachine();
                if (vmSpec.getType() != VirtualMachine.Type.User) {
                    if (s_hypervMgr != null) {
                        final String secondary = s_hypervMgr.prepareSecondaryStorageStore(Long.parseLong(_zoneId));
                        if (secondary != null) {
                            ((StartCommand)cmd).setSecondaryStorage(secondary);
                        }
                    } else {
                        s_logger.error("Hyperv manager isn't available. Couldn't check and copy the systemvm iso.");
                    }
                }
            }

            // Send the cmd to hyperv agent.
            final String ansStr = postHttpRequest(s_gson.<mark>toJson</mark>(cmd), agentUri);
            if (ansStr == null) {
                return Answer.createUnsupportedCommandAnswer(cmd);
            }
            // Only Answer instances are returned by remote agents.
            // E.g. see Response.getAnswers()
            final Answer[] result = s_gson.<mark>fromJson</mark>(ansStr, Answer[].class);
            final String logResult = cleanPassword(s_gson.<mark>toJson</mark>(result));
            s_logger.debug("executeRequest received response " + logResult);
            if (result.length > 0) {
                return result[0];
            }
        }
        return answer;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_108.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static MavenConfigImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      MavenConfigImpl dto = new MavenConfigImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("projectId")) {
        JsonElement projectIdIn = json.<mark>get</mark>("projectId");
        java.lang.String projectIdOut = gson.<mark>fromJson</mark>(projectIdIn, java.lang.String.class);
        dto.setProjectId(projectIdOut);
      }

      if (json.<mark>has</mark>("pomPath")) {
        JsonElement pomPathIn = json.<mark>get</mark>("pomPath");
        java.lang.String pomPathOut = gson.<mark>fromJson</mark>(pomPathIn, java.lang.String.class);
        dto.setPomPath(pomPathOut);
      }

      if (json.<mark>has</mark>("warSource")) {
        JsonElement warSourceIn = json.<mark>get</mark>("warSource");
        java.lang.String warSourceOut = gson.<mark>fromJson</mark>(warSourceIn, java.lang.String.class);
        dto.setWarSource(warSourceOut);
      }

      if (json.<mark>has</mark>("sourceRoot")) {
        JsonElement sourceRootIn = json.<mark>get</mark>("sourceRoot");
        java.lang.String sourceRootOut = gson.<mark>fromJson</mark>(sourceRootIn, java.lang.String.class);
        dto.setSourceRoot(sourceRootOut);
      }

      if (json.<mark>has</mark>("warTarget")) {
        JsonElement warTargetIn = json.<mark>get</mark>("warTarget");
        java.lang.String warTargetOut = gson.<mark>fromJson</mark>(warTargetIn, java.lang.String.class);
        dto.setWarTar<mark>get</mark>(warTargetOut);
      }

      if (json.<mark>has</mark>("sourceFolders")) {
        JsonElement sourceFoldersIn = json.<mark>get</mark>("sourceFolders");
        java.util.ArrayList<java.lang.String> sourceFoldersOut = null;
        if (sourceFoldersIn != null && !sourceFoldersIn.<mark>isJsonNull</mark>()) {
          sourceFoldersOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> sourceFoldersInIterator = sourceFoldersIn.getAsJsonArray().iterator();
          while (sourceFoldersInIterator.hasNext()) {
            JsonElement sourceFoldersIn_ = sourceFoldersInIterator.next();
            java.lang.String sourceFoldersOut_ = gson.<mark>fromJson</mark>(sourceFoldersIn_, java.lang.String.class);
            sourceFoldersOut.add(sourceFoldersOut_);
          }
        }
        dto.setSourceFolders(sourceFoldersOut);
      }

      if (json.<mark>has</mark>("poms")) {
        JsonElement pomsIn = json.<mark>get</mark>("poms");
        java.util.ArrayList<java.lang.String> pomsOut = null;
        if (pomsIn != null && !pomsIn.<mark>isJsonNull</mark>()) {
          pomsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> pomsInIterator = pomsIn.getAsJsonArray().iterator();
          while (pomsInIterator.hasNext()) {
            JsonElement pomsIn_ = pomsInIterator.next();
            java.lang.String pomsOut_ = gson.<mark>fromJson</mark>(pomsIn_, java.lang.String.class);
            pomsOut.add(pomsOut_);
          }
        }
        dto.setPoms(pomsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____KrakenExchangeAdapter_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____KrakenExchangeAdapter.java

com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenTickerResult>>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenTickerResult>>.getType
com.google.gson.Gson.fromJson

    @Override
    public boolean cancelOrder(String orderId, String marketIdNotNeeded) throws TradingApiException, ExchangeNetworkException {

        ExchangeHttpResponse response = null;

        try {
            final Map<String, String> params = createRequestParamMap();
            params.put("txid", orderId);

            response = sendAuthenticatedRequestToExchange("CancelOrder", params);

            if (LOG.isDebugEnabled()) {
                LOG.debug("Cancel Order response: " + response);
            }

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final Type resultType = new TypeToken<KrakenResponse<KrakenCancelOrderResult>>() {
                }.<mark>getType</mark>();
                final KrakenResponse krakenResponse = gson.<mark>fromJson</mark>(response.getPayload(), resultType);

                final List<String> errors = krakenResponse.error;
                if (errors == null || errors.isEmpty()) {

                    // Assume we'll always get something here if errors array is empty; else blow fast wih NPE
                    final KrakenCancelOrderResult krakenCancelOrderResult = (KrakenCancelOrderResult) krakenResponse.result;
                    if (krakenCancelOrderResult != null) {
                        if (krakenCancelOrderResult.count > 0) {
                            return true;
                        } else {
                            final String errorMsg = FAILED_TO_CANCEL_ORDER + response;
                            LOG.error(errorMsg);
                            return false;
                        }
                    } else {
                        final String errorMsg = FAILED_TO_CANCEL_ORDER + response;
                        LOG.error(errorMsg);
                        return false;
                    }

                } else {

                    if (isExchangeUndergoingMaintenance(response) && keepAliveDuringMaintenance) {
                        LOG.warn(() -> UNDER_MAINTENANCE_WARNING_MESSAGE);
                        throw new ExchangeNetworkException(UNDER_MAINTENANCE_WARNING_MESSAGE);
                    }

                    final String errorMsg = FAILED_TO_CANCEL_ORDER + response;
                    LOG.error(errorMsg);
                    throw new TradingApiException(errorMsg);
                }

            } else {
                final String errorMsg = FAILED_TO_CANCEL_ORDER + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fluxtream_____fluxtream-app_____BodyTrackHelper_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/fluxtream_____fluxtream-app_____BodyTrackHelper.java

com.google.gson.Gson.fromJson


    public SourceInfo getSourceInfoObject(final Long guestId, final String deviceName){
        try{
            if (guestId == null)
                throw new IllegalArgumentException();
            long then = System.currentTimeMillis();
            final DataStoreExecutionResult dataStoreExecutionResult = executeDataStore("info",new Object[]{"-r",guestId});
            String result = dataStoreExecutionResult.getResponse();
            long now = System.currentTimeMillis();
            System.out.println("datastore execution time = " + (now-then)); then = now;

            // TODO: check statusCode in DataStoreExecutionResult
            ChannelInfoResponse infoResponse = gson.<mark>fromJson</mark>(result,ChannelInfoResponse.class);

            final Map<String, TimeInterval> photoChannelTimeRanges = photoService.getPhotoChannelTimeRanges(guestId, null);
            if (!photoChannelTimeRanges.isEmpty()) {
                final double defaultTimeForNullTimeIntervals = System.currentTimeMillis() / 1000;

                for (final String channelName : photoChannelTimeRanges.keySet()) {
                    final ChannelSpecs channelSpecs = new ChannelSpecs();
                    final TimeInterval timeInterval = photoChannelTimeRanges.get(channelName);

                    // mark this channel as a photo channel so that the grapher can properly render it as a photo channel
                    channelSpecs.channelType = PhotoService.DEFAULT_PHOTOS_CHANNEL_NAME;
                    final String[] connectorNameAndObjectTypeName = channelName.split("\\.");
                    if (connectorNameAndObjectTypeName.length > 1) {
                        channelSpecs.objectTypeName = connectorNameAndObjectTypeName[1];
                    }

                    channelSpecs.channel_bounds = new ChannelBounds();
                    if (timeInterval == null) {
                        channelSpecs.channel_bounds.min_time = defaultTimeForNullTimeIntervals;
                        channelSpecs.channel_bounds.max_time = defaultTimeForNullTimeIntervals;
                    }
                    else {
                        channelSpecs.channel_bounds.min_time = timeInterval.getStart() / 1000;
                        channelSpecs.channel_bounds.max_time = timeInterval.getEnd() / 1000;
                    }
                    channelSpecs.channel_bounds.min_value = .6;
                    channelSpecs.channel_bounds.max_value = 1;

                    infoResponse.channel_specs.put(channelName, channelSpecs);

                    if (timeInterval != null) {
                        // update the min/max times in ChannelInfoResponse and in the All photos channel
                        infoResponse.min_time = Math.min(infoResponse.min_time, channelSpecs.channel_bounds.min_time);
                        infoResponse.max_time = Math.max(infoResponse.max_time, channelSpecs.channel_bounds.max_time);
                    }
                }
            }

            SourceInfo response = new SourceInfo(infoResponse,deviceName);

            return response;
        }
        catch(Exception e){
            return new SourceInfo(null, null);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____ListenerService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____ListenerService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private void syncAlertTypeData(DataMap dataMap, Context context) {//KS
        Log.d(TAG, "syncAlertTypeData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncAlertTypeData add AlertType Table entries count=" + entries.size());
            Sensor.InitDb(context);//ensure database has already been initialized
            AlertType.remove_all();
            for (DataMap entry : entries) {
                if (entry != null) {
                    String alertrecord = entry.getString("alert");
                    if (alertrecord != null) {
                        AlertType data = gson.<mark>fromJson</mark>(alertrecord, AlertType.class);
                        AlertType exists = AlertType.get_alert(data.uuid);
                        if (exists != null) {
                            Log.d(TAG, "syncAlertTypeData AlertType exists for uuid=" + data.uuid + " name=" + data.name);
                            exists.name = data.name;
                            exists.active = data.active;
                            exists.volume = data.volume;
                            exists.vibrate = data.vibrate;
                            exists.light = data.light;
                            exists.override_silent_mode = data.override_silent_mode;
                            exists.predictive = data.predictive;
                            exists.time_until_threshold_crossed = data.time_until_threshold_crossed;
                            exists.above= data.above;
                            exists.threshold = data.threshold;
                            exists.all_day = data.all_day;
                            exists.start_time_minutes = data.start_time_minutes;
                            exists.end_time_minutes = data.end_time_minutes;
                            exists.minutes_between = data.minutes_between;
                            exists.default_snooze = data.default_snooze;
                            exists.text = data.text;
                            exists.mp3_file = data.mp3_file;
                            exists.save();
                        }
                        else {
                            data.save();
                            Log.d(TAG, "syncAlertTypeData AlertType does not exist for uuid=" + data.uuid);
                        }
                        exists = AlertType.get_alert(data.uuid);
                        if (exists != null)
                            Log.d(TAG, "syncAlertTypeData AlertType GSON saved BG: " + exists.toS());
                        else
                            Log.d(TAG, "syncAlertTypeData AlertType GSON NOT saved");
                    }
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____GeminiExchangeAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____GeminiExchangeAdapter.java

com.google.gson.Gson.fromJson

    @Override
    public String createOrder(String marketId, OrderType orderType, BigDecimal quantity, BigDecimal price) throws
            TradingApiException, ExchangeNetworkException {

        try {

            final Map<String, String> params = createRequestParamMap();

            params.put("symbol", marketId);

            // note we need to limit amount and price to 6 decimal places else exchange will barf with 400 response
            params.put("amount", new DecimalFormat("#.######", getDecimalFormatSymbols()).format(quantity));

            // Decimal precision of price varies with market price currency
            if (marketId.equals(MarketId.BTC_USD.getStringValue()) || marketId.equals(MarketId.ETH_USD.getStringValue())) {
                params.put("price", new DecimalFormat("#.##", getDecimalFormatSymbols()).format(price));
            } else if (marketId.equals(MarketId.ETH_BTC.getStringValue())) {
                params.put("price", new DecimalFormat("#.#####", getDecimalFormatSymbols()).format(price));
            } else {
                final String errorMsg = "Invalid market id: " + marketId
                        + " - Can only be "
                        + MarketId.BTC_USD.getStringValue() + " or "
                        + MarketId.ETH_USD.getStringValue() + " or "
                        + MarketId.ETH_BTC.getStringValue();
                LOG.error(errorMsg);
                throw new IllegalArgumentException(errorMsg);
            }

            if (orderType == OrderType.BUY) {
                params.put("side", "buy");
            } else if (orderType == OrderType.SELL) {
                params.put("side", "sell");
            } else {
                final String errorMsg = "Invalid order type: " + orderType
                        + " - Can only be "
                        + OrderType.BUY.getStringValue() + " or "
                        + OrderType.SELL.getStringValue();
                LOG.error(errorMsg);
                throw new IllegalArgumentException(errorMsg);
            }

            // this adapter only supports 'exchange limit' orders
            params.put("type", "exchange limit");

            // This adapter does not currently support options
            //params.put("options", "not supported");

            final ExchangeHttpResponse response = sendAuthenticatedRequestToExchange("order/new", params);
            LOG.debug(() -> "Create Order response: " + response);

            final GeminiOpenOrder createOrderResponse = gson.<mark>fromJson</mark>(response.getPayload(), GeminiOpenOrder.class);
            final long id = createOrderResponse.order_id;
            if (id == 0) {
                final String errorMsg = "Failed to place order on exchange. Error response: " + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            } else {
                return Long.toString(createOrderResponse.order_id);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____KrakenExchangeAdapter_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____KrakenExchangeAdapter.java

com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenTickerResult>>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenTickerResult>>.getType
com.google.gson.Gson.fromJson

    @Override
    public BalanceInfo getBalanceInfo() throws TradingApiException, ExchangeNetworkException {

        ExchangeHttpResponse response = null;

        try {

            response = sendAuthenticatedRequestToExchange("Balance", null);

            if (LOG.isDebugEnabled()) {
                LOG.debug("Balance Info response: " + response);
            }

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final Type resultType = new TypeToken<KrakenResponse<KrakenBalanceResult>>() {
                }.<mark>getType</mark>();
                final KrakenResponse krakenResponse = gson.<mark>fromJson</mark>(response.getPayload(), resultType);

                if (krakenResponse != null) {
                    final List<String> errors = krakenResponse.error;
                    if (errors == null || errors.isEmpty()) {

                        // Assume we'll always get something here if errors array is empty; else blow fast wih NPE
                        final KrakenBalanceResult balanceResult = (KrakenBalanceResult) krakenResponse.result;

                        final Map<String, BigDecimal> balancesAvailable = new HashMap<>();
                        final Set<Map.Entry<String, BigDecimal>> entries = balanceResult.entrySet();
                        for (final Map.Entry<String, BigDecimal> entry : entries) {
                            balancesAvailable.put(entry.getKey(), entry.getValue());
                        }

                        // 2nd arg of BalanceInfo constructor for reserved/on-hold balances is not provided by exchange.
                        return new BalanceInfoImpl(balancesAvailable, new HashMap<>());

                    } else {

                        if (isExchangeUndergoingMaintenance(response) && keepAliveDuringMaintenance) {
                            LOG.warn(() -> UNDER_MAINTENANCE_WARNING_MESSAGE);
                            throw new ExchangeNetworkException(UNDER_MAINTENANCE_WARNING_MESSAGE);
                        }

                        final String errorMsg = FAILED_TO_GET_BALANCE + response;
                        LOG.error(errorMsg);
                        throw new TradingApiException(errorMsg);
                    }
                } else {
                    final String errorMsg = FAILED_TO_GET_BALANCE + response;
                    LOG.error(errorMsg);
                    throw new TradingApiException(errorMsg);
                }

            } else {
                final String errorMsg = FAILED_TO_GET_BALANCE + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jclouds_____jclouds_____ChefParserModule_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jclouds_____jclouds_____ChefParserModule.java

com.google.gson.Gson.fromJson

      @Override
      protected DatabagItem createJsonLiteralFromRawJson(String text) {
         IdHolder idHolder = gson.<mark>fromJson</mark>(text, IdHolder.class);
         checkState(idHolder.id != null,
               "databag item must be a json hash ex. {\"id\":\"item1\",\"my_key\":\"my_data\"}; was %s", text);
         text = text.replaceFirst(String.format("\\{\"id\"[ ]?:\"%s\",", idHolder.id), "{");
         return new DatabagItem(idHolder.id, text);
      }

      @Override
      protected String toString(DatabagItem value) {
         String text = value.toString();

         try {
            IdHolder idHolder = gson.<mark>fromJson</mark>(text, IdHolder.class);
            if (idHolder.id == null) {
               text = text.replaceFirst("\\{", String.format("{\"id\":\"%s\",", value.getId()));
            } else {
               checkArgument(value.getId().equals(idHolder.id),
                     "incorrect id in databagItem text, should be %s: was %s", value.getId(), idHolder.id);
            }
         } catch (JsonSyntaxException e) {
            throw new IllegalArgumentException(e);
         }

         return text;
      }
   }

   private static class IdHolder {
      private String id;
   }

   private static final class KeepLastRepeatedKeyMapTypeAdapter<K, V>
         extends NullFilteringTypeAdapterFactories.MapTypeAdapter<K, V> {

      protected KeepLastRepeatedKeyMapTypeAdapter(TypeAdapter<K> keyAdapter, TypeAdapter<V> valueAdapter) {
         super(keyAdapter, valueAdapter);
      }

      @Override
      public Map<K, V> read(JsonReader in) throws IOException {
         if (in.peek() == JsonToken.NULL) {
            in.nextNull();
            return null;
         }
         Map<K, V> result = Maps.newHashMap();
         in.beginObject();
         while (in.hasNext()) {
            JsonReaderInternalAccess.INSTANCE.promoteNameToValue(in);
            K name = keyAdapter.read(in);
            V value = valueAdapter.read(in);
            if (value != null) {
               // If there are repeated keys, overwrite them to only keep the
               // last one
               result.put(name, value);
            }
         }
         in.endObject();
         return ImmutableMap.copyOf(result);
      }
   }

   public static class KeepLastRepeatedKeyMapTypeAdapterFactory extends MapTypeAdapterFactory {

      public KeepLastRepeatedKeyMapTypeAdapterFactory() {
         super(Map.class);
      }

      @SuppressWarnings("unchecked")
      @Override
      protected <K, V, T> TypeAdapter<T> newAdapter(TypeAdapter<K> keyAdapter, TypeAdapter<V> valueAdapter) {
         return (TypeAdapter<T>) new KeepLastRepeatedKeyMapTypeAdapter<K, V>(keyAdapter, valueAdapter);
      }
   }
   
   @Provides
   @Singleton
   public final Map<Type, Object> provideCustomAdapterBindings(DataBagItemAdapter adapter, PrivateKeyAdapter privateAdapter,
         PublicKeyAdapter publicAdapter, X509CertificateAdapter certAdapter) {
      return ImmutableMap.<Type, Object> of(DatabagItem.class, adapter, PrivateKey.class, privateAdapter,
            PublicKey.class, publicAdapter, X509Certificate.class, certAdapter);
   }

   @Override
   protected void configure() {
      bind(DateAdapter.class).to(Iso8601DateAdapter.class);
      bind(MapTypeAdapterFactory.class).to(KeepLastRepeatedKeyMapTypeAdapterFactory.class);
   }
}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____intellij-community_____IpnbParser_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/JetBrains_____intellij-community_____IpnbParser.java

com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsString
com.google.gson.JsonElement.getAsInt

    @Override
    public IpnbFileRaw deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {
      JsonObject object = json.<mark>getAsJsonObject</mark>();
      IpnbFileRaw fileRaw = new IpnbFileRaw();

      JsonElement worksheets = object.<mark>get</mark>("worksheets");
      if (worksheets != null) {
        fileRaw.worksheets = gson.<mark>fromJson</mark>(worksheets, new TypeToken<List<IpnbWorksheet>>(){}.getType());
      }

      JsonElement cellsElement = object.<mark>get</mark>("cells");
      if (cellsElement != null) {
        fileRaw.cells = gson.<mark>fromJson</mark>(cellsElement, new TypeToken<List<IpnbCellRaw>>(){}.getType());
      }

      JsonElement metadataElement = object.<mark>get</mark>("metadata");
      if (metadataElement != null) {
        LinkedTreeMap<String, Object> metadataMap = gson.<mark>fromJson</mark>(metadataElement, new TypeToken<Map<String, Object>>(){}.getType());

        JsonElement kernelInfo = metadataElement.<mark>getAsJsonObject</mark>().<mark>get</mark>("kernel_info");
        if (kernelInfo != null) {
          metadataMap.put("kernel_info", gson.<mark>fromJson</mark>(kernelInfo, new TypeToken<Map<String, String>>() {}.getType()));
        }

        JsonElement languageInfo = metadataElement.<mark>getAsJsonObject</mark>().<mark>get</mark>("language_info");
        if (languageInfo != null) {
          LinkedTreeMap<String, Object> languageInfoMap = gson.<mark>fromJson</mark>(languageInfo, new TypeToken<Map<String, Object>>() {}.getType());
          JsonElement codemirrorMode = languageInfo.<mark>getAsJsonObject</mark>().<mark>get</mark>("codemirror_mode");
          if (codemirrorMode != null) {
            LinkedTreeMap<String, Object> codemirrorModeMap = gson.<mark>fromJson</mark>(codemirrorMode, new TypeToken<Map<String, String>>() {}.getType());
            if (codemirrorModeMap.containsKey("version")) {

              String version = (String)codemirrorModeMap.<mark>get</mark>("version");
              if (NumberUtils.isNumber(version)) {
                try {
                  codemirrorModeMap.put("version", Integer.parseInt(version));
                }
                catch (NumberFormatException e) {
                  // added this to obtain backward compatibility as previously we parsed "version" as double.
                  codemirrorModeMap.put("version", (int) Double.parseDouble(version));
                }
              }
            }
            languageInfoMap.put("codemirror_mode", codemirrorModeMap);
          }
          metadataMap.put("language_info", languageInfoMap);
        }

        fileRaw.metadata = metadataMap;
      }

      JsonElement nbformat = object.<mark>get</mark>("nbformat");
      if (nbformat != null) {
        fileRaw.nbformat = nbformat.<mark>getAsInt</mark>();
      }

      JsonElement nbformatMinor = object.<mark>get</mark>("nbformat_minor");
      if (nbformatMinor != null) {
        fileRaw.nbformat_minor = nbformatMinor.<mark>getAsInt</mark>();
      }

      return fileRaw;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HeliosHandler221_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HeliosHandler221.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    private void triggerSwitch(String id) {
        if (getThing().getStatus() == ThingStatus.ONLINE) {
            switchTarget = baseTarget.path(SWITCH_PATH);

            Response response = null;
            try {
                response = switchTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", CONTROL)
                        .queryParam("switch", id).queryParam("action", "trigger")
                        .request(MediaType.APPLICATION_JSON_TYPE).<mark>get</mark>();
            } catch (NullPointerException e) {
                logger.debug("An exception occurred while triggering a switch  on the Helios IP Vario '{}' : '{}'",
                        getThing().getUID().toString(), e.getMessage(), e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, e.getMessage());
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }

            if (response != null) {
                JsonObject jsonObject = parser.<mark>parse</mark>(response.readEntity(String.class)).getAsJsonObject();

                if (logger.isTraceEnabled()) {
                    logger.trace("triggerSwitch() Request : {}",
                            switchTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", CONTROL)
                                    .queryParam("switch", id).queryParam("action", "trigger").getUri().toASCIIString());
                    if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                        logger.trace("triggerSwitch() Response: {}", jsonObject.<mark>get</mark>("result"));
                    }
                    if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                        logger.trace("triggerSwitch() Response: {}", jsonObject.<mark>get</mark>("error"));
                    }
                }

                if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                    logger.debug("Successfully triggered a switch on the Helios IP Vario '{}'",
                            getThing().getUID().toString());
                } else {
                    RESTError error = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("error").toString(), RESTError.class);
                    logger.error(
                            "An error occurred while communicating with the Helios IP Vario '{}' : code '{}', param '{}' : '{}'",
                            getThing().getUID().toString(), error.code, error.param, error.description);
                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                            error.code + ":" + error.param + ":" + error.description);
                    scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                    return;
                }
            } else {
                logger.warn("An error occurred while triggering a switch on the Helios IP Vario '{}'",
                        getThing().getUID().toString());
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR);
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>JetBrains_____intellij-community_____IpnbParser_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/JetBrains_____intellij-community_____IpnbParser.java

com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.get
com.google.gson.reflect.TypeToken<java.util.List<org.jetbrains.plugins.ipnb.format.IpnbParser.IpnbWorksheet>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.jetbrains.plugins.ipnb.format.IpnbParser.IpnbWorksheet>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.reflect.TypeToken<java.util.List<org.jetbrains.plugins.ipnb.format.IpnbParser.IpnbCellRaw>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.List<org.jetbrains.plugins.ipnb.format.IpnbParser.IpnbCellRaw>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.String>>.getType
com.google.gson.Gson.fromJson
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.put
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.String>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.String>>.getType
com.google.gson.Gson.fromJson
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.containsKey
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.get
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.put
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.put
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.put
com.google.gson.internal.LinkedTreeMap<java.lang.String,java.lang.Object>.put
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt

  @NotNull
  public static IpnbFile parseIpnbFile(@NotNull final CharSequence fileText, @NotNull final VirtualFile virtualFile) {
    myErrors.clear();

    final String path = virtualFile.getPath();
    IpnbFileRaw rawFile = gson.<mark>fromJson</mark>(fileText.toString(), IpnbFileRaw.class);
    if (rawFile == null) {
      int nbformat = isIpythonNewFormat(virtualFile) ? 4 : 3;
      return new IpnbFile(new HashMap<>(), nbformat, 0, Lists.newArrayList(), path);
    }
    List<IpnbCell> cells = new ArrayList<>();
    final List<IpnbWorksheet> worksheets = rawFile.worksheets;
    if (worksheets == null) {
      for (IpnbCellRaw rawCell : rawFile.cells) {
        cells.add(rawCell.createCell(validateSource(rawCell)));
      }
    }
    else {
      for (IpnbWorksheet worksheet : worksheets) {
        final List<IpnbCellRaw> rawCells = worksheet.cells;
        for (IpnbCellRaw rawCell : rawCells) {
          cells.add(rawCell.createCell(validateSource(rawCell)));
        }
      }
    }
    showValidationMessage();
    return new IpnbFile(rawFile.metadata, rawFile.nbformat, rawFile.nbformat_minor, cells, path);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_33.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson


    public static DirInfoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      DirInfoImpl dto = new DirInfoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("subDirectories")) {
        JsonElement subDirectoriesIn = json.<mark>get</mark>("subDirectories");
        java.util.ArrayList<DirInfoImpl> subDirectoriesOut = null;
        if (subDirectoriesIn != null && !subDirectoriesIn.<mark>isJsonNull</mark>()) {
          subDirectoriesOut = new java.util.ArrayList<DirInfoImpl>();
          java.util.Iterator<JsonElement> subDirectoriesInIterator = subDirectoriesIn.<mark>getAsJsonArray</mark>().iterator();
          while (subDirectoriesInIterator.hasNext()) {
            JsonElement subDirectoriesIn_ = subDirectoriesInIterator.next();
            DirInfoImpl subDirectoriesOut_ = DirInfoImpl.fromJsonElement(subDirectoriesIn_);
            subDirectoriesOut.add(subDirectoriesOut_);
          }
        }
        dto.setSubDirectories(subDirectoriesOut);
      }

      if (json.<mark>has</mark>("isComplete")) {
        JsonElement isCompleteIn = json.<mark>get</mark>("isComplete");
        boolean isCompleteOut = isCompleteIn.getAsBoolean();
        dto.setIsComplete(isCompleteOut);
      }

      if (json.<mark>has</mark>("files")) {
        JsonElement filesIn = json.<mark>get</mark>("files");
        java.util.ArrayList<FileInfoImpl> filesOut = null;
        if (filesIn != null && !filesIn.<mark>isJsonNull</mark>()) {
          filesOut = new java.util.ArrayList<FileInfoImpl>();
          java.util.Iterator<JsonElement> filesInIterator = filesIn.<mark>getAsJsonArray</mark>().iterator();
          while (filesInIterator.hasNext()) {
            JsonElement filesIn_ = filesInIterator.next();
            FileInfoImpl filesOut_ = FileInfoImpl.fromJsonElement(filesIn_);
            filesOut.add(filesOut_);
          }
        }
        dto.setFiles(filesOut);
      }

      if (json.<mark>has</mark>("isPackage")) {
        JsonElement isPackageIn = json.<mark>get</mark>("isPackage");
        boolean isPackageOut = isPackageIn.getAsBoolean();
        dto.setIsPackage(isPackageOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("nodeType")) {
        JsonElement nodeTypeIn = json.<mark>get</mark>("nodeType");
        int nodeTypeOut = nodeTypeIn.getAsInt();
        dto.setNodeType(nodeTypeOut);
      }

      if (json.<mark>has</mark>("name")) {
        JsonElement nameIn = json.<mark>get</mark>("name");
        java.lang.String nameOut = gson.<mark>fromJson</mark>(nameIn, java.lang.String.class);
        dto.setName(nameOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.fromJson


	private Object modifyGroup(String userId, String groupId, String ip, String body) {
		HueError[] theErrors = null;
		log.debug("group modify requested from " + ip + " user " + userId + " with body " + body);
		theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors == null) {
			if(bridgeSettingMaster.getBridgeSecurity().isSettingsChanged())
				bridgeSettingMaster.updateConfigFile();

			GroupDescriptor group = groupRepository.findOne(groupId);
			if (group == null || group.isInactive()) {
				return aGsonHandler.toJson(HueErrorResponse.createResponse("3", "/groups/" + groupId,
					"resource, /groups/" + groupId + ", not available", null, null, null).getTheErrors(), HueError[].class);	
			} else {
				String successString = "[";
				GroupResponse theGroup = null;
				try {
					theGroup = aGsonHandler.<mark>fromJson</mark>(body, GroupResponse.class);
				} catch (Exception e) {
					theGroup = null;
				}
				if (theGroup == null) {
					log.warn("Could not parse modify group body. Group unchanged.");
					return aGsonHandler.toJson(HueErrorResponse.createResponse("5", "/groups/lights",
							"invalid/missing parameters in body", null, null, null).getTheErrors(), HueError[].class);
				}

				String groupClass = theGroup.getClass_name();
				String name = theGroup.getName();
				if (!(name == null || name.trim().equals(""))) {
					group.setName(name);
					successString += "{\"success\":{\"/groups/" + groupId + "/name\":\"" + name + "\"}},";
				}
				if (!group.getGroupType().equals("Room")) {
					if (!(groupClass == null || groupClass.trim().equals(""))) {
						return aGsonHandler.toJson(HueErrorResponse.createResponse("6", "/groups/" + groupId + "/class",
							"parameter, /groups/" + groupId + "/class, not available", null, null, null).getTheErrors(), HueError[].class);
					}
					if (theGroup.getLights() != null) {
						if (theGroup.getLights().length == 0) {
							return aGsonHandler.toJson(HueErrorResponse.createResponse("7", "/groups/" + groupId + "/lights",
							"invalid value, " + Arrays.toString(theGroup.getLights()) + ", for parameter, /groups" + groupId + "/lights", null, null, null).getTheErrors(), HueError[].class);		
						} else {
							group.setLights(theGroup.getLights());
							successString += "{\"success\":{\"/groups/" + groupId + "/lights\":\"" +  Arrays.toString(theGroup.getLights()) + "\"}},";
						}
					}
				} else { // check room class if it's a room
					if (!(groupClass == null || groupClass.trim().equals(""))) {
						if (!new GroupClassTypes().validateType(groupClass)) {
							return aGsonHandler.toJson(HueErrorResponse.createResponse("7", "/groups/class",
							"invalid value, " + groupClass + ", for parameter, class", null, null, null).getTheErrors(), HueError[].class);		
						} else {
							group.setGroupClass(groupClass);
							successString += "{\"success\":{\"/groups/" + groupId + "/class\":\"" + groupClass + "\"}},";
						}
					}

					if (theGroup.getLights() != null) {
						group.setLights(theGroup.getLights());
							successString += "{\"success\":{\"/groups/" + groupId + "/lights\":\"" +  Arrays.toString(theGroup.getLights()) + "\"}},";
					}
				}
				
				groupRepository.save();
				return (successString.length() == 1) ? "[]" : successString.substring(0, successString.length()-1) + "]";
			}
		}
		return theErrors;
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Udinic_____SyncAdapter_____ParseComServerAccessor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Udinic_____SyncAdapter_____ParseComServerAccessor.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

public class ParseComServerAccessor {
    public List<TvShow> getShows(String auth) throws Exception {

        Log.d("udini", "getShows auth[" + auth + "]");

        DefaultHttpClient httpClient = new DefaultHttpClient();
        String url = "https://api.parse.com/1/classes/tvshows";

        HttpGet httpGet = new HttpGet(url);
        for (Header header : getAppParseComHeaders()) {
            httpGet.addHeader(header);
        }
        httpGet.addHeader("X-Parse-Session-Token", auth); // taken from https://parse.com/questions/how-long-before-the-sessiontoken-expires

        try {
            HttpResponse response = httpClient.execute(httpGet);

            String responseString = EntityUtils.toString(response.getEntity());
            Log.d("udini", "getShows> Response= " + responseString);

            if (response.getStatusLine().getStatusCode() != HttpURLConnection.HTTP_OK) {
                ParseComServer.ParseComError error = <mark>new Gson</mark>().<mark>fromJson</mark>(responseString, ParseComServer.ParseComError.class);
                throw new Exception("Error retrieving tv shows ["+error.code+"] - " + error.error);
            }

            TvShows shows = <mark>new Gson</mark>().<mark>fromJson</mark>(responseString, TvShows.class);
            return shows.results;

        } catch (IOException e) {
            e.printStackTrace();
        }

        return new ArrayList<TvShow>();
    }

    public void putShow(String authtoken, String userId, TvShow showToAdd) throws Exception {

        Log.d("udinic", "putShow ["+showToAdd.name+"]");

        DefaultHttpClient httpClient = new DefaultHttpClient();
        String url = "https://api.parse.com/1/classes/tvshows";

        HttpPost httpPost = new HttpPost(url);

        for (Header header : getAppParseComHeaders()) {
            httpPost.addHeader(header);
        }
        httpPost.addHeader("X-Parse-Session-Token", authtoken); // taken from https://parse.com/questions/how-long-before-the-sessiontoken-expires
        httpPost.addHeader("Content-Type", "application/json");

        JSONObject tvShow = new JSONObject();
        tvShow.put("name", showToAdd.name);
        tvShow.put("year", showToAdd.year);

        // Creating ACL JSON object for the current user
        JSONObject acl = new JSONObject();
        JSONObject aclEveryone = new JSONObject();
        JSONObject aclMe = new JSONObject();
        aclMe.put("read", true);
        aclMe.put("write", true);
        acl.put(userId, aclMe);
        acl.put("*", aclEveryone);
        tvShow.put("ACL", acl);

        String request = tvShow.toString();
        Log.d("udinic", "Request = " + request);
        httpPost.setEntity(new StringEntity(request,"UTF-8"));

        try {
            HttpResponse response = httpClient.execute(httpPost);
            String responseString = EntityUtils.toString(response.getEntity());
            if (response.getStatusLine().getStatusCode() != 201) {
                ParseComServer.ParseComError error = <mark>new Gson</mark>().<mark>fromJson</mark>(responseString, ParseComServer.ParseComError.class);
                throw new Exception("Error posting tv shows ["+error.code+"] - " + error.error);
            } else {
//                Log.d("udini", "Response string = " + responseString);
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private class TvShows implements Serializable {
        List<TvShow> results;
    }

}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____KrakenExchangeAdapter_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____KrakenExchangeAdapter.java

com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenCancelOrderResult>>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenCancelOrderResult>>.getType
com.google.gson.Gson.fromJson

    @Override
    public String createOrder(String marketId, OrderType orderType, BigDecimal quantity, BigDecimal price) throws
            TradingApiException, ExchangeNetworkException {

        ExchangeHttpResponse response = null;

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("pair", marketId);

            if (orderType == OrderType.BUY) {
                params.put("type", "buy");
            } else if (orderType == OrderType.SELL) {
                params.put("type", "sell");
            } else {
                final String errorMsg = "Invalid order type: " + orderType
                        + " - Can only be "
                        + OrderType.BUY.getStringValue() + " or "
                        + OrderType.SELL.getStringValue();
                LOG.error(errorMsg);
                throw new IllegalArgumentException(errorMsg);
            }

            params.put("ordertype", "limit"); // this exchange adapter only supports limit orders
            params.put("price", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(price));
            params.put("volume", new DecimalFormat("#.########", getDecimalFormatSymbols()).format(quantity));

            response = sendAuthenticatedRequestToExchange("AddOrder", params);

            if (LOG.isDebugEnabled()) {
                LOG.debug("Create Order response: " + response);
            }

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final Type resultType = new TypeToken<KrakenResponse<KrakenAddOrderResult>>() {
                }.<mark>getType</mark>();
                final KrakenResponse krakenResponse = gson.<mark>fromJson</mark>(response.getPayload(), resultType);

                final List<String> errors = krakenResponse.error;
                if (errors == null || errors.isEmpty()) {

                    // Assume we'll always get something here if errors array is empty; else blow fast wih NPE
                    final KrakenAddOrderResult krakenAddOrderResult = (KrakenAddOrderResult) krakenResponse.result;

                    // Just return the first one. Why an array?
                    return krakenAddOrderResult.txid.get(0);

                } else {

                    if (isExchangeUndergoingMaintenance(response) && keepAliveDuringMaintenance) {
                        LOG.warn(() -> UNDER_MAINTENANCE_WARNING_MESSAGE);
                        throw new ExchangeNetworkException(UNDER_MAINTENANCE_WARNING_MESSAGE);
                    }

                    final String errorMsg = FAILED_TO_ADD_ORDER + response;
                    LOG.error(errorMsg);
                    throw new TradingApiException(errorMsg);
                }

            } else {
                final String errorMsg = FAILED_TO_ADD_ORDER + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vmware_____admiral_____ClosuresNodeJsIT_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/vmware_____admiral_____ClosuresNodeJsIT.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJsonTree
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @Test
    public void executeJSObjectParametersTest() throws Throwable {
        // Create Closure Definition
        ClosureDescription closureDescState = new ClosureDescription();
        closureDescState.name = "test";

        TestObject expectedInVar = new TestObject();
        expectedInVar.strTest = "test";
        expectedInVar.intTest = 1;
        expectedInVar.boolTest = true;
        int expectedOutVar = 3;
        String expectedResult = expectedInVar.strTest + "_changed";

        closureDescState.source = "module.exports = function test(context) {"
                + " var x = context.inputs.a;"
                + " console.log('Hello object: ' + x.strTest);"
                + " x.strTest = x.strTest + '_changed';"
                + " x.intTest = x.intTest + 1; x.boolTest = !x.boolTest;"
                + " context.outputs.result = x;"
                + "};";
        closureDescState.runtime = RUNTIME_NODEJS_4;
        closureDescState.outputNames = new ArrayList<>(Collections.singletonList("result"));
        ResourceConstraints constraints = new ResourceConstraints();
        constraints.timeoutSeconds = 4;
        closureDescState.resources = constraints;

        String taskDefPayload = Utils.toJson(closureDescState);
        ClosureDescription closureDescription = createClosureDescription(taskDefPayload,
                serviceClient);
        assertNotNull(closureDescription);

        // Create Closure
        Closure createdClosure = createClosure(closureDescription, serviceClient);
        assertEquals(closureDescription.documentSelfLink, createdClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.CREATED, createdClosure.state);

        // Execute the created Closure
        Closure closureRequest = new Closure();
        Map inputs = new HashMap<>();
        Gson gson = <mark>new Gson</mark>();
        inputs.put("a", gson.<mark>toJsonTree</mark>(expectedInVar));
        closureRequest.inputs = inputs;

        executeClosure(createdClosure, closureRequest, serviceClient);

        // Wait for the completion timeout
        waitForBuildCompletion(IMAGE_NAME, closureDescription);

        waitForTaskState(createdClosure.documentSelfLink, TaskState.TaskStage.FINISHED,
                serviceClient);

        Closure fetchedClosure = getClosure(createdClosure.documentSelfLink, serviceClient);

        assertEquals(closureDescription.documentSelfLink, fetchedClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.FINISHED, fetchedClosure.state);

        verifyRunDuration(fetchedClosure);

        JsonObject inObj = fetchedClosure.inputs.get("a").getAsJsonObject();

        Gson json = <mark>new Gson</mark>();
        TestObject deserialObj = json.<mark>fromJson</mark>(inObj, TestObject.class);

        assertEquals(expectedInVar.strTest, deserialObj.strTest);
        assertEquals(expectedInVar.intTest, deserialObj.intTest);
        assertEquals(expectedInVar.boolTest, deserialObj.boolTest);

        JsonObject jsonResultObj = fetchedClosure.outputs.get("result").getAsJsonObject();
        TestObject resultObj = json.<mark>fromJson</mark>(jsonResultObj, TestObject.class);

        assertEquals(expectedResult, resultObj.strTest);
        assertEquals(expectedInVar.intTest + 1, resultObj.intTest);
        assertEquals(!expectedInVar.boolTest, resultObj.boolTest);

        cleanResource(createdClosure.documentSelfLink, serviceClient);
        cleanResource(closureDescription.documentSelfLink, serviceClient);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HeliosHandler221_8.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HeliosHandler221.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    private void enableSwitch(String id, boolean flag) {
        if (getThing().getStatus() == ThingStatus.ONLINE) {
            switchTarget = baseTarget.path(SWITCH_PATH);

            Response response = null;
            try {
                response = switchTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", CONTROL)
                        .queryParam("switch", id).queryParam("action", flag ? "on" : "off")
                        .request(MediaType.APPLICATION_JSON_TYPE).<mark>get</mark>();
            } catch (NullPointerException e) {
                logger.error("An exception occurred while dis/enabling a switch  on the Helios IP Vario '{}' : '{}'",
                        getThing().getUID().toString(), e.getMessage(), e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, e.getMessage());
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }

            if (response != null) {
                JsonObject jsonObject = parser.<mark>parse</mark>(response.readEntity(String.class)).getAsJsonObject();

                if (logger.isTraceEnabled()) {
                    logger.trace("enableSwitch() Request : {}",
                            switchTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", CONTROL)
                                    .queryParam("switch", id).queryParam("action", flag ? "on" : "off").getUri()
                                    .toASCIIString());
                    if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                        logger.trace("enableSwitch() Response: {}", jsonObject.<mark>get</mark>("result"));
                    }
                    if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                        logger.trace("enableSwitch() Response: {}", jsonObject.<mark>get</mark>("error"));
                    }
                }

                if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                    logger.debug("Successfully dis/enabled a  switch on the Helios IP Vario '{}'",
                            getThing().getUID().toString());
                } else {
                    RESTError error = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("error").toString(), RESTError.class);
                    logger.error(
                            "An error occurred while communicating with the Helios IP Vario '{}': code '{}', param '{}' : '{}'",
                            getThing().getUID().toString(), error.code, error.param, error.description);
                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                            error.code + ":" + error.param + ":" + error.description);
                    scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                    return;
                }
            } else {
                logger.warn("An error occurred while dis/enabling a switch on the Helios IP Vario '{}'",
                        getThing().getUID().toString());
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR);
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HeliosHandler221_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HeliosHandler221.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    private void unsubscribe() {
        if (getThing().getStatus() == ThingStatus.ONLINE) {
            logTarget = baseTarget.path(LOG_PATH);

            Response response = null;
            try {
                response = logTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", UNSUBSCRIBE)
                        .queryParam("id", logSubscriptionID).request(MediaType.APPLICATION_JSON_TYPE).<mark>get</mark>();
            } catch (Exception e) {
                logger.debug(
                        "An exception occurred while unsubscribing from the log entries of the Helios IP Vario '{}' : {}",
                        getThing().getUID().toString(), e.getMessage(), e);
                logSubscriptionID = 0;
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, e.getMessage());
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }

            if (response != null) {
                JsonObject jsonObject = parser.<mark>parse</mark>(response.readEntity(String.class)).getAsJsonObject();

                if (logger.isTraceEnabled()) {
                    logger.trace("unsubscribe() Request : {}",
                            logTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", UNSUBSCRIBE)
                                    .queryParam("id", logSubscriptionID).getUri().toASCIIString());
                    if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                        logger.trace("unsubscribe() Response: {}", jsonObject.<mark>get</mark>("result"));
                    }
                    if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                        logger.trace("unsubscribe() Response: {}", jsonObject.<mark>get</mark>("error"));
                    }
                }

                if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                    logger.debug("Successfully unsubscribed from the log entries of the Helios IP Vario '{}'",
                            getThing().getUID().toString());
                } else {
                    RESTError error = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("error").toString(), RESTError.class);
                    logger.debug(
                            "An error occurred while communicating with the Helios IP Vario '{}' : code '{}', param '{}' : '{}'",
                            getThing().getUID().toString(), error.code, error.param, error.description);
                    logSubscriptionID = 0;
                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                            error.code + ":" + error.param + ":" + error.description);
                    scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                    return;
                }
            } else {
                logger.debug("An error occurred while unsubscribing from the log entries of the Helios IP Vario '{}'",
                        getThing().getUID().toString());
                logSubscriptionID = 0;
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR);
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>MinecraftForge_____ForgeGradle_____JenkinsChangelog_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/MinecraftForge_____ForgeGradle_____JenkinsChangelog.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

    @SuppressWarnings("unchecked")
    private List<Map<String, Object>> getBuildInfo()
    {
        String data = null;
        try
        {
            boolean versioned = false;
            data = read("/api/python?tree=allBuilds[result,number,actions[text],changeSet[items[author[fullName],comment]]]");//&pretty=true");
            data = data.replace("\"result\":None", "\"result\":\"\"");
            data = cleanJson(data, "None"); //This kills Gson for some reason
            data = cleanJson(data, "{}"); //Empty entries, just for sanities sake

            List<Map<String, Object>> json = (List<Map<String, Object>>) <mark>new Gson</mark>().<mark>fromJson</mark>(data, Map.class).get("allBuilds");
            Collections.sort(json, new Comparator<Map<String, Object>>()
            {
                @Override
                public int compare(Map<String, Object> o1, Map<String, Object> o2)
                {
                    return (int) ((Double) o1.get("number") - (Double) o2.get("number"));
                }

            });

            List<Entry<String, String>> items = new ArrayList<Entry<String, String>>();
            Iterator<Map<String, Object>> bitr = json.iterator();
            while (bitr.hasNext())
            {
                Map<String, Object> build = bitr.next();

                List<Map<String, String>> actions = (List<Map<String, String>>) build.get("actions");
                Iterator<Map<String, String>> itr = actions.iterator();
                while (itr.hasNext())
                {
                    Map<String, String> map = itr.next();
                    if (!map.containsKey("text") ||
                        map.get("text").contains("http") ||
                        map.get("text").contains("href="))
                    {
                        itr.remove();
                    }
                }

                if (actions.size() == 0)
                {
                    build.put("version", versioned ? ((Double) build.get("number")).intValue() : getProject().getVersion());
                    versioned = true;
                }
                else
                {
                    build.put("version", actions.get(0).get("text"));
                }

                for (Map<String, Object> e : (List<Map<String, Object>>) ((Map<String, Object>) build.get("changeSet")).get("items"))
                {
                    items.add(new MapEntry(((Map<String, String>) e.get("author")).get("fullName"), e.get("comment")));
                }
                build.put("items", items);

                if (build.get("result").equals("SUCCESS"))
                {
                    if (items.size() == 0)
                        bitr.remove();
                    items = new ArrayList<Entry<String, String>>();
                }
                else
                {
                    bitr.remove();
                }

                build.remove("result");
                build.remove("changeSet");
                build.remove("actions");
            }
            //prettyPrint(json);
            Collections.sort(json, new Comparator<Map<String, Object>>()
            {
                @Override
                public int compare(Map<String, Object> o1, Map<String, Object> o2)
                {
                    return (int) ((Double) o2.get("number") - (Double) o1.get("number"));
                }

            });
            return json;
        }
        catch (Exception e)
        {
            e.printStackTrace();
            getLogger().lifecycle(data);
        }
        return new ArrayList<Map<String, Object>>();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>capergroup_____bayou_____DataSanityChecker_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/capergroup_____bayou_____DataSanityChecker.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.serializeNulls
com.google.gson.Gson.fromJson


    public void execute() throws IOException {
        if (cmdLine == null)
            return;
        int topk = cmdLine.hasOption("t")? Integer.parseInt(cmdLine.getOptionValue("t")): 10;
        String file = cmdLine.getOptionValue("f");
        String vocabDataFile = cmdLine.getOptionValue("v");

        System.out.print("Gathering API call vocabulary...");
        Set<String> vocab = Collections.unmodifiableSet(getVocab(vocabDataFile));
        System.out.println("done");

        System.out.println(String.format("Checking validity of each AST in top-%d...", topk));
        JSONObject js = new JSONObject(new String(Files.readAllBytes(Paths.get(file))));
        JSONArray programs = js.getJSONArray("programs");
        RuntimeTypeAdapterFactory<DASTNode> nodeAdapter = RuntimeTypeAdapterFactory.of(DASTNode.class, "node")
                .registerSubtype(DAPICall.class)
                .registerSubtype(DBranch.class)
                .registerSubtype(DExcept.class)
                .registerSubtype(DLoop.class)
                .registerSubtype(DSubTree.class);
        Gson gsonIn = <mark>new GsonBuilder</mark>().registerTypeAdapterFactory(nodeAdapter).
                <mark>serializeNulls</mark>().create();

        int numASTs = 0, numValidASTs = 0, numInvalidASTs = 0;
        JSONInputFormat.Data data = new JSONInputFormat.Data();
        for (Object o: programs) {
            JSONObject program = (JSONObject) o;
            JSONArray predictASTs = program.getJSONArray("out_asts");

            JSONInputFormat.DataPoint datapoint = new JSONInputFormat.DataPoint();
            for (Object q: program.getJSONArray("apicalls"))
                datapoint.apicalls.add((String) q);
            for (Object q: program.getJSONArray("types"))
                datapoint.types.add((String) q);
            datapoint.file = program.getString("file");
            datapoint.ast = gsonIn.<mark>fromJson</mark>(program.getJSONObject("ast").toString(), DSubTree.class);

            int i = 0;
            List<DSubTree> validASTs = new ArrayList<>();
            for (Object p: predictASTs) {
                if (i >= topk)
                    break;
                i++;
                JSONObject pAST = (JSONObject) p;
                DSubTree predictedAST;
                try {
                    predictedAST = gsonIn.<mark>fromJson</mark>(pAST.toString(), DSubTree.class);
                } catch (JsonSyntaxException e) {
                    numInvalidASTs += 1;
                    continue;
                }
                Set<String> apicalls = predictedAST.bagOfAPICalls().stream().map(c -> c.toString()).collect(Collectors.toSet());
                apicalls.removeAll(vocab);
                if (apicalls.isEmpty()) /* there's no API call that's not in vocab */
                    validASTs.add(predictedAST);
                else
                    numInvalidASTs += 1;
            }
            numValidASTs += validASTs.size();
            numASTs += i;

            datapoint.out_asts = validASTs;
            data.programs.add(datapoint);
        }

        System.out.println(String.format("Number of valid ASTs: %d/%d, invalid: %d/%d",
                numValidASTs, numASTs, numInvalidASTs, numASTs));

        if (cmdLine.hasOption("o")) {
            if (numInvalidASTs == 0) {
                System.out.println("Nothing to write.. No invalid ASTs");
                return;
            }
            String outfile = cmdLine.getOptionValue("o");
            System.out.print("Writing to file " + outfile + "...");
            writeToFile(data, outfile);
            System.out.println("done");
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vmware_____admiral_____ClosuresPowerShellIT_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/vmware_____admiral_____ClosuresPowerShellIT.java

com.google.gson.JsonArray.&ltinit&gt
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJsonTree
com.google.gson.JsonArray.add
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @Test
    public void executePowershellObjectParametersTest() throws Throwable {
        // Create Closure Definition
        ClosureDescription closureDescState = new ClosureDescription();
        closureDescState.name = "test";

        TestObject expectedInVar = new TestObject();
        expectedInVar.strTest = "test";
        expectedInVar.intTest = 1;
        expectedInVar.boolTest = "True";
        String expectedResult = expectedInVar.strTest + "_changed";
        Boolean expectedBoolResult = false;

        closureDescState.source = "function test($context)\n"
                + "{\n"
                + "    $inputs.a.strTest = $inputs.a.strTest + '_changed'\n"
                + "    $inputs.a.intTest = $inputs.a.intTest + 1\n"
                + "    $inputs.a.boolTest = -not $inputs.a.boolTest\n"
                + "    $result = $inputs.a\n"
                + "    $context.outputs = @{\"result\" = $result} | ConvertTo-JSON\n"
                + "}\n";

        closureDescState.runtime = RUNTIME_POWERSHELL_6;
        closureDescState.outputNames = new ArrayList<>(Collections.singletonList("result"));
        ResourceConstraints constraints = new ResourceConstraints();
        constraints.timeoutSeconds = 60;
        closureDescState.resources = constraints;

        String taskDefPayload = Utils.toJson(closureDescState);
        ClosureDescription closureDescription = createClosureDescription(taskDefPayload,
                serviceClient);
        assertNotNull(closureDescription);

        // Create Closure
        Closure createdClosure = createClosure(closureDescription, serviceClient);
        assertEquals(closureDescription.documentSelfLink, createdClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.CREATED, createdClosure.state);

        // Execute the created Closure
        Closure closureRequest = new Closure();
        Map inputs = new HashMap<>();
        Gson gson = <mark>new Gson</mark>();
        inputs.put("a", gson.<mark>toJsonTree</mark>(expectedInVar));
        closureRequest.inputs = inputs;

        executeClosure(createdClosure, closureRequest, serviceClient);

        // Wait for the completion timeout
        waitForBuildCompletion(IMAGE_NAME, closureDescription);

        waitForTaskState(createdClosure.documentSelfLink, TaskState.TaskStage.FINISHED,
                serviceClient);

        Closure fetchedClosure = getClosure(createdClosure.documentSelfLink, serviceClient);

        assertEquals(closureDescription.documentSelfLink, fetchedClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.FINISHED, fetchedClosure.state);
        JsonObject inObj = fetchedClosure.inputs.get("a").getAsJsonObject();

        Gson json = <mark>new Gson</mark>();
        TestObject deserialObj = json.<mark>fromJson</mark>(inObj, TestObject.class);

        assertEquals(expectedInVar.strTest, deserialObj.strTest);
        assertEquals(expectedInVar.intTest, deserialObj.intTest);
        assertEquals(expectedInVar.boolTest, deserialObj.boolTest);

        JsonObject jsonResultObj = fetchedClosure.outputs.get("result").getAsJsonObject();
        TestObjectResult resultObj = json.<mark>fromJson</mark>(jsonResultObj, TestObjectResult.class);

        assertEquals(expectedResult, resultObj.strTest);
        assertEquals(expectedInVar.intTest + 1, resultObj.intTest);
        assertEquals(expectedBoolResult, resultObj.boolTest);

        cleanResource(createdClosure.documentSelfLink, serviceClient);
        cleanResource(closureDescription.documentSelfLink, serviceClient);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vmware_____admiral_____ClosuresPythonIT_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/vmware_____admiral_____ClosuresPythonIT.java

com.google.gson.JsonArray.&ltinit&gt
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJsonTree
com.google.gson.JsonArray.add
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @Test
    public void executePythonObjectParametersTest() throws Throwable {
        // Create Closure Definition
        ClosureDescription closureDescState = new ClosureDescription();
        closureDescState.name = "test";

        TestObject expectedInVar = new TestObject();
        expectedInVar.strTest = "test";
        expectedInVar.intTest = 1;
        expectedInVar.boolTest = true;
        int expectedOutVar = 3;
        String expectedResult = expectedInVar.strTest + "_changed";

        closureDescState.source = "def test(context):\n"
                + "    inputs = context.inputs\n"
                + "    x = inputs['a']\n"
                + "    print('Hello object: '.format(x['strTest']))\n"
                + "    x['strTest'] = x['strTest'] + '_changed'\n"
                + "    x['intTest'] = x['intTest'] + 1\n"
                + "    x['boolTest'] = not x['boolTest']\n"
                + "    context.outputs['result'] = x\n"
                + "\n";
        closureDescState.runtime = RUNTIME_PYTHON_3;
        closureDescState.outputNames = new ArrayList<>(Collections.singletonList("result"));
        ResourceConstraints constraints = new ResourceConstraints();
        constraints.timeoutSeconds = 2;
        closureDescState.resources = constraints;

        String taskDefPayload = Utils.toJson(closureDescState);
        ClosureDescription closureDescription = createClosureDescription(taskDefPayload,
                serviceClient);
        assertNotNull(closureDescription);

        // Create Closure
        Closure createdClosure = createClosure(closureDescription, serviceClient);
        assertEquals(closureDescription.documentSelfLink, createdClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.CREATED, createdClosure.state);

        // Execute the created Closure
        Closure closureRequest = new Closure();
        Map inputs = new HashMap<>();
        Gson gson = <mark>new Gson</mark>();
        inputs.put("a", gson.<mark>toJsonTree</mark>(expectedInVar));
        closureRequest.inputs = inputs;

        executeClosure(createdClosure, closureRequest, serviceClient);

        // Wait for the completion timeout
        waitForBuildCompletion(IMAGE_NAME, closureDescription);

        waitForTaskState(createdClosure.documentSelfLink, TaskState.TaskStage.FINISHED,
                serviceClient);

        Closure fetchedClosure = getClosure(createdClosure.documentSelfLink, serviceClient);

        assertEquals(closureDescription.documentSelfLink, fetchedClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.FINISHED, fetchedClosure.state);

        verifyRunDuration(fetchedClosure);
        JsonObject inObj = fetchedClosure.inputs.get("a").getAsJsonObject();

        Gson json = <mark>new Gson</mark>();
        TestObject deserialObj = json.<mark>fromJson</mark>(inObj, TestObject.class);

        assertEquals(expectedInVar.strTest, deserialObj.strTest);
        assertEquals(expectedInVar.intTest, deserialObj.intTest);
        assertEquals(expectedInVar.boolTest, deserialObj.boolTest);

        JsonObject jsonResultObj = fetchedClosure.outputs.get("result").getAsJsonObject();
        TestObject resultObj = json.<mark>fromJson</mark>(jsonResultObj, TestObject.class);

        assertEquals(expectedResult, resultObj.strTest);
        assertEquals(expectedInVar.intTest + 1, resultObj.intTest);
        assertEquals(!expectedInVar.boolTest, resultObj.boolTest);

        cleanResource(createdClosure.documentSelfLink, serviceClient);
        cleanResource(closureDescription.documentSelfLink, serviceClient);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____WatchUpdaterService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____WatchUpdaterService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncBgReadingsData(DataMap dataMap) {
        Log.d(TAG, "sync-precalculated-bg-readings-Data");

        final int calibration_state = dataMap.getInt("native_calibration_state", 0);
        Ob1G5CollectionService.processCalibrationState(CalibrationState.parse(calibration_state));
        Ob1G5StateMachine.injectDexTime(dataMap.getString("dextime", null));

        final boolean queue_drained = dataMap.getBoolean(PREF_QUEUE_DRAINED);
        if (queue_drained) {
            Ob1G5StateMachine.emptyQueue();
        }


        final ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        if (entries != null) {
            final Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();


            final int count = entries.size();

            if (count > 0) {

                final Sensor current_sensor = Sensor.currentSensor();
                if (current_sensor == null) {
                    UserError.Log.e(TAG, "Cannot sync wear BG readings because sensor is marked stopped on phone");
                    return;
                }

                Log.d(TAG, "syncTransmitterData add BgReading Table entries count=" + count);
                int idx = 0;
                long timeOfLastBG = 0;
                for (DataMap entry : entries) {
                    if (entry != null) {
                        idx++;
                        final String bgrecord = entry.getString("bgs");
                        if (bgrecord != null) {

                            final BgReading bgData = gson.<mark>fromJson</mark>(bgrecord, BgReading.class);

                            final BgReading uuidexists = BgReading.findByUuid(bgData.uuid);
                            if (uuidexists == null) {

                                final BgReading exists = BgReading.getForTimestamp(bgData.timestamp);
                                if (exists == null) {
                                    Log.d(TAG, "Saving new synced pre-calculated bg-reading: " + JoH.dateTimeText(bgData.timestamp) + " last entry: " + (idx == count) + " " + BgGraphBuilder.unitized_string_static(bgData.calculated_value));
                                    bgData.sensor = current_sensor;
                                    bgData.save();
                                    BgSendQueue.handleNewBgReading(bgData, "create", xdrip.getAppContext(), Home.get_follower(), idx != count);
                                } else {
                                    Log.d(TAG, "BgReading for timestamp already exists: " + JoH.dateTimeText(bgData.timestamp));
                                }
                            } else {
                                Log.d(TAG, "BgReading with uuid: " + bgData.uuid + " already exists: " + JoH.dateTimeText(bgData.timestamp));
                            }

                            timeOfLastBG = Math.max(bgData.timestamp + 1, timeOfLastBG);
                        }
                    }
                }
                sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_BGS count=" + entries.size(), timeOfLastBG, "BG", -1);

            } else {
                UserError.Log.e(TAG, "Not acknowledging wear BG readings as count was 0");
            }
        } else {
            UserError.Log.d(TAG, "Null entries list - should only happen with native status update only");
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____ListenerService_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____ListenerService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncTreatmentsData(DataMap dataMap, Context context) {
        Log.d(TAG, "syncTreatmentsData");

        boolean changed = false;
        String action = dataMap.getString("action");
        if (action.equals("delete")) {
            Log.d(TAG, "syncTreatmentsData Delete Treatments");
            deleteTreatment(dataMap);
            showTreatments(context, "treats");
        }
        else {
            ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
            if (entries != null) {
                Gson gson = <mark>new GsonBuilder</mark>()
                            .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                            .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                            .serializeSpecialFloatingPointValues()
                            .create();
                Log.d(TAG, "syncTreatmentsData add Treatments Table entries count=" + entries.size());
                Sensor.InitDb(context);//ensure database has already been initialized
                for (DataMap entry : entries) {
                    if (entry != null) {
                        String record = entry.getString("data");
                        if (record != null) {
                            Treatments data = gson.<mark>fromJson</mark>(record, Treatments.class);
                            Treatments exists = Treatments.byuuid(data.uuid);
                            if (exists != null) {
                                Log.d(TAG, "syncTreatmentsData save existing Treatments for action insert uuid=" + data.uuid + " timestamp=" + data.timestamp + " timeString=" + JoH.dateTimeText(data.timestamp) + " carbs=" + data.carbs + " insulin=" + data.insulin + " exists.systime=" + JoH.dateTimeText(exists.systimestamp));
                                if (exists.timestamp != data.timestamp) {//currently only tracking timestamp on watch
                                    changed = true;
                                }
                                exists.enteredBy = data.enteredBy;
                                exists.eventType = data.eventType;
                                exists.insulin = data.insulin;
                                exists.carbs = data.carbs;
                                exists.created_at = data.created_at;
                                exists.notes = data.notes;
                                exists.timestamp = data.timestamp;
                                exists.systimestamp = exists.systimestamp > 0 ? exists.systimestamp : data.timestamp < last_send_previous_treatments ? data.timestamp : last_send_previous_treatments > 0 ? last_send_previous_treatments - 1 : JoH.tsl();
                                exists.save();
                            } else {
                                changed = true;
                                data.systimestamp = data.timestamp < last_send_previous_treatments ? data.timestamp : last_send_previous_treatments > 0 ? last_send_previous_treatments - 1 : JoH.tsl();
                                data.save();
                                Log.d(TAG, "syncTreatmentsData create new treatment for action insert uuid=" + data.uuid + " timestamp=" + data.timestamp + " timeString=" + JoH.dateTimeText(data.timestamp) + " carbs=" + data.carbs + " insulin=" + data.insulin + " systime=" + JoH.dateTimeText(data.systimestamp));
                            }
                        }
                    }
                }
                if (changed) {
                    showTreatments(context, "treats");
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vmware_____admiral_____ClosuresPythonIT_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/vmware_____admiral_____ClosuresPythonIT.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJsonTree
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @Test
    public void executePythonArrayOfObjectParametersTest() throws Throwable {
        // Create Closure Definition
        ClosureDescription closureDescState = new ClosureDescription();
        closureDescState.name = "test";

        TestObject expectedInVar = new TestObject();
        expectedInVar.strTest = "test";
        expectedInVar.intTest = 1;
        expectedInVar.boolTest = true;
        int expectedOutVar = 3;
        String expectedResult = expectedInVar.strTest + "_changed";

        closureDescState.source = "def test(ctx):\n"
                + "     x = ctx.inputs['a']\n"
                + "     print('Hello object: '.format(x[0]['strTest']))\n"
                + "     x[0]['strTest'] = x[0]['strTest'] + '_changed'\n"
                + "     x[0]['intTest'] = x[0]['intTest'] + 1\n"
                + "     x[0]['boolTest'] = not x[0]['boolTest']\n"
                + "     ctx.outputs['result'] = x\n"
                + "\n";
        closureDescState.runtime = RUNTIME_PYTHON_3;
        closureDescState.outputNames = new ArrayList<>(Collections.singletonList("result"));
        ResourceConstraints constraints = new ResourceConstraints();
        constraints.timeoutSeconds = 4;
        closureDescState.resources = constraints;

        String taskDefPayload = Utils.toJson(closureDescState);
        ClosureDescription closureDescription = createClosureDescription(taskDefPayload,
                serviceClient);
        assertNotNull(closureDescription);

        // Create Closure
        Closure createdClosure = createClosure(closureDescription, serviceClient);
        assertEquals(closureDescription.documentSelfLink, createdClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.CREATED, createdClosure.state);

        // Execute the created Closure
        Closure closureRequest = new Closure();
        Map inputs = new HashMap<>();

        JsonArray jsArray = new JsonArray();
        jsArray.add(<mark>new Gson</mark>().<mark>toJsonTree</mark>(expectedInVar));
        inputs.put("a", jsArray);
        closureRequest.inputs = inputs;

        executeClosure(createdClosure, closureRequest, serviceClient);

        // Wait for the completion timeout
        waitForBuildCompletion(IMAGE_NAME, closureDescription);

        waitForTaskState(createdClosure.documentSelfLink, TaskState.TaskStage.FINISHED,
                serviceClient);

        Closure fetchedClosure = getClosure(createdClosure.documentSelfLink, serviceClient);

        assertEquals(closureDescription.documentSelfLink, fetchedClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.FINISHED, fetchedClosure.state);

        verifyRunDuration(fetchedClosure);

        JsonObject inObj = fetchedClosure.inputs.get("a").getAsJsonArray().get(0).getAsJsonObject();

        Gson json = <mark>new Gson</mark>();
        TestObject deserialObj = json.<mark>fromJson</mark>(inObj, TestObject.class);

        assertEquals(expectedInVar.strTest, deserialObj.strTest);
        assertEquals(expectedInVar.intTest, deserialObj.intTest);
        assertEquals(expectedInVar.boolTest, deserialObj.boolTest);

        JsonObject jsonResultObj = fetchedClosure.outputs.get("result").getAsJsonArray().get(0)
                .getAsJsonObject();
        TestObject resultObj = json.<mark>fromJson</mark>(jsonResultObj, TestObject.class);

        assertEquals(expectedResult, resultObj.strTest);
        assertEquals(expectedInVar.intTest + 1, resultObj.intTest);
        assertEquals(!expectedInVar.boolTest, resultObj.boolTest);

        cleanResource(createdClosure.documentSelfLink, serviceClient);
        cleanResource(closureDescription.documentSelfLink, serviceClient);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vmware_____admiral_____ClosuresPowerShellIT_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/vmware_____admiral_____ClosuresPowerShellIT.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJsonTree
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @Test
    public void executePowershellArrayOfObjectParametersTest() throws Throwable {
        // Create Closure Definition
        ClosureDescription closureDescState = new ClosureDescription();
        closureDescState.name = "test";

        TestObject expectedInVar = new TestObject();
        expectedInVar.strTest = "test";
        expectedInVar.intTest = 1;
        expectedInVar.boolTest = "True";
        String expectedResult = expectedInVar.strTest + "_changed";
        Boolean expectedBoolResult = false;

        closureDescState.source = "function test($context)\n"
                + "{\n"
                + "    $inputs.a[0].strTest = $inputs.a[0].strTest + '_changed'\n"
                + "    $inputs.a[0].intTest = $inputs.a[0].intTest + 1\n"
                + "    $inputs.a[0].boolTest = -not $inputs.a[0].boolTest\n"
                + "    $result = $inputs.a\n"
                + "    $context.outputs = @{\"result\" = $result} | ConvertTo-JSON\n"
                + "}\n";

        closureDescState.runtime = RUNTIME_POWERSHELL_6;
        closureDescState.outputNames = new ArrayList<>(Collections.singletonList("result"));
        ResourceConstraints constraints = new ResourceConstraints();
        constraints.timeoutSeconds = 60;
        closureDescState.resources = constraints;

        String taskDefPayload = Utils.toJson(closureDescState);
        ClosureDescription closureDescription = createClosureDescription(taskDefPayload,
                serviceClient);
        assertNotNull(closureDescription);

        // Create Closure
        Closure createdClosure = createClosure(closureDescription, serviceClient);
        assertEquals(closureDescription.documentSelfLink, createdClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.CREATED, createdClosure.state);

        // Execute the created Closure
        Closure closureRequest = new Closure();
        Map inputs = new HashMap<>();

        JsonArray jsArray = new JsonArray();
        jsArray.add(<mark>new Gson</mark>().<mark>toJsonTree</mark>(expectedInVar));
        inputs.put("a", jsArray);
        closureRequest.inputs = inputs;

        executeClosure(createdClosure, closureRequest, serviceClient);

        // Wait for the completion timeout
        waitForBuildCompletion(IMAGE_NAME, closureDescription);

        waitForTaskState(createdClosure.documentSelfLink, TaskState.TaskStage.FINISHED,
                serviceClient);

        Closure fetchedClosure = getClosure(createdClosure.documentSelfLink, serviceClient);

        assertEquals(closureDescription.documentSelfLink, fetchedClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.FINISHED, fetchedClosure.state);
        JsonObject inObj = fetchedClosure.inputs.get("a").getAsJsonArray().get(0).getAsJsonObject();

        Gson json = <mark>new Gson</mark>();
        TestObject deserialObj = json.<mark>fromJson</mark>(inObj, TestObject.class);

        assertEquals(expectedInVar.strTest, deserialObj.strTest);
        assertEquals(expectedInVar.intTest, deserialObj.intTest);
        assertEquals(expectedInVar.boolTest, deserialObj.boolTest);

        JsonObject jsonResultObj = fetchedClosure.outputs.get("result").getAsJsonArray().get(0)
                .getAsJsonObject();
        TestObjectResult resultObj = json.<mark>fromJson</mark>(jsonResultObj, TestObjectResult.class);

        assertEquals(expectedResult, resultObj.strTest);
        assertEquals(expectedInVar.intTest + 1, resultObj.intTest);
        assertEquals(expectedBoolResult, resultObj.boolTest);

        cleanResource(createdClosure.documentSelfLink, serviceClient);
        cleanResource(closureDescription.documentSelfLink, serviceClient);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HeliosHandler221_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HeliosHandler221.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    private long subscribe() {
        if (getThing().getStatus() == ThingStatus.ONLINE) {
            logTarget = baseTarget.path(LOG_PATH);

            Response response = null;
            try {
                response = logTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", SUBSCRIBE)
                        .queryParam("include", "new").queryParam("duration", HELIOS_DURATION)
                        .request(MediaType.APPLICATION_JSON_TYPE).<mark>get</mark>();
            } catch (NullPointerException e) {
                logger.debug(
                        "An exception occurred while subscribing to the log entries of the Helios IP Vario '{}' : '{}'",
                        getThing().getUID().toString(), e.getMessage(), e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, e.getMessage());
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return 0;
            }

            if (response != null) {
                JsonObject jsonObject = parser.<mark>parse</mark>(response.readEntity(String.class)).getAsJsonObject();

                if (logger.isTraceEnabled()) {
                    logger.trace("subscribe() Request : {}",
                            logTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", SUBSCRIBE)
                                    .queryParam("include", "new").queryParam("duration", HELIOS_DURATION).getUri()
                                    .toASCIIString());
                    if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                        logger.trace("subscribe() Response: {}", jsonObject.<mark>get</mark>("result"));
                    }
                    if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                        logger.trace("subscribe() Response: {}", jsonObject.<mark>get</mark>("error"));
                    }
                }

                if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                    RESTSubscribeResponse subscribeResponse = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("result").toString(),
                            RESTSubscribeResponse.class);
                    logger.debug("The subscription id to pull logs from the Helios IP Vario '{}' is '{}'",
                            getThing().getUID().toString(), subscribeResponse.id);
                    return subscribeResponse.id;
                } else {
                    RESTError error = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("error").toString(), RESTError.class);
                    logger.debug(
                            "An error occurred while communicating with the Helios IP Vario '{}': code '{}', param '{}' : '{}'",
                            getThing().getUID().toString(), error.code, error.param, error.description);
                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                            error.code + ":" + error.param + ":" + error.description);
                    scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                    return 0;
                }
            } else {
                logger.debug("An error occurred while subscribing to the log entries of the Helios IP Vario '{}'",
                        getThing().getUID().toString());
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR);
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return 0;
            }
        }

        return 0;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HeliosHandler221_6.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HeliosHandler221.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    private List<RESTSwitch> getSwitches() {
        switchTarget = baseTarget.path(SWITCH_PATH);

        Response response = null;
        try {
            response = switchTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", CAPABILITIES)
                    .request(MediaType.APPLICATION_JSON_TYPE).<mark>get</mark>();
        } catch (NullPointerException e) {
            logger.debug(
                    "An exception occurred while requesting switch capabilities from the Helios IP Vario '{}' : '{}'",
                    getThing().getUID().toString(), e.getMessage(), e);
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, e.getMessage());
            scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
            return null;
        }

        if (response != null) {
            JsonObject jsonObject = parser.<mark>parse</mark>(response.readEntity(String.class)).getAsJsonObject();

            if (logger.isTraceEnabled()) {
                logger.trace("getSwitches() Request : {}", switchTarget.resolveTemplate("ip", ipAddress)
                        .resolveTemplate("cmd", CAPABILITIES).getUri().toASCIIString());
                if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                    logger.trace("getSwitches() Response: {}", jsonObject.<mark>get</mark>("result"));
                }
                if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                    logger.trace("getSwitches() Response: {}", jsonObject.<mark>get</mark>("error"));
                }
            }

            if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                logger.debug("Successfully requested switch capabilities from the Helios IP Vario '{}'",
                        getThing().getUID().toString());
                String result = jsonObject.<mark>get</mark>("result").toString();
                result = result.replace("switch", "id");
                JsonObject js = parser.<mark>parse</mark>(result).getAsJsonObject();
                RESTSwitch[] switchArray = gson.<mark>fromJson</mark>(js.getAsJsonArray("ides"), RESTSwitch[].class);
                if (switchArray != null) {
                    return Arrays.asList(switchArray);
                }
            } else {
                RESTError error = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("error").toString(), RESTError.class);
                logger.debug(
                        "An error occurred while communicating with the Helios IP Vario '{}' : code '{}', param '{}' : '{}'",
                        getThing().getUID().toString(), error.code, error.param, error.description);
                if ("8".equals(error.code)) {
                    logger.debug(
                            "The API is not supported by the Helios hardware or current license, or the Authentication method is not set to Basic");
                } else {
                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                            error.code + ":" + error.param + ":" + error.description);
                    scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                }
                return null;
            }
        } else {
            logger.debug("An error occurred while requesting switch capabilities from the Helios IP Vario '{}'",
                    getThing().getUID().toString());
            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR);
            scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>Azure_____azure-sdk-for-java_____ITManagedStorageAccountKey_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/Azure_____azure-sdk-for-java_____ITManagedStorageAccountKey.java

com.google.gson.JsonObject.&ltinit&gt
com.google.gson.JsonObject.addProperty
com.google.gson.JsonObject.addProperty
com.google.gson.JsonObject.addProperty
com.google.gson.JsonObject.toString
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get

    @Test
    public void testCrudOperationsForManagedStorageAccountKey() {

        String msakUUID = null;
        String storageAccountName = null;
        String vaultName = null;
        String fileName = System.getProperty("user.dir")
                + "/src/test/java/com/microsoft/azure/keyvault/test/crudNames.json";

        if (isRecordMode()) {
            msakUUID = UUID.randomUUID().<mark>toString</mark>();
            storageAccountName = SdkContext.randomResourceName("sa", 15);
            vaultName = SdkContext.randomResourceName("vault", 15);
            JsonObject obj = <mark>new JsonObject</mark>();
            obj.<mark>addProperty</mark>("roleDefUUID", msakUUID);
            obj.<mark>addProperty</mark>("storageAccountName", storageAccountName);
            obj.<mark>addProperty</mark>("vaultName", vaultName);
            try {
                BufferedWriter fileWriter = new BufferedWriter(new FileWriter(fileName));
                fileWriter.write(obj.<mark>toString</mark>());
                fileWriter.close();
            } catch (Exception e) {
                e.printStackTrace();
            }

        } else {
            try {
                Gson gson = <mark>new Gson</mark>();
                BufferedReader br = new BufferedReader(new FileReader(fileName));
                JsonObject obj = gson.<mark>fromJson</mark>(br, JsonObject.class);
                msakUUID = obj.<mark>get</mark>("roleDefUUID").getAsString();
                storageAccountName = obj.<mark>get</mark>("storageAccountName").getAsString();
                vaultName = obj.<mark>get</mark>("vaultName").getAsString();
            } catch (Exception e) {
                e.printStackTrace();
            }
        }

        StorageAccount storageAccount = initStorageAccount(storageAccountName, msakUUID);

        Vault vault = initVault(vaultName);

        String vaultUri = vault.vaultUri();

        String activeKeyName = "key1";
        String regenerationPeriod = "P30D";
        StorageAccountAttributes attributes = new StorageAccountAttributes().withEnabled(true);
        keyVaultClient.setStorageAccount(vaultUri, storageAccount.name(), storageAccount.id(), activeKeyName, true,
                regenerationPeriod, attributes, null);
        List<StorageAccountItem> msaList = keyVaultClient.getStorageAccounts(vaultUri);
        Assert.assertEquals(1, msaList.size());

        StorageBundle bundle = keyVaultClient.getStorageAccount(vaultUri, storageAccount.name());
        Assert.assertTrue(bundle.id().contains(storageAccount.name()));
        Assert.assertEquals(activeKeyName, bundle.activeKeyName());
        Assert.assertEquals(regenerationPeriod, bundle.regenerationPeriod());
        Assert.assertTrue(bundle.autoRegenerateKey());

        String newActiveKeyName = "key2";
        String newRegenerationPeriod = "P60D";
        keyVaultClient.updateStorageAccount(vaultUri, storageAccount.name(), newActiveKeyName, false,
                newRegenerationPeriod, null, null);
        StorageBundle updatedBundle = keyVaultClient.getStorageAccount(vaultUri, storageAccount.name());
        Assert.assertTrue(updatedBundle.id().contains(storageAccount.name()));
        Assert.assertEquals(newActiveKeyName, updatedBundle.activeKeyName());
        Assert.assertEquals(newRegenerationPeriod, updatedBundle.regenerationPeriod());
        Assert.assertFalse(updatedBundle.autoRegenerateKey());

        DeletedStorageBundle deletedBundle = keyVaultClient.deleteStorageAccount(vaultUri, storageAccount.name());
        Assert.assertTrue(deletedBundle.id().contains(storageAccount.name()));
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____KrakenExchangeAdapter_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____KrakenExchangeAdapter.java

com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenOpenOrderResult>>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenOpenOrderResult>>.getType
com.google.gson.Gson.fromJson

    @Override
    public MarketOrderBook getMarketOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        ExchangeHttpResponse response;

        try {

            final Map<String, String> params = createRequestParamMap();
            params.put("pair", marketId);

            response = sendPublicRequestToExchange("Depth", params);

            if (LOG.isDebugEnabled()) {
                LOG.debug("Market Orders response: " + response);
            }

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final Type resultType = new TypeToken<KrakenResponse<KrakenMarketOrderBookResult>>() {
                }.<mark>getType</mark>();
                final KrakenResponse krakenResponse = gson.<mark>fromJson</mark>(response.getPayload(), resultType);

                final List<String> errors = krakenResponse.error;
                if (errors == null || errors.isEmpty()) {

                    // Assume we'll always get something here if errors array is empty; else blow fast wih NPE
                    final KrakenMarketOrderBookResult krakenOrderBookResult = (KrakenMarketOrderBookResult) krakenResponse.result;

                    final KrakenOrderBook krakenOrderBook = krakenOrderBookResult.values().stream().findFirst().get();

                    final List<MarketOrder> buyOrders = new ArrayList<>();
                    for (KrakenMarketOrder krakenBuyOrder : krakenOrderBook.bids) {
                        final MarketOrder buyOrder = new MarketOrderImpl(
                                OrderType.BUY,
                                krakenBuyOrder.get(0),
                                krakenBuyOrder.get(1),
                                krakenBuyOrder.get(0).multiply(krakenBuyOrder.get(1)));
                        buyOrders.add(buyOrder);
                    }

                    final List<MarketOrder> sellOrders = new ArrayList<>();
                    for (KrakenMarketOrder krakenSellOrder : krakenOrderBook.asks) {
                        final MarketOrder sellOrder = new MarketOrderImpl(
                                OrderType.SELL,
                                krakenSellOrder.get(0),
                                krakenSellOrder.get(1),
                                krakenSellOrder.get(0).multiply(krakenSellOrder.get(1)));
                        sellOrders.add(sellOrder);
                    }

                    return new MarketOrderBookImpl(marketId, sellOrders, buyOrders);

                } else {

                    if (isExchangeUndergoingMaintenance(response) && keepAliveDuringMaintenance) {
                        LOG.warn(() -> UNDER_MAINTENANCE_WARNING_MESSAGE);
                        throw new ExchangeNetworkException(UNDER_MAINTENANCE_WARNING_MESSAGE);
                    }

                    final String errorMsg = FAILED_TO_GET_MARKET_ORDERS + response;
                    LOG.error(errorMsg);
                    throw new TradingApiException(errorMsg);
                }

            } else {
                final String errorMsg = FAILED_TO_GET_MARKET_ORDERS + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_47.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static FileContentsImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      FileContentsImpl dto = new FileContentsImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("contentType")) {
        JsonElement contentTypeIn = json.<mark>get</mark>("contentType");
        com.google.collide.dto.FileContents.ContentType contentTypeOut = gson.<mark>fromJson</mark>(contentTypeIn, com.google.collide.dto.FileContents.ContentType.class);
        dto.setContentType(contentTypeOut);
      }

      if (json.<mark>has</mark>("ccRevision")) {
        JsonElement ccRevisionIn = json.<mark>get</mark>("ccRevision");
        int ccRevisionOut = ccRevisionIn.getAsInt();
        dto.setCcRevision(ccRevisionOut);
      }

      if (json.<mark>has</mark>("fileEditSessionKey")) {
        JsonElement fileEditSessionKeyIn = json.<mark>get</mark>("fileEditSessionKey");
        java.lang.String fileEditSessionKeyOut = gson.<mark>fromJson</mark>(fileEditSessionKeyIn, java.lang.String.class);
        dto.setFileEditSessionKey(fileEditSessionKeyOut);
      }

      if (json.<mark>has</mark>("conflictHandle")) {
        JsonElement conflictHandleIn = json.<mark>get</mark>("conflictHandle");
        ConflictHandleImpl conflictHandleOut = ConflictHandleImpl.fromJsonElement(conflictHandleIn);
        dto.setConflictHandle(conflictHandleOut);
      }

      if (json.<mark>has</mark>("contents")) {
        JsonElement contentsIn = json.<mark>get</mark>("contents");
        java.lang.String contentsOut = gson.<mark>fromJson</mark>(contentsIn, java.lang.String.class);
        dto.setContents(contentsOut);
      }

      if (json.<mark>has</mark>("mimeType")) {
        JsonElement mimeTypeIn = json.<mark>get</mark>("mimeType");
        java.lang.String mimeTypeOut = gson.<mark>fromJson</mark>(mimeTypeIn, java.lang.String.class);
        dto.setMimeType(mimeTypeOut);
      }

      if (json.<mark>has</mark>("conflicts")) {
        JsonElement conflictsIn = json.<mark>get</mark>("conflicts");
        java.util.ArrayList<ConflictChunkImpl> conflictsOut = null;
        if (conflictsIn != null && !conflictsIn.<mark>isJsonNull</mark>()) {
          conflictsOut = new java.util.ArrayList<ConflictChunkImpl>();
          java.util.Iterator<JsonElement> conflictsInIterator = conflictsIn.<mark>getAsJsonArray</mark>().iterator();
          while (conflictsInIterator.hasNext()) {
            JsonElement conflictsIn_ = conflictsInIterator.next();
            ConflictChunkImpl conflictsOut_ = ConflictChunkImpl.fromJsonElement(conflictsIn_);
            conflictsOut.add(conflictsOut_);
          }
        }
        dto.setConflicts(conflictsOut);
      }

      if (json.<mark>has</mark>("selections")) {
        JsonElement selectionsIn = json.<mark>get</mark>("selections");
        java.util.ArrayList<java.lang.String> selectionsOut = null;
        if (selectionsIn != null && !selectionsIn.<mark>isJsonNull</mark>()) {
          selectionsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> selectionsInIterator = selectionsIn.<mark>getAsJsonArray</mark>().iterator();
          while (selectionsInIterator.hasNext()) {
            JsonElement selectionsIn_ = selectionsInIterator.next();
            java.lang.String selectionsOut_ = gson.<mark>fromJson</mark>(selectionsIn_, java.lang.String.class);
            selectionsOut.add(selectionsOut_);
          }
        }
        dto.setSelections(selectionsOut);
      }

      if (json.<mark>has</mark>("path")) {
        JsonElement pathIn = json.<mark>get</mark>("path");
        java.lang.String pathOut = gson.<mark>fromJson</mark>(pathIn, java.lang.String.class);
        dto.setPath(pathOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____NikoHomeControlCommunication2_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____NikoHomeControlCommunication2.java

com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.&ltinit&gt
com.google.gson.reflect.TypeToken<org.openhab.binding.nikohomecontrol.internal.protocol.nhc2.NhcMessage2>.getType
com.google.gson.Gson.fromJson


    private void devicesListRsp(String response) {
        Type messageType = new TypeToken<NhcMessage2>() {
        }.<mark>getType</mark>();
        List<NhcDevice2> deviceList = null;
        try {
            NhcMessage2 message = gson.<mark>fromJson</mark>(response, messageType);
            if (message.params != null) {
                deviceList = message.params.stream().filter(p -> (p.devices != null)).findFirst().get().devices;
            }
        } catch (JsonSyntaxException e) {
            logger.debug("Niko Home Control: unexpected json {}", response);
        } catch (NoSuchElementException ignore) {
            // Ignore if devices not present in response, this should not happen in a devices response
        }
        if (deviceList == null) {
            return;
        }

        for (NhcDevice2 device : deviceList) {
            String location;
            try {
                location = device.parameters.stream().filter(p -> (p.locationId != null)).findFirst()
                        .get().locationName;
            } catch (NoSuchElementException e) {
                location = null;
            }

            if ("action".equals(device.type)) {
                ActionType actionType = ActionType.GENERIC;
                switch (device.model) {
                    case "generic":
                    case "pir":
                    case "simulation":
                    case "comfort":
                    case "alarms":
                    case "alloff":
                        actionType = ActionType.TRIGGER;
                        break;
                    case "light":
                    case "socket":
                    case "switched-generic":
                        actionType = ActionType.RELAY;
                        break;
                    case "dimmer":
                        actionType = ActionType.DIMMER;
                        break;
                    case "rolldownshutter":
                    case "sunblind":
                    case "venetianblind":
                        actionType = ActionType.ROLLERSHUTTER;
                        break;
                }

                if (!actions.containsKey(device.uuid)) {
                    logger.debug("Niko Home Control: adding action device {}, {}", device.uuid, device.name);

                    NhcAction2 nhcAction = new NhcAction2(device.uuid, device.name, device.model, device.technology,
                            actionType, location);
                    nhcAction.setNhcComm(this);
                    actions.put(device.uuid, nhcAction);
                }

                updateActionState((NhcAction2) actions.get(device.uuid), device);
            } else if ("thermostat".equals(device.type)) {
                if (!thermostats.containsKey(device.uuid)) {
                    logger.debug("Niko Home Control: adding thermostatdevice {}, {}", device.uuid, device.name);

                    NhcThermostat2 nhcThermostat = new NhcThermostat2(device.uuid, device.name, location);
                    nhcThermostat.setNhcComm(this);
                    thermostats.put(device.uuid, nhcThermostat);
                }

                updateThermostatState((NhcThermostat2) thermostats.get(device.uuid), device);
            } else {
                logger.debug("Niko Home Control: device type {} not supported for {}, {}", device.type, device.uuid,
                        device.name);
            }
        }

        // Once a devices list response is received, we know the communication is fully started.
        logger.debug("Niko Home Control: Communication start complete.");
        handler.controllerOnline();
        if (communicationStarted != null) {
            communicationStarted.complete(true);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_44.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static EndUploadSessionFinishedImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      EndUploadSessionFinishedImpl dto = new EndUploadSessionFinishedImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("sessionId")) {
        JsonElement sessionIdIn = json.<mark>get</mark>("sessionId");
        java.lang.String sessionIdOut = gson.<mark>fromJson</mark>(sessionIdIn, java.lang.String.class);
        dto.setSessionId(sessionIdOut);
      }

      if (json.<mark>has</mark>("unzipFailures")) {
        JsonElement unzipFailuresIn = json.<mark>get</mark>("unzipFailures");
        java.util.ArrayList<UnzipFailureImpl> unzipFailuresOut = null;
        if (unzipFailuresIn != null && !unzipFailuresIn.<mark>isJsonNull</mark>()) {
          unzipFailuresOut = new java.util.ArrayList<UnzipFailureImpl>();
          java.util.Iterator<JsonElement> unzipFailuresInIterator = unzipFailuresIn.getAsJsonArray().iterator();
          while (unzipFailuresInIterator.hasNext()) {
            JsonElement unzipFailuresIn_ = unzipFailuresInIterator.next();
            UnzipFailureImpl unzipFailuresOut_ = UnzipFailureImpl.fromJsonElement(unzipFailuresIn_);
            unzipFailuresOut.add(unzipFailuresOut_);
          }
        }
        dto.setUnzipFailures(unzipFailuresOut);
      }

      if (json.<mark>has</mark>("failedFileWorkspacePaths")) {
        JsonElement failedFileWorkspacePathsIn = json.<mark>get</mark>("failedFileWorkspacePaths");
        java.util.ArrayList<java.lang.String> failedFileWorkspacePathsOut = null;
        if (failedFileWorkspacePathsIn != null && !failedFileWorkspacePathsIn.<mark>isJsonNull</mark>()) {
          failedFileWorkspacePathsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> failedFileWorkspacePathsInIterator = failedFileWorkspacePathsIn.getAsJsonArray().iterator();
          while (failedFileWorkspacePathsInIterator.hasNext()) {
            JsonElement failedFileWorkspacePathsIn_ = failedFileWorkspacePathsInIterator.next();
            java.lang.String failedFileWorkspacePathsOut_ = gson.<mark>fromJson</mark>(failedFileWorkspacePathsIn_, java.lang.String.class);
            failedFileWorkspacePathsOut.add(failedFileWorkspacePathsOut_);
          }
        }
        dto.setFailedFileWorkspacePaths(failedFileWorkspacePathsOut);
      }

      if (json.<mark>has</mark>("failedDirWorkspacePaths")) {
        JsonElement failedDirWorkspacePathsIn = json.<mark>get</mark>("failedDirWorkspacePaths");
        java.util.ArrayList<java.lang.String> failedDirWorkspacePathsOut = null;
        if (failedDirWorkspacePathsIn != null && !failedDirWorkspacePathsIn.<mark>isJsonNull</mark>()) {
          failedDirWorkspacePathsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> failedDirWorkspacePathsInIterator = failedDirWorkspacePathsIn.getAsJsonArray().iterator();
          while (failedDirWorkspacePathsInIterator.hasNext()) {
            JsonElement failedDirWorkspacePathsIn_ = failedDirWorkspacePathsInIterator.next();
            java.lang.String failedDirWorkspacePathsOut_ = gson.<mark>fromJson</mark>(failedDirWorkspacePathsIn_, java.lang.String.class);
            failedDirWorkspacePathsOut.add(failedDirWorkspacePathsOut_);
          }
        }
        dto.setFailedDirWorkspacePaths(failedDirWorkspacePathsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>vmware_____admiral_____ClosuresNodeJsIT_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/vmware_____admiral_____ClosuresNodeJsIT.java

com.google.gson.JsonArray.&ltinit&gt
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJsonTree
com.google.gson.JsonArray.add
com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    @Test
    public void executeJSNestedObjectParametersTest() throws Throwable {
        // Create Closure Definition
        ClosureDescription closureDescState = new ClosureDescription();
        closureDescState.name = "test";

        NestedTestObject expectedInVar = new NestedTestObject();
        expectedInVar.strTest = "test";
        expectedInVar.intTest = 1;
        expectedInVar.boolTest = true;
        expectedInVar.objTest = new NestedTestObject();
        expectedInVar.objTest.strTest = "child";
        expectedInVar.objTest.intTest = 1;
        expectedInVar.objTest.boolTest = true;

        int expectedOutVar = 3;
        String expectedResult = expectedInVar.objTest.strTest + "_changed";

        closureDescState.source = "module.exports = function test(ctx) {"
                + " var x = ctx.inputs.a;"
                + " console.log('Hello object: ' + x.objTest);"
                + " x.objTest.strTest = x.objTest.strTest + '_changed';"
                + " x.objTest.intTest = x.objTest.intTest + 1; x.objTest.boolTest = !x.objTest.boolTest;"
                + " ctx.outputs.result = x;"
                + "};";
        closureDescState.runtime = RUNTIME_NODEJS_4;
        closureDescState.outputNames = new ArrayList<>(Collections.singletonList("result"));
        ResourceConstraints constraints = new ResourceConstraints();
        constraints.timeoutSeconds = 3;
        closureDescState.resources = constraints;

        String taskDefPayload = Utils.toJson(closureDescState);
        ClosureDescription closureDescription = createClosureDescription(taskDefPayload,
                serviceClient);
        assertNotNull(closureDescription);

        // Create Closure
        Closure createdClosure = createClosure(closureDescription, serviceClient);
        assertEquals(closureDescription.documentSelfLink, createdClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.CREATED, createdClosure.state);

        // Execute the created Closure
        Closure closureRequest = new Closure();
        Map inputs = new HashMap<>();
        Gson gson = <mark>new Gson</mark>();
        inputs.put("a", gson.<mark>toJsonTree</mark>(expectedInVar));
        closureRequest.inputs = inputs;

        executeClosure(createdClosure, closureRequest, serviceClient);

        // Wait for the completion timeout
        waitForBuildCompletion(IMAGE_NAME, closureDescription);

        waitForTaskState(createdClosure.documentSelfLink, TaskState.TaskStage.FINISHED,
                serviceClient);

        Closure fetchedClosure = getClosure(createdClosure.documentSelfLink, serviceClient);

        assertEquals(closureDescription.documentSelfLink, fetchedClosure.descriptionLink);
        assertEquals(TaskState.TaskStage.FINISHED, fetchedClosure.state);

        verifyRunDuration(fetchedClosure);

        JsonObject inObj = fetchedClosure.inputs.get("a").getAsJsonObject().get("objTest")
                .getAsJsonObject();

        Gson json = <mark>new Gson</mark>();
        NestedTestObject deserialObj = json.<mark>fromJson</mark>(inObj, NestedTestObject.class);
        assertEquals(expectedInVar.objTest.strTest, deserialObj.strTest);
        assertEquals(expectedInVar.objTest.intTest, deserialObj.intTest);
        assertEquals(expectedInVar.objTest.boolTest, deserialObj.boolTest);

        JsonObject jsonChild = fetchedClosure.outputs.get("result").getAsJsonObject().get("objTest")
                .getAsJsonObject();
        NestedTestObject resultObj = json.<mark>fromJson</mark>(jsonChild, NestedTestObject.class);
        assertEquals(expectedResult, resultObj.strTest);
        assertEquals(expectedInVar.objTest.intTest + 1, resultObj.intTest);
        assertEquals(!expectedInVar.objTest.boolTest, resultObj.boolTest);

        cleanResource(createdClosure.documentSelfLink, serviceClient);
        cleanResource(closureDescription.documentSelfLink, serviceClient);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>meddle0x53_____learning-rxjava_____CreateObservable_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/meddle0x53_____learning-rxjava_____CreateObservable.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

	@SuppressWarnings({ "rawtypes", "unchecked" })
	public static Observable<Map> requestJson(HttpAsyncClient client,
			String url) {
		Observable<String> rawResponse = ObservableHttp
						.createGet(url, client)
						.toObservable()
						.flatMap(resp -> resp.getContent()
								.map(bytes -> new String(bytes)))
								.retry(5)
								.cast(String.class)
								.map(String::trim)
		.doOnNext(resp -> getCache(url).clear());

		Observable<String> objects = rawResponse
			.filter(data -> data.startsWith("{"))
			.map(data -> "[" + data + "]");

		Observable<String> arrays = rawResponse
						.filter(data -> data.startsWith("["));
		
		Observable<Map> response = arrays.concatWith(objects)
						.map(data -> {
							return <mark>new Gson</mark>().<mark>fromJson</mark>(data, List.class);
						}).flatMapIterable(list -> list)
						.cast(Map.class)
						.doOnNext(json -> getCache(url).add((Map) json).subscribe());

		return Observable.amb(fromCache(url), response);
	}
	
	@SafeVarargs
	public static <T> Observable<T> sorted(Comparator<? super T> comparator, T... data) {
		List<T> listData = Arrays.asList(data);
		listData.sort(comparator);
		
		return Observable.from(listData);
	}
	
	public static Observable<Long> interval(Long... gaps) {
		return interval(Arrays.asList(gaps));
	}
	
	public static Observable<Long> interval(List<Long> gaps) {
		return interval(gaps, TimeUnit.MILLISECONDS);
	}
	
	public static Observable<Long> interval(List<Long> gaps, TimeUnit unit) {
		return interval(gaps, unit, Schedulers.computation());
	}
	
	public static Observable<Long> interval(List<Long> gaps, TimeUnit unit, Scheduler scheduler) {
		if (gaps == null || gaps.isEmpty()) {
			throw new IllegalArgumentException("Provide one or more interval gaps!");
		}
		
		return Observable.<Long>create(subscriber -> {
			int size = gaps.size();

			Worker worker = scheduler.createWorker();
			subscriber.add(worker);
			
			final Action0 action = new Action0() {

				long current = 0;
				@Override
				public void call() {
					subscriber.onNext(current++);

					long currentGap = gaps.get((int) current % size);
					worker.schedule(this, currentGap, unit);
				}
			};
			
			worker.schedule(action, gaps.get(0), unit);
		});
	}

	public static Observable<ObservableHttpResponse> request(String url) {
		Func0<CloseableHttpAsyncClient> resourceFactory = () -> {
			CloseableHttpAsyncClient client = HttpAsyncClients.createDefault();
			client.start();
			
			System.out.println(Thread.currentThread().getName() + " : Created and started the client.");
			return client;
		};
		
		Func1<HttpAsyncClient, Observable<ObservableHttpResponse>> observableFactory = (client) -> {
			System.out.println(Thread.currentThread().getName() + " : About to create Observable.");
			return ObservableHttp.createGet(url, client).toObservable();
		};

		Action1<CloseableHttpAsyncClient> disposeAction = (client) -> {
			try {
				System.out.println(Thread.currentThread().getName() + " : Closing the client.");
				client.close();
			} catch (IOException e) {
			}
		};

		return Observable.using(
				resourceFactory,
				observableFactory,
				disposeAction);
	}
	
	@SuppressWarnings({ "rawtypes", "unchecked" })
	public static Observable<Map> requestJson(String url) {
		Observable<String> rawResponse = request(url)
						.flatMap(resp -> resp.getContent()
								.map(bytes -> new String(bytes)))
								.retry(5)
								.cast(String.class)
								.map(String::trim)
		.doOnNext(resp -> getCache(url).clear());

		Observable<String> objects = rawResponse
			.filter(data -> data.startsWith("{"))
			.map(data -> "[" + data + "]");

		Observable<String> arrays = rawResponse
						.filter(data -> data.startsWith("["));
		
		Observable<Map> response = arrays.concatWith(objects)
						.map(data -> {
							return <mark>new Gson</mark>().<mark>fromJson</mark>(data, List.class);
						}).flatMapIterable(list -> list)
						.cast(Map.class)
						.doOnNext(json -> getCache(url).add((Map) json).subscribe());

		return Observable.amb(fromCache(url), response);
	}
}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>linkedin_____gobblin_____JdbcExtractor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/linkedin_____gobblin_____JdbcExtractor.java

com.google.gson.Gson.fromJson

/**
   * Update water mark column property if there is an alias defined in query
   *
   * @param srcColumnName source column name
   * @param tgtColumnName target column name
   */  @Override
  public void extractMetadata(String schema, String entity, WorkUnit workUnit) throws SchemaException, IOException {
    this.log.info("Extract metadata using JDBC");
    String inputQuery = workUnitState.getProp(ConfigurationKeys.SOURCE_QUERYBASED_QUERY);
    if (workUnitState.getPropAsBoolean(ConfigurationKeys.SOURCE_QUERYBASED_IS_METADATA_COLUMN_CHECK_ENABLED,
        Boolean.valueOf(ConfigurationKeys.DEFAULT_SOURCE_QUERYBASED_IS_METADATA_COLUMN_CHECK_ENABLED)) &&
        hasJoinOperation(inputQuery)) {
      throw new RuntimeException("Query across multiple tables not supported");
    }

    String watermarkColumn = workUnitState.getProp(ConfigurationKeys.EXTRACT_DELTA_FIELDS_KEY);
    this.enableDelimitedIdentifier = workUnitState.getPropAsBoolean(
        ConfigurationKeys.ENABLE_DELIMITED_IDENTIFIER, ConfigurationKeys.DEFAULT_ENABLE_DELIMITED_IDENTIFIER);
    JsonObject defaultWatermark = this.getDefaultWatermark();
    String derivedWatermarkColumnName = defaultWatermark.get("columnName").getAsString();
    this.setSampleRecordCount(this.exractSampleRecordCountFromQuery(inputQuery));
    inputQuery = this.removeSampleClauseFromQuery(inputQuery);
    JsonArray targetSchema = new JsonArray();
    List<String> headerColumns = new ArrayList<>();

    try {
      List<Command> cmds = this.getSchemaMetadata(schema, entity);

      CommandOutput<?, ?> response = this.executePreparedSql(cmds);

      JsonArray array = this.getSchema(response);

      this.buildMetadataColumnMap(array);
      this.parseInputQuery(inputQuery);
      List<String> sourceColumns = this.getMetadataColumnList();

      for (ColumnAttributes colMap : this.columnAliasMap) {
        String alias = colMap.getAliasName();
        String columnName = colMap.getColumnName();
        String sourceColumnName = colMap.getSourceColumnName();
        if (this.isMetadataColumn(columnName, sourceColumns)) {
          String targetColumnName = this.getTargetColumnName(columnName, alias);
          Schema obj = this.getUpdatedSchemaObject(columnName, alias, targetColumnName);
          String jsonStr = gson.toJson(obj);
          JsonObject jsonObject = gson.<mark>fromJson</mark>(jsonStr, JsonObject.class).getAsJsonObject();
          targetSchema.add(jsonObject);
          headerColumns.add(targetColumnName);
          sourceColumnName = getLeftDelimitedIdentifier() + sourceColumnName + getRightDelimitedIdentifier();
          this.columnList.add(sourceColumnName);
        }
      }

      if (this.hasMultipleWatermarkColumns(watermarkColumn)) {
        derivedWatermarkColumnName = getLeftDelimitedIdentifier() + derivedWatermarkColumnName + getRightDelimitedIdentifier();
        this.columnList.add(derivedWatermarkColumnName);
        headerColumns.add(derivedWatermarkColumnName);
        targetSchema.add(defaultWatermark);
        this.workUnitState.setProp(ConfigurationKeys.EXTRACT_DELTA_FIELDS_KEY, derivedWatermarkColumnName);
      }

      String outputColProjection = Joiner.on(",").useForNull("null").join(this.columnList);
      outputColProjection = outputColProjection.replace(derivedWatermarkColumnName,
          Utils.getCoalesceColumnNames(watermarkColumn) + " AS " + derivedWatermarkColumnName);
      this.setOutputColumnProjection(outputColProjection);
      String extractQuery = this.getExtractQuery(schema, entity, inputQuery);

      this.setHeaderRecord(headerColumns);
      this.setOutputSchema(targetSchema);
      this.setExtractSql(extractQuery);
      // this.workUnit.getProp(ConfigurationKeys.EXTRACT_TABLE_NAME_KEY,
      // this.escapeCharsInColumnName(this.workUnit.getProp(ConfigurationKeys.SOURCE_ENTITY),
      // ConfigurationKeys.ESCAPE_CHARS_IN_COLUMN_NAME, "_"));
      this.log.info("Schema:" + targetSchema);
      this.log.info("Extract query: " + this.getExtractSql());
    } catch (RuntimeException | IOException | SchemaException e) {
      throw new SchemaException("Failed to get metadata using JDBC; error - " + e.getMessage(), e);
    }
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HeliosHandler221_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HeliosHandler221.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonParser.parse
com.google.gson.JsonObject.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    private List<RESTEvent> pullLog(long logSubscriptionID) {
        if (getThing().getStatus() == ThingStatus.ONLINE && heliosClient != null) {
            logTarget = baseTarget.path(LOG_PATH);

            Response response = null;
            try {
                long now = System.currentTimeMillis();
                response = logTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", PULL)
                        .queryParam("id", logSubscriptionID).queryParam("timeout", HELIOS_PULL_DURATION)
                        .request(MediaType.APPLICATION_JSON_TYPE).<mark>get</mark>();
                logger.trace("Pulled logs in {} millseconds from {}", System.currentTimeMillis() - now,
                        getThing().getUID());
            } catch (NullPointerException e) {
                logger.debug("An exception occurred while pulling log entries from the Helios IP Vario '{}' : '{}'",
                        getThing().getUID().toString(), e.getMessage(), e);
                this.logSubscriptionID = 0;
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR, e.getMessage());
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return null;
            }

            if (response != null) {
                JsonObject jsonObject = parser.<mark>parse</mark>(response.readEntity(String.class)).getAsJsonObject();

                if (logger.isTraceEnabled()) {
                    logger.trace("pullLog() Request : {}",
                            logTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", PULL)
                                    .queryParam("id", logSubscriptionID).queryParam("timeout", HELIOS_PULL_DURATION)
                                    .getUri().toASCIIString());
                    if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                        logger.trace("pullLog() Response: {}", jsonObject.<mark>get</mark>("result"));
                    }
                    if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                        logger.trace("pullLog() Response: {}", jsonObject.<mark>get</mark>("error"));
                    }
                }

                if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                    logger.trace("Successfully pulled log entries from the Helios IP Vario '{}'",
                            getThing().getUID().toString());
                    JsonObject js = (JsonObject) jsonObject.<mark>get</mark>("result");
                    RESTEvent[] eventArray = gson.<mark>fromJson</mark>(js.<mark>getAsJsonArray</mark>("events"), RESTEvent[].class);
                    return Arrays.asList(eventArray);
                } else {
                    RESTError error = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("error").toString(), RESTError.class);
                    logger.debug(
                            "An error occurred while communicating with the Helios IP Vario '{}' : code '{}', param '{}' : '{}'",
                            getThing().getUID().toString(), error.code, error.param, error.description);
                    this.logSubscriptionID = 0;
                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                            error.code + ":" + error.param + ":" + error.description);
                    scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                    return null;
                }
            } else {
                logger.debug("An error occurred while polling log entries from the Helios IP Vario '{}'",
                        getThing().getUID().toString());
                this.logSubscriptionID = 0;
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR);
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return null;
            }
        }

        return null;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_5.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static BeginUploadSessionImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      BeginUploadSessionImpl dto = new BeginUploadSessionImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workspacePathsToReplace")) {
        JsonElement workspacePathsToReplaceIn = json.<mark>get</mark>("workspacePathsToReplace");
        java.util.ArrayList<java.lang.String> workspacePathsToReplaceOut = null;
        if (workspacePathsToReplaceIn != null && !workspacePathsToReplaceIn.<mark>isJsonNull</mark>()) {
          workspacePathsToReplaceOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> workspacePathsToReplaceInIterator = workspacePathsToReplaceIn.getAsJsonArray().iterator();
          while (workspacePathsToReplaceInIterator.hasNext()) {
            JsonElement workspacePathsToReplaceIn_ = workspacePathsToReplaceInIterator.next();
            java.lang.String workspacePathsToReplaceOut_ = gson.<mark>fromJson</mark>(workspacePathsToReplaceIn_, java.lang.String.class);
            workspacePathsToReplaceOut.add(workspacePathsToReplaceOut_);
          }
        }
        dto.setWorkspacePathsToReplace(workspacePathsToReplaceOut);
      }

      if (json.<mark>has</mark>("workspacePathsToUnzip")) {
        JsonElement workspacePathsToUnzipIn = json.<mark>get</mark>("workspacePathsToUnzip");
        java.util.ArrayList<java.lang.String> workspacePathsToUnzipOut = null;
        if (workspacePathsToUnzipIn != null && !workspacePathsToUnzipIn.<mark>isJsonNull</mark>()) {
          workspacePathsToUnzipOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> workspacePathsToUnzipInIterator = workspacePathsToUnzipIn.getAsJsonArray().iterator();
          while (workspacePathsToUnzipInIterator.hasNext()) {
            JsonElement workspacePathsToUnzipIn_ = workspacePathsToUnzipInIterator.next();
            java.lang.String workspacePathsToUnzipOut_ = gson.<mark>fromJson</mark>(workspacePathsToUnzipIn_, java.lang.String.class);
            workspacePathsToUnzipOut.add(workspacePathsToUnzipOut_);
          }
        }
        dto.setWorkspacePathsToUnzip(workspacePathsToUnzipOut);
      }

      if (json.<mark>has</mark>("workspaceDirsToCreate")) {
        JsonElement workspaceDirsToCreateIn = json.<mark>get</mark>("workspaceDirsToCreate");
        java.util.ArrayList<java.lang.String> workspaceDirsToCreateOut = null;
        if (workspaceDirsToCreateIn != null && !workspaceDirsToCreateIn.<mark>isJsonNull</mark>()) {
          workspaceDirsToCreateOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> workspaceDirsToCreateInIterator = workspaceDirsToCreateIn.getAsJsonArray().iterator();
          while (workspaceDirsToCreateInIterator.hasNext()) {
            JsonElement workspaceDirsToCreateIn_ = workspaceDirsToCreateInIterator.next();
            java.lang.String workspaceDirsToCreateOut_ = gson.<mark>fromJson</mark>(workspaceDirsToCreateIn_, java.lang.String.class);
            workspaceDirsToCreateOut.add(workspaceDirsToCreateOut_);
          }
        }
        dto.setWorkspaceDirsToCreate(workspaceDirsToCreateOut);
      }

      if (json.<mark>has</mark>("clientId")) {
        JsonElement clientIdIn = json.<mark>get</mark>("clientId");
        java.lang.String clientIdOut = gson.<mark>fromJson</mark>(clientIdIn, java.lang.String.class);
        dto.setClientId(clientIdOut);
      }

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("sessionId")) {
        JsonElement sessionIdIn = json.<mark>get</mark>("sessionId");
        java.lang.String sessionIdOut = gson.<mark>fromJson</mark>(sessionIdIn, java.lang.String.class);
        dto.setSessionId(sessionIdOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yahoo_____pulsar_____JavaInstanceRunnable_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yahoo_____pulsar_____JavaInstanceRunnable.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson


    public void setupInput(ContextImpl contextImpl) throws Exception {

        SourceSpec sourceSpec = this.instanceConfig.getFunctionDetails().getSource();
        Object object;
        // If source classname is not set, we default pulsar source
        if (sourceSpec.getClassName().isEmpty()) {
            PulsarSourceConfig pulsarSourceConfig = new PulsarSourceConfig();
            sourceSpec.getInputSpecsMap().forEach((topic, conf) -> {
                ConsumerConfig consumerConfig = ConsumerConfig.builder().isRegexPattern(conf.getIsRegexPattern()).build();
                if (conf.getSchemaType() != null && !conf.getSchemaType().isEmpty()) {
                    consumerConfig.setSchemaType(conf.getSchemaType());
                } else if (conf.getSerdeClassName() != null && !conf.getSerdeClassName().isEmpty()) {
                    consumerConfig.setSerdeClassName(conf.getSerdeClassName());
                }
                if (conf.hasReceiverQueueSize()) {
                    consumerConfig.setReceiverQueueSize(conf.getReceiverQueueSize().getValue());
                }
                pulsarSourceConfig.getTopicSchema().put(topic, consumerConfig);
            });

            sourceSpec.getTopicsToSerDeClassNameMap().forEach((topic, serde) -> {
                pulsarSourceConfig.getTopicSchema().put(topic,
                        ConsumerConfig.builder()
                                .serdeClassName(serde)
                                .isRegexPattern(false)
                                .build());
            });

            if (!StringUtils.isEmpty(sourceSpec.getTopicsPattern())) {
                pulsarSourceConfig.getTopicSchema().get(sourceSpec.getTopicsPattern()).setRegexPattern(true);
            }

            pulsarSourceConfig.setSubscriptionName(
                    StringUtils.isNotBlank(sourceSpec.getSubscriptionName()) ? sourceSpec.getSubscriptionName()
                            : InstanceUtils.getDefaultSubscriptionName(instanceConfig.getFunctionDetails()));
            pulsarSourceConfig.setProcessingGuarantees(
                    FunctionConfig.ProcessingGuarantees.valueOf(
                            this.instanceConfig.getFunctionDetails().getProcessingGuarantees().name()));

            switch (sourceSpec.getSubscriptionType()) {
                case FAILOVER:
                    pulsarSourceConfig.setSubscriptionType(SubscriptionType.Failover);
                    break;
                default:
                    pulsarSourceConfig.setSubscriptionType(SubscriptionType.Shared);
                    break;
            }

            pulsarSourceConfig.setTypeClassName(sourceSpec.getTypeClassName());

            if (sourceSpec.getTimeoutMs() > 0 ) {
                pulsarSourceConfig.setTimeoutMs(sourceSpec.getTimeoutMs());
            }

            if (this.instanceConfig.getFunctionDetails().hasRetryDetails()) {
                pulsarSourceConfig.setMaxMessageRetries(this.instanceConfig.getFunctionDetails().getRetryDetails().getMaxMessageRetries());
                pulsarSourceConfig.setDeadLetterTopic(this.instanceConfig.getFunctionDetails().getRetryDetails().getDeadLetterTopic());
            }
            object = new PulsarSource(this.client, pulsarSourceConfig, this.properties);
        } else {
            object = Reflections.createInstance(
                    sourceSpec.getClassName(),
                    Thread.currentThread().getContextClassLoader());
        }

        Class<?>[] typeArgs;
        if (object instanceof Source) {
            typeArgs = TypeResolver.resolveRawArguments(Source.class, object.getClass());
            assert typeArgs.length > 0;
        } else {
            throw new RuntimeException("Source does not implement correct interface");
        }
        this.source = (Source<?>) object;

        if (sourceSpec.getConfigs().isEmpty()) {
            this.source.open(new HashMap<>(), contextImpl);
        } else {
            this.source.open(<mark>new Gson</mark>().<mark>fromJson</mark>(sourceSpec.getConfigs(),
                    new TypeToken<Map<String, Object>>(){}.<mark>getType</mark>()), contextImpl);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_13.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static CodeGraphImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeGraphImpl dto = new CodeGraphImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("codeBlockMap")) {
        JsonElement codeBlockMapIn = json.<mark>get</mark>("codeBlockMap");
        java.util.HashMap<String, CodeBlockImpl> codeBlockMapOut = null;
        if (codeBlockMapIn != null && !codeBlockMapIn.<mark>isJsonNull</mark>()) {
          codeBlockMapOut = new java.util.HashMap<String, CodeBlockImpl>();
          java.util.Set<Map.Entry<String, JsonElement>> entries0 = codeBlockMapIn.<mark>getAsJsonObject</mark>().entrySet();
          for (Map.Entry<String, JsonElement> entry0 : entries0) {
            JsonElement codeBlockMapIn_ = entry0.getValue();
            CodeBlockImpl codeBlockMapOut_ = CodeBlockImpl.fromJsonElement(codeBlockMapIn_);
            codeBlockMapOut.put(entry0.getKey(), codeBlockMapOut_);
          }
        }
        dto.setCodeBlockMap(codeBlockMapOut);
      }

      if (json.<mark>has</mark>("defaultPackage")) {
        JsonElement defaultPackageIn = json.<mark>get</mark>("defaultPackage");
        CodeBlockImpl defaultPackageOut = CodeBlockImpl.fromJsonElement(defaultPackageIn);
        dto.setDefaultPackage(defaultPackageOut);
      }

      if (json.<mark>has</mark>("inheritanceAssociations")) {
        JsonElement inheritanceAssociationsIn = json.<mark>get</mark>("inheritanceAssociations");
        java.util.ArrayList<InheritanceAssociationImpl> inheritanceAssociationsOut = null;
        if (inheritanceAssociationsIn != null && !inheritanceAssociationsIn.<mark>isJsonNull</mark>()) {
          inheritanceAssociationsOut = new java.util.ArrayList<InheritanceAssociationImpl>();
          java.util.Iterator<JsonElement> inheritanceAssociationsInIterator = inheritanceAssociationsIn.getAsJsonArray().iterator();
          while (inheritanceAssociationsInIterator.hasNext()) {
            JsonElement inheritanceAssociationsIn_ = inheritanceAssociationsInIterator.next();
            InheritanceAssociationImpl inheritanceAssociationsOut_ = InheritanceAssociationImpl.fromJsonElement(inheritanceAssociationsIn_);
            inheritanceAssociationsOut.add(inheritanceAssociationsOut_);
          }
        }
        dto.setInheritanceAssociations(inheritanceAssociationsOut);
      }

      if (json.<mark>has</mark>("typeAssociations")) {
        JsonElement typeAssociationsIn = json.<mark>get</mark>("typeAssociations");
        java.util.ArrayList<TypeAssociationImpl> typeAssociationsOut = null;
        if (typeAssociationsIn != null && !typeAssociationsIn.<mark>isJsonNull</mark>()) {
          typeAssociationsOut = new java.util.ArrayList<TypeAssociationImpl>();
          java.util.Iterator<JsonElement> typeAssociationsInIterator = typeAssociationsIn.getAsJsonArray().iterator();
          while (typeAssociationsInIterator.hasNext()) {
            JsonElement typeAssociationsIn_ = typeAssociationsInIterator.next();
            TypeAssociationImpl typeAssociationsOut_ = TypeAssociationImpl.fromJsonElement(typeAssociationsIn_);
            typeAssociationsOut.add(typeAssociationsOut_);
          }
        }
        dto.setTypeAssociations(typeAssociationsOut);
      }

      if (json.<mark>has</mark>("importAssociations")) {
        JsonElement importAssociationsIn = json.<mark>get</mark>("importAssociations");
        java.util.ArrayList<ImportAssociationImpl> importAssociationsOut = null;
        if (importAssociationsIn != null && !importAssociationsIn.<mark>isJsonNull</mark>()) {
          importAssociationsOut = new java.util.ArrayList<ImportAssociationImpl>();
          java.util.Iterator<JsonElement> importAssociationsInIterator = importAssociationsIn.getAsJsonArray().iterator();
          while (importAssociationsInIterator.hasNext()) {
            JsonElement importAssociationsIn_ = importAssociationsInIterator.next();
            ImportAssociationImpl importAssociationsOut_ = ImportAssociationImpl.fromJsonElement(importAssociationsIn_);
            importAssociationsOut.add(importAssociationsOut_);
          }
        }
        dto.setImportAssociations(importAssociationsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>fluxtream_____fluxtream-app_____BodyTrackHelper_4.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/fluxtream_____fluxtream-app_____BodyTrackHelper.java

com.google.gson.Gson.fromJson


    public String listSources(Long guestId, TrustedBuddy trustedBuddy){
        SourcesResponse response = null;
        try{
            if (guestId == null) {
                throw new IllegalArgumentException();
            }
            final DataStoreExecutionResult dataStoreExecutionResult = executeDataStore("info",new Object[]{"-r",guestId});
            String result = dataStoreExecutionResult.getResponse();

            // TODO: check statusCode in DataStoreExecutionResult
            ChannelInfoResponse infoResponse = gson.<mark>fromJson</mark>(result,ChannelInfoResponse.class);

            // Iterate over the various (photo) connectors (if any), manually inserting each into the ChannelSpecs
            final Map<String, TimeInterval> photoChannelTimeRanges = photoService.getPhotoChannelTimeRanges(guestId, trustedBuddy);

            // create the 'All' photos block
            final Source allPhotosSource = getAllPhotosSource(infoResponse, photoChannelTimeRanges);

            // create the respone
            response = new SourcesResponse(infoResponse, guestId, trustedBuddy);

            // filter out photo connectors that aren't shared with this user
            if (trustedBuddy !=null) {
                List<String> sourcesToRemove = new ArrayList<String>();
                for (Source source : response.sources) {
                    final Connector photoConnectorForSource = Connector.fromDeviceNickname(source.name);
                    if (photoConnectorForSource!=null) {
                        final List<ApiKey> apiKeys = guestService.getApiKeys(trustedBuddy.guestId, photoConnectorForSource);
                        for (ApiKey apiKey : apiKeys) {
                            if (buddiesService.getSharedConnector(apiKey.getId(), AuthHelper.getGuestId())==null) {
                                sourcesToRemove.add(source.name);
                                break;
                            }
                        }
                      // 09/15/2014 on Anne's request: until we have thoroughly fixed the management
                      // of channel mappings, sources that don't map to connectors need to continue being
                      // shared with buddies
//                    } else {
//                        // let's be conservative: if we don't know this connector, let's assume
//                        // it wasn't shared
//                        sourcesToRemove.add(source.name);
                    }
                }
                for (String sourceName : sourcesToRemove) {
                    response.deleteSource(sourceName);
                }
            }

            //TODO: this is a hack to prevent double flickr photo channel showing up
            response.deleteSource("Flickr");
            response.deleteSource("SMS_Backup");

            final List<ChannelMapping> channelMappings = getChannelMappings(guestId, trustedBuddy);
            populateResponseWithChannelMappings(guestId, trustedBuddy, response, channelMappings, infoResponse);

            // add the All photos block to the response
            if (!photoChannelTimeRanges.isEmpty()) {
                response.sources.add(allPhotosSource);
            }

            for (Source source : response.sources){
                if (source.max_time < source.min_time)
                    source.min_time = source.max_time = 0.0;
            }

            final String jsonResponse = gson.toJson(response);
            return jsonResponse;
        }
        catch(Exception e){
            e.printStackTrace();
            StringBuilder sb = new StringBuilder("module=bodytrackHelper component=listSources action=listSources")
                    .append(" guestId=")
                    .append(guestId)
                    .append(" message=").append(e.getMessage());

            if(response!=null) {
                // In case the exception was caused by speical floating point values such as
                // Infinity, create a gson builder that will potentially let us debug even though
                // the javascript would choke on the result if we returned it
                Gson errorGson = new GsonBuilder().serializeSpecialFloatingPointValues().create();
                sb.append(" response=").append(errorGson.toJson(response));
            }

            logger.error(sb.toString());

            return gson.toJson(new SourcesResponse(null, guestId, trustedBuddy));
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_71.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetRunConfigResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetRunConfigResponseImpl dto = new GetRunConfigResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("output")) {
        JsonElement outputIn = json.<mark>get</mark>("output");
        java.lang.String outputOut = gson.<mark>fromJson</mark>(outputIn, java.lang.String.class);
        dto.setOutput(outputOut);
      }

      if (json.<mark>has</mark>("logLevel")) {
        JsonElement logLevelIn = json.<mark>get</mark>("logLevel");
        com.google.gwt.core.ext.TreeLogger.Type logLevelOut = gson.<mark>fromJson</mark>(logLevelIn, com.google.gwt.core.ext.TreeLogger.Type.class);
        dto.setLogLevel(logLevelOut);
      }

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      if (json.<mark>has</mark>("lib")) {
        JsonElement libIn = json.<mark>get</mark>("lib");
        java.util.ArrayList<java.lang.String> libOut = null;
        if (libIn != null && !libIn.<mark>isJsonNull</mark>()) {
          libOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> libInIterator = libIn.<mark>getAsJsonArray</mark>().iterator();
          while (libInIterator.hasNext()) {
            JsonElement libIn_ = libInIterator.next();
            java.lang.String libOut_ = gson.<mark>fromJson</mark>(libIn_, java.lang.String.class);
            libOut.add(libOut_);
          }
        }
        dto.setLib(libOut);
      }

      if (json.<mark>has</mark>("deps")) {
        JsonElement depsIn = json.<mark>get</mark>("deps");
        java.util.ArrayList<java.lang.String> depsOut = null;
        if (depsIn != null && !depsIn.<mark>isJsonNull</mark>()) {
          depsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> depsInIterator = depsIn.<mark>getAsJsonArray</mark>().iterator();
          while (depsInIterator.hasNext()) {
            JsonElement depsIn_ = depsInIterator.next();
            java.lang.String depsOut_ = gson.<mark>fromJson</mark>(depsIn_, java.lang.String.class);
            depsOut.add(depsOut_);
          }
        }
        dto.setDeps(depsOut);
      }

      if (json.<mark>has</mark>("src")) {
        JsonElement srcIn = json.<mark>get</mark>("src");
        java.util.ArrayList<java.lang.String> srcOut = null;
        if (srcIn != null && !srcIn.<mark>isJsonNull</mark>()) {
          srcOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> srcInIterator = srcIn.<mark>getAsJsonArray</mark>().iterator();
          while (srcInIterator.hasNext()) {
            JsonElement srcIn_ = srcInIterator.next();
            java.lang.String srcOut_ = gson.<mark>fromJson</mark>(srcIn_, java.lang.String.class);
            srcOut.add(srcOut_);
          }
        }
        dto.setSrc(srcOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_10.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson

	@SuppressWarnings("unchecked")
	private String changeGroupState(String userId, String groupId, String body, String ipAddress, boolean fakeLightResponse) {
		ColorData colorData = null;
		log.debug("PUT action to group  " + groupId + " from " + ipAddress + " user " + userId + " with body " + body);
		HueError[] theErrors = null;
		theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors == null) {
			if(bridgeSettingMaster.getBridgeSecurity().isSettingsChanged())
				bridgeSettingMaster.updateConfigFile();

			GroupDescriptor group = null;
			Integer targetBriInc = null;
			Integer targetBri = null;
			DeviceState state = null;
			Map<String, DeviceResponse> lights = null;
			if (groupId.equalsIgnoreCase("0")) {
				lights = (Map<String, DeviceResponse>)lightsListHandler(userId, ipAddress);
			} else {
				group = groupRepository.findOne(groupId);
				if (group == null || group.isInactive()) {
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/groups/" + groupId,
						"resource, /groups/" + groupId + ", not available", null, null, null).getTheErrors(), HueError[].class);	
				} else {
					if (fakeLightResponse) {
						lights = repository.findAllByGroupWithState(group.getLights(), ipAddress, myHueHome, aGsonHandler, true);
					} else {
						lights = repository.findAllByGroupWithState(group.getLights(), ipAddress, myHueHome, aGsonHandler);	
					}
				}
			}

			if (lights != null) {
				StateChangeBody theStateChanges = null;
				try {
					theStateChanges = aGsonHandler.<mark>fromJson</mark>(body, StateChangeBody.class);
				} catch (Exception e) {
					theStateChanges = null;
				}
				if (theStateChanges == null) {
					log.warn("Could not parse state change body. Light state not changed.");
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("2", "/groups/" + groupId + "/action",
							"Could not parse state change body.", null, null, null).getTheErrors(), HueError[].class);
				}

				if (group != null) {
					if (body.contains("\"bri_inc\"")) {
						targetBriInc = new Integer(theStateChanges.getBri_inc());
					}
					else if (body.contains("\"bri\"")) {
						targetBri = new Integer(theStateChanges.getBri());
					}

					state = group.getAction();
					if (state == null) {
						state = DeviceState.createDeviceState(true);
						group.setAction(state);
					}	
				}
				

				boolean turnOn = false;
				boolean turnOff = false;
				if (!(body.contains("\"bri_inc\"") || body.contains("\"bri\""))) {
					if (!(body.contains("\"xy\"") || body.contains("\"ct\"") || body.contains("\"hue\""))) {
						if (theStateChanges.isOn()) {
							turnOn = true;
						} else if (!theStateChanges.isOn()) {
							turnOff = true;
						}
					}
				}
				for (Map.Entry<String, DeviceResponse> light : lights.entrySet()) {
					log.debug("Processing light" + light.getKey() + ": " + turnOn + " " + turnOff + " " + light.getValue().getState().isOn());
					// ignore on/off for devices that are already on/off
					if (turnOff && !light.getValue().getState().isOn())
						continue;
					if (turnOn && light.getValue().getState().isOn())
						continue;
					changeState(userId, light.getKey(), body, ipAddress, fakeLightResponse);
				}
				// construct success response: one success message per changed property, but not per light
				if (group != null) { // if not group 0
					 String response = formatSuccessHueResponse(theStateChanges, body, String.valueOf(Integer.parseInt(groupId) + 10000),
						state, targetBri, targetBriInc, colorData, true);
					 group.setAction(state);
					 if (fakeLightResponse) {
					 	return response;
					 }
				}

				String successString = "[";
				for (String pairStr : body.replaceAll("[{|}]", "").split(",\\s*\"")) {
					String[] pair = pairStr.split(":");
					if (fakeLightResponse) {
						successString += "{\"success\":{ \"/lights/" + String.valueOf(Integer.parseInt(groupId) + 10000) + "/state/" + pair[0].replaceAll("\"", "").trim() + "\": " + pair[1].trim() + "}},";
					} else {
						successString += "{\"success\":{ \"address\": \"/groups/" + groupId + "/action/" + pair[0].replaceAll("\"", "").trim() + "\", \"value\": " + pair[1].trim() + "}},";	
					}
					
				}
				return (successString.length() == 1) ? "[]" : successString.substring(0, successString.length()-1) + "]";
			}
		}

		return aGsonHandler.<mark>toJson</mark>(theErrors);
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>yahoo_____pulsar_____BrokerMonitor_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/yahoo_____pulsar_____BrokerMonitor.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.fromJson

    // Prints out the global load data.
    private void printGlobalData() {
        synchronized (loadData) {
            // 1 header row, 1 total row, and loadData.size() rows for brokers.
            Object[][] rows = new Object[loadData.size() + 2][];
            rows[0] = GLOBAL_HEADER;
            int totalBundles = 0;
            double totalThroughput = 0;
            double totalMessageRate = 0;
            double totalLongTermMessageRate = 0;
            double maxMaxUsage = 0;
            int i = 1;
            for (final Map.Entry<String, Object> entry : loadData.entrySet()) {
                final String broker = entry.getKey();
                final Object data = entry.getValue();
                rows[i] = new Object[GLOBAL_HEADER.length];
                rows[i][0] = broker;
                int numBundles;
                double messageRate;
                double longTermMessageRate;
                double messageThroughput;
                double maxUsage;
                if (data instanceof LoadReport) {
                    final LoadReport loadReport = (LoadReport) data;
                    numBundles = (int) loadReport.getNumBundles();
                    messageRate = loadReport.getMsgRateIn() + loadReport.getMsgRateOut();
                    longTermMessageRate = loadReport.getAllocatedMsgRateIn() + loadReport.getAllocatedMsgRateOut();
                    messageThroughput = (loadReport.getAllocatedBandwidthIn() + loadReport.getAllocatedBandwidthOut())
                            / 1024;
                    final SystemResourceUsage systemResourceUsage = loadReport.getSystemResourceUsage();
                    maxUsage = Math.max(
                            Math.max(
                                    Math.max(systemResourceUsage.getCpu().percentUsage(),
                                            systemResourceUsage.getMemory().percentUsage()),
                                    Math.max(systemResourceUsage.getDirectMemory().percentUsage(),
                                            systemResourceUsage.getBandwidthIn().percentUsage())),
                            systemResourceUsage.getBandwidthOut().percentUsage());
                } else if (data instanceof LocalBrokerData) {
                    final LocalBrokerData localData = (LocalBrokerData) data;
                    numBundles = localData.getNumBundles();
                    messageRate = localData.getMsgRateIn() + localData.getMsgRateOut();
                    final String timeAveragePath = ModularLoadManagerImpl.TIME_AVERAGE_BROKER_ZPATH + "/" + broker;
                    try {
                        final TimeAverageBrokerData timeAverageData = gson.<mark>fromJson</mark>(
                                new String(zkClient.getData(timeAveragePath, false, null)), TimeAverageBrokerData.class);
                        longTermMessageRate = timeAverageData.getLongTermMsgRateIn() + timeAverageData.getLongTermMsgRateOut();
                    } catch ( Exception x ) {
                        throw new RuntimeException(x);
                    }
                    messageThroughput = (localData.getMsgThroughputIn() + localData.getMsgThroughputOut()) / 1024;
                    maxUsage = localData.getMaxResourceUsage();
                } else {
                    throw new AssertionError("Unreachable code");
                }

                rows[i][1] = numBundles;
                rows[i][2] = messageRate;
                rows[i][3] = messageThroughput;
                rows[i][4] = longTermMessageRate;
                rows[i][5] = maxUsage;

                totalBundles += numBundles;
                totalMessageRate += messageRate;
                totalLongTermMessageRate += longTermMessageRate;
                totalThroughput += messageThroughput;
                maxMaxUsage = Math.max(maxUsage, maxMaxUsage);
                ++i;
            }
            final int finalRow = loadData.size() + 1;
            rows[finalRow] = new Object[GLOBAL_HEADER.length];
            rows[finalRow][0] = "TOTAL";
            rows[finalRow][1] = totalBundles;
            rows[finalRow][2] = totalMessageRate;
            rows[finalRow][3] = totalLongTermMessageRate;
            rows[finalRow][4] = totalThroughput;
            rows[finalRow][5] = maxMaxUsage;
            final String table = globalTableMaker.make(rows);
            log.info("Overall Broker Data:\n{}", table);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____WixelReader_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____WixelReader.java

com.google.gson.Gson.fromJson

    // read from http source like cloud hosted parakeet receiver.cgi / json.get
    private static List<TransmitterRawData> readHttpJson(String url, int numberOfRecords) {
        final List<TransmitterRawData> trd_list = new LinkedList<>();
        int processNumberOfRecords = numberOfRecords;
        // get more records to ensure we can handle coexistence of parakeet and usb-python-wixel
        // TODO make this work on preference option for the feature
        if (true) numberOfRecords = numberOfRecords + 1;
        long newest_timestamp = 0;
        try {

            if (httpClient == null) {
                httpClient = new OkHttpClient();
                // suitable for GPRS
                httpClient.setConnectTimeout(30, TimeUnit.SECONDS);
                httpClient.setReadTimeout(60, TimeUnit.SECONDS);
                httpClient.setWriteTimeout(20, TimeUnit.SECONDS);
            }


            // simple HTTP GET request
            // n=numberOfRecords for backfilling
            // r=sequence number to avoid any cache
            // expecting json reply like the standard json server in dexterity / python pi usb / parakeet
            final Request request = new Request.Builder()

                    // Mozilla header facilitates compression
                    .header("User-Agent", "Mozilla/5.0")
                    .header("Connection", "close")
                    .url(url + "?n=" + Integer.toString(numberOfRecords)
                            + "&r=" + Long.toString((System.currentTimeMillis() / 1000) % 9999999))
                    .build();

            final Response response = httpClient.newCall(request).execute();
            // if (!response.isSuccessful()) throw new IOException("Unexpected code " + response);
            if (response.isSuccessful()) {

                String lines[] = response.body().string().split("\\r?\\n");

                for (String data : lines) {

                    if (data == null) {
                        Log.d(TAG, "received null continuing");
                        continue;
                    }
                    if (data.equals("")) {
                        Log.d(TAG, "received \"\" continuing");
                        continue;
                    }

                    final TransmitterRawData trd = gson.<mark>fromJson</mark>(data, TransmitterRawData.class);
                    trd.CaptureDateTime = System.currentTimeMillis() - trd.RelativeTime;

                    // Versions of the Python USB script after 20th May 2016 will
                    // submit a bogus geolocation in the middle of the ocean to differentiate
                    // themselves from actual parakeet data even though both can coexist on the
                    // parakeet web service.

                   // if (JoH.ratelimit("parakeet-check-notification", 9)) {
                        ParakeetHelper.checkParakeetNotifications(trd.CaptureDateTime, trd.GeoLocation);
                    //}
                    if ((trd.GeoLocation != null)) {
                        if (!trd.GeoLocation.equals("-15,-15")) {
                            try {
                                MapsActivity.newMapLocation(trd.GeoLocation, trd.CaptureDateTime);
                            } catch (Exception e) {
                                Log.e(TAG, "Exception with maps activity: " + e.toString());
                            }
                        } else {
                            // look a little further if we see usb-wixel data on parakeet app engine
                            processNumberOfRecords = numberOfRecords + 1;
                        }
                    }
                    if (newest_timestamp < trd.getCaptureDateTime()) {
                        statusLog(url, JoH.hourMinuteString() + " OK data from:", trd.getCaptureDateTime());
                        newest_timestamp = trd.CaptureDateTime;
                    }
                    trd_list.add(0, trd);
                    //  System.out.println( trd.toTableString());
                    if (trd_list.size() == processNumberOfRecords) {
                        // We have the data we want, let's get out
                        break;
                    }
                }

                Log.i(TAG, "Success getting http json with end size: " + Integer.toString(trd_list.size()));
            }

        } catch (Exception e) {
            Log.e(TAG, "caught Exception in reading http json data " + e.toString());
        }
        return trd_list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>HuaweiBigData_____carbondata_____SegmentStatusManager_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/HuaweiBigData_____carbondata_____SegmentStatusManager.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
   * This method will create new segment id
   *
   * @param loadMetadataDetails
   * @return
   */   */
  public ValidAndInvalidSegmentsInfo getValidAndInvalidSegments() throws IOException {

    // @TODO: move reading LoadStatus file to separate class
    List<String> listOfValidSegments = new ArrayList<>(10);
    List<String> listOfValidUpdatedSegments = new ArrayList<>(10);
    List<String> listOfInvalidSegments = new ArrayList<>(10);
    List<String> listOfStreamSegments = new ArrayList<>(10);
    CarbonTablePath carbonTablePath = CarbonStorePath
            .getCarbonTablePath(absoluteTableIdentifier.getStorePath(),
                    absoluteTableIdentifier.getCarbonTableIdentifier());
    String dataPath = carbonTablePath.getTableStatusFilePath();
    DataInputStream dataInputStream = null;
    Gson gsonObjectToRead = <mark>new Gson</mark>();
    AtomicFileOperations fileOperation =
            new AtomicFileOperationsImpl(dataPath, FileFactory.getFileType(dataPath));
    LoadMetadataDetails[] loadFolderDetailsArray;
    try {
      if (FileFactory.isFileExist(dataPath, FileFactory.getFileType(dataPath))) {
        dataInputStream = fileOperation.openForRead();
        BufferedReader buffReader =
                new BufferedReader(new InputStreamReader(dataInputStream, "UTF-8"));
        loadFolderDetailsArray = gsonObjectToRead.<mark>fromJson</mark>(buffReader, LoadMetadataDetails[].class);
        //just directly iterate Array
        for (LoadMetadataDetails loadMetadataDetails : loadFolderDetailsArray) {
          if (CarbonCommonConstants.STORE_LOADSTATUS_SUCCESS
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())
                  || CarbonCommonConstants.MARKED_FOR_UPDATE
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())
                  || CarbonCommonConstants.STORE_LOADSTATUS_PARTIAL_SUCCESS
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())
                  || CarbonCommonConstants.STORE_LOADSTATUS_STREAMING
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())
                  || CarbonCommonConstants.STORE_LOADSTATUS_STREAMING_FINISH
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())) {
            // check for merged loads.
            if (null != loadMetadataDetails.getMergedLoadName()) {
              if (!listOfValidSegments.contains(loadMetadataDetails.getMergedLoadName())) {
                listOfValidSegments.add(loadMetadataDetails.getMergedLoadName());
              }
              // if merged load is updated then put it in updated list
              if (CarbonCommonConstants.MARKED_FOR_UPDATE
                      .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())) {
                listOfValidUpdatedSegments.add(loadMetadataDetails.getMergedLoadName());
              }
              continue;
            }

            if (CarbonCommonConstants.MARKED_FOR_UPDATE
                    .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())) {

              listOfValidUpdatedSegments.add(loadMetadataDetails.getLoadName());
            }
            if (CarbonCommonConstants.STORE_LOADSTATUS_STREAMING
                .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())
                || CarbonCommonConstants.STORE_LOADSTATUS_STREAMING_FINISH
                .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())) {
              listOfStreamSegments.add(loadMetadataDetails.getLoadName());
              continue;
            }
            listOfValidSegments.add(loadMetadataDetails.getLoadName());
          } else if ((CarbonCommonConstants.STORE_LOADSTATUS_FAILURE
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())
                  || CarbonCommonConstants.COMPACTED
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus())
                  || CarbonCommonConstants.MARKED_FOR_DELETE
                  .equalsIgnoreCase(loadMetadataDetails.getLoadStatus()))) {
            listOfInvalidSegments.add(loadMetadataDetails.getLoadName());
          }
        }
      }
    } catch (IOException e) {
      LOG.error(e);
      throw e;
    } finally {
      try {
        if (null != dataInputStream) {
          dataInputStream.close();
        }
      } catch (Exception e) {
        LOG.error(e);
        throw e;
      }
    }
    return new ValidAndInvalidSegmentsInfo(listOfValidSegments, listOfValidUpdatedSegments,
            listOfInvalidSegments, listOfStreamSegments);
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>googlesamples_____leanback-showcase_____DetailViewExampleWithVideoBackgroundFragment_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/googlesamples_____leanback-showcase_____DetailViewExampleWithVideoBackgroundFragment.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    private void setupUi() {
        // Load the card we want to display from a JSON resource. This JSON data could come from
        // anywhere in a real world app, e.g. a server.
        String json = Utils
                .inputStreamToString(getResources().openRawResource(R.raw.detail_example));
        data = <mark>new Gson</mark>().<mark>fromJson</mark>(json, DetailedCard.class);

        // Setup fragment
        setTitle(getString(R.string.detail_view_title));

        FullWidthDetailsOverviewRowPresenter rowPresenter = new FullWidthDetailsOverviewRowPresenter(
                new DetailsDescriptionPresenter(getActivity())) {

            @Override
            protected RowPresenter.ViewHolder createRowViewHolder(ViewGroup parent) {
                // Customize Actionbar and Content by using custom colors.
                RowPresenter.ViewHolder viewHolder = super.createRowViewHolder(parent);

                View actionsView = viewHolder.view.
                        findViewById(R.id.details_overview_actions_background);
                actionsView.setBackgroundColor(getActivity().getResources().
                        getColor(R.color.detail_view_actionbar_background));

                View detailsView = viewHolder.view.findViewById(R.id.details_frame);
                detailsView.setBackgroundColor(
                        getResources().getColor(R.color.detail_view_background));
                return viewHolder;
            }
        };

        FullWidthDetailsOverviewSharedElementHelper mHelper = new FullWidthDetailsOverviewSharedElementHelper();
        mHelper.setSharedElementEnterTransition(getActivity(), TRANSITION_NAME);
        rowPresenter.setListener(mHelper);
        rowPresenter.setParticipatingEntranceTransition(false);
        prepareEntranceTransition();

        ListRowPresenter shadowDisabledRowPresenter = new ListRowPresenter();
        shadowDisabledRowPresenter.setShadowEnabled(false);

        // Setup PresenterSelector to distinguish between the different rows.
        ClassPresenterSelector rowPresenterSelector = new ClassPresenterSelector();
        rowPresenterSelector.addClassPresenter(DetailsOverviewRow.class, rowPresenter);
        rowPresenterSelector.addClassPresenter(CardListRow.class, shadowDisabledRowPresenter);
        rowPresenterSelector.addClassPresenter(ListRow.class, new ListRowPresenter());
        mRowsAdapter = new ArrayObjectAdapter(rowPresenterSelector);

        // Setup action and detail row.
        DetailsOverviewRow detailsOverview = new DetailsOverviewRow(data);
        int imageResId = data.getLocalImageResourceId(getActivity());

        Bundle extras = getActivity().getIntent().getExtras();
        if (extras != null && extras.containsKey(EXTRA_CARD)) {
            imageResId = extras.getInt(EXTRA_CARD, imageResId);
        }
        detailsOverview.setImageDrawable(getResources().getDrawable(imageResId, null));
        ArrayObjectAdapter actionAdapter = new ArrayObjectAdapter();

        mActionPlay = new Action(ACTION_PLAY, getString(R.string.action_play));
        mActionRent = new Action(ACTION_RENT, getString(R.string.action_rent));
        mActionWishList = new Action(ACTION_WISHLIST, getString(R.string.action_wishlist));
        mActionRelated = new Action(ACTION_RELATED, getString(R.string.action_related));

        actionAdapter.add(mActionRent);
        actionAdapter.add(mActionWishList);
        actionAdapter.add(mActionRelated);
        detailsOverview.setActionsAdapter(actionAdapter);
        mRowsAdapter.add(detailsOverview);

        // Setup related row.
        ArrayObjectAdapter listRowAdapter = new ArrayObjectAdapter(
                new CardPresenterSelector(getActivity()));
        for (Card characterCard : data.getCharacters()) listRowAdapter.add(characterCard);
        HeaderItem header = new HeaderItem(0, getString(R.string.header_related));
        mRowsAdapter.add(new CardListRow(header, listRowAdapter, null));

        // Setup recommended row.
        listRowAdapter = new ArrayObjectAdapter(new CardPresenterSelector(getActivity()));
        for (Card card : data.getRecommended()) listRowAdapter.add(card);
        header = new HeaderItem(1, getString(R.string.header_recommended));
        mRowsAdapter.add(new ListRow(header, listRowAdapter));

        setAdapter(mRowsAdapter);
        new Handler().postDelayed(new Runnable() {
            @Override
            public void run() {
                startEntranceTransition();
            }
        }, 500);
        initializeBackground();
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____LibreWifiReader_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____LibreWifiReader.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    public static List<LibreWifiData> ReadV2(String hostName, int port, int numberOfRecords) {
        
        final List<LibreWifiData> trd_list = new LinkedList<LibreWifiData>();
        Log.i(TAG, "Read called: " + hostName + " port: " + port);
        
        final boolean skip_lan = Pref.getBooleanDefaultFalse("skip_lan_uploads_when_no_lan");

        if (skip_lan && (hostName.endsWith(".local")) && !JoH.isLANConnected()) {
            Log.d(TAG, "Skipping due to no lan: " + hostName);
            statusLog(hostName, "Skipping, no LAN");
            return trd_list; // blank
        }

        final long time_start = JoH.tsl();
        String currentAddress = "null";
        long newest_timestamp = 0;

        try {


            // An example of using gson.
            final ComunicationHeaderV2 ch = new ComunicationHeaderV2(numberOfRecords);
            //ch.version = 2;
            //ch.numberOfRecords = numberOfRecords;
            // String flat = gson.<mark>toJson</mark>(ch);
            //ComunicationHeader ch2 = gson.<mark>fromJson</mark>(flat, ComunicationHeader.class);
            //System.out.println("Results code" + flat + ch2.version);

            // Real client code
            final InetSocketAddress ServerAddress = new InetSocketAddress(Mdns.genericResolver(hostName), port);
            currentAddress = ServerAddress.getAddress().getHostAddress();
            if (skip_lan && currentAddress.startsWith("192.168.") && !JoH.isLANConnected()) {
                Log.d(TAG, "Skipping due to no lan: " + hostName);
                statusLog(hostName, "Skipping, no LAN");
                return trd_list; // blank
            }

            final Socket MySocket = new Socket();
            MySocket.connect(ServerAddress, 10000);

            //System.out.println("After the new socket \n");
            MySocket.setSoTimeout(3000);

            //System.out.println("client connected... " );

            final PrintWriter out = new PrintWriter(MySocket.getOutputStream(), true);
            final BufferedReader in = new BufferedReader(new InputStreamReader(MySocket.getInputStream()));

            out.println(ch.<mark>toJson</mark>());

            String full_data = "";
            while (true) {
                String data = in.readLine();
                if (data == null) {
                    Log.d(TAG, "recieved null exiting");
                    break;
                }
                if (data.equals("")) {
                    Log.d(TAG, "recieved \"\" exiting");
                    break;
                }

                Log.e(TAG,  "data size " +data.length() + " data = "+ data);
                full_data += data; 
            }
            
            MySocket.close();
            
            final LibreWifiHeader libre_Wifi_header = gson.<mark>fromJson</mark>(full_data, LibreWifiHeader.class);
            Log.e(TAG, "LibreWifiHeader = " + libre_Wifi_header);
            
            for (LibreWifiData libre_wifi_data : libre_Wifi_header.libre_wifi_data) {
                libre_wifi_data.CaptureDateTime = System.currentTimeMillis() - libre_wifi_data.RelativeTime;
                //MapsActivity.newMapLocation(trd.GeoLocation, trd.CaptureDateTime);

                if (newest_timestamp < libre_wifi_data.CaptureDateTime) {
                    statusLog(hostName, JoH.hourMinuteString() + " OK data from:", libre_wifi_data.CaptureDateTime);
                    newest_timestamp = libre_wifi_data.CaptureDateTime;
                }

                trd_list.add(0, libre_wifi_data);
                //  System.out.println( trd.toTableString());
                if (trd_list.size() == numberOfRecords) {
                    // We have the data we want, let's get out
                    break;
                }
            }
            return trd_list;
        } catch (SocketTimeoutException s) {
            Log.e(TAG, "Socket timed out! " + hostName + " : " + currentAddress + " : " + s.toString() + " after: " + JoH.msSince(time_start));
            statusLog(hostName, JoH.hourMinuteString() + " " + s.toString());
        } catch (IOException e) {
            Log.e(TAG, "caught IOException! " + hostName + " : " + currentAddress + " : " + " : " + e.toString());
            statusLog(hostName, JoH.hourMinuteString() + " " + e.toString());
        } catch (IllegalArgumentException e) {
            Log.e(TAG, "Argument error on: " + hostName + " " + e.toString());
        } catch (NullPointerException e) {
            Log.e(TAG, "Got null pointer exception " + hostName + " " + e.toString());
        }
        
        return trd_list;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____fineract_____SelfServiceRegistrationWritePlatformServiceImpl_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____fineract_____SelfServiceRegistrationWritePlatformServiceImpl.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.&ltinit&gt
com.google.gson.reflect.TypeToken<java.util.Map<java.lang.String,java.lang.Object>>.getType
com.google.gson.Gson.fromJson

    @Override
    public SelfServiceRegistration createRegistrationRequest(String apiRequestBodyAsJson) {
        Gson gson = <mark>new Gson</mark>();
        final Type typeOfMap = new TypeToken<Map<String, Object>>() {}.<mark>getType</mark>();
        final List<ApiParameterError> dataValidationErrors = new ArrayList<>();
        final DataValidatorBuilder baseDataValidator = new DataValidatorBuilder(dataValidationErrors).resource("user");
        this.fromApiJsonHelper.checkForUnsupportedParameters(typeOfMap, apiRequestBodyAsJson,
                SelfServiceApiConstants.REGISTRATION_REQUEST_DATA_PARAMETERS);
        JsonElement element = gson.<mark>fromJson</mark>(apiRequestBodyAsJson.toString(), JsonElement.class);

        String accountNumber = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.accountNumberParamName, element);
        baseDataValidator.reset().parameter(SelfServiceApiConstants.accountNumberParamName).value(accountNumber).notNull().notBlank()
                .notExceedingLengthOf(100);

        String firstName = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.firstNameParamName, element);
        baseDataValidator.reset().parameter(SelfServiceApiConstants.firstNameParamName).value(firstName).notBlank()
                .notExceedingLengthOf(100);

        String lastName = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.lastNameParamName, element);
        baseDataValidator.reset().parameter(SelfServiceApiConstants.lastNameParamName).value(lastName).notBlank().notExceedingLengthOf(100);

        String username = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.usernameParamName, element);
        baseDataValidator.reset().parameter(SelfServiceApiConstants.usernameParamName).value(username).notBlank().notExceedingLengthOf(100);

        // validate password policy
        String password = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.passwordParamName, element);
        final PasswordValidationPolicy validationPolicy = this.passwordValidationPolicy.findActivePasswordValidationPolicy();
        final String regex = validationPolicy.getRegex();
        final String description = validationPolicy.getDescription();
        baseDataValidator.reset().parameter(SelfServiceApiConstants.passwordParamName).value(password)
                .matchesRegularExpression(regex, description).notExceedingLengthOf(100);

        String authenticationMode = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.authenticationModeParamName, element);
        baseDataValidator.reset().parameter(SelfServiceApiConstants.authenticationModeParamName).value(authenticationMode).notBlank()
                .isOneOfTheseStringValues(SelfServiceApiConstants.emailModeParamName, SelfServiceApiConstants.mobileModeParamName);

        String email = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.emailParamName, element);
        baseDataValidator.reset().parameter(SelfServiceApiConstants.emailParamName).value(email).notNull().notBlank()
                .notExceedingLengthOf(100);

        boolean isEmailAuthenticationMode = authenticationMode.equalsIgnoreCase(SelfServiceApiConstants.emailModeParamName);
        String mobileNumber = null;
        if (!isEmailAuthenticationMode) {
            mobileNumber = this.fromApiJsonHelper.extractStringNamed(SelfServiceApiConstants.mobileNumberParamName, element);
            baseDataValidator.reset().parameter(SelfServiceApiConstants.mobileNumberParamName).value(mobileNumber).notNull()
                    .validatePhoneNumber();
        }
        validateForDuplicateUsername(username);

        throwExceptionIfValidationError(dataValidationErrors, accountNumber, firstName, lastName, mobileNumber, isEmailAuthenticationMode);

        String authenticationToken = randomAuthorizationTokenGeneration();
        Client client = this.clientRepository.getClientByAccountNumber(accountNumber);
        SelfServiceRegistration selfServiceRegistration = SelfServiceRegistration.instance(client, accountNumber, firstName, lastName,
                mobileNumber, email, authenticationToken, username, password);
        this.selfServiceRegistrationRepository.saveAndFlush(selfServiceRegistration);
        sendAuthorizationToken(selfServiceRegistration, isEmailAuthenticationMode);
        return selfServiceRegistration;

    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_46.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static EnterWorkspaceResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      EnterWorkspaceResponseImpl dto = new EnterWorkspaceResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("fileTree")) {
        JsonElement fileTreeIn = json.<mark>get</mark>("fileTree");
        GetDirectoryResponseImpl fileTreeOut = GetDirectoryResponseImpl.fromJsonElement(fileTreeIn);
        dto.setFileTree(fileTreeOut);
      }

      if (json.<mark>has</mark>("workspaceId")) {
        JsonElement workspaceIdIn = json.<mark>get</mark>("workspaceId");
        java.lang.String workspaceIdOut = gson.<mark>fromJson</mark>(workspaceIdIn, java.lang.String.class);
        dto.setWorkspaceId(workspaceIdOut);
      }

      if (json.<mark>has</mark>("syncState")) {
        JsonElement syncStateIn = json.<mark>get</mark>("syncState");
        com.google.collide.dto.GetSyncStateResponse.SyncState syncStateOut = gson.<mark>fromJson</mark>(syncStateIn, com.google.collide.dto.GetSyncStateResponse.SyncState.class);
        dto.setSyncState(syncStateOut);
      }

      if (json.<mark>has</mark>("participants")) {
        JsonElement participantsIn = json.<mark>get</mark>("participants");
        java.util.ArrayList<ParticipantUserDetailsImpl> participantsOut = null;
        if (participantsIn != null && !participantsIn.<mark>isJsonNull</mark>()) {
          participantsOut = new java.util.ArrayList<ParticipantUserDetailsImpl>();
          java.util.Iterator<JsonElement> participantsInIterator = participantsIn.getAsJsonArray().iterator();
          while (participantsInIterator.hasNext()) {
            JsonElement participantsIn_ = participantsInIterator.next();
            ParticipantUserDetailsImpl participantsOut_ = ParticipantUserDetailsImpl.fromJsonElement(participantsIn_);
            participantsOut.add(participantsOut_);
          }
        }
        dto.setParticipants(participantsOut);
      }

      if (json.<mark>has</mark>("participantsNextVersion")) {
        JsonElement participantsNextVersionIn = json.<mark>get</mark>("participantsNextVersion");
        java.lang.String participantsNextVersionOut = gson.<mark>fromJson</mark>(participantsNextVersionIn, java.lang.String.class);
        dto.setParticipantsNextVersion(participantsNextVersionOut);
      }

      if (json.<mark>has</mark>("userWorkspaceMetadata")) {
        JsonElement userWorkspaceMetadataIn = json.<mark>get</mark>("userWorkspaceMetadata");
        GetWorkspaceMetaDataResponseImpl userWorkspaceMetadataOut = GetWorkspaceMetaDataResponseImpl.fromJsonElement(userWorkspaceMetadataIn);
        dto.setUserWorkspaceMetadata(userWorkspaceMetadataOut);
      }

      if (json.<mark>has</mark>("keepAliveTimerIntervalMs")) {
        JsonElement keepAliveTimerIntervalMsIn = json.<mark>get</mark>("keepAliveTimerIntervalMs");
        int keepAliveTimerIntervalMsOut = keepAliveTimerIntervalMsIn.<mark>getAsInt</mark>();
        dto.setKeepAliveTimerIntervalMs(keepAliveTimerIntervalMsOut);
      }

      if (json.<mark>has</mark>("workspaceInfo")) {
        JsonElement workspaceInfoIn = json.<mark>get</mark>("workspaceInfo");
        WorkspaceInfoImpl workspaceInfoOut = WorkspaceInfoImpl.fromJsonElement(workspaceInfoIn);
        dto.setWorkspaceInfo(workspaceInfoOut);
      }

      if (json.<mark>has</mark>("workspaceSessionHost")) {
        JsonElement workspaceSessionHostIn = json.<mark>get</mark>("workspaceSessionHost");
        java.lang.String workspaceSessionHostOut = gson.<mark>fromJson</mark>(workspaceSessionHostIn, java.lang.String.class);
        dto.setWorkspaceSessionHost(workspaceSessionHostOut);
      }

      if (json.<mark>has</mark>("isReadOnly")) {
        JsonElement isReadOnlyIn = json.<mark>get</mark>("isReadOnly");
        boolean isReadOnlyOut = isReadOnlyIn.<mark>getAsBoolean</mark>();
        dto.setIsReadOnly(isReadOnlyOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>geotools_____geotools_____ArcGISRestFeatureSource_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/geotools_____geotools_____ArcGISRestFeatureSource.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson
com.google.gson.JsonSyntaxException.getMessage

    @Override
    protected SimpleFeatureType buildFeatureType() throws IOException {

        // Extracts informaton about the type name (as per this.entry) from the API
        Dataset ds = this.dataStore.getDataset(this.entry.getName());
        Webservice ws =
                (<mark>new Gson</mark>())
                        .<mark>fromJson</mark>(
                                ArcGISRestDataStore.inputStreamToString(
                                        this.dataStore.retrieveJSON(
                                                "GET",
                                                new URL(ds.getWebService().toString()),
                                                ArcGISRestDataStore.DEFAULT_PARAMS)),
                                Webservice.class);

        if (ws == null) {
            throw new IOException("Type name " + entry.getName() + " not found");
        }

        // Sets the information about the resource
        this.resInfo = new DefaultResourceInfo();
        try {
            this.resInfo.setSchema(new URI(this.dataStore.getNamespace().toExternalForm()));
        } catch (URISyntaxException e) {
            // Re-packages the exception to be compatible with method signature
            throw new IOException(e.<mark>getMessage</mark>(), e.fillInStackTrace());
        }
        // Exxgtracts the CRS either using WKID or WKT
        try {
            if (ws.getExtent().getSpatialReference().getLatestWkid() != null) {
                this.resInfo.setCRS(
                        CRS.decode("EPSG:" + ws.getExtent().getSpatialReference().getLatestWkid()));
            } else {
                if (ws.getExtent().getSpatialReference().getWkid() != null) {
                    this.resInfo.setCRS(
                            CRS.decode("EPSG:" + ws.getExtent().getSpatialReference().getWkid()));
                } else {
                    this.resInfo.setCRS(
                            CRS.parseWKT(ws.getExtent().getSpatialReference().getWkt()));
                }
            }

        } catch (FactoryException e) {
            // FIXME: this is not nice: exceptions should not be re-packaged
            throw new IOException(e.<mark>getMessage</mark>());
        }

        this.resInfo.setKeywords(new HashSet(ds.getKeyword()));

        // FIXME: the abstract of the feature type is not set
        this.resInfo.setDescription(ds.getDescription());

        this.resInfo.setTitle(ds.getTitle() != null ? ds.getTitle() : ws.getName());
        this.resInfo.setName(ws.getName());
        ReferencedEnvelope geoBbox =
                new ReferencedEnvelope(
                        ws.getExtent().getXmin(),
                        ws.getExtent().getXmax(),
                        ws.getExtent().getYmin(),
                        ws.getExtent().getYmax(),
                        this.resInfo.getCRS());
        this.resInfo.setBounds(geoBbox);
        this.objectIdField =
                (ws.getObjectIdField() != null) ? ws.getObjectIdField() : ws.getGlobalIdField();

        // Builds the feature type
        SimpleFeatureTypeBuilder builder = new SimpleFeatureTypeBuilder();
        builder.setCRS(this.resInfo.getCRS()); // NOTE: this has ot be done before
        // other settings, lest the SRS is
        // not set
        builder.setName(this.entry.getName());
        // FIXME: the abstract of the feature type is not set
        builder.setDescription(
                ds.getDescription() != null
                        ? new SimpleInternationalString(ds.getDescription())
                        : null);

        // Adds non-geometry field descriptions
        ws.getFields()
                .forEach(
                        (fld) -> {
                            Class clazz = EsriJavaMapping.get(fld.getType());
                            if (clazz == null) {
                                this.getDataStore()
                                        .getLogger()
                                        .severe("Type " + fld.getType() + " not found");
                            }
                            builder.add(fld.getName(), clazz);
                        });

        // Adds the geometry field
        Class clazz = EsriJTSMapping.get(ws.getGeometryType());
        if (clazz == null) {
            this.getDataStore()
                    .getLogger()
                    .severe("Geometry type " + ws.getGeometryType() + " not found");
        }

        builder.add(ArcGISRestDataStore.GEOMETRY_ATTR, clazz);

        this.schema = builder.buildFeatureType();
        this.schema.getUserData().put("serviceUrl", ds.getWebService());

        return this.schema;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_17.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt


    public static CodeModuleImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      CodeModuleImpl dto = new CodeModuleImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("logLevel")) {
        JsonElement logLevelIn = json.<mark>get</mark>("logLevel");
        com.google.gwt.core.ext.TreeLogger.Type logLevelOut = gson.<mark>fromJson</mark>(logLevelIn, com.google.gwt.core.ext.TreeLogger.Type.class);
        dto.setLogLevel(logLevelOut);
      }

      if (json.<mark>has</mark>("dependencies")) {
        JsonElement dependenciesIn = json.<mark>get</mark>("dependencies");
        java.util.ArrayList<java.lang.String> dependenciesOut = null;
        if (dependenciesIn != null && !dependenciesIn.<mark>isJsonNull</mark>()) {
          dependenciesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> dependenciesInIterator = dependenciesIn.getAsJsonArray().iterator();
          while (dependenciesInIterator.hasNext()) {
            JsonElement dependenciesIn_ = dependenciesInIterator.next();
            java.lang.String dependenciesOut_ = gson.<mark>fromJson</mark>(dependenciesIn_, java.lang.String.class);
            dependenciesOut.add(dependenciesOut_);
          }
        }
        dto.setDependencies(dependenciesOut);
      }

      if (json.<mark>has</mark>("sources")) {
        JsonElement sourcesIn = json.<mark>get</mark>("sources");
        java.util.ArrayList<java.lang.String> sourcesOut = null;
        if (sourcesIn != null && !sourcesIn.<mark>isJsonNull</mark>()) {
          sourcesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> sourcesInIterator = sourcesIn.getAsJsonArray().iterator();
          while (sourcesInIterator.hasNext()) {
            JsonElement sourcesIn_ = sourcesInIterator.next();
            java.lang.String sourcesOut_ = gson.<mark>fromJson</mark>(sourcesIn_, java.lang.String.class);
            sourcesOut.add(sourcesOut_);
          }
        }
        dto.setSources(sourcesOut);
      }

      if (json.<mark>has</mark>("extraArgs")) {
        JsonElement extraArgsIn = json.<mark>get</mark>("extraArgs");
        java.util.ArrayList<java.lang.String> extraArgsOut = null;
        if (extraArgsIn != null && !extraArgsIn.<mark>isJsonNull</mark>()) {
          extraArgsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> extraArgsInIterator = extraArgsIn.getAsJsonArray().iterator();
          while (extraArgsInIterator.hasNext()) {
            JsonElement extraArgsIn_ = extraArgsInIterator.next();
            java.lang.String extraArgsOut_ = gson.<mark>fromJson</mark>(extraArgsIn_, java.lang.String.class);
            extraArgsOut.add(extraArgsOut_);
          }
        }
        dto.setExtraArgs(extraArgsOut);
      }

      if (json.<mark>has</mark>("isRecompile")) {
        JsonElement isRecompileIn = json.<mark>get</mark>("isRecompile");
        boolean isRecompileOut = isRecompileIn.<mark>getAsBoolean</mark>();
        dto.setIsRecompile(isRecompileOut);
      }

      if (json.<mark>has</mark>("messageKey")) {
        JsonElement messageKeyIn = json.<mark>get</mark>("messageKey");
        java.lang.String messageKeyOut = gson.<mark>fromJson</mark>(messageKeyIn, java.lang.String.class);
        dto.setMessageKey(messageKeyOut);
      }

      if (json.<mark>has</mark>("manifestFile")) {
        JsonElement manifestFileIn = json.<mark>get</mark>("manifestFile");
        java.lang.String manifestFileOut = gson.<mark>fromJson</mark>(manifestFileIn, java.lang.String.class);
        dto.setManifestFile(manifestFileOut);
      }

      if (json.<mark>has</mark>("obfuscationLevel")) {
        JsonElement obfuscationLevelIn = json.<mark>get</mark>("obfuscationLevel");
        xapi.gwtc.api.ObfuscationLevel obfuscationLevelOut = gson.<mark>fromJson</mark>(obfuscationLevelIn, xapi.gwtc.api.ObfuscationLevel.class);
        dto.setObfuscationLevel(obfuscationLevelOut);
      }

      if (json.<mark>has</mark>("openAction")) {
        JsonElement openActionIn = json.<mark>get</mark>("openAction");
        xapi.gwtc.api.OpenAction openActionOut = gson.<mark>fromJson</mark>(openActionIn, xapi.gwtc.api.OpenAction.class);
        dto.setOpenAction(openActionOut);
      }

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>mitreid-connect_____OpenID-Connect-Java-Spring-Server_____ClientAPI_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/mitreid-connect_____OpenID-Connect-Java-Spring-Server_____ClientAPI.java

com.google.gson.JsonParser.parse
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get

/**
	 * Delete a client
	 * @param id
	 * @param modelAndView
	 * @return
	 */	@RequestMapping(method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)
	public String apiAddClient(@RequestBody String jsonString, Model m, Authentication auth) {

		JsonObject json = null;
		ClientDetailsEntity client = null;

		try {
			json = parser.<mark>parse</mark>(jsonString).getAsJsonObject();
			client = gson.<mark>fromJson</mark>(json, ClientDetailsEntity.class);
			client = validateSoftwareStatement(client);
		} catch (JsonSyntaxException e) {
			logger.error("apiAddClient failed due to JsonSyntaxException", e);
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Could not save new client. The server encountered a JSON syntax exception. Contact a system administrator for assistance.");
			return JsonErrorView.VIEWNAME;
		} catch (IllegalStateException e) {
			logger.error("apiAddClient failed due to IllegalStateException", e);
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Could not save new client. The server encountered an IllegalStateException. Refresh and try again - if the problem persists, contact a system administrator for assistance.");
			return JsonErrorView.VIEWNAME;
		} catch (ValidationException e) {
			logger.error("apiUpdateClient failed due to ValidationException", e);
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Could not update client. The server encountered a ValidationException.");
			return JsonErrorView.VIEWNAME;
		}

		// if they leave the client identifier empty, force it to be generated
		if (Strings.isNullOrEmpty(client.getClientId())) {
			client = clientService.generateClientId(client);
		}

		if (client.getTokenEndpointAuthMethod() == null ||
				client.getTokenEndpointAuthMethod().equals(AuthMethod.NONE)) {
			// we shouldn't have a secret for this client

			client.setClientSecret(null);

		} else if (client.getTokenEndpointAuthMethod().equals(AuthMethod.SECRET_BASIC)
				|| client.getTokenEndpointAuthMethod().equals(AuthMethod.SECRET_POST)
				|| client.getTokenEndpointAuthMethod().equals(AuthMethod.SECRET_JWT)) {

			// if they've asked for us to generate a client secret (or they left it blank but require one), do so here
			if (json.<mark>has</mark>("generateClientSecret") && json.<mark>get</mark>("generateClientSecret").getAsBoolean()
					|| Strings.isNullOrEmpty(client.getClientSecret())) {
				client = clientService.generateClientSecret(client);
			}

		} else if (client.getTokenEndpointAuthMethod().equals(AuthMethod.PRIVATE_KEY)) {

			if (Strings.isNullOrEmpty(client.getJwksUri()) && client.getJwks() == null) {
				logger.error("tried to create client with private key auth but no private key");
				m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
				m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Can not create a client with private key authentication without registering a key via the JWK Set URI or JWK Set Value.");
				return JsonErrorView.VIEWNAME;
			}

			// otherwise we shouldn't have a secret for this client
			client.setClientSecret(null);

		} else {

			logger.error("unknown auth method");
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Unknown auth method requested");
			return JsonErrorView.VIEWNAME;


		}

		client.setDynamicallyRegistered(false);

		try {
			ClientDetailsEntity newClient = clientService.saveNewClient(client);
			m.addAttribute(JsonEntityView.ENTITY, newClient);

			if (AuthenticationUtilities.isAdmin(auth)) {
				return ClientEntityViewForAdmins.VIEWNAME;
			} else {
				return ClientEntityViewForUsers.VIEWNAME;
			}
		} catch (IllegalArgumentException e) {
			logger.error("Unable to save client: {}", e.getMessage());
			m.addAttribute(HttpCodeView.CODE, HttpStatus.BAD_REQUEST);
			m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Unable to save client: " + e.getMessage());
			return JsonErrorView.VIEWNAME;
		} catch (PersistenceException e) {
			Throwable cause = e.getCause();
			if (cause instanceof DatabaseException) {
				Throwable databaseExceptionCause = cause.getCause();
				if(databaseExceptionCause instanceof SQLIntegrityConstraintViolationException) {
					logger.error("apiAddClient failed; duplicate client id entry found: {}", client.getClientId());
					m.addAttribute(HttpCodeView.CODE, HttpStatus.CONFLICT);
					m.addAttribute(JsonErrorView.ERROR_MESSAGE, "Unable to save client. Duplicate client id entry found: " + client.getClientId());
					return JsonErrorView.VIEWNAME;
				}
			}
			throw e;
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>rithms_____riot-api-java_____Request_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/rithms_____riot-api-java_____Request.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
	 * Retrieves the result of the request.
	 * 
	 * @param overrideStateRequirement
	 *            If set to {@code true}, this method will not check the status of the request, and thus not throw an
	 *            {@code IllegalStateException}
	 * @return The object returned by the api call, or {@code null} if the method explicitly has no return value.
	 * @throws IllegalStateException
	 *             If this request did not complete yet or did not succeed
	 * @throws RiotApiException
	 *             If parsing the Riot Api's response fails
	 */	 */
	protected synchronized void execute() throws RiotApiException, RateLimitException {
		setState(RequestState.Waiting);
		try {
			object.checkRequirements();

			// Notify RateLimitHandler
			if (config.getRateLimitHandler() != null) {
				config.getRateLimitHandler().onRequestAboutToFire(this);
			}

			URL url = new URL(object.getUrl());
			connection = (HttpURLConnection) url.openConnection();
			setTimeout();
			connection.setDoInput(true);
			connection.setInstanceFollowRedirects(false);
			connection.setRequestMethod(getHttpMethod().name());
			for (HttpHeadParameter p : object.getHttpHeadParameters()) {
				connection.setRequestProperty(p.getKey(), p.getValue());
			}
			String body = object.getBody();
			if (body != null) {
				connection.setRequestProperty("Content-Type", "application/json");
				connection.setDoOutput(true);
				DataOutputStream dos = new DataOutputStream(connection.getOutputStream());
				dos.writeBytes(body);
				dos.flush();
				dos.close();
			}
			int responseCode = connection.getResponseCode();

			// Get body
			InputStream is = null;
			if (responseCode < 400) {
				is = connection.getInputStream();
			} else {
				is = connection.getErrorStream();
			}
			StringBuilder responseBodyBuilder = new StringBuilder();
			if (responseCode != CODE_SUCCESS_NO_CONTENT && is != null) {
				BufferedReader br = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));
				String line;
				while ((line = br.readLine()) != null) {
					responseBodyBuilder.append(line).append(System.lineSeparator());
				}
				br.close();
			}

			// Handle error (except rate limit)
			if (responseCode >= 300 && responseCode != CODE_ERROR_RATE_LIMITED) {
				RiotApiError errorDto = null;
				try {
					errorDto = <mark>new Gson</mark>().<mark>fromJson</mark>(responseBodyBuilder.toString(), RiotApiError.class);
				} catch (JsonSyntaxException e) {
					RiotApi.log.warning("[" + object + "] Request > JsonSyntaxException: " + e.getMessage());
				}
				throw new RiotApiException(responseCode, errorDto);
			}
			setResponse(new RequestResponse(connection.getResponseCode(), responseBodyBuilder.toString(), connection.getHeaderFields()));

			// Notify RateLimitHandler
			if (config.getRateLimitHandler() != null) {
				config.getRateLimitHandler().onRequestDone(this);
			}

			// Handle rate limit error
			if (responseCode == CODE_ERROR_RATE_LIMITED) {
				String retryAfterString = connection.getHeaderField("Retry-After");
				String rateLimitType = connection.getHeaderField("X-Rate-Limit-Type");
				if (retryAfterString != null) {
					int retryAfter = Integer.parseInt(retryAfterString);
					throw new RateLimitException(retryAfter, rateLimitType);
				} else {
					throw new RateLimitException(0, rateLimitType);
				}
			}

			setState(RequestState.Succeeded);
		} catch (RespectedRateLimitException e) {
			setException(e);
			setState(RequestState.Failed);
			RiotApi.log.fine("[" + object + "] Request > RespectedRateLimitException: " + e.getMessage());
			throw e;
		} catch (RateLimitException e) {
			setException(e);
			setState(RequestState.Failed);
			RiotApi.log.fine("[" + object + "] Request > RateLimitException: " + e.getMessage());
			throw e;
		} catch (RiotApiException e) {
			setException(e);
			setState(RequestState.Failed);
			RiotApi.log.fine("[" + object + "] Request > RiotApiException: " + e.getMessage());
			throw e;
		} catch (SocketTimeoutException e) {
			RiotApiException exception = new RiotApiException(RiotApiException.TIMEOUT_EXCEPTION);
			setException(exception);
			setState(RequestState.Timeout);
			RiotApi.log.fine("[" + object + "] Request > Timeout");
			throw exception;
		} catch (IOException e) {
			RiotApiException exception = new RiotApiException(RiotApiException.IOEXCEPTION);
			setException(exception);
			setState(RequestState.Failed);
			RiotApi.log.log(Level.SEVERE, "[" + object + "] Request > IOException", e);
			throw exception;
		} catch (NullPointerException e) {
			RiotApiException exception = new RiotApiException(RiotApiException.NULLPOINTEREXCEPTION);
			setException(exception);
			setState(RequestState.Failed);
			RiotApi.log.log(Level.SEVERE, "[" + object + "] Request > NullPointerException", e);
			throw exception;
		} finally {
			if (connection != null) {
				connection.disconnect();
			}
		}
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>gazbert_____bxbot_____KrakenExchangeAdapter_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/gazbert_____bxbot_____KrakenExchangeAdapter.java

com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenAddOrderResult>>.&ltinit&gt
com.google.gson.reflect.TypeToken<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenResponse<com.gazbert.bxbot.exchanges.KrakenExchangeAdapter.KrakenAddOrderResult>>.getType
com.google.gson.Gson.fromJson

    @Override
    public List<OpenOrder> getYourOpenOrders(String marketId) throws TradingApiException, ExchangeNetworkException {

        ExchangeHttpResponse response = null;

        try {

            response = sendAuthenticatedRequestToExchange("OpenOrders", null);

            if (LOG.isDebugEnabled()) {
                LOG.debug("Open Orders response: " + response);
            }

            if (response.getStatusCode() == HttpURLConnection.HTTP_OK) {

                final Type resultType = new TypeToken<KrakenResponse<KrakenOpenOrderResult>>() {
                }.<mark>getType</mark>();
                final KrakenResponse krakenResponse = gson.<mark>fromJson</mark>(response.getPayload(), resultType);

                final List<String> errors = krakenResponse.error;
                if (errors == null || errors.isEmpty()) {

                    final List<OpenOrder> openOrders = new ArrayList<>();

                    // Assume we'll always get something here if errors array is empty; else blow fast wih NPE
                    final KrakenOpenOrderResult krakenOpenOrderResult = (KrakenOpenOrderResult) krakenResponse.result;

                    final Map<String, KrakenOpenOrder> krakenOpenOrders = krakenOpenOrderResult.open;
                    if (krakenOpenOrders != null) {
                        for (final Map.Entry<String, KrakenOpenOrder> openOrder : krakenOpenOrders.entrySet()) {

                            OrderType orderType;
                            final KrakenOpenOrder krakenOpenOrder = openOrder.getValue();
                            final KrakenOpenOrderDescription krakenOpenOrderDescription = krakenOpenOrder.descr;

                            if (!marketId.equalsIgnoreCase(krakenOpenOrderDescription.pair)) {
                                continue;
                            }

                            switch (krakenOpenOrderDescription.type) {
                                case "buy":
                                    orderType = OrderType.BUY;
                                    break;
                                case "sell":
                                    orderType = OrderType.SELL;
                                    break;
                                default:
                                    throw new TradingApiException(
                                            "Unrecognised order type received in getYourOpenOrders(). Value: " +
                                                    openOrder.getValue().descr.ordertype);
                            }

                            final OpenOrder order = new OpenOrderImpl(
                                    openOrder.getKey(),
                                    new Date((long) krakenOpenOrder.opentm), // opentm == creationDate
                                    marketId,
                                    orderType,
                                    krakenOpenOrderDescription.price,
                                    (krakenOpenOrder.vol.subtract(krakenOpenOrder.vol_exec)), // vol_exec == amount of order that has been executed
                                    krakenOpenOrder.vol, // vol == orig order amount
                                    //krakenOpenOrder.cost, // cost == total value of order in API docs, but it's always 0 :-(
                                    krakenOpenOrderDescription.price.multiply(krakenOpenOrder.vol)
                            );

                            openOrders.add(order);
                        }
                    }

                    return openOrders;

                } else {

                    if (isExchangeUndergoingMaintenance(response) && keepAliveDuringMaintenance) {
                        LOG.warn(() -> UNDER_MAINTENANCE_WARNING_MESSAGE);
                        throw new ExchangeNetworkException(UNDER_MAINTENANCE_WARNING_MESSAGE);
                    }

                    final String errorMsg = FAILED_TO_GET_OPEN_ORDERS + response;
                    LOG.error(errorMsg);
                    throw new TradingApiException(errorMsg);
                }

            } else {
                final String errorMsg = FAILED_TO_GET_OPEN_ORDERS + response;
                LOG.error(errorMsg);
                throw new TradingApiException(errorMsg);
            }

        } catch (ExchangeNetworkException | TradingApiException e) {
            throw e;
        } catch (Exception e) {
            LOG.error(UNEXPECTED_ERROR_MSG, e);
            throw new TradingApiException(UNEXPECTED_ERROR_MSG, e);
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____MieleBridgeHandler_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____MieleBridgeHandler.java

com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson

        @Override
        public void run() {
            if (IP_PATTERN.matcher((String) getConfig().get(HOST)).matches()) {
                try {
                    if (isReachable((String) getConfig().get(HOST))) {
                        currentBridgeConnectionState = true;
                    } else {
                        currentBridgeConnectionState = false;
                        if (lastBridgeConnectionState) {
                            lastBridgeConnectionState = false;
                            onConnectionLost();
                        }
                    }

                    if (!lastBridgeConnectionState && currentBridgeConnectionState) {
                        logger.debug("Connection to Miele Gateway {} established.", getConfig().get(HOST));
                        lastBridgeConnectionState = true;
                        onConnectionResumed();
                    }

                    if (currentBridgeConnectionState) {
                        if (getThing().getStatus() == ThingStatus.ONLINE) {
                            List<HomeDevice> currentHomeDevices = getHomeDevices();
                            for (HomeDevice hd : currentHomeDevices) {
                                boolean isExisting = false;
                                for (HomeDevice phd : previousHomeDevices) {
                                    if (phd.UID.equals(hd.UID)) {
                                        isExisting = true;
                                        break;
                                    }
                                }
                                if (!isExisting) {
                                    logger.info("A new appliance with ID '{}' has been added", hd.UID);
                                    for (ApplianceStatusListener listener : applianceStatusListeners) {
                                        listener.onApplianceAdded(hd);
                                    }
                                }
                            }

                            for (HomeDevice hd : previousHomeDevices) {
                                boolean isCurrent = false;
                                for (HomeDevice chd : currentHomeDevices) {
                                    if (chd.UID.equals(hd.UID)) {
                                        isCurrent = true;
                                        break;
                                    }
                                }
                                if (!isCurrent) {
                                    logger.info("The appliance with ID '{}' has been removed", hd);
                                    for (ApplianceStatusListener listener : applianceStatusListeners) {
                                        listener.onApplianceRemoved(hd);
                                    }
                                }
                            }

                            previousHomeDevices = currentHomeDevices;

                            for (Thing appliance : getThing().getThings()) {
                                if (appliance.getStatus() == ThingStatus.ONLINE) {
                                    String UID = "hdm:ZigBee:"
                                            + (String) appliance.getConfiguration().getProperties().get(APPLIANCE_ID);

                                    Object[] args = new Object[2];
                                    args[0] = UID;
                                    args[1] = true;
                                    JsonElement result = invokeRPC("HDAccess/getDeviceClassObjects", args);

                                    if (result != null) {
                                        for (JsonElement obj : result.<mark>getAsJsonArray</mark>()) {
                                            try {
                                                DeviceClassObject dco = gson.<mark>fromJson</mark>(obj, DeviceClassObject.class);

                                                for (ApplianceStatusListener listener : applianceStatusListeners) {
                                                    listener.onApplianceStateChanged(UID, dco);
                                                }
                                            } catch (Exception e) {
                                                logger.debug("An exception occurred while quering an appliance : '{}'",
                                                        e.getMessage());
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                } catch (Exception e) {
                    logger.debug("An exception occurred while polling an appliance :'{}'", e.getMessage());
                }
            } else {
                logger.debug("Invalid IP address for the Miele@Home gateway : '{}'", getConfig().get(HOST));
            }
        }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_113.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static NodeConflictDtoImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      NodeConflictDtoImpl dto = new NodeConflictDtoImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("conflictHandle")) {
        JsonElement conflictHandleIn = json.<mark>get</mark>("conflictHandle");
        ConflictHandleImpl conflictHandleOut = ConflictHandleImpl.fromJsonElement(conflictHandleIn);
        dto.setConflictHandle(conflictHandleOut);
      }

      if (json.<mark>has</mark>("childPath")) {
        JsonElement childPathIn = json.<mark>get</mark>("childPath");
        ConflictedPathImpl childPathOut = ConflictedPathImpl.fromJsonElement(childPathIn);
        dto.setChildPath(childPathOut);
      }

      if (json.<mark>has</mark>("conflictDescription")) {
        JsonElement conflictDescriptionIn = json.<mark>get</mark>("conflictDescription");
        java.lang.String conflictDescriptionOut = gson.<mark>fromJson</mark>(conflictDescriptionIn, java.lang.String.class);
        dto.setConflictDescription(conflictDescriptionOut);
      }

      if (json.<mark>has</mark>("childDescription")) {
        JsonElement childDescriptionIn = json.<mark>get</mark>("childDescription");
        java.lang.String childDescriptionOut = gson.<mark>fromJson</mark>(childDescriptionIn, java.lang.String.class);
        dto.setChildDescription(childDescriptionOut);
      }

      if (json.<mark>has</mark>("parentDescription")) {
        JsonElement parentDescriptionIn = json.<mark>get</mark>("parentDescription");
        java.lang.String parentDescriptionOut = gson.<mark>fromJson</mark>(parentDescriptionIn, java.lang.String.class);
        dto.setParentDescription(parentDescriptionOut);
      }

      if (json.<mark>has</mark>("validResolutions")) {
        JsonElement validResolutionsIn = json.<mark>get</mark>("validResolutions");
        java.util.ArrayList<com.google.collide.dto.ResolveTreeConflict.ConflictResolutionChoice> validResolutionsOut = null;
        if (validResolutionsIn != null && !validResolutionsIn.<mark>isJsonNull</mark>()) {
          validResolutionsOut = new java.util.ArrayList<com.google.collide.dto.ResolveTreeConflict.ConflictResolutionChoice>();
          java.util.Iterator<JsonElement> validResolutionsInIterator = validResolutionsIn.getAsJsonArray().iterator();
          while (validResolutionsInIterator.hasNext()) {
            JsonElement validResolutionsIn_ = validResolutionsInIterator.next();
            com.google.collide.dto.ResolveTreeConflict.ConflictResolutionChoice validResolutionsOut_ = gson.<mark>fromJson</mark>(validResolutionsIn_, com.google.collide.dto.ResolveTreeConflict.ConflictResolutionChoice.class);
            validResolutionsOut.add(validResolutionsOut_);
          }
        }
        dto.setValidResolutions(validResolutionsOut);
      }

      if (json.<mark>has</mark>("simplifiedConflictType")) {
        JsonElement simplifiedConflictTypeIn = json.<mark>get</mark>("simplifiedConflictType");
        com.google.collide.dto.NodeConflictDto.SimplifiedConflictType simplifiedConflictTypeOut = gson.<mark>fromJson</mark>(simplifiedConflictTypeIn, com.google.collide.dto.NodeConflictDto.SimplifiedConflictType.class);
        dto.setSimplifiedConflictType(simplifiedConflictTypeOut);
      }

      if (json.<mark>has</mark>("groupedConflicts")) {
        JsonElement groupedConflictsIn = json.<mark>get</mark>("groupedConflicts");
        java.util.ArrayList<NodeConflictDtoImpl> groupedConflictsOut = null;
        if (groupedConflictsIn != null && !groupedConflictsIn.<mark>isJsonNull</mark>()) {
          groupedConflictsOut = new java.util.ArrayList<NodeConflictDtoImpl>();
          java.util.Iterator<JsonElement> groupedConflictsInIterator = groupedConflictsIn.getAsJsonArray().iterator();
          while (groupedConflictsInIterator.hasNext()) {
            JsonElement groupedConflictsIn_ = groupedConflictsInIterator.next();
            NodeConflictDtoImpl groupedConflictsOut_ = NodeConflictDtoImpl.fromJsonElement(groupedConflictsIn_);
            groupedConflictsOut.add(groupedConflictsOut_);
          }
        }
        dto.setGroupedConflicts(groupedConflictsOut);
      }

      if (json.<mark>has</mark>("parentPaths")) {
        JsonElement parentPathsIn = json.<mark>get</mark>("parentPaths");
        java.util.ArrayList<ConflictedPathImpl> parentPathsOut = null;
        if (parentPathsIn != null && !parentPathsIn.<mark>isJsonNull</mark>()) {
          parentPathsOut = new java.util.ArrayList<ConflictedPathImpl>();
          java.util.Iterator<JsonElement> parentPathsInIterator = parentPathsIn.getAsJsonArray().iterator();
          while (parentPathsInIterator.hasNext()) {
            JsonElement parentPathsIn_ = parentPathsInIterator.next();
            ConflictedPathImpl parentPathsOut_ = ConflictedPathImpl.fromJsonElement(parentPathsIn_);
            parentPathsOut.add(parentPathsOut_);
          }
        }
        dto.setParentPaths(parentPathsOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>openhab_____openhab2-addons_____HeliosHandler221_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/openhab_____openhab2-addons_____HeliosHandler221.java

com.google.gson.JsonParser.parse
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson

    @Override
    public void initialize() {
        logger.debug("Initializing the Helios IP Vario handler for '{}'.", getThing().getUID().toString());

        ipAddress = (String) getConfig().<mark>get</mark>(IP_ADDRESS);
        String username = (String) getConfig().<mark>get</mark>(USERNAME);
        String password = (String) getConfig().<mark>get</mark>(PASSWORD);

        if (ipAddress != null && !ipAddress.isEmpty() && username != null && !username.isEmpty() && password != null
                && !password.isEmpty()) {
            SecureRestClientTrustManager secureRestClientTrustManager = new SecureRestClientTrustManager();
            SSLContext sslContext = null;
            try {
                sslContext = SSLContext.getInstance("SSL");
            } catch (NoSuchAlgorithmException e1) {
                logger.error("An exception occurred while requesting the SSL encryption algorithm : '{}'",
                        e1.getMessage(), e1);
            }
            try {
                if (sslContext != null) {
                    sslContext.init(null, new javax.net.ssl.TrustManager[] { secureRestClientTrustManager }, null);
                }
            } catch (KeyManagementException e1) {
                logger.error("An exception occurred while initialising the SSL context : '{}'", e1.getMessage(), e1);
            }

            heliosClient = ClientBuilder.newBuilder().sslContext(sslContext).hostnameVerifier(new HostnameVerifier() {
                @Override
                public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {
                    return true;
                }
            }).build();
            heliosClient.register(new Authenticator(username, password));

            baseTarget = heliosClient.tar<mark>get</mark>(BASE_URI);
            systemTarget = baseTarget.path(SYSTEM_PATH);
            logTarget = baseTarget.path(LOG_PATH);
            switchTarget = baseTarget.path(SWITCH_PATH);

            Response response = null;
            try {
                response = systemTarget.resolveTemplate("ip", ipAddress).resolveTemplate("cmd", INFO)
                        .request(MediaType.APPLICATION_JSON_TYPE).<mark>get</mark>();
            } catch (NullPointerException e) {
                logger.debug("An exception occurred while fetching system info of the Helios IP Vario '{}' : '{}'",
                        getThing().getUID().toString(), e.getMessage(), e);
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, e.getMessage());
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }

            if (response == null) {
                logger.debug("There is a configuration problem for the Helios IP Vario '{}'",
                        getThing().getUID().toString());
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR);
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }

            JsonObject jsonObject = parser.<mark>parse</mark>(response.readEntity(String.class)).getAsJsonObject();

            if (logger.isTraceEnabled()) {
                logger.trace("initialize() Request : {}", systemTarget.resolveTemplate("ip", ipAddress)
                        .resolveTemplate("cmd", INFO).getUri().toASCIIString());
                if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                    logger.trace("initialize() Response: {}", jsonObject.<mark>get</mark>("result"));
                }
                if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                    logger.trace("initialize() Response: {}", jsonObject.<mark>get</mark>("error"));
                }
            }

            if (jsonObject.<mark>get</mark>("success").toString().equals("false")) {
                RESTError error = gson.<mark>fromJson</mark>(jsonObject.<mark>get</mark>("error").toString(), RESTError.class);
                logger.debug(
                        "An error occurred while communicating with the Helios IP Vario '{}': code '{}', param '{}' : '{}'",
                        new Object[] { getThing().getUID().toString(), error.code, error.param, error.description });
                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.COMMUNICATION_ERROR,
                        error.code + ":" + error.param + ":" + error.description);
                scheduler.schedule(resetRunnable, RESET_INTERVAL, TimeUnit.SECONDS);
                return;
            }

            if (jsonObject.<mark>get</mark>("success").toString().equals("true")) {
                if (logJob == null || logJob.isCancelled()) {
                    logJob = scheduler.scheduleWithFixedDelay(logRunnable, 0, 1, TimeUnit.SECONDS);
                }

                updateStatus(ThingStatus.ONLINE);

                scheduler.schedule(configureRunnable, 0, TimeUnit.SECONDS);
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>nextcloud_____android_____PushUtils_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/nextcloud_____android_____PushUtils.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson


    public static void pushRegistrationToServer(final UserAccountManager accountManager, final String token) {
        arbitraryDataProvider = new ArbitraryDataProvider(MainApp.getAppContext().getContentResolver());

        if (!TextUtils.isEmpty(MainApp.getAppContext().getResources().getString(R.string.push_server_url)) &&
                !TextUtils.isEmpty(token)) {
            PushUtils.generateRsa2048KeyPair();
            String pushTokenHash = PushUtils.generateSHA512Hash(token).toLowerCase(Locale.ROOT);
            PublicKey devicePublicKey = (PublicKey) PushUtils.readKeyFromFile(true);
            if (devicePublicKey != null) {
                byte[] publicKeyBytes = Base64.encode(devicePublicKey.getEncoded(), Base64.NO_WRAP);
                String publicKey = new String(publicKeyBytes);
                publicKey = publicKey.replaceAll("(.{64})", "$1\n");

                publicKey = "-----BEGIN PUBLIC KEY-----\n" + publicKey + "\n-----END PUBLIC KEY-----\n";

                Context context = MainApp.getAppContext();
                String providerValue;
                PushConfigurationState accountPushData = null;
                Gson gson = <mark>new Gson</mark>();
                for (Account account : accountManager.getAccounts()) {
                    providerValue = arbitraryDataProvider.getValue(account, KEY_PUSH);
                    if (!TextUtils.isEmpty(providerValue)) {
                        accountPushData = gson.<mark>fromJson</mark>(providerValue,
                                PushConfigurationState.class);
                    } else {
                        accountPushData = null;
                    }

                    if (accountPushData != null && !accountPushData.getPushToken().equals(token) &&
                            !accountPushData.isShouldBeDeleted() ||
                            TextUtils.isEmpty(providerValue)) {
                        try {
                            OwnCloudAccount ocAccount = new OwnCloudAccount(account, context);
                            OwnCloudClient mClient = OwnCloudClientManagerFactory.getDefaultSingleton().
                                    getClientFor(ocAccount, context);

                            RemoteOperation registerAccountDeviceForNotificationsOperation =
                                    new RegisterAccountDeviceForNotificationsOperation(pushTokenHash,
                                            publicKey,
                                            context.getResources().getString(R.string.push_server_url));

                            RemoteOperationResult remoteOperationResult =
                                    registerAccountDeviceForNotificationsOperation.execute(mClient);

                            if (remoteOperationResult.isSuccess()) {
                                PushResponse pushResponse = remoteOperationResult.getPushResponseData();

                                RemoteOperation registerAccountDeviceForProxyOperation = new
                                        RegisterAccountDeviceForProxyOperation(
                                        context.getResources().getString(R.string.push_server_url),
                                        token, pushResponse.getDeviceIdentifier(), pushResponse.getSignature(),
                                        pushResponse.getPublicKey());

                                remoteOperationResult = registerAccountDeviceForProxyOperation.execute(mClient);

                                if (remoteOperationResult.isSuccess()) {
                                    PushConfigurationState pushArbitraryData = new PushConfigurationState(token,
                                            pushResponse.getDeviceIdentifier(), pushResponse.getSignature(),
                                            pushResponse.getPublicKey(), false);
                                    arbitraryDataProvider.storeOrUpdateKeyValue(account.name, KEY_PUSH,
                                            gson.toJson(pushArbitraryData));
                                }
                            } else if (remoteOperationResult.getCode() ==
                                    RemoteOperationResult.ResultCode.ACCOUNT_USES_STANDARD_PASSWORD) {
                                arbitraryDataProvider.storeOrUpdateKeyValue(account.name,
                                        AccountUtils.ACCOUNT_USES_STANDARD_PASSWORD, "true");
                            }
                        } catch (com.owncloud.android.lib.common.accounts.AccountUtils.AccountNotFoundException e) {
                            Log_OC.d(TAG, "Failed to find an account");
                        } catch (AuthenticatorException e) {
                            Log_OC.d(TAG, "Failed via AuthenticatorException");
                        } catch (IOException e) {
                            Log_OC.d(TAG, "Failed via IOException");
                        } catch (OperationCanceledException e) {
                            Log_OC.d(TAG, "Failed via OperationCanceledException");
                        }
                    } else if (accountPushData != null && accountPushData.isShouldBeDeleted()) {
                        deleteRegistrationForAccount(account);
                    }
                }
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____ListenerService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____ListenerService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncCalibrationData(DataMap dataMap, Context context) {//KS
        Log.d(TAG, "syncCalibrationData");

        boolean changed = false;
        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncCalibrationData add Calibration Table entries count=" + entries.size());
            Sensor.InitDb(context);//ensure database has already been initialized
            Sensor sensor = Sensor.currentSensor();
            if (sensor != null) {
                for (DataMap entry : entries) {
                    if (entry != null) {
                        String bgrecord = entry.getString("bgs");
                        if (bgrecord != null) {
                            Calibration bgData = gson.<mark>fromJson</mark>(bgrecord, Calibration.class);
                            Calibration exists = Calibration.findByUuid(bgData.uuid);
                            bgData.sensor = sensor;
                            if (exists != null) {
                                Log.d(TAG, "syncCalibrationData Calibration exists for uuid=" + bgData.uuid + " bg=" + bgData.bg + " timestamp=" + bgData.timestamp + " timeString=" +  JoH.dateTimeText(bgData.timestamp));
                                if (exists.slope != bgData.slope || exists.slope_confidence != bgData.slope_confidence || exists.timestamp != bgData.timestamp || exists.bg != bgData.bg) {//slope* indicates if shown on graph
                                    changed = true;
                                }
                                exists.adjusted_raw_value = bgData.adjusted_raw_value;
                                exists.bg = bgData.bg;
                                exists.check_in = bgData.check_in;
                                exists.distance_from_estimate = bgData.distance_from_estimate;
                                exists.estimate_bg_at_time_of_calibration = bgData.estimate_bg_at_time_of_calibration;
                                exists.estimate_raw_at_time_of_calibration = bgData.estimate_raw_at_time_of_calibration;
                                exists.first_decay = bgData.first_decay;
                                exists.first_intercept = bgData.first_intercept;
                                exists.first_scale = bgData.first_scale;
                                exists.first_slope = bgData.first_slope;
                                exists.intercept = bgData.intercept;
                                exists.possible_bad = bgData.possible_bad;
                                exists.raw_timestamp = bgData.raw_timestamp;
                                exists.raw_value = bgData.raw_value;
                                exists.second_decay = bgData.second_decay;
                                exists.second_intercept = bgData.second_intercept;
                                exists.second_scale = bgData.second_scale;
                                exists.second_slope = bgData.second_slope;
                                exists.sensor = sensor;
                                exists.sensor_age_at_time_of_estimation = bgData.sensor_age_at_time_of_estimation;
                                exists.sensor_confidence = bgData.sensor_confidence;
                                exists.sensor_uuid = bgData.sensor_uuid;
                                exists.slope = bgData.slope;
                                exists.slope_confidence = bgData.slope_confidence;
                                exists.timestamp = bgData.timestamp;
                                exists.save();
                            }
                            else {
                                changed = true;
                                bgData.save();
                                //final boolean adjustPast = mPrefs.getBoolean("rewrite_history", true);
                                Log.d(TAG, "syncCalibrationData Calibration does not exist for uuid=" + bgData.uuid + " timestamp=" + bgData.timestamp + " timeString=" +  JoH.dateTimeText(bgData.timestamp));
                                //Calibration.adjustRecentBgReadings(adjustPast ? 30 : 2);
                            }
                            exists = Calibration.findByUuid(bgData.uuid);
                            if (exists != null)
                                Log.d(TAG, "syncCalibrationData Calibration GSON saved BG: " + exists.toS());
                            else
                                Log.d(TAG, "syncCalibrationData Calibration GSON NOT saved");
                        }
                    }
                }
            }
            else {
                Log.d(TAG, "syncCalibrationData No Active Sensor!! Request WEARABLE_INITDB_PATH");
                sendData(WEARABLE_INITDB_PATH, null);
            }
            if (changed) {
                showTreatments(context, "cals");
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____ambari_____ExecutionCommandWrapper_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____ambari_____ExecutionCommandWrapper.java

com.google.gson.Gson.fromJson

   */
  public ExecutionCommand getExecutionCommand() {
    if (executionCommand != null) {
      return executionCommand;
    }

    if( null == jsonExecutionCommand ){
      throw new RuntimeException(
          "Invalid ExecutionCommandWrapper, both object and string representations are null");
    }

    try {
      executionCommand = gson.<mark>fromJson</mark>(jsonExecutionCommand, ExecutionCommand.class);

      // sanity; if no configurations, just initialize to prevent NPEs
      if (null == executionCommand.getConfigurations()) {
        executionCommand.setConfigurations(new TreeMap<>());
      }

      Map<String, Map<String, String>> configurations = executionCommand.getConfigurations();

      // For a configuration type, both tag and an actual configuration can be stored
      // Configurations from the tag is always expanded and then over-written by the actual
      // global:version1:{a1:A1,b1:B1,d1:D1} + global:{a1:A2,c1:C1,DELETED_d1:x} ==>
      // global:{a1:A2,b1:B1,c1:C1}
      Long clusterId = hostRoleCommandDAO.findByPK(
          executionCommand.getTaskId()).getStage().getClusterId();

      Cluster cluster = clusters.getClusterById(clusterId);

      // Execution commands may have config-tags already set during their creation.
      // However, these tags become stale at runtime when other
      // ExecutionCommands run and change the desired configs (like
      // ConfigureAction). Hence an ExecutionCommand can specify which
      // config-types should be refreshed at runtime. Specifying <code>*</code>
      // will result in all config-type tags to be refreshed to the latest
      // cluster desired-configs. Additionally, there may be no configuration
      // tags set but refresh might be set to *. In this case, they should still
      // be refreshed with the latest.
      boolean refreshConfigTagsBeforeExecution = executionCommand.getForceRefreshConfigTagsBeforeExecution();
      if (refreshConfigTagsBeforeExecution) {
        Map<String, DesiredConfig> desiredConfigs = cluster.getDesiredConfigs();

        Map<String, Map<String, String>> configurationTags = configHelper.getEffectiveDesiredTags(
            cluster, executionCommand.getHostname(), desiredConfigs);

        LOG.debug(
            "While scheduling task {} on cluster {}, configurations are being refreshed using desired configurations of {}",
            executionCommand.getTaskId(), cluster.getClusterName(), desiredConfigs);

        // then clear out any existing configurations so that all of the new
        // configurations are forcefully applied
        configurations.clear();
        executionCommand.setConfigurationTags(configurationTags);
      }

      // now that the tags have been updated (if necessary), fetch the
      // configurations
      Map<String, Map<String, String>> configurationTags = executionCommand.getConfigurationTags();
      configHelper.getAndMergeHostConfigs(configurations, configurationTags, cluster);
      configHelper.getAndMergeHostConfigAttributes(executionCommand.getConfigurationAttributes(),
          configurationTags, cluster);

      setVersions(cluster);

      // provide some basic information about a cluster upgrade if there is one
      // in progress
      UpgradeEntity upgrade = cluster.getUpgradeInProgress();
      if (null != upgrade) {
        UpgradeContext upgradeContext = upgradeContextFactory.create(cluster, upgrade);
        UpgradeSummary upgradeSummary = upgradeContext.getUpgradeSummary();

        executionCommand.setUpgradeSummary(upgradeSummary);
      }

      // setting repositoryFile
      final Host host = cluster.getHost(executionCommand.getHostname());  // can be null on internal commands
      final String serviceName = executionCommand.getServiceName(); // can be null on executing special RU tasks

      if (null == executionCommand.getRepositoryFile() && null != host && null != serviceName) {
        final CommandRepository commandRepository;
        final Service service = cluster.getService(serviceName);
        final String componentName = executionCommand.getComponentName();

        try {

          if (null != componentName) {
            ServiceComponent serviceComponent = service.getServiceComponent(componentName);
            commandRepository = repoVersionHelper.getCommandRepository(null, serviceComponent, host);
          } else {
            RepositoryVersionEntity repoVersion = service.getDesiredRepositoryVersion();
            RepoOsEntity osEntity = repoVersionHelper.getOSEntityForHost(host, repoVersion);
            commandRepository = repoVersionHelper.getCommandRepository(repoVersion, osEntity);
          }
          executionCommand.setRepositoryFile(commandRepository);

        } catch (SystemException e) {
          throw new RuntimeException(e);
        }
      }

    } catch (ClusterNotFoundException cnfe) {
      // it's possible that there are commands without clusters; in such cases,
      // just return the de-serialized command and don't try to read configs
      LOG.warn(
          "Unable to lookup the cluster by ID; assuming that there is no cluster and therefore no configs for this execution command: {}",
          cnfe.getMessage());

      return executionCommand;
    } catch (AmbariException e) {
      throw new RuntimeException(e);
    }

    return executionCommand;
  }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____ListenerService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____ListenerService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncCalibrationData(DataMap dataMap, Context context) {//KS
        Log.d(TAG, "syncCalibrationData");

        boolean changed = false;
        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncCalibrationData add Calibration Table entries count=" + entries.size());
            Sensor.InitDb(context);//ensure database has already been initialized
            Sensor sensor = Sensor.currentSensor();
            if (sensor != null) {
                for (DataMap entry : entries) {
                    if (entry != null) {
                        String calibration = entry.getString("bgs"); // bgs should be refactored to avoid confusion
                        if (calibration != null) {
                            Calibration bgData = gson.<mark>fromJson</mark>(calibration, Calibration.class);
                            Calibration exists = Calibration.findByUuid(bgData.uuid);
                            bgData.sensor = sensor;
                            if (exists != null) {
                                Log.d(TAG, "syncCalibrationData Calibration exists for uuid=" + bgData.uuid + " bg=" + bgData.bg + " timestamp=" + bgData.timestamp + " timeString=" +  JoH.dateTimeText(bgData.timestamp));
                                if (exists.slope != bgData.slope || exists.slope_confidence != bgData.slope_confidence || exists.timestamp != bgData.timestamp || exists.bg != bgData.bg) {//slope* indicates if shown on graph
                                    changed = true;
                                }
                                exists.adjusted_raw_value = bgData.adjusted_raw_value;
                                exists.bg = bgData.bg;
                                exists.check_in = bgData.check_in;
                                exists.distance_from_estimate = bgData.distance_from_estimate;
                                exists.estimate_bg_at_time_of_calibration = bgData.estimate_bg_at_time_of_calibration;
                                exists.estimate_raw_at_time_of_calibration = bgData.estimate_raw_at_time_of_calibration;
                                exists.first_decay = bgData.first_decay;
                                exists.first_intercept = bgData.first_intercept;
                                exists.first_scale = bgData.first_scale;
                                exists.first_slope = bgData.first_slope;
                                exists.intercept = bgData.intercept;
                                exists.possible_bad = bgData.possible_bad;
                                exists.raw_timestamp = bgData.raw_timestamp;
                                exists.raw_value = bgData.raw_value;
                                exists.second_decay = bgData.second_decay;
                                exists.second_intercept = bgData.second_intercept;
                                exists.second_scale = bgData.second_scale;
                                exists.second_slope = bgData.second_slope;
                                exists.sensor = sensor;
                                exists.sensor_age_at_time_of_estimation = bgData.sensor_age_at_time_of_estimation;
                                exists.sensor_confidence = bgData.sensor_confidence;
                                exists.sensor_uuid = bgData.sensor_uuid;
                                exists.slope = bgData.slope;
                                exists.slope_confidence = bgData.slope_confidence;
                                exists.timestamp = bgData.timestamp;
                                exists.save();
                            }
                            else {
                                changed = true;
                                bgData.save();
                                //final boolean adjustPast = mPrefs.getBoolean("rewrite_history", true);
                                Log.d(TAG, "syncCalibrationData Calibration does not exist for uuid=" + bgData.uuid + " timestamp=" + bgData.timestamp + " timeString=" +  JoH.dateTimeText(bgData.timestamp));
                                //Calibration.adjustRecentBgReadings(adjustPast ? 30 : 2);
                            }
                            exists = Calibration.findByUuid(bgData.uuid);
                            if (exists != null)
                                Log.d(TAG, "syncCalibrationData Calibration GSON saved BG: " + exists.toS());
                            else
                                Log.d(TAG, "syncCalibrationData Calibration GSON NOT saved");
                        }
                    }
                }
            }
            else {
                Log.d(TAG, "syncCalibrationData No Active Sensor!! Request WEARABLE_INITDB_PATH");
                sendData(WEARABLE_INITDB_PATH, null);
            }
            if (changed) {
                showTreatments(context, "cals");
            }
        }
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_92.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GwtRecompileImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GwtRecompileImpl dto = new GwtRecompileImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("permutations")) {
        JsonElement permutationsIn = json.<mark>get</mark>("permutations");
        java.util.ArrayList<GwtPermutationImpl> permutationsOut = null;
        if (permutationsIn != null && !permutationsIn.<mark>isJsonNull</mark>()) {
          permutationsOut = new java.util.ArrayList<GwtPermutationImpl>();
          java.util.Iterator<JsonElement> permutationsInIterator = permutationsIn.getAsJsonArray().iterator();
          while (permutationsInIterator.hasNext()) {
            JsonElement permutationsIn_ = permutationsInIterator.next();
            GwtPermutationImpl permutationsOut_ = GwtPermutationImpl.fromJsonElement(permutationsIn_);
            permutationsOut.add(permutationsOut_);
          }
        }
        dto.setPermutations(permutationsOut);
      }

      if (json.<mark>has</mark>("autoOpen")) {
        JsonElement autoOpenIn = json.<mark>get</mark>("autoOpen");
        boolean autoOpenOut = autoOpenIn.getAsBoolean();
        dto.setAutoOpen(autoOpenOut);
      }

      if (json.<mark>has</mark>("port")) {
        JsonElement portIn = json.<mark>get</mark>("port");
        int portOut = portIn.getAsInt();
        dto.setPort(portOut);
      }

      if (json.<mark>has</mark>("logLevel")) {
        JsonElement logLevelIn = json.<mark>get</mark>("logLevel");
        com.google.gwt.core.ext.TreeLogger.Type logLevelOut = gson.<mark>fromJson</mark>(logLevelIn, com.google.gwt.core.ext.TreeLogger.Type.class);
        dto.setLogLevel(logLevelOut);
      }

      if (json.<mark>has</mark>("dependencies")) {
        JsonElement dependenciesIn = json.<mark>get</mark>("dependencies");
        java.util.ArrayList<java.lang.String> dependenciesOut = null;
        if (dependenciesIn != null && !dependenciesIn.<mark>isJsonNull</mark>()) {
          dependenciesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> dependenciesInIterator = dependenciesIn.getAsJsonArray().iterator();
          while (dependenciesInIterator.hasNext()) {
            JsonElement dependenciesIn_ = dependenciesInIterator.next();
            java.lang.String dependenciesOut_ = gson.<mark>fromJson</mark>(dependenciesIn_, java.lang.String.class);
            dependenciesOut.add(dependenciesOut_);
          }
        }
        dto.setDependencies(dependenciesOut);
      }

      if (json.<mark>has</mark>("sources")) {
        JsonElement sourcesIn = json.<mark>get</mark>("sources");
        java.util.ArrayList<java.lang.String> sourcesOut = null;
        if (sourcesIn != null && !sourcesIn.<mark>isJsonNull</mark>()) {
          sourcesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> sourcesInIterator = sourcesIn.getAsJsonArray().iterator();
          while (sourcesInIterator.hasNext()) {
            JsonElement sourcesIn_ = sourcesInIterator.next();
            java.lang.String sourcesOut_ = gson.<mark>fromJson</mark>(sourcesIn_, java.lang.String.class);
            sourcesOut.add(sourcesOut_);
          }
        }
        dto.setSources(sourcesOut);
      }

      if (json.<mark>has</mark>("extraArgs")) {
        JsonElement extraArgsIn = json.<mark>get</mark>("extraArgs");
        java.util.ArrayList<java.lang.String> extraArgsOut = null;
        if (extraArgsIn != null && !extraArgsIn.<mark>isJsonNull</mark>()) {
          extraArgsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> extraArgsInIterator = extraArgsIn.getAsJsonArray().iterator();
          while (extraArgsInIterator.hasNext()) {
            JsonElement extraArgsIn_ = extraArgsInIterator.next();
            java.lang.String extraArgsOut_ = gson.<mark>fromJson</mark>(extraArgsIn_, java.lang.String.class);
            extraArgsOut.add(extraArgsOut_);
          }
        }
        dto.setExtraArgs(extraArgsOut);
      }

      if (json.<mark>has</mark>("isRecompile")) {
        JsonElement isRecompileIn = json.<mark>get</mark>("isRecompile");
        boolean isRecompileOut = isRecompileIn.getAsBoolean();
        dto.setIsRecompile(isRecompileOut);
      }

      if (json.<mark>has</mark>("messageKey")) {
        JsonElement messageKeyIn = json.<mark>get</mark>("messageKey");
        java.lang.String messageKeyOut = gson.<mark>fromJson</mark>(messageKeyIn, java.lang.String.class);
        dto.setMessageKey(messageKeyOut);
      }

      if (json.<mark>has</mark>("manifestFile")) {
        JsonElement manifestFileIn = json.<mark>get</mark>("manifestFile");
        java.lang.String manifestFileOut = gson.<mark>fromJson</mark>(manifestFileIn, java.lang.String.class);
        dto.setManifestFile(manifestFileOut);
      }

      if (json.<mark>has</mark>("obfuscationLevel")) {
        JsonElement obfuscationLevelIn = json.<mark>get</mark>("obfuscationLevel");
        xapi.gwtc.api.ObfuscationLevel obfuscationLevelOut = gson.<mark>fromJson</mark>(obfuscationLevelIn, xapi.gwtc.api.ObfuscationLevel.class);
        dto.setObfuscationLevel(obfuscationLevelOut);
      }

      if (json.<mark>has</mark>("openAction")) {
        JsonElement openActionIn = json.<mark>get</mark>("openAction");
        xapi.gwtc.api.OpenAction openActionOut = gson.<mark>fromJson</mark>(openActionIn, xapi.gwtc.api.OpenAction.class);
        dto.setOpenAction(openActionOut);
      }

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_68.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsInt
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.getAsBoolean
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson


    public static GetProjectMembersResponseImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GetProjectMembersResponseImpl dto = new GetProjectMembersResponseImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("pendingMembers")) {
        JsonElement pendingMembersIn = json.<mark>get</mark>("pendingMembers");
        java.util.ArrayList<UserDetailsWithRoleImpl> pendingMembersOut = null;
        if (pendingMembersIn != null && !pendingMembersIn.<mark>isJsonNull</mark>()) {
          pendingMembersOut = new java.util.ArrayList<UserDetailsWithRoleImpl>();
          java.util.Iterator<JsonElement> pendingMembersInIterator = pendingMembersIn.<mark>getAsJsonArray</mark>().iterator();
          while (pendingMembersInIterator.hasNext()) {
            JsonElement pendingMembersIn_ = pendingMembersInIterator.next();
            UserDetailsWithRoleImpl pendingMembersOut_ = UserDetailsWithRoleImpl.fromJsonElement(pendingMembersIn_);
            pendingMembersOut.add(pendingMembersOut_);
          }
        }
        dto.setPendingMembers(pendingMembersOut);
      }

      if (json.<mark>has</mark>("members")) {
        JsonElement membersIn = json.<mark>get</mark>("members");
        java.util.ArrayList<UserDetailsWithRoleImpl> membersOut = null;
        if (membersIn != null && !membersIn.<mark>isJsonNull</mark>()) {
          membersOut = new java.util.ArrayList<UserDetailsWithRoleImpl>();
          java.util.Iterator<JsonElement> membersInIterator = membersIn.<mark>getAsJsonArray</mark>().iterator();
          while (membersInIterator.hasNext()) {
            JsonElement membersIn_ = membersInIterator.next();
            UserDetailsWithRoleImpl membersOut_ = UserDetailsWithRoleImpl.fromJsonElement(membersIn_);
            membersOut.add(membersOut_);
          }
        }
        dto.setMembers(membersOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____nifi_____ZooKeeperMigrator_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____nifi_____ZooKeeperMigrator.java

com.google.gson.stream.JsonReader.hasNext
com.google.gson.Gson.fromJson


    void writeZooKeeper(InputStream zkData, AuthMode authMode, byte[] authData, boolean ignoreSource, boolean useExistingACL) throws IOException, ExecutionException, InterruptedException {
        // ensure that the chroot path exists
        ZooKeeper zooKeeperRoot = getZooKeeper(Joiner.on(',').join(zooKeeperEndpointConfig.getServers()), authMode, authData);
        ensureNodeExists(zooKeeperRoot, zooKeeperEndpointConfig.getPath(), CreateMode.PERSISTENT);
        closeZooKeeper(zooKeeperRoot);

        ZooKeeper zooKeeper = getZooKeeper(zooKeeperEndpointConfig.getConnectString(), authMode, authData);
        JsonReader jsonReader = new JsonReader(new BufferedReader(new InputStreamReader(zkData)));
        Gson gson = new GsonBuilder().create();

        jsonReader.beginArray();

        // determine source ZooKeeperEndpointConfig for this data
        final ZooKeeperEndpointConfig sourceZooKeeperEndpointConfig = gson.<mark>fromJson</mark>(jsonReader, ZooKeeperEndpointConfig.class);
        LOGGER.info("Source data was obtained from ZooKeeper: {}", sourceZooKeeperEndpointConfig);
        Preconditions.checkArgument(!Strings.isNullOrEmpty(sourceZooKeeperEndpointConfig.getConnectString()) && !Strings.isNullOrEmpty(sourceZooKeeperEndpointConfig.getPath())
                        && sourceZooKeeperEndpointConfig.getServers() != null && sourceZooKeeperEndpointConfig.getServers().size() > 0, "Source ZooKeeper %s from %s is invalid",
                sourceZooKeeperEndpointConfig, zkData);
        Preconditions.checkArgument(Collections.disjoint(zooKeeperEndpointConfig.getServers(), sourceZooKeeperEndpointConfig.getServers())
                        || !zooKeeperEndpointConfig.getPath().equals(sourceZooKeeperEndpointConfig.getPath()) || ignoreSource,
                "Source ZooKeeper config %s for the data provided can not contain the same server and path as the configured destination ZooKeeper config %s",
                sourceZooKeeperEndpointConfig, zooKeeperEndpointConfig);

        // stream through each node read from the json input
        final Stream<DataStatAclNode> stream = StreamSupport.stream(new Spliterators.AbstractSpliterator<DataStatAclNode>(0, 0) {
            @Override
            public boolean tryAdvance(Consumer<? super DataStatAclNode> action) {
                try {
                    // stream each DataStatAclNode from configured json file
                    synchronized (jsonReader) {
                        if (jsonReader.<mark>hasNext</mark>()) {
                            action.accept(gson.<mark>fromJson</mark>(jsonReader, DataStatAclNode.class));
                            return true;
                        } else {
                            return false;
                        }
                    }
                } catch (IOException e) {
                    throw new RuntimeException("unable to read nodes from json", e);
                }
            }
        }, false);

        final List<CompletableFuture<Stat>> writeFutures = stream.parallel().map(node -> {
            /*
             * create stage to determine the acls that should be applied to the node.
             * this stage will be used to initialize the chain
             */
            final CompletableFuture<List<ACL>> determineACLStage = CompletableFuture.supplyAsync(() -> determineACLs(node, authMode, useExistingACL));
            /*
             * create stage to apply acls to nodes and transform node to DataStatAclNode object
             */
            final Function<List<ACL>, CompletableFuture<DataStatAclNode>> transformNodeStage = acls -> CompletableFuture.supplyAsync(() -> transformNode(node, acls));
            /*
             * create stage to ensure that nodes exist for the entire path of the zookeeper node, must be invoked after the transformNode stage to
             * ensure that the node will exist after path migration
             */
            final Function<DataStatAclNode, CompletionStage<String>> ensureNodeExistsStage = dataStatAclNode ->
                    CompletableFuture.supplyAsync(() -> ensureNodeExists(zooKeeper, dataStatAclNode.getPath(),
                            dataStatAclNode.getEphemeralOwner() == 0 ? CreateMode.PERSISTENT : CreateMode.EPHEMERAL));
            /*
             * create stage that waits for both the transformNode and ensureNodeExists stages complete, and also provides that the given transformed node is
             * available to the next stage
             */
            final BiFunction<String, DataStatAclNode, DataStatAclNode> combineEnsureNodeAndTransferNodeStage = (u, dataStatAclNode) -> dataStatAclNode;
            /*
             * create stage to transmit the node to the destination zookeeper endpoint, must be invoked after the node has been transformed and its path
             * has been created (or already exists) in the destination zookeeper
             */
            final Function<DataStatAclNode, CompletionStage<Stat>> transmitNodeStage = dataStatNode -> CompletableFuture.supplyAsync(() -> transmitNode(zooKeeper, dataStatNode));
            /*
             * submit the stages chained together in the proper order to perform the processing on the given node
             */
            final CompletableFuture<DataStatAclNode> dataStatAclNodeCompletableFuture = determineACLStage.thenCompose(transformNodeStage);
            return dataStatAclNodeCompletableFuture.thenCompose(ensureNodeExistsStage)
                    .thenCombine(dataStatAclNodeCompletableFuture, combineEnsureNodeAndTransferNodeStage)
                    .thenCompose(transmitNodeStage);
        }).collect(Collectors.toList());

        CompletableFuture<Void> allWritesFuture = CompletableFuture.allOf(writeFutures.toArray(new CompletableFuture[writeFutures.size()]));
        final CompletableFuture<List<Stat>> finishedWrites = allWritesFuture
                .thenApply(v -> writeFutures.stream()
                        .map(CompletableFuture::join)
                        .collect(Collectors.toList()));
        final List<Stat> writesDone = finishedWrites.get();
        if (LOGGER.isInfoEnabled()) {
            final int writeCount = writesDone.size();
            LOGGER.info("{} {} transferred to {}", writeCount, writeCount == 1 ? "node" : "nodes", zooKeeperEndpointConfig);
        }
        jsonReader.close();
        closeZooKeeper(zooKeeper);
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AppLozic_____Applozic-Android-SDK_____RegisterUserClientService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AppLozic_____Applozic-Android-SDK_____RegisterUserClientService.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson


    public RegistrationResponse createAccount(User user) throws Exception {
        user.setDeviceType(Short.valueOf("1"));
        user.setPrefContactAPI(Short.valueOf("2"));
        user.setTimezone(TimeZone.getDefault().getID());
        user.setEnableEncryption(user.isEnableEncryption());

        if (!TextUtils.isEmpty(user.getAlBaseUrl())) {
            ALSpecificSettings.getInstance(context).setAlBaseUrl(user.getAlBaseUrl());
        }

        if (!TextUtils.isEmpty(user.getKmBaseUrl())) {
            ALSpecificSettings.getInstance(context).setKmBaseUrl(user.getKmBaseUrl());
        }

        MobiComUserPreference mobiComUserPreference = MobiComUserPreference.getInstance(context);

        Gson gson = <mark>new Gson</mark>();
        user.setAppVersionCode(MOBICOMKIT_VERSION_CODE);
        user.setApplicationId(getApplicationKey(context));
        user.setRegistrationId(mobiComUserPreference.getDeviceRegistrationId());

        if (getAppModuleName(context) != null) {
            user.setAppModuleName(getAppModuleName(context));
        }

        Utils.printLog(context, TAG, "Net status" + Utils.isInternetAvailable(context.getApplicationContext()));

        if (!Utils.isInternetAvailable(context.getApplicationContext())) {
            throw new ConnectException("No Internet Connection");
        }

        Utils.printLog(context, TAG, "Registration json " + gson.<mark>toJson</mark>(user));
        String response = httpRequestUtils.postJsonToServer(getCreateAccountUrl(), gson.<mark>toJson</mark>(user));

        Utils.printLog(context, TAG, "Registration response is: " + response);

        if (TextUtils.isEmpty(response) || response.contains("<html")) {
            throw new Exception("503 Service Unavailable");
        }

        final RegistrationResponse registrationResponse = gson.<mark>fromJson</mark>(response, RegistrationResponse.class);

        if (registrationResponse.isRegistrationSuccess()) {

            Utils.printLog(context, "Registration response ", "is " + registrationResponse);
            if (registrationResponse.getNotificationResponse() != null) {
                Utils.printLog(context, "Registration response ", "" + registrationResponse.getNotificationResponse());
            }
            mobiComUserPreference.setEncryptionKey(registrationResponse.getEncryptionKey());
            mobiComUserPreference.enableEncryption(user.isEnableEncryption());
            mobiComUserPreference.setCountryCode(user.getCountryCode());
            mobiComUserPreference.setUserId(user.getUserId());
            mobiComUserPreference.setContactNumber(user.getContactNumber());
            mobiComUserPreference.setEmailVerified(user.isEmailVerified());
            mobiComUserPreference.setDisplayName(user.getDisplayName());
            mobiComUserPreference.setMqttBrokerUrl(registrationResponse.getBrokerUrl());
            mobiComUserPreference.setDeviceKeyString(registrationResponse.getDeviceKey());
            mobiComUserPreference.setEmailIdValue(user.getEmail());
            mobiComUserPreference.setImageLink(user.getImageLink());
            mobiComUserPreference.setSuUserKeyString(registrationResponse.getUserKey());
            mobiComUserPreference.setLastSyncTimeForMetadataUpdate(String.valueOf(registrationResponse.getCurrentTimeStamp()));
            mobiComUserPreference.setLastSyncTime(String.valueOf(registrationResponse.getCurrentTimeStamp()));
            mobiComUserPreference.setLastSeenAtSyncTime(String.valueOf(registrationResponse.getCurrentTimeStamp()));
            mobiComUserPreference.setChannelSyncTime(String.valueOf(registrationResponse.getCurrentTimeStamp()));
            mobiComUserPreference.setUserBlockSyncTime("10000");
            ApplozicClient.getInstance(context).skipDeletedGroups(user.isSkipDeletedGroups());
            if (!TextUtils.isEmpty(registrationResponse.getUserEncryptionKey())) {
                mobiComUserPreference.setUserEncryptionKey(registrationResponse.getUserEncryptionKey());
            }
            mobiComUserPreference.setPassword(user.getPassword());
            mobiComUserPreference.setPricingPackage(registrationResponse.getPricingPackage());
            mobiComUserPreference.setAuthenticationType(String.valueOf(user.getAuthenticationTypeId()));
            if (registrationResponse.getRoleType() != null) {
                mobiComUserPreference.setUserRoleType(registrationResponse.getRoleType());
            }
            if (user.getUserTypeId() != null) {
                mobiComUserPreference.setUserTypeId(String.valueOf(user.getUserTypeId()));
            }
            if (!TextUtils.isEmpty(user.getNotificationSoundFilePath())) {
                Applozic.getInstance(context).setCustomNotificationSound(user.getNotificationSoundFilePath());
            }
            Contact contact = new Contact();
            contact.setUserId(user.getUserId());
            contact.setFullName(registrationResponse.getDisplayName());
            contact.setImageURL(registrationResponse.getImageLink());
            contact.setContactNumber(registrationResponse.getContactNumber());
            if (user.getUserTypeId() != null) {
                contact.setUserTypeId(user.getUserTypeId());
            }
            contact.setRoleType(user.getRoleType());
            contact.setMetadata(user.getMetadata());
            contact.setStatus(registrationResponse.getStatusMessage());
            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
                Applozic.getInstance(context).setNotificationChannelVersion(NotificationChannels.NOTIFICATION_CHANNEL_VERSION - 1);
                new NotificationChannels(context, Applozic.getInstance(context).getCustomNotificationSound()).prepareNotificationChannels();
            }
            contact.processContactNumbers(context);
            new AppContactService(context).upsert(contact);


            Intent conversationIntentService = new Intent(context, ConversationIntentService.class);
            conversationIntentService.putExtra(ConversationIntentService.SYNC, false);
            ConversationIntentService.enqueueWork(context, conversationIntentService);


            Intent mutedUserListService = new Intent(context, ConversationIntentService.class);
            mutedUserListService.putExtra(ConversationIntentService.MUTED_USER_LIST_SYNC, true);
            ConversationIntentService.enqueueWork(context, mutedUserListService);

            Intent intent = new Intent(context, ApplozicMqttIntentService.class);
            intent.putExtra(ApplozicMqttIntentService.CONNECTED_PUBLISH, true);
            ApplozicMqttIntentService.enqueueWork(context, intent);

        }

        return registrationResponse;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>WeTheInternet_____collide_____DtoServerImpls_89.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/WeTheInternet_____collide_____DtoServerImpls.java

com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonObject
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.Gson.fromJson
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray
com.google.gson.JsonObject.has
com.google.gson.JsonObject.get
com.google.gson.JsonElement.isJsonNull
com.google.gson.JsonElement.getAsJsonArray


    public static GwtCompileImpl fromJsonElement(JsonElement jsonElem) {
      if (jsonElem == null || jsonElem.<mark>isJsonNull</mark>()) {
        return null;
      }

      GwtCompileImpl dto = new GwtCompileImpl();
      JsonObject json = jsonElem.<mark>getAsJsonObject</mark>();

      if (json.<mark>has</mark>("workDir")) {
        JsonElement workDirIn = json.<mark>get</mark>("workDir");
        java.lang.String workDirOut = gson.<mark>fromJson</mark>(workDirIn, java.lang.String.class);
        dto.setWorkDir(workDirOut);
      }

      if (json.<mark>has</mark>("isClosureCompiler")) {
        JsonElement isClosureCompilerIn = json.<mark>get</mark>("isClosureCompiler");
        boolean isClosureCompilerOut = isClosureCompilerIn.getAsBoolean();
        dto.setIsClosureCompiler(isClosureCompilerOut);
      }

      if (json.<mark>has</mark>("urlToOpen")) {
        JsonElement urlToOpenIn = json.<mark>get</mark>("urlToOpen");
        java.lang.String urlToOpenOut = gson.<mark>fromJson</mark>(urlToOpenIn, java.lang.String.class);
        dto.setUrlToOpen(urlToOpenOut);
      }

      if (json.<mark>has</mark>("warDir")) {
        JsonElement warDirIn = json.<mark>get</mark>("warDir");
        java.lang.String warDirOut = gson.<mark>fromJson</mark>(warDirIn, java.lang.String.class);
        dto.setWarDir(warDirOut);
      }

      if (json.<mark>has</mark>("deployDir")) {
        JsonElement deployDirIn = json.<mark>get</mark>("deployDir");
        java.lang.String deployDirOut = gson.<mark>fromJson</mark>(deployDirIn, java.lang.String.class);
        dto.setDeployDir(deployDirOut);
      }

      if (json.<mark>has</mark>("systemProperties")) {
        JsonElement systemPropertiesIn = json.<mark>get</mark>("systemProperties");
        java.util.ArrayList<java.lang.String> systemPropertiesOut = null;
        if (systemPropertiesIn != null && !systemPropertiesIn.<mark>isJsonNull</mark>()) {
          systemPropertiesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> systemPropertiesInIterator = systemPropertiesIn.<mark>getAsJsonArray</mark>().iterator();
          while (systemPropertiesInIterator.hasNext()) {
            JsonElement systemPropertiesIn_ = systemPropertiesInIterator.next();
            java.lang.String systemPropertiesOut_ = gson.<mark>fromJson</mark>(systemPropertiesIn_, java.lang.String.class);
            systemPropertiesOut.add(systemPropertiesOut_);
          }
        }
        dto.setSystemProperties(systemPropertiesOut);
      }

      if (json.<mark>has</mark>("unitCacheDir")) {
        JsonElement unitCacheDirIn = json.<mark>get</mark>("unitCacheDir");
        java.lang.String unitCacheDirOut = gson.<mark>fromJson</mark>(unitCacheDirIn, java.lang.String.class);
        dto.setUnitCacheDir(unitCacheDirOut);
      }

      if (json.<mark>has</mark>("extrasDir")) {
        JsonElement extrasDirIn = json.<mark>get</mark>("extrasDir");
        java.lang.String extrasDirOut = gson.<mark>fromJson</mark>(extrasDirIn, java.lang.String.class);
        dto.setExtrasDir(extrasDirOut);
      }

      if (json.<mark>has</mark>("fragments")) {
        JsonElement fragmentsIn = json.<mark>get</mark>("fragments");
        int fragmentsOut = fragmentsIn.getAsInt();
        dto.setFragments(fragmentsOut);
      }

      if (json.<mark>has</mark>("genDir")) {
        JsonElement genDirIn = json.<mark>get</mark>("genDir");
        java.lang.String genDirOut = gson.<mark>fromJson</mark>(genDirIn, java.lang.String.class);
        dto.setGenDir(genDirOut);
      }

      if (json.<mark>has</mark>("gwtVersion")) {
        JsonElement gwtVersionIn = json.<mark>get</mark>("gwtVersion");
        java.lang.String gwtVersionOut = gson.<mark>fromJson</mark>(gwtVersionIn, java.lang.String.class);
        dto.setGwtVersion(gwtVersionOut);
      }

      if (json.<mark>has</mark>("localWorkers")) {
        JsonElement localWorkersIn = json.<mark>get</mark>("localWorkers");
        int localWorkersOut = localWorkersIn.getAsInt();
        dto.setLocalWorkers(localWorkersOut);
      }

      if (json.<mark>has</mark>("optimizationLevel")) {
        JsonElement optimizationLevelIn = json.<mark>get</mark>("optimizationLevel");
        int optimizationLevelOut = optimizationLevelIn.getAsInt();
        dto.setOptimizationLevel(optimizationLevelOut);
      }

      if (json.<mark>has</mark>("isDisableAggressiveOptimize")) {
        JsonElement isDisableAggressiveOptimizeIn = json.<mark>get</mark>("isDisableAggressiveOptimize");
        boolean isDisableAggressiveOptimizeOut = isDisableAggressiveOptimizeIn.getAsBoolean();
        dto.setIsDisableAggressiveOptimize(isDisableAggressiveOptimizeOut);
      }

      if (json.<mark>has</mark>("isDisableCastCheck")) {
        JsonElement isDisableCastCheckIn = json.<mark>get</mark>("isDisableCastCheck");
        boolean isDisableCastCheckOut = isDisableCastCheckIn.getAsBoolean();
        dto.setIsDisableCastCheck(isDisableCastCheckOut);
      }

      if (json.<mark>has</mark>("isDisableClassMetadata")) {
        JsonElement isDisableClassMetadataIn = json.<mark>get</mark>("isDisableClassMetadata");
        boolean isDisableClassMetadataOut = isDisableClassMetadataIn.getAsBoolean();
        dto.setIsDisableClassMetadata(isDisableClassMetadataOut);
      }

      if (json.<mark>has</mark>("isDisableRunAsync")) {
        JsonElement isDisableRunAsyncIn = json.<mark>get</mark>("isDisableRunAsync");
        boolean isDisableRunAsyncOut = isDisableRunAsyncIn.getAsBoolean();
        dto.setIsDisableRunAsync(isDisableRunAsyncOut);
      }

      if (json.<mark>has</mark>("isDisableThreadedWorkers")) {
        JsonElement isDisableThreadedWorkersIn = json.<mark>get</mark>("isDisableThreadedWorkers");
        boolean isDisableThreadedWorkersOut = isDisableThreadedWorkersIn.getAsBoolean();
        dto.setIsDisableThreadedWorkers(isDisableThreadedWorkersOut);
      }

      if (json.<mark>has</mark>("isDisableUnitCache")) {
        JsonElement isDisableUnitCacheIn = json.<mark>get</mark>("isDisableUnitCache");
        boolean isDisableUnitCacheOut = isDisableUnitCacheIn.getAsBoolean();
        dto.setIsDisableUnitCache(isDisableUnitCacheOut);
      }

      if (json.<mark>has</mark>("isDraftCompile")) {
        JsonElement isDraftCompileIn = json.<mark>get</mark>("isDraftCompile");
        boolean isDraftCompileOut = isDraftCompileIn.getAsBoolean();
        dto.setIsDraftCompile(isDraftCompileOut);
      }

      if (json.<mark>has</mark>("isEnableAssertions")) {
        JsonElement isEnableAssertionsIn = json.<mark>get</mark>("isEnableAssertions");
        boolean isEnableAssertionsOut = isEnableAssertionsIn.getAsBoolean();
        dto.setIsEnableAssertions(isEnableAssertionsOut);
      }

      if (json.<mark>has</mark>("isSoyc")) {
        JsonElement isSoycIn = json.<mark>get</mark>("isSoyc");
        boolean isSoycOut = isSoycIn.getAsBoolean();
        dto.setIsSoyc(isSoycOut);
      }

      if (json.<mark>has</mark>("isSoycDetailed")) {
        JsonElement isSoycDetailedIn = json.<mark>get</mark>("isSoycDetailed");
        boolean isSoycDetailedOut = isSoycDetailedIn.getAsBoolean();
        dto.setIsSoycDetailed(isSoycDetailedOut);
      }

      if (json.<mark>has</mark>("isValidateOnly")) {
        JsonElement isValidateOnlyIn = json.<mark>get</mark>("isValidateOnly");
        boolean isValidateOnlyOut = isValidateOnlyIn.getAsBoolean();
        dto.setIsValidateOnly(isValidateOnlyOut);
      }

      if (json.<mark>has</mark>("isStrict")) {
        JsonElement isStrictIn = json.<mark>get</mark>("isStrict");
        boolean isStrictOut = isStrictIn.getAsBoolean();
        dto.setIsStrict(isStrictOut);
      }

      if (json.<mark>has</mark>("permutations")) {
        JsonElement permutationsIn = json.<mark>get</mark>("permutations");
        java.util.ArrayList<GwtPermutationImpl> permutationsOut = null;
        if (permutationsIn != null && !permutationsIn.<mark>isJsonNull</mark>()) {
          permutationsOut = new java.util.ArrayList<GwtPermutationImpl>();
          java.util.Iterator<JsonElement> permutationsInIterator = permutationsIn.<mark>getAsJsonArray</mark>().iterator();
          while (permutationsInIterator.hasNext()) {
            JsonElement permutationsIn_ = permutationsInIterator.next();
            GwtPermutationImpl permutationsOut_ = GwtPermutationImpl.fromJsonElement(permutationsIn_);
            permutationsOut.add(permutationsOut_);
          }
        }
        dto.setPermutations(permutationsOut);
      }

      if (json.<mark>has</mark>("autoOpen")) {
        JsonElement autoOpenIn = json.<mark>get</mark>("autoOpen");
        boolean autoOpenOut = autoOpenIn.getAsBoolean();
        dto.setAutoOpen(autoOpenOut);
      }

      if (json.<mark>has</mark>("port")) {
        JsonElement portIn = json.<mark>get</mark>("port");
        int portOut = portIn.getAsInt();
        dto.setPort(portOut);
      }

      if (json.<mark>has</mark>("logLevel")) {
        JsonElement logLevelIn = json.<mark>get</mark>("logLevel");
        com.google.gwt.core.ext.TreeLogger.Type logLevelOut = gson.<mark>fromJson</mark>(logLevelIn, com.google.gwt.core.ext.TreeLogger.Type.class);
        dto.setLogLevel(logLevelOut);
      }

      if (json.<mark>has</mark>("dependencies")) {
        JsonElement dependenciesIn = json.<mark>get</mark>("dependencies");
        java.util.ArrayList<java.lang.String> dependenciesOut = null;
        if (dependenciesIn != null && !dependenciesIn.<mark>isJsonNull</mark>()) {
          dependenciesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> dependenciesInIterator = dependenciesIn.<mark>getAsJsonArray</mark>().iterator();
          while (dependenciesInIterator.hasNext()) {
            JsonElement dependenciesIn_ = dependenciesInIterator.next();
            java.lang.String dependenciesOut_ = gson.<mark>fromJson</mark>(dependenciesIn_, java.lang.String.class);
            dependenciesOut.add(dependenciesOut_);
          }
        }
        dto.setDependencies(dependenciesOut);
      }

      if (json.<mark>has</mark>("sources")) {
        JsonElement sourcesIn = json.<mark>get</mark>("sources");
        java.util.ArrayList<java.lang.String> sourcesOut = null;
        if (sourcesIn != null && !sourcesIn.<mark>isJsonNull</mark>()) {
          sourcesOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> sourcesInIterator = sourcesIn.<mark>getAsJsonArray</mark>().iterator();
          while (sourcesInIterator.hasNext()) {
            JsonElement sourcesIn_ = sourcesInIterator.next();
            java.lang.String sourcesOut_ = gson.<mark>fromJson</mark>(sourcesIn_, java.lang.String.class);
            sourcesOut.add(sourcesOut_);
          }
        }
        dto.setSources(sourcesOut);
      }

      if (json.<mark>has</mark>("extraArgs")) {
        JsonElement extraArgsIn = json.<mark>get</mark>("extraArgs");
        java.util.ArrayList<java.lang.String> extraArgsOut = null;
        if (extraArgsIn != null && !extraArgsIn.<mark>isJsonNull</mark>()) {
          extraArgsOut = new java.util.ArrayList<java.lang.String>();
          java.util.Iterator<JsonElement> extraArgsInIterator = extraArgsIn.<mark>getAsJsonArray</mark>().iterator();
          while (extraArgsInIterator.hasNext()) {
            JsonElement extraArgsIn_ = extraArgsInIterator.next();
            java.lang.String extraArgsOut_ = gson.<mark>fromJson</mark>(extraArgsIn_, java.lang.String.class);
            extraArgsOut.add(extraArgsOut_);
          }
        }
        dto.setExtraArgs(extraArgsOut);
      }

      if (json.<mark>has</mark>("isRecompile")) {
        JsonElement isRecompileIn = json.<mark>get</mark>("isRecompile");
        boolean isRecompileOut = isRecompileIn.getAsBoolean();
        dto.setIsRecompile(isRecompileOut);
      }

      if (json.<mark>has</mark>("messageKey")) {
        JsonElement messageKeyIn = json.<mark>get</mark>("messageKey");
        java.lang.String messageKeyOut = gson.<mark>fromJson</mark>(messageKeyIn, java.lang.String.class);
        dto.setMessageKey(messageKeyOut);
      }

      if (json.<mark>has</mark>("manifestFile")) {
        JsonElement manifestFileIn = json.<mark>get</mark>("manifestFile");
        java.lang.String manifestFileOut = gson.<mark>fromJson</mark>(manifestFileIn, java.lang.String.class);
        dto.setManifestFile(manifestFileOut);
      }

      if (json.<mark>has</mark>("obfuscationLevel")) {
        JsonElement obfuscationLevelIn = json.<mark>get</mark>("obfuscationLevel");
        xapi.gwtc.api.ObfuscationLevel obfuscationLevelOut = gson.<mark>fromJson</mark>(obfuscationLevelIn, xapi.gwtc.api.ObfuscationLevel.class);
        dto.setObfuscationLevel(obfuscationLevelOut);
      }

      if (json.<mark>has</mark>("openAction")) {
        JsonElement openActionIn = json.<mark>get</mark>("openAction");
        xapi.gwtc.api.OpenAction openActionOut = gson.<mark>fromJson</mark>(openActionIn, xapi.gwtc.api.OpenAction.class);
        dto.setOpenAction(openActionOut);
      }

      if (json.<mark>has</mark>("module")) {
        JsonElement moduleIn = json.<mark>get</mark>("module");
        java.lang.String moduleOut = gson.<mark>fromJson</mark>(moduleIn, java.lang.String.class);
        dto.setModule(moduleOut);
      }

      return dto;
    }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>AEFeinstein_____mtg-familiar_____MarketPriceFetcher_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/AEFeinstein_____mtg-familiar_____MarketPriceFetcher.java

com.google.gson.Gson.&ltinit&gt
com.google.gson.Gson.fromJson

/**
             * Write a MarketPriceInfo to the cache with the given key
             *
             * @param cacheKey The cache key, a MtgCard object
             * @param marketPriceInfo A MarketPriceInfo to write
             * @return a Single with true if the write succeeded, or false if it didn't
             */            @Override
            public Single<MarketPriceInfo> fetch(@Nonnull MtgCard params) {
                Exception lastThrownException = new Exception(mActivity.getString(R.string.price_error_unknown));
                if (FamiliarActivity.getNetworkState(mActivity, false) == -1) { /* our context contains the activity that spawned the request */
                    return Single.error(new Exception(mActivity.getString(R.string.no_network)));
                }

                /* Initialize the API */
                TcgpApi api = new TcgpApi();
                String tokenStr = PreferenceAdapter.getTcgpApiToken(mActivity);
                Date expirationDate = PreferenceAdapter.getTcgpApiTokenExpirationDate(mActivity);
                try {
                    /* If we don't have a token or it expired */
                    if (tokenStr.isEmpty() || expirationDate.before(new Date())) {
                        /* Request a token. This will initialize the TcgpApi object */
                        AccessToken token;
                        try {
                            TcgpKeys keys = <mark>new Gson</mark>().<mark>fromJson</mark>(new InputStreamReader(mActivity.getAssets().open("tcgp_keys.json")), TcgpKeys.class);
                            token = api.getAccessToken(keys.PUBLIC_KEY, keys.PRIVATE_KEY, keys.ACCESS_TOKEN);
                            /* Save the token and expiration date */
                            PreferenceAdapter.setTcgpApiToken(mActivity, token.access_token);
                            PreferenceAdapter.setTcgpApiTokenExpirationDate(mActivity, token.expires);
                        } catch (FileNotFoundException e) {
                            return Single.error(new Exception(mActivity.getString(R.string.price_error_api_key)));
                        }
                    } else {
                        /* Make sure the token hasn't expired */
                        api.setToken(tokenStr);
                    }
                } catch (IOException e) {
                    return Single.error(new Exception(mActivity.getString(R.string.price_error_network)));
                }

                CardDbAdapter.MultiCardType multiCardType;
                String tcgSetName;

                /* then the same for multicard ordering */
                FamiliarDbHandle cardInfoHandle = new FamiliarDbHandle();
                try {
                    SQLiteDatabase database = DatabaseManager.openDatabase(mActivity, false, cardInfoHandle);

                    if (CardDbAdapter.isOnlineOnly(params.getExpansion(), database)) {
                        return Single.error(new Exception(mActivity.getString(R.string.price_error_online_only)));
                    }

                    // If the number doesn't exist, multiCardType will be MultiCardType.NOPE
                    multiCardType = CardDbAdapter.isMultiCard(params.getNumber(), params.getExpansion());

                    /* Get the TCGplayer.com set name, why can't everything be consistent? */
                    tcgSetName = CardDbAdapter.getTcgName(params.getExpansion(), database);

                } catch (SQLiteException | FamiliarDbException e) {
                    return Single.error(new Exception(mActivity.getString(R.string.price_error_database)));
                } finally {
                    DatabaseManager.closeDatabase(mActivity, cardInfoHandle);
                }

                /* If this isn't a multi-card, don't iterate so much */
                int numMultiCardOptions = 1;
                if (multiCardType != CardDbAdapter.MultiCardType.NOPE) {
                    numMultiCardOptions = 4;
                }

                /* Iterate through all possible queries for this card
                 * First (innermost loop) try the different combination of multi-card names
                 * Then (middle loop) try with and without accent marks
                 * Last (outer loop) try without a set name. This works for Schemes & Planes with weird TCGPlayer sets
                 */
                for (int setOption = 0; setOption < 2; setOption++) {
                    for (int accentOption = 0; accentOption < 2; accentOption++) {
                        for (int multiOption = 0; multiOption < numMultiCardOptions; multiOption++) {
                            String tcgCardName;
                            FamiliarDbHandle setOptHandle = new FamiliarDbHandle();
                            try {
                                SQLiteDatabase database = DatabaseManager.openDatabase(mActivity, false, setOptHandle);

                                /* Set up retries for multicard ordering */
                                if (multiCardType != CardDbAdapter.MultiCardType.NOPE) {
                                    /* Next time try the other order */
                                    switch (multiOption) {
                                        case 0:
                                            /* Try just the a side */
                                            tcgCardName = CardDbAdapter.getNameFromSetAndNumber(params.getExpansion(), params.getNumber().replace("b", "a"), database);
                                            break;
                                        case 1:
                                            /* Try just the b side */
                                            tcgCardName = CardDbAdapter.getNameFromSetAndNumber(params.getExpansion(), params.getNumber().replace("a", "b"), database);
                                            break;
                                        case 2:
                                            /* Try the combined name in one direction */
                                            tcgCardName = CardDbAdapter.getSplitName(params.getMultiverseId(), true, database);
                                            break;
                                        case 3:
                                            /* Try the combined name in the other direction */
                                            tcgCardName = CardDbAdapter.getSplitName(params.getMultiverseId(), false, database);
                                            break;
                                        default:
                                            /* Something went wrong */
                                            tcgCardName = params.getName();
                                            break;
                                    }
                                } else {
                                    /* This isn't a multicard */
                                    tcgCardName = params.getName();
                                }

                                /* Retry with accent marks removed */
                                if (accentOption == 1) {
                                    tcgCardName = CardDbAdapter.removeAccentMarks(Objects.requireNonNull(tcgCardName));
                                }

                                /* Try it with no set name */
                                if (setOption == 1) {
                                    tcgSetName = null;
                                }

                            } catch (SQLiteException | FamiliarDbException e) {
                                tcgCardName = null;
                                lastThrownException = new Exception(mActivity.getString(R.string.price_error_database));
                            } finally {
                                DatabaseManager.closeDatabase(mActivity, setOptHandle);
                            }

                            if (null != tcgCardName) {
                                try {
                                    /* Query the API, one step at a time */
                                    ProductInformation information = api.getProductInformation(tcgCardName, tcgSetName);
                                    if (information.results.length > 0) {
                                        ProductDetails details = api.getProductDetails(information.results);
                                        if (details.results.length > 0) {
                                            // Assume the first result is the best result
                                            long bestResult[] = {details.results[0].productId};
                                            String bestUrl = "";
                                            boolean okResultFound = false;
                                            // Look through all results for a perfect match
                                            for (ProductDetails.Details searchResult : details.results) {
                                                String expansion = getExpansionFromGroupId(api, context, searchResult.groupId);
                                                if (searchResult.name.toLowerCase().equals(tcgCardName.toLowerCase())) {
                                                    if (null != expansion && null != tcgSetName) {
                                                        if (expansion.toLowerCase().equals(tcgSetName.toLowerCase())) {
                                                            // Found a perfect match, including expansion!
                                                            bestResult[0] = searchResult.productId;
                                                            bestUrl = searchResult.url;
                                                            break;
                                                        }
                                                    } else {
                                                        // Found a perfect match, no expansion to match!
                                                        bestResult[0] = searchResult.productId;
                                                        bestUrl = searchResult.url;
                                                        break;
                                                    }
                                                } else if (!okResultFound && searchResult.name.toLowerCase().startsWith(tcgCardName.toLowerCase())) {
                                                    if (null != expansion && null != tcgSetName) {
                                                        if (expansion.toLowerCase().equals(tcgSetName.toLowerCase())) {
                                                            // Found a good match, including expansion!
                                                            // Set it but keep searching for a perfect match
                                                            bestResult[0] = searchResult.productId;
                                                            bestUrl = searchResult.url;
                                                            okResultFound = true;
                                                        }
                                                    } else {
                                                        // Found a good match, no expansion to match!
                                                        // Set it but keep searching for a perfect match
                                                        bestResult[0] = searchResult.productId;
                                                        bestUrl = searchResult.url;
                                                        okResultFound = true;
                                                    }
                                                }
                                            }
                                            ProductMarketPrice price = api.getProductMarketPrice(bestResult);
                                            if (price.results.length > 0) {
                                                /* Return a new MarketPriceInfo */
                                                return Single.just(new MarketPriceInfo(price.results, bestUrl));
                                            } else if (price.errors.length > 0) {
                                                /* Return the error returned by TCGPlayer */
                                                return Single.error(new Throwable(price.errors[0]));
                                            }
                                        } else if (details.errors.length > 0) {
                                            /* Return the error returned by TCGPlayer */
                                            return Single.error(new Throwable(details.errors[0]));
                                        }
                                    } else if (information.errors.length > 0) {
                                        /* Return the error returned by TCGPlayer */
                                        return Single.error(new Throwable(information.errors[0]));
                                    }
                                } catch (IOException e) {
                                    lastThrownException = new Exception(mActivity.getString(R.string.price_error_network));
                                }
                            }
                        }
                    }
                }
                return Single.error(lastThrownException);
            }

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_9.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson


	private String changeState(String userId, String lightId, String body, String ipAddress, boolean ignoreRequester) {
		if (bridgeSettings.isUserooms() && Integer.parseInt(lightId) >= 10000) {
			return changeGroupState(userId, String.valueOf(Integer.parseInt(lightId) - 10000), body, ipAddress, true);
		}
		String responseString = null;
		String url = null;
		StateChangeBody theStateChanges = null;
		DeviceState state = null;
		Integer targetBri = null;
		Integer targetBriInc = null;
		boolean isColorRequest = false;
		boolean isDimRequest = false;
		boolean isOnRequest = false;
		ColorData colorData = null;
		log.debug("hue state change requested: " + userId + " from " + ipAddress + " body: " + body);
		HueError[] theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors != null) {
			log.warn("Errors in security: <<<" + aGsonHandler.<mark>toJson</mark>(theErrors) + ">>>");
			return aGsonHandler.<mark>toJson</mark>(theErrors);
		}
		try {
			theStateChanges = aGsonHandler.<mark>fromJson</mark>(body, StateChangeBody.class);
		} catch (Exception e) {
			theStateChanges = null;
		}
		if (theStateChanges == null) {
			log.warn("Could not parse state change body. Light state not changed.");
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("2", "/lights/" + lightId,
					"Could not parse state change body.", null, null, null).getTheErrors(), HueError[].class);
		}

		DeviceDescriptor device = repository.findOne(lightId);
		if (device == null) {
			log.warn("Could not find device: " + lightId + " for hue state change request: " + userId + " from "
					+ ipAddress + " body: " + body);
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/lights/" + lightId,
					"Could not find device.", "/lights/" + lightId, null, null).getTheErrors(), HueError[].class);
		}

		state = device.getDeviceState();
		if (state == null) {
			state = DeviceState.createDeviceState(device.isColorDevice());
			device.setDeviceState(state);
		}

		if (body.contains("\"bri_inc\"")) {
			targetBriInc = new Integer(theStateChanges.getBri_inc());
			isDimRequest = true;
		}
		else if (body.contains("\"bri\"")) {
			targetBri = new Integer(theStateChanges.getBri());
			isDimRequest = true;
		}

		if (body.contains("\"xy\"") || body.contains("\"ct\"") || body.contains("\"hue\"") || body.contains("\"xy_inc\"") || body.contains("\"ct_inc\"") || body.contains("\"hue_inc\"")) {
			List<Double> xy = theStateChanges.getXy();
			List<Double> xyInc = theStateChanges.getXy_inc();
			Integer ct = theStateChanges.getCt();
			Integer ctInc = theStateChanges.getCt_inc();
			if (xy != null && xy.size() == 2) {
				colorData = new ColorData(ColorData.ColorMode.XY, xy);
			} else if (xyInc != null && xyInc.size() == 2) { 
				List<Double> current = state.getXy();
				current.set(0, current.get(0) + xyInc.get(0));
				current.set(1, current.get(1) + xyInc.get(1));
				colorData = new ColorData(ColorData.ColorMode.XY, current);
			} else if (ct != null && ct != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, ct);
			} else if (ctInc != null && ctInc != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, state.getCt() + ctInc);
			}
			if(colorData != null)
				isColorRequest = true;
		}
		
		if (body.contains("\"on\"")) {
			isOnRequest = true;
		}
		
		if(device.isOnFirstDim() && isDimRequest && !device.getDeviceState().isOn()) {
			isOnRequest = true;
			isDimRequest = false;
			isColorRequest = false;
		} else if(device.isOnFirstDim() && isDimRequest && device.getDeviceState().isOn()) {
			if(device.getDeviceState().getBri() == theStateChanges.getBri()) {
				isOnRequest = true;
				isDimRequest = false;
				isColorRequest = false;
			} else {
				isOnRequest = false;
				isDimRequest = true;
				isColorRequest = false;
			}
		}
		
		if(isOnRequest) {
			log.debug("Calling on-off as requested.");
			if (theStateChanges.isOn()) {
				url = device.getOnUrl();
			} else if (!theStateChanges.isOn()) {
				url = device.getOffUrl();
			}

			// code for backwards compatibility
			if(device.getMapType() != null && device.getMapType().equalsIgnoreCase(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
				if(url == null)
					url = device.getOnUrl();
			}

			if (url != null && !url.equals("")) {
				responseString = callUrl(url, device, userId, lightId, body, ipAddress, ignoreRequester, targetBri, targetBriInc, colorData);
			} else {
				log.info("On/off url not available for state change, lightId: " + lightId + ", userId: " + userId + ", from IP: "
						+ ipAddress + ", body: " + body);
			}
		}

		if (isDimRequest) {
			log.debug("Calling dim as requested.");
			url = device.getDimUrl();

			// code for backwards compatibility
			if(device.getMapType() != null && device.getMapType().equalsIgnoreCase(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
				if(url == null)
					url = device.getOnUrl();
			}

			if (url != null && !url.equals("")) {
				if(isOnRequest) {
					try {
						Thread.sleep(bridgeSettings.getButtonsleep());
					} catch (InterruptedException e) {
						// ignore
					}
				}
				responseString = callUrl(url, device, userId, lightId, body, ipAddress, ignoreRequester, targetBri, targetBriInc, colorData);
			} else {
				log.info("Dim url not available for state change, lightId: " + lightId + ", userId: " + userId + ", from IP: "
						+ ipAddress + ", body: " + body);
			}
		}

		if (isColorRequest) {
			log.debug("Calling color as requested.");
			url = device.getColorUrl();
			// code for backwards compatibility
			if(device.getMapType() != null && device.getMapType().equalsIgnoreCase(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
				if(url == null)
					url = device.getOnUrl();
			}

			if (url != null && !url.equals("")) {
				if((isOnRequest && !isDimRequest) || isDimRequest) {
					try {
						Thread.sleep(bridgeSettings.getButtonsleep());
					} catch (InterruptedException e) {
						// ignore
					}
				}
				responseString = callUrl(url, device, userId, lightId, body, ipAddress, ignoreRequester, targetBri, targetBriInc, colorData);
			} else {
				log.info("Color url not available for state change, lightId: " + lightId + ", userId: " + userId + ", from IP: "
						+ ipAddress + ", body: " + body);
			}
		}
		
		if (responseString == null || !responseString.contains("[{\"error\":")) {
			if(!device.isNoState()) {
				responseString = this.formatSuccessHueResponse(theStateChanges, body, lightId, state, targetBri, targetBriInc, colorData, device.isOffState());
				device.setDeviceState(state);
			} else {
				DeviceState dummyState = DeviceState.createDeviceState(device.isColorDevice());
				responseString = this.formatSuccessHueResponse(theStateChanges, body, lightId, dummyState, targetBri, targetBriInc, colorData, device.isOffState());
			}
		}

		return responseString;
		
	}


	@SuppressWarnings("unchecked")
	private String changeGroupState(String userId, String groupId, String body, String ipAddress, boolean fakeLightResponse) {
		ColorData colorData = null;
		log.debug("PUT action to group  " + groupId + " from " + ipAddress + " user " + userId + " with body " + body);
		HueError[] theErrors = null;
		theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors == null) {
			if(bridgeSettingMaster.getBridgeSecurity().isSettingsChanged())
				bridgeSettingMaster.updateConfigFile();

			GroupDescriptor group = null;
			Integer targetBriInc = null;
			Integer targetBri = null;
			DeviceState state = null;
			Map<String, DeviceResponse> lights = null;
			if (groupId.equalsIgnoreCase("0")) {
				lights = (Map<String, DeviceResponse>)lightsListHandler(userId, ipAddress);
			} else {
				group = groupRepository.findOne(groupId);
				if (group == null || group.isInactive()) {
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/groups/" + groupId,
						"resource, /groups/" + groupId + ", not available", null, null, null).getTheErrors(), HueError[].class);	
				} else {
					if (fakeLightResponse) {
						lights = repository.findAllByGroupWithState(group.getLights(), ipAddress, myHueHome, aGsonHandler, true);
					} else {
						lights = repository.findAllByGroupWithState(group.getLights(), ipAddress, myHueHome, aGsonHandler);	
					}
				}
			}

			if (lights != null) {
				StateChangeBody theStateChanges = null;
				try {
					theStateChanges = aGsonHandler.<mark>fromJson</mark>(body, StateChangeBody.class);
				} catch (Exception e) {
					theStateChanges = null;
				}
				if (theStateChanges == null) {
					log.warn("Could not parse state change body. Light state not changed.");
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("2", "/groups/" + groupId + "/action",
							"Could not parse state change body.", null, null, null).getTheErrors(), HueError[].class);
				}

				if (group != null) {
					if (body.contains("\"bri_inc\"")) {
						targetBriInc = new Integer(theStateChanges.getBri_inc());
					}
					else if (body.contains("\"bri\"")) {
						targetBri = new Integer(theStateChanges.getBri());
					}

					state = group.getAction();
					if (state == null) {
						state = DeviceState.createDeviceState(true);
						group.setAction(state);
					}	
				}
				

				boolean turnOn = false;
				boolean turnOff = false;
				if (!(body.contains("\"bri_inc\"") || body.contains("\"bri\""))) {
					if (!(body.contains("\"xy\"") || body.contains("\"ct\"") || body.contains("\"hue\""))) {
						if (theStateChanges.isOn()) {
							turnOn = true;
						} else if (!theStateChanges.isOn()) {
							turnOff = true;
						}
					}
				}
				for (Map.Entry<String, DeviceResponse> light : lights.entrySet()) {
					log.debug("Processing light" + light.getKey() + ": " + turnOn + " " + turnOff + " " + light.getValue().getState().isOn());
					// ignore on/off for devices that are already on/off
					if (turnOff && !light.getValue().getState().isOn())
						continue;
					if (turnOn && light.getValue().getState().isOn())
						continue;
					changeState(userId, light.getKey(), body, ipAddress, fakeLightResponse);
				}
				// construct success response: one success message per changed property, but not per light
				if (group != null) { // if not group 0
					 String response = formatSuccessHueResponse(theStateChanges, body, String.valueOf(Integer.parseInt(groupId) + 10000),
						state, targetBri, targetBriInc, colorData, true);
					 group.setAction(state);
					 if (fakeLightResponse) {
					 	return response;
					 }
				}

				String successString = "[";
				for (String pairStr : body.replaceAll("[{|}]", "").split(",\\s*\"")) {
					String[] pair = pairStr.split(":");
					if (fakeLightResponse) {
						successString += "{\"success\":{ \"/lights/" + String.valueOf(Integer.parseInt(groupId) + 10000) + "/state/" + pair[0].replaceAll("\"", "").trim() + "\": " + pair[1].trim() + "}},";
					} else {
						successString += "{\"success\":{ \"address\": \"/groups/" + groupId + "/action/" + pair[0].replaceAll("\"", "").trim() + "\", \"value\": " + pair[1].trim() + "}},";	
					}
					
				}
				return (successString.length() == 1) ? "[]" : successString.substring(0, successString.length()-1) + "]";
			}
		}

		return aGsonHandler.<mark>toJson</mark>(theErrors);
	}
	
	protected String callUrl(String url, DeviceDescriptor device, String userId, String lightId, String body, String ipAddress, boolean ignoreRequester, Integer targetBri, Integer targetBriInc, ColorData colorData) {
		String responseString = null;
		MultiCommandUtil aMultiUtil = new MultiCommandUtil();
		aMultiUtil.setTheDelay(bridgeSettings.getButtonsleep());
		aMultiUtil.setDelayDefault(bridgeSettings.getButtonsleep());
		aMultiUtil.setSetCount(1);

		if (!url.startsWith("[")) {
			if (url.startsWith("{\"item"))
				url = "[" + url + "]";
			else {
				if(url.startsWith("{"))
					url = "[{\"item\":" + url + "}]";
				else
					url = "[{\"item\":\"" + url + "\"}]";
			}
		} else if(!url.startsWith("[{\"item\""))
			url = "[{\"item\":" + url + "}]";

		log.debug("Decode Json for url items: " + url);
		CallItem[] callItems = null;
		try {
			callItems = aGsonHandler.<mark>fromJson</mark>(url, CallItem[].class);
		} catch(JsonSyntaxException e) {
			log.warn("Could not decode Json for url items: " + lightId + " for hue state change request: " + userId + " from "
					+ ipAddress + " body: " + body + " url items: " + url);
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/lights/" + lightId,
					"Could decode json in request", "/lights/" + lightId, null, null).getTheErrors(), HueError[].class);
		}
		
		for (int i = 0; callItems != null && i < callItems.length; i++) {
			if (!ignoreRequester) {
				if(!filterByRequester(device.getRequesterAddress(), ipAddress) || !filterByRequester(callItems[i].getFilterIPs(), ipAddress)) {
					log.warn("filter for requester address not present in: (device)" + device.getRequesterAddress() + " OR then (item)" + callItems[i].getFilterIPs() + " with request ip of: " + ipAddress);
					continue;
				}	
			}
			
			if (callItems[i].getCount() != null && callItems[i].getCount() > 0)
				aMultiUtil.setSetCount(callItems[i].getCount());
			else
				aMultiUtil.setSetCount(1);
			// code for backwards compatibility
			if((callItems[i].getType() == null || callItems[i].getType().trim().isEmpty())) {
				if(validMapTypes.validateType(device.getMapType()))
					callItems[i].setType(device.getMapType().trim());
				else if(validMapTypes.validateType(device.getDeviceType()))
					callItems[i].setType(device.getDeviceType().trim());
				else
					callItems[i].setType(DeviceMapTypes.CUSTOM_DEVICE[DeviceMapTypes.typeIndex]);
			}

			if (callItems[i].getType() != null) {
				for (int x = 0; x < aMultiUtil.getSetCount(); x++) {
					if (x > 0 || i > 0) {
						try {
							Thread.sleep(aMultiUtil.getTheDelay());
						} catch (InterruptedException e) {
							// ignore
						}
					}
					if (callItems[i].getDelay() != null && callItems[i].getDelay() > 0)
						aMultiUtil.setTheDelay(callItems[i].getDelay());
					else
						aMultiUtil.setTheDelay(aMultiUtil.getDelayDefault());

					log.debug("Calling Home device handler for type : " + callItems[i].getType().trim());
					responseString = homeManager.findHome(callItems[i].getType().trim()).deviceHandler(callItems[i], aMultiUtil, lightId, device.getDeviceState().getBri(), targetBri, targetBriInc, colorData, device, body);
					if(responseString != null && responseString.contains("{\"error\":")) {
						x = aMultiUtil.getSetCount();
					}
				}
			}
			else
				log.warn("Call Items type is null <<<" + callItems[i] + ">>>");
		}
		
		if(callItems.length == 0)
			log.warn("No call items were available: <<<" + url + ">>>");
		
		return responseString;
	}
}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_12.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.fromJson

/**
     * Remove application
     *
     * @param applicationId application id
     * @throws CommandException This method helps to remove applications
     */     */
    public void deployApplication(String applicationId, String applicationPolicyId) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            String url = (ENDPOINT_DEPLOY_APPLICATION.replace("{applicationId}", applicationId)).replace("{applicationPolicyId}", applicationPolicyId);
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + url, "");

            String result = getHttpResponseString(response);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            System.out.println(gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage());

        } catch (Exception e) {
            String message = "Could not deploy application: " + applicationId;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }

        //restClient.deployEntity((ENDPOINT_DEPLOY_APPLICATION.replace("{applicationId}", applicationId)).replace("{applicationPolicyId",applicationPolicyId),"application");
    }

    /**
     * Undeploy application
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void undeployApplication(String applicationId) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_UNDEPLOY_APPLICATION.replace("{id}", applicationId), "");
            String result = getHttpResponseString(response);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            System.out.println(gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage());
        } catch (Exception e) {
            String message = "Could not undeploy application: " + applicationId;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Remove application
     *
     * @param applicationId application id
     * @throws CommandException This method helps to remove applications
     */
    public void deleteApplication(String applicationId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_APPLICATION.replace("{appId}", applicationId), applicationId,
                "application");
    }

    /**
     * Update application
     *
     * @param entityBody application definition
     * @throws CommandException
     */
    public void updateApplication(String entityBody) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_APPLICATION, entityBody, "application");
    }

    /**
     * Delete autoscaling policy
     *
     * @param autoscalingPolicyId autoscaling policy id
     * @throws CommandException
     */
    public void deleteAutoSclaingPolicy(String autoscalingPolicyId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_AUTOSCALINGPOLICY.replace("{policyId}", autoscalingPolicyId), autoscalingPolicyId,
                "Auto-scaling policy");
    }

    /**
     * Describe application
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void describeApplication(String applicationId) throws CommandException {
        try {
            ApplicationBean application = (ApplicationBean) restClient
                    .getEntity(ENDPOINT_GET_APPLICATION, ApplicationBean.class, "{appId}", applicationId,
                            "application");

            if (application == null) {
                System.out.println("Application not found: " + applicationId);
                return;
            }

            System.out.println("Application: " + applicationId);
            System.out.println(getGson().toJson(application));
        } catch (Exception e) {
            String message = "Could not describe application: " + applicationId;
            printError(message, e);
        }
    }

    /**
     * Describe application runtime
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void describeApplicationRuntime(String applicationId) throws CommandException {
        try {
	        ApplicationInfoBean application = (ApplicationInfoBean) restClient
                    .getEntity(ENDPOINT_GET_APPLICATION_RUNTIME, ApplicationBean.class, "{applicationId}", applicationId,
                            "application");

            if (application == null) {
                System.out.println("Application Runtime not found: " + applicationId);
                return;
            }

            System.out.println("Application: " + applicationId);
            System.out.println(getGson().toJson(application));
        } catch (Exception e) {
            String message = "Could not describe application runtime: " + applicationId;
            printError(message, e);
        }
    }

    /**
     * Add application signup
     *
     * @param applicationId application id
     * @param entityBody    application signup definition
     * @throws CommandException
     */
    public void addApplicationSignup(String entityBody, String applicationId) throws CommandException {
        restClient.deployEntity(ENDPOINT_APPLICATION_SIGNUP.replace("{applicationId}", applicationId), entityBody, "application signup");
    }

    /**
     * Describe application signup
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void describeApplicationSignup(String applicationId) throws CommandException {
        try {
            ApplicationSignUpBean bean = (ApplicationSignUpBean) restClient.listEntity(ENDPOINT_APPLICATION_SIGNUP.replace("{applicationId}", applicationId),
                    ApplicationSignUpBean.class, "applicationSignup");

            if (bean == null) {
                System.out.println("Application sign up not found for application: " + applicationId);
                return;
            }

            System.out.println("Application signup for application : " + applicationId);
            System.out.println(getGson().toJson(bean));
        } catch (Exception e) {
            String message = "Could not describe application signup for application: " + applicationId;
            printError(message, e);
        }
    }

    /**
     * Delete application signup
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void deleteApplicationSignup(String applicationId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_APPLICATION_SIGNUP.replace("{applicationId}", applicationId), applicationId,
                "application signup");
    }

    /**
     * Handle exception
     *
     * @throws CommandException
     */
    private void handleException(String key, Exception e, Object... args) throws CommandException {
        if (log.isDebugEnabled()) {
            log.debug("Displaying message for {}. Exception thrown is {}", key, e.getClass());
        }

        String message = CliUtils.getMessage(key, args);
        log.error(message);
        System.out.println(message);
        throw new CommandException(message, e);
    }

    /**
     * Print error on console and log
     *
     * @param message message
     * @param e       exception
     */
    private void printError(String message, Throwable e) {
        // CLI console only get system output
        System.out.println(message);
        // Log error
        log.error(message, e);
    }

    /**
     * Add network partitions
     *
     * @param networkPartitionDefinition network partition definition
     * @throws CommandException
     */
    public void addNetworkPartition(String networkPartitionDefinition) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_NETWORK_PARTITION, networkPartitionDefinition, "network partition");
    }

    /**
     * Remove network partition
     *
     * @param networkPartitionId application id
     * @throws CommandException
     */
    public void removeNetworkPartition(String networkPartitionId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_NETWORK_PARTITION.replace("{id}", networkPartitionId), networkPartitionId,
                "network-partition");
    }

    /**
     * List network partitions
     *
     * @throws CommandException
     */
    public void listNetworkPartitions() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<NetworkPartitionBean>>() {
            }.getType();
            List<NetworkPartitionBean> networkPartitionsList = (List<NetworkPartitionBean>) restClient.listEntity(ENDPOINT_LIST_NETWORK_PARTITIONS,
                    listType, "network-partitions");

            if ((networkPartitionsList == null) || (networkPartitionsList.size() == 0)) {
                System.out.println("No network partitions found");
                return;
            }

            RowMapper<NetworkPartitionBean> networkPartitionMapper = new RowMapper<NetworkPartitionBean>() {
                public String[] getData(NetworkPartitionBean partition) {
                    String[] data = new String[2];
                    data[0] = partition.getId();
                    data[1] = String.valueOf(partition.getPartitions().size());
                    return data;
                }
            };

            NetworkPartitionBean[] partitions = new NetworkPartitionBean[networkPartitionsList.size()];
            partitions = networkPartitionsList.toArray(partitions);

            System.out.println("Network partitions found:");
            CliUtils.printTable(partitions, networkPartitionMapper, "Network Partition ID", "Number of Partitions");
        } catch (Exception e) {
            String message = "Error in listing network partitions";
            printError(message, e);
        }
    }

    /**
     * Update network partitions
     *
     * @param networkPartitionDefinition network partition definition
     * @throws CommandException
     */
    public void updateNetworkPartition(String networkPartitionDefinition) throws CommandException {
        restClient.updateEntity(ENDPOINT_DEPLOY_NETWORK_PARTITION, networkPartitionDefinition, "network-partition");
    }

    /**
     * Describe a network partition
     *
     * @param partitionId partition id
     * @throws CommandException
     */
    public void describeNetworkPartition(final String partitionId) throws CommandException {
        try {
            NetworkPartitionBean partition = (NetworkPartitionBean) restClient
                    .getEntity(ENDPOINT_GET_NETWORK_PARTITION, NetworkPartitionBean.class, "{networkPartitionId}", partitionId,
                            "network partition");

            if (partition == null) {
                System.out.println("Network partition not found: " + partitionId);
                return;
            }

            System.out.println("Partition: " + partitionId);
            System.out.println(getGson().toJson(partition));
        } catch (Exception e) {
            String message = "Could not describe partition: " + partitionId;
            printError(message, e);
        }
    }

    /**
     * Deploy deployment policy
     *
     * @param deploymentPolicy deployment policy definition
     * @throws CommandException
     */
    public void addDeploymentPolicy(String deploymentPolicy) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_DEPLOYMENT_POLICY, deploymentPolicy, "deployment policy");
    }

    /**
     * Deploy application policy
     *
     * @param applicationPolicy application policy definition
     * @throws CommandException
     */
    public void addApplicationPolicy(String applicationPolicy) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_APPLICATION_POLICY, applicationPolicy, "application policy");
    }

    /**
     * Update deployment policy
     *
     * @param deploymentPolicy deployment policy definition
     * @throws CommandException
     */
    public void updateDeploymentPolicy(String deploymentPolicy) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_DEPLOYMENT_POLICY, deploymentPolicy, "deployment policy");
    }

    /**
     * Delete deployment policy
     *
     * @param deploymentPolicyId deployment policy definition
     * @throws CommandException
     */
    public void deleteDeploymentPolicy(String deploymentPolicyId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_DEPLOYMENT_POLICY.replace("{policyId}", deploymentPolicyId), deploymentPolicyId,
                "deployment policy");
    }

    /**
     * List deployment policies
     *
     * @throws CommandException
     */
    public void listDeploymentPolicies() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<DeploymentPolicyBean>>() {
            }.getType();
            List<DeploymentPolicyBean> list = (List<DeploymentPolicyBean>) restClient.listEntity(ENDPOINT_LIST_DEPLOYMENT_POLICIES,
                    listType, "deployment policies");

            if ((list == null) || (list.size() == 0)) {
                System.out.println("No deployment policies found");
                return;
            }

            RowMapper<DeploymentPolicyBean> rowMapper = new RowMapper<DeploymentPolicyBean>() {

                public String[] getData(DeploymentPolicyBean policy) {
                    String[] data = new String[2];
                    data[0] = policy.getId();
                    data[1] = String.valueOf(policy.getNetworkPartitions().size());
                    return data;
                }
            };

            DeploymentPolicyBean[] array = new DeploymentPolicyBean[list.size()];
            array = list.toArray(array);

            System.out.println("Deployment policies found:");
            CliUtils.printTable(array, rowMapper, "ID", "Accessibility");
        } catch (Exception e) {
            String message = "Could not list deployment policies";
            printError(message, e);
        }
    }

    /**
     * List application policies
     *
     * @throws CommandException
     */
    public void listApplicationPolicies() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<ApplicationPolicyBean>>() {
            }.getType();
            List<ApplicationPolicyBean> list = (List<ApplicationPolicyBean>) restClient.listEntity(ENDPOINT_LIST_APPLICATION_POLICIES,
                    listType, "application policies");

            if ((list == null) || (list.size() == 0)) {
                System.out.println("No application policies found");
                return;
            }

            RowMapper<ApplicationPolicyBean> rowMapper = new RowMapper<ApplicationPolicyBean>() {

                public String[] getData(ApplicationPolicyBean policy) {
                    String[] data = new String[3];
                    data[0] = policy.getId();
                    data[1] = String.valueOf(policy.getNetworkPartitions().length);
                    data[2] = policy.getAlgorithm();
                    return data;
                }
            };

            ApplicationPolicyBean[] array = new ApplicationPolicyBean[list.size()];
            array = list.toArray(array);

            System.out.println("Application policies found:");
            CliUtils.printTable(array, rowMapper, "ID", "No of network partitions", "algorithm");
        } catch (Exception e) {
            String message = "Could not list application policies";
            printError(message, e);
        }
    }

    /**
     * Delete application policy
     * param applicationPolicyId application policy id
     *
     * @throws CommandException
     */
    public void deleteApplicationPolicy(String applicationPolicyId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_APPLICATION_POLICY.replace("{policyId}", applicationPolicyId), applicationPolicyId,
                "application policy");
    }

    /**
     * Update application policy
     *
     * @param applicationPolicy application policy definition
     * @throws CommandException
     */
    public void updateApplicationPolicy(String applicationPolicy) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_APPLICATION_POLICY, applicationPolicy, "application policy");
    }


}
            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_7.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson

	
	private Object getLight(String userId, String lightId, String ipAddress) {
		log.debug("hue light requested: " + lightId + " for user: " + userId + " from " + ipAddress);
		HueError[] theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors != null)
			return theErrors;

		if (bridgeSettings.isUserooms() && Integer.parseInt(lightId) >= 10000) {
			GroupDescriptor group = groupRepository.findOne(String.valueOf(Integer.parseInt(lightId) - 10000));
			return DeviceResponse.createResponseForVirtualLight(group);
		}

		DeviceDescriptor device = repository.findOne(lightId);
		if (device == null) {
//			response.status(HttpStatus.SC_NOT_FOUND);
			return HueErrorResponse.createResponse("3", "/api/" + userId + "/lights/" + lightId, "Object not found", null, null, null).getTheErrors();
		} else {
			log.debug("found device named: " + device.getName());
		}
		DeviceResponse lightResponse = null;
		if (device.containsType(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
			CallItem[] callItems = null;
			try {
				if(device.getOnUrl() != null)
					callItems = aGsonHandler.<mark>fromJson</mark>(device.getOnUrl(), CallItem[].class);
			} catch(JsonSyntaxException e) {
				log.warn("Could not decode Json for url items to get Hue state for device: " + device.getName());
				callItems = null;
			}
			
			for (int i = 0; callItems != null && i < callItems.length; i++) {
				if((callItems[i].getType() != null && callItems[i].getType().equals(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) || callItems[i].getItem().getAsString().startsWith("{\"ipAddress\":\"")) {
					lightResponse = myHueHome.getHueDeviceInfo(callItems[i], device);
					i = callItems.length;
				}
			}
		}

		if (lightResponse == null)
			lightResponse = DeviceResponse.createResponse(device);

		return lightResponse;
		
	}

	private String updateState(String userId, String lightId, String body, String ipAddress) {
		String responseString = null;
		StateChangeBody theStateChanges = null;
		DeviceState state = null;
		Integer targetBri = null;
		Integer targetBriInc = null;
		ColorData colorData = null;

		log.debug("Update state requested: " + userId + " from " + ipAddress + " body: " + body);

		HueError[] theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors != null)
			return aGsonHandler.<mark>toJson</mark>(theErrors);

		try {
			theStateChanges = aGsonHandler.<mark>fromJson</mark>(body, StateChangeBody.class);
		} catch (Exception e) {
			log.warn("Could not parse state change body. Light state not changed.");
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("2", "/lights/" + lightId,
					"Could not parse state change body.", null, null, null).getTheErrors(), HueError[].class);
		}

		DeviceDescriptor device = repository.findOne(lightId);
		if (device == null) {
			log.warn("Could not find device: " + lightId + " for hue state change request: " + userId + " from "
					+ ipAddress + " body: " + body);
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/lights/" + lightId,
					"Could not find device.", "/lights/" + lightId, null, null).getTheErrors(), HueError[].class);
		}

		if (body.contains("\"bri_inc\""))
			targetBriInc = new Integer(theStateChanges.getBri_inc());
		else if (body.contains("\"bri\"")) {
			targetBri = new Integer(theStateChanges.getBri());
		}

		state = device.getDeviceState();
		if (state == null)
			state = DeviceState.createDeviceState(device.isColorDevice());

		if (body.contains("\"xy\"") || body.contains("\"ct\"") || body.contains("\"hue\"") || body.contains("\"xy_inc\"") || body.contains("\"ct_inc\"") || body.contains("\"hue_inc\"")) {
			List<Double> xy = theStateChanges.getXy();
			List<Double> xyInc = theStateChanges.getXy_inc();
			Integer ct = theStateChanges.getCt();
			Integer ctInc = theStateChanges.getCt_inc();
			if (xy != null && xy.size() == 2) {
				colorData = new ColorData(ColorData.ColorMode.XY, xy);
			} else if (xyInc != null && xyInc.size() == 2) { 
				List<Double> current = state.getXy();
				current.set(0, current.get(0) + xyInc.get(0));
				current.set(1, current.get(1) + xyInc.get(1));
				colorData = new ColorData(ColorData.ColorMode.XY, current);
			} else if (ct != null && ct != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, ct);
			} else if (ctInc != null && ctInc != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, state.getCt() + ctInc);
			}
		}
		
		responseString = this.formatSuccessHueResponse(theStateChanges, body, lightId, state, targetBri, targetBriInc, colorData, device.isOffState());
		device.setDeviceState(state);

		return responseString;
	}

	private String changeState(String userId, String lightId, String body, String ipAddress, boolean ignoreRequester) {
		if (bridgeSettings.isUserooms() && Integer.parseInt(lightId) >= 10000) {
			return changeGroupState(userId, String.valueOf(Integer.parseInt(lightId) - 10000), body, ipAddress, true);
		}
		String responseString = null;
		String url = null;
		StateChangeBody theStateChanges = null;
		DeviceState state = null;
		Integer targetBri = null;
		Integer targetBriInc = null;
		boolean isColorRequest = false;
		boolean isDimRequest = false;
		boolean isOnRequest = false;
		ColorData colorData = null;
		log.debug("hue state change requested: " + userId + " from " + ipAddress + " body: " + body);
		HueError[] theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors != null) {
			log.warn("Errors in security: <<<" + aGsonHandler.<mark>toJson</mark>(theErrors) + ">>>");
			return aGsonHandler.<mark>toJson</mark>(theErrors);
		}
		try {
			theStateChanges = aGsonHandler.<mark>fromJson</mark>(body, StateChangeBody.class);
		} catch (Exception e) {
			theStateChanges = null;
		}
		if (theStateChanges == null) {
			log.warn("Could not parse state change body. Light state not changed.");
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("2", "/lights/" + lightId,
					"Could not parse state change body.", null, null, null).getTheErrors(), HueError[].class);
		}

		DeviceDescriptor device = repository.findOne(lightId);
		if (device == null) {
			log.warn("Could not find device: " + lightId + " for hue state change request: " + userId + " from "
					+ ipAddress + " body: " + body);
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/lights/" + lightId,
					"Could not find device.", "/lights/" + lightId, null, null).getTheErrors(), HueError[].class);
		}

		state = device.getDeviceState();
		if (state == null) {
			state = DeviceState.createDeviceState(device.isColorDevice());
			device.setDeviceState(state);
		}

		if (body.contains("\"bri_inc\"")) {
			targetBriInc = new Integer(theStateChanges.getBri_inc());
			isDimRequest = true;
		}
		else if (body.contains("\"bri\"")) {
			targetBri = new Integer(theStateChanges.getBri());
			isDimRequest = true;
		}

		if (body.contains("\"xy\"") || body.contains("\"ct\"") || body.contains("\"hue\"") || body.contains("\"xy_inc\"") || body.contains("\"ct_inc\"") || body.contains("\"hue_inc\"")) {
			List<Double> xy = theStateChanges.getXy();
			List<Double> xyInc = theStateChanges.getXy_inc();
			Integer ct = theStateChanges.getCt();
			Integer ctInc = theStateChanges.getCt_inc();
			if (xy != null && xy.size() == 2) {
				colorData = new ColorData(ColorData.ColorMode.XY, xy);
			} else if (xyInc != null && xyInc.size() == 2) { 
				List<Double> current = state.getXy();
				current.set(0, current.get(0) + xyInc.get(0));
				current.set(1, current.get(1) + xyInc.get(1));
				colorData = new ColorData(ColorData.ColorMode.XY, current);
			} else if (ct != null && ct != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, ct);
			} else if (ctInc != null && ctInc != 0) {
				colorData = new ColorData(ColorData.ColorMode.CT, state.getCt() + ctInc);
			}
			if(colorData != null)
				isColorRequest = true;
		}
		
		if (body.contains("\"on\"")) {
			isOnRequest = true;
		}
		
		if(device.isOnFirstDim() && isDimRequest && !device.getDeviceState().isOn()) {
			isOnRequest = true;
			isDimRequest = false;
			isColorRequest = false;
		} else if(device.isOnFirstDim() && isDimRequest && device.getDeviceState().isOn()) {
			if(device.getDeviceState().getBri() == theStateChanges.getBri()) {
				isOnRequest = true;
				isDimRequest = false;
				isColorRequest = false;
			} else {
				isOnRequest = false;
				isDimRequest = true;
				isColorRequest = false;
			}
		}
		
		if(isOnRequest) {
			log.debug("Calling on-off as requested.");
			if (theStateChanges.isOn()) {
				url = device.getOnUrl();
			} else if (!theStateChanges.isOn()) {
				url = device.getOffUrl();
			}

			// code for backwards compatibility
			if(device.getMapType() != null && device.getMapType().equalsIgnoreCase(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
				if(url == null)
					url = device.getOnUrl();
			}

			if (url != null && !url.equals("")) {
				responseString = callUrl(url, device, userId, lightId, body, ipAddress, ignoreRequester, targetBri, targetBriInc, colorData);
			} else {
				log.info("On/off url not available for state change, lightId: " + lightId + ", userId: " + userId + ", from IP: "
						+ ipAddress + ", body: " + body);
			}
		}

		if (isDimRequest) {
			log.debug("Calling dim as requested.");
			url = device.getDimUrl();

			// code for backwards compatibility
			if(device.getMapType() != null && device.getMapType().equalsIgnoreCase(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
				if(url == null)
					url = device.getOnUrl();
			}

			if (url != null && !url.equals("")) {
				if(isOnRequest) {
					try {
						Thread.sleep(bridgeSettings.getButtonsleep());
					} catch (InterruptedException e) {
						// ignore
					}
				}
				responseString = callUrl(url, device, userId, lightId, body, ipAddress, ignoreRequester, targetBri, targetBriInc, colorData);
			} else {
				log.info("Dim url not available for state change, lightId: " + lightId + ", userId: " + userId + ", from IP: "
						+ ipAddress + ", body: " + body);
			}
		}

		if (isColorRequest) {
			log.debug("Calling color as requested.");
			url = device.getColorUrl();
			// code for backwards compatibility
			if(device.getMapType() != null && device.getMapType().equalsIgnoreCase(DeviceMapTypes.HUE_DEVICE[DeviceMapTypes.typeIndex])) {
				if(url == null)
					url = device.getOnUrl();
			}

			if (url != null && !url.equals("")) {
				if((isOnRequest && !isDimRequest) || isDimRequest) {
					try {
						Thread.sleep(bridgeSettings.getButtonsleep());
					} catch (InterruptedException e) {
						// ignore
					}
				}
				responseString = callUrl(url, device, userId, lightId, body, ipAddress, ignoreRequester, targetBri, targetBriInc, colorData);
			} else {
				log.info("Color url not available for state change, lightId: " + lightId + ", userId: " + userId + ", from IP: "
						+ ipAddress + ", body: " + body);
			}
		}
		
		if (responseString == null || !responseString.contains("[{\"error\":")) {
			if(!device.isNoState()) {
				responseString = this.formatSuccessHueResponse(theStateChanges, body, lightId, state, targetBri, targetBriInc, colorData, device.isOffState());
				device.setDeviceState(state);
			} else {
				DeviceState dummyState = DeviceState.createDeviceState(device.isColorDevice());
				responseString = this.formatSuccessHueResponse(theStateChanges, body, lightId, dummyState, targetBri, targetBriInc, colorData, device.isOffState());
			}
		}

		return responseString;
		
	}


	@SuppressWarnings("unchecked")
	private String changeGroupState(String userId, String groupId, String body, String ipAddress, boolean fakeLightResponse) {
		ColorData colorData = null;
		log.debug("PUT action to group  " + groupId + " from " + ipAddress + " user " + userId + " with body " + body);
		HueError[] theErrors = null;
		theErrors = bridgeSettingMaster.getBridgeSecurity().validateWhitelistUser(userId, null, bridgeSettingMaster.getBridgeSecurity().isUseLinkButton());
		if (theErrors == null) {
			if(bridgeSettingMaster.getBridgeSecurity().isSettingsChanged())
				bridgeSettingMaster.updateConfigFile();

			GroupDescriptor group = null;
			Integer targetBriInc = null;
			Integer targetBri = null;
			DeviceState state = null;
			Map<String, DeviceResponse> lights = null;
			if (groupId.equalsIgnoreCase("0")) {
				lights = (Map<String, DeviceResponse>)lightsListHandler(userId, ipAddress);
			} else {
				group = groupRepository.findOne(groupId);
				if (group == null || group.isInactive()) {
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/groups/" + groupId,
						"resource, /groups/" + groupId + ", not available", null, null, null).getTheErrors(), HueError[].class);	
				} else {
					if (fakeLightResponse) {
						lights = repository.findAllByGroupWithState(group.getLights(), ipAddress, myHueHome, aGsonHandler, true);
					} else {
						lights = repository.findAllByGroupWithState(group.getLights(), ipAddress, myHueHome, aGsonHandler);	
					}
				}
			}

			if (lights != null) {
				StateChangeBody theStateChanges = null;
				try {
					theStateChanges = aGsonHandler.<mark>fromJson</mark>(body, StateChangeBody.class);
				} catch (Exception e) {
					theStateChanges = null;
				}
				if (theStateChanges == null) {
					log.warn("Could not parse state change body. Light state not changed.");
					return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("2", "/groups/" + groupId + "/action",
							"Could not parse state change body.", null, null, null).getTheErrors(), HueError[].class);
				}

				if (group != null) {
					if (body.contains("\"bri_inc\"")) {
						targetBriInc = new Integer(theStateChanges.getBri_inc());
					}
					else if (body.contains("\"bri\"")) {
						targetBri = new Integer(theStateChanges.getBri());
					}

					state = group.getAction();
					if (state == null) {
						state = DeviceState.createDeviceState(true);
						group.setAction(state);
					}	
				}
				

				boolean turnOn = false;
				boolean turnOff = false;
				if (!(body.contains("\"bri_inc\"") || body.contains("\"bri\""))) {
					if (!(body.contains("\"xy\"") || body.contains("\"ct\"") || body.contains("\"hue\""))) {
						if (theStateChanges.isOn()) {
							turnOn = true;
						} else if (!theStateChanges.isOn()) {
							turnOff = true;
						}
					}
				}
				for (Map.Entry<String, DeviceResponse> light : lights.entrySet()) {
					log.debug("Processing light" + light.getKey() + ": " + turnOn + " " + turnOff + " " + light.getValue().getState().isOn());
					// ignore on/off for devices that are already on/off
					if (turnOff && !light.getValue().getState().isOn())
						continue;
					if (turnOn && light.getValue().getState().isOn())
						continue;
					changeState(userId, light.getKey(), body, ipAddress, fakeLightResponse);
				}
				// construct success response: one success message per changed property, but not per light
				if (group != null) { // if not group 0
					 String response = formatSuccessHueResponse(theStateChanges, body, String.valueOf(Integer.parseInt(groupId) + 10000),
						state, targetBri, targetBriInc, colorData, true);
					 group.setAction(state);
					 if (fakeLightResponse) {
					 	return response;
					 }
				}

				String successString = "[";
				for (String pairStr : body.replaceAll("[{|}]", "").split(",\\s*\"")) {
					String[] pair = pairStr.split(":");
					if (fakeLightResponse) {
						successString += "{\"success\":{ \"/lights/" + String.valueOf(Integer.parseInt(groupId) + 10000) + "/state/" + pair[0].replaceAll("\"", "").trim() + "\": " + pair[1].trim() + "}},";
					} else {
						successString += "{\"success\":{ \"address\": \"/groups/" + groupId + "/action/" + pair[0].replaceAll("\"", "").trim() + "\", \"value\": " + pair[1].trim() + "}},";	
					}
					
				}
				return (successString.length() == 1) ? "[]" : successString.substring(0, successString.length()-1) + "]";
			}
		}

		return aGsonHandler.<mark>toJson</mark>(theErrors);
	}
	
	protected String callUrl(String url, DeviceDescriptor device, String userId, String lightId, String body, String ipAddress, boolean ignoreRequester, Integer targetBri, Integer targetBriInc, ColorData colorData) {
		String responseString = null;
		MultiCommandUtil aMultiUtil = new MultiCommandUtil();
		aMultiUtil.setTheDelay(bridgeSettings.getButtonsleep());
		aMultiUtil.setDelayDefault(bridgeSettings.getButtonsleep());
		aMultiUtil.setSetCount(1);

		if (!url.startsWith("[")) {
			if (url.startsWith("{\"item"))
				url = "[" + url + "]";
			else {
				if(url.startsWith("{"))
					url = "[{\"item\":" + url + "}]";
				else
					url = "[{\"item\":\"" + url + "\"}]";
			}
		} else if(!url.startsWith("[{\"item\""))
			url = "[{\"item\":" + url + "}]";

		log.debug("Decode Json for url items: " + url);
		CallItem[] callItems = null;
		try {
			callItems = aGsonHandler.<mark>fromJson</mark>(url, CallItem[].class);
		} catch(JsonSyntaxException e) {
			log.warn("Could not decode Json for url items: " + lightId + " for hue state change request: " + userId + " from "
					+ ipAddress + " body: " + body + " url items: " + url);
			return aGsonHandler.<mark>toJson</mark>(HueErrorResponse.createResponse("3", "/lights/" + lightId,
					"Could decode json in request", "/lights/" + lightId, null, null).getTheErrors(), HueError[].class);
		}
		
		for (int i = 0; callItems != null && i < callItems.length; i++) {
			if (!ignoreRequester) {
				if(!filterByRequester(device.getRequesterAddress(), ipAddress) || !filterByRequester(callItems[i].getFilterIPs(), ipAddress)) {
					log.warn("filter for requester address not present in: (device)" + device.getRequesterAddress() + " OR then (item)" + callItems[i].getFilterIPs() + " with request ip of: " + ipAddress);
					continue;
				}	
			}
			
			if (callItems[i].getCount() != null && callItems[i].getCount() > 0)
				aMultiUtil.setSetCount(callItems[i].getCount());
			else
				aMultiUtil.setSetCount(1);
			// code for backwards compatibility
			if((callItems[i].getType() == null || callItems[i].getType().trim().isEmpty())) {
				if(validMapTypes.validateType(device.getMapType()))
					callItems[i].setType(device.getMapType().trim());
				else if(validMapTypes.validateType(device.getDeviceType()))
					callItems[i].setType(device.getDeviceType().trim());
				else
					callItems[i].setType(DeviceMapTypes.CUSTOM_DEVICE[DeviceMapTypes.typeIndex]);
			}

			if (callItems[i].getType() != null) {
				for (int x = 0; x < aMultiUtil.getSetCount(); x++) {
					if (x > 0 || i > 0) {
						try {
							Thread.sleep(aMultiUtil.getTheDelay());
						} catch (InterruptedException e) {
							// ignore
						}
					}
					if (callItems[i].getDelay() != null && callItems[i].getDelay() > 0)
						aMultiUtil.setTheDelay(callItems[i].getDelay());
					else
						aMultiUtil.setTheDelay(aMultiUtil.getDelayDefault());

					log.debug("Calling Home device handler for type : " + callItems[i].getType().trim());
					responseString = homeManager.findHome(callItems[i].getType().trim()).deviceHandler(callItems[i], aMultiUtil, lightId, device.getDeviceState().getBri(), targetBri, targetBriInc, colorData, device, body);
					if(responseString != null && responseString.contains("{\"error\":")) {
						x = aMultiUtil.getSetCount();
					}
				}
			}
			else
				log.warn("Call Items type is null <<<" + callItems[i] + ">>>");
		}
		
		if(callItems.length == 0)
			log.warn("No call items were available: <<<" + url + ">>>");
		
		return responseString;
	}
}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>bwssytems_____ha-bridge_____HueMulator_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/bwssytems_____ha-bridge_____HueMulator.java

com.google.gson.Gson.fromJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson
com.google.gson.Gson.toJson

	// This function sets up the sparkjava rest calls for the hue api
	public void setupServer() {
		log.info("Hue emulator service started....");
		before(HUE_CONTEXT + "/*", (request, response) -> {
			// This currently causes an error with Spark replies
//			String path = request.pathInfo();
//			if (path.endsWith("/")) { // it should work with or without a trailing slash
//        		response.redirect(path.substring(0, path.length() - 1));
//			}
			log.debug("HueMulator " + request.requestMethod() + " called on api/* with request <<<" + request.pathInfo() + ">>>, and body <<<" + request.body() + ">>>");
			if(bridgeSettingMaster.getBridgeSecurity().isSecure()) {
				String pathInfo = request.pathInfo();
				if(pathInfo != null && pathInfo.contains(HUE_CONTEXT + "/devices")) {
					User authUser = bridgeSettingMaster.getBridgeSecurity().getAuthenticatedUser(request);
					if(authUser == null) {
						halt(401, "{\"message\":\"User not authenticated\"}");
					}
				} else if (bridgeSettingMaster.getBridgeSecurity().isSecureHueApi()) {
					User authUser = bridgeSettingMaster.getBridgeSecurity().getAuthenticatedUser(request);
					if(authUser == null) {
						halt(401, "{\"message\":\"User not authenticated\"}");
					}
				}
			}
		});
		// http://ip_address:port/api/{userId}/groups returns json objects of
		// all groups configured
		get(HUE_CONTEXT + "/:userid/groups", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return groupsListHandler(request.params(":userid"),  request.ip());
		} , new JsonTransformer());
		// http://ip_address:port/api/{userId}/groups/{groupId} returns json
		// object for specified group.
		get(HUE_CONTEXT + "/:userid/groups/:groupid", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return  groupsIdHandler(request.params(":groupid"), request.params(":userid"), request.ip());
		} , new JsonTransformer());
		// http://ip_address:port/:userid/groups CORS request
		options(HUE_CONTEXT + "/:userid/groups", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/:userid/groups
		// add a group
		post(HUE_CONTEXT + "/:userid/groups", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return addGroup(request.params(":userid"), request.ip(), request.body());
		});
		// http://ip_address:port/api/:userid/groups/<groupid>
		// delete a group
		delete(HUE_CONTEXT + "/:userid/groups/:groupid", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return deleteGroup(request.params(":userid"), request.params(":groupid"), request.ip());
		});
		// http://ip_address:port/api/:userid/groups/<groupid>
		// modify a single group
		put(HUE_CONTEXT + "/:userid/groups/:groupid", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return modifyGroup(request.params(":userid"), request.params(":groupid"), request.ip(), request.body());
		});
		// http://ip_address:port/api/:userid/groups/<groupid>/action
		// group acions
		put(HUE_CONTEXT + "/:userid/groups/:groupid/action", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return changeGroupState(request.params(":userid"), request.params(":groupid"), request.body(), request.ip(), false);
		});		
		// http://ip_address:port/api/{userId}/scenes returns json objects of
		// all scenes configured
		get(HUE_CONTEXT + "/:userid/scenes", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return basicListHandler("scenes", request.params(":userid"),  request.ip());
		});
		// http://ip_address:port/:userid/scenes CORS request
		options(HUE_CONTEXT + "/:userid/scenes", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/:userid/scenes
		// dummy handler
		post(HUE_CONTEXT + "/:userid/scenes", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			log.debug("scene add requested from " + request.ip() + " user " + request.params(":userid") + " with body " + request.body());
			return "[{\"success\":{\"id\":\"1\"}}]";
		});
		// http://ip_address:port/api/{userId}/schedules returns json objects of
		// all schedules configured
		get(HUE_CONTEXT + "/:userid/schedules", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return basicListHandler("schedules", request.params(":userid"),  request.ip());
		});
		// http://ip_address:port/:userid/schedules CORS request
		options(HUE_CONTEXT + "/:userid/schedules", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/:userid/schedules
		// dummy handler
		post(HUE_CONTEXT + "/:userid/schedules", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			log.debug("schedules add requested from " + request.ip() + " user " + request.params(":userid") + " with body " + request.body());
			return "[{\"success\":{\"id\":\"1\"}}]";
		});
		// http://ip_address:port/api/{userId}/sensors returns json objects of
		// all sensors configured
		get(HUE_CONTEXT + "/:userid/sensors", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return basicListHandler("sensors", request.params(":userid"),  request.ip());
		});
		// http://ip_address:port/:userid/sensors CORS request
		options(HUE_CONTEXT + "/:userid/sensors", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/:userid/sensors
		// dummy handler
		post(HUE_CONTEXT + "/:userid/sensors", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			log.debug("sensors add requested from " + request.ip() + " user " + request.params(":userid") + " with body " + request.body());
			return "[{\"success\":{\"id\":\"1\"}}]";
		});
		// http://ip_address:port/api/{userId}/rules returns json objects of all
		// rules configured
		get(HUE_CONTEXT + "/:userid/rules", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return basicListHandler("rules", request.params(":userid"),  request.ip());
		});
		// http://ip_address:port/:userid/rules CORS request
		options(HUE_CONTEXT + "/:userid/rules", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/:userid/rules
		// dummy handler
		post(HUE_CONTEXT + "/:userid/rules", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			log.debug("rules add requested from " + request.ip() + " user " + request.params(":userid") + " with body " + request.body());
			return "[{\"success\":{\"id\":\"1\"}}]";
		});
		// http://ip_address:port/api/{userId}/resourcelinks returns json
		// objects of all resourcelinks configured
		get(HUE_CONTEXT + "/:userid/resourcelinks", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return basicListHandler("resourcelinks", request.params(":userid"),  request.ip());
		});
		// http://ip_address:port/:userid/resourcelinks CORS request
		options(HUE_CONTEXT + "/:userid/resourcelinks", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/:userid/resourcelinks
		// dummy handler
		post(HUE_CONTEXT + "/:userid/resourcelinks", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			log.debug("resourcelinks add requested from " + request.ip() + " user " + request.params(":userid") + " with body " + request.body());
			return "[{\"success\":{\"id\":\"1\"}}]";
		});
		// http://ip_address:port/api/{userId}/lights returns json objects of
		// all lights configured
		get(HUE_CONTEXT + "/:userid/lights", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return lightsListHandler(request.params(":userid"), request.ip());
		} , new JsonTransformer());

		// http://ip_address:port/api/{userId}/lights/ returns json objects of
		// all lights configured
		get(HUE_CONTEXT + "/:userid/lights/", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return lightsListHandler(request.params(":userid"), request.ip());
		} , new JsonTransformer());

		// http://ip_address:port/api CORS request
		options(HUE_CONTEXT, "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/api with body of user request returns json
		// object for a success of user add
		post(HUE_CONTEXT, "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return userAdd(request.body(), request.ip(), false);
		});

		// http://ip_address:port/api/* CORS request
		options(HUE_CONTEXT + "/*", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/api/* with body of user request returns json
		// object for a success of user add - This method is for Harmony Hub
		post(HUE_CONTEXT + "/*", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return userAdd(request.body(), request.ip(), true);
		});

		// http://ip_address:port/api/config returns json objects for the public
		// config when no user is given
		get(HUE_CONTEXT + "/config", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return getConfig(null, request.ip());
		} , new JsonTransformer());

		// http://ip_address:port/api/{userId}/config returns json objects for
		// the config
		get(HUE_CONTEXT + "/:userid/config", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return getConfig(request.params(":userid"), request.ip());
		} , new JsonTransformer());
		// http://ip_address:port/:userid/config CORS request
		options(HUE_CONTEXT + "/:userid/config", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/:userid/config uses json
		// object to set the config. this is to handle swupdates
		put(HUE_CONTEXT + "/:userid/config", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			log.debug("Config change requested from " + request.ip() + " user " + request.params(":userid") + " with body " + request.body());
			HueConfig aConfig = aGsonHandler.<mark>fromJson</mark>(request.body(), HueConfig.class);
			if(aConfig.getPortalservices() != null) {
				return "[{\"success\":{\"/config/portalservices\":true}}]";
			}
			return "[{\"success\":{\"/config/name\":\"My bridge\"}}]";
		});

		// http://ip_address:port/api/{userId} returns json objects for the full
		// state
		get(HUE_CONTEXT + "/:userid", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return getFullState(request.params(":userid"), request.ip());
		} , new JsonTransformer());

		// http://ip_address:port/api/{userId}/ returns json objects for the full
		// state
		get(HUE_CONTEXT + "/:userid/", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return getFullState(request.params(":userid"), request.ip());
		} , new JsonTransformer());

		// http://ip_address:port/api/{userId}/lights/{lightId} returns json
		// object for a given light
		get(HUE_CONTEXT + "/:userid/lights/:id", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return getLight(request.params(":userid"), request.params(":id"), request.ip());
		} , new JsonTransformer());

		// http://ip_address:port/api/:userid/lights/:id/bridgeupdatestate CORS
		// request
		options(HUE_CONTEXT + "/:userid/lights/:id/bridgeupdatestate", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/api/{userId}/lights/{lightId}/bridgeupdatestate
		// uses json object to update the internal bridge lights state.
		// THIS IS NOT A HUE API CALL... It is for state management if so
		// desired.
		put(HUE_CONTEXT + "/:userid/lights/:id/bridgeupdatestate", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return updateState(request.params(":userid"), request.params(":id"), request.body(), request.ip());
		});

		// http://ip_address:port/api/:userid/lights/:id/state CORS request
		options(HUE_CONTEXT + "/:userid/lights/:id/state", "application/json", (request, response) -> {
			response.status(HttpStatus.SC_OK);
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.header("Access-Control-Allow-Methods", "GET, POST, PUT");
			response.header("Access-Control-Allow-Headers", request.headers("Access-Control-Request-Headers"));
			response.header("Content-Type", "text/html");
			return "";
		});
		// http://ip_address:port/api/{userId}/lights/{lightId}/state uses json
		// object to set the lights state
		put(HUE_CONTEXT + "/:userid/lights/:id/state", "application/json", (request, response) -> {
			response.header("Access-Control-Allow-Origin", request.headers("Origin"));
			response.type("application/json");
			response.status(HttpStatus.SC_OK);
			return changeState(request.params(":userid"), request.params(":id"), request.body(), request.ip(), false);
		});
	}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>apache_____stratos_____RestCommandLineService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/apache_____stratos_____RestCommandLineService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.create
com.google.gson.Gson.toJson
com.google.gson.Gson.fromJson

/**
     * Describe a tenant
     *
     * @param domainName domain name
     * @throws org.apache.stratos.cli.exception.CommandException
     */
    private ClusterBean getClusterObjectFromString(String resultString) {
        String tmp;
        if (resultString.startsWith("{\"cluster\"")) {
            tmp = resultString.substring("{\"cluster\"".length() + 1, resultString.length() - 1);
            resultString = tmp;
        }
        GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
        Gson gson = gsonBuilder.<mark>create</mark>();
        return gson.<mark>fromJson</mark>(resultString, ClusterBean.class);
    }

    /**
     * Add new tenant
     *
     * @param admin     username
     * @param firstName first name
     * @param lastName  last name
     * @param password  password
     * @param domain    domain name
     * @param email     email
     * @throws CommandException
     */
    public void addTenant(String admin, String firstName, String lastName, String password, String domain, String email)
            throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            TenantInfoBean tenantInfo = new TenantInfoBean();
            tenantInfo.setAdmin(admin);
            tenantInfo.setFirstName(firstName);
            tenantInfo.setLastName(lastName);
            tenantInfo.setAdminPassword(password);
            tenantInfo.setTenantDomain(domain);
            tenantInfo.setEmail(email);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            String jsonString = gson.<mark>toJson</mark>(tenantInfo, TenantInfoBean.class);
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_TENANT, jsonString);

            int responseCode = response.getStatusLine().getStatusCode();
            if (responseCode == 201) {
                System.out.println("Tenant added successfully: " + domain);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);
            }
        } catch (Exception e) {
            String message = "Could not add tenant: " + domain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Describe a tenant
     *
     * @param domainName domain name
     * @throws org.apache.stratos.cli.exception.CommandException
     */
    public void describeTenant(final String domainName) throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<TenantInfoBean>>() {
            }.getType();
            List<TenantInfoBean> tenantList = (List<TenantInfoBean>) restClient.listEntity(ENDPOINT_LIST_TENANTS,
                    listType, "tenant");

            TenantInfoBean tenant = null;
            for (TenantInfoBean item : tenantList) {
                if (item.getTenantDomain().equals(domainName)) {
                    tenant = item;
                    break;
                }
            }

            if (tenant == null) {
                System.out.println("Tenant not found");
                return;
            }

            System.out.println("-------------------------------------");
            System.out.println("Tenant Information:");
            System.out.println("-------------------------------------");
            System.out.println("Tenant domain: " + tenant.getTenantDomain());
            System.out.println("ID: " + tenant.getTenantId());
            System.out.println("Email: " + tenant.getEmail());
            System.out.println("Active: " + tenant.isActive());
            System.out.println("Created date: " + new Date(tenant.getCreatedDate()));

        } catch (Exception e) {
            String message = "Error in describing tenant: " + domainName;
            printError(message, e);
        }
    }

    /**
     * List tenants by a partial domain search
     *
     * @param partialDomain Part of the domain name
     * @throws org.apache.stratos.cli.exception.CommandException
     */
    public void listTenantsByPartialDomain(String partialDomain) throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<TenantInfoBean>>() {
            }.getType();
            List<TenantInfoBean> tenantList = (List<TenantInfoBean>) restClient.listEntity(ENDPOINT_LIST_TENANTS_BY_PARTIAL_DOMAIN.replace("{tenantDomain}", partialDomain),
                    listType, "tenants");

            if ((tenantList == null) || (tenantList.size() == 0)) {
                System.out.println("No tenants found");
                return;
            }

            RowMapper<TenantInfoBean> tenantMapper = new RowMapper<TenantInfoBean>() {
                public String[] getData(TenantInfoBean tenant) {
                    String[] data = new String[5];
                    data[0] = tenant.getTenantDomain();
                    data[1] = String.valueOf(tenant.getTenantId());
                    data[2] = String.valueOf(tenant.isActive());
                    data[3] = tenant.getEmail();
                    data[4] = new Date(tenant.getCreatedDate()).toString();
                    return data;
                }
            };

            TenantInfoBean[] tenants = new TenantInfoBean[tenantList.size()];
            tenants = tenantList.toArray(tenants);

            System.out.println("Tenants found:");
            CliUtils.printTable(tenants, tenantMapper, "tenantDomain", "tenantID", "active", "email", "createdDate");
        } catch (Exception e) {
            String message = "Error in listing tenants";
            printError(message, e);
        }
    }

    /**
     * Update an existing tenant
     *
     * @param id        tenant id
     * @param admin     username
     * @param firstName first name
     * @param lastName  last name
     * @param password  password
     * @param domain    domain name
     * @param email     email
     * @throws CommandException
     */
    public void updateTenant(int id, String admin, String firstName, String lastName, String password, String domain, String email)
            throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            TenantInfoBean tenantInfo = new TenantInfoBean();
            tenantInfo.setAdmin(admin);
            tenantInfo.setFirstName(firstName);
            tenantInfo.setLastName(lastName);
            tenantInfo.setAdminPassword(password);
            tenantInfo.setTenantDomain(domain);
            tenantInfo.setEmail(email);
            tenantInfo.setTenantId(id);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            String jsonString = gson.<mark>toJson</mark>(tenantInfo, TenantInfoBean.class);

            HttpResponse response = restClient.doPut(httpClient, restClient.getBaseURL()
                    + ENDPOINT_UPDATE_TENANT, jsonString);

            int responseCode = response.getStatusLine().getStatusCode();
            if (responseCode < 200 || responseCode >= 300) {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);

            } else {
                System.out.println("Tenant updated successfully: " + domain);
            }
        } catch (Exception e) {
            String message = "Could not update tenant: " + domain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Add user
     *
     * @param userName    username
     * @param credential  password
     * @param role        user role
     * @param firstName   first name
     * @param lastName    last name
     * @param email       email
     * @param profileName profile name
     * @throws CommandException
     */
    public void addUser(String userName, String credential, String role, String firstName, String lastName, String email, String profileName)
            throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            UserInfoBean userInfoBean = new UserInfoBean();
            userInfoBean.setUserName(userName);
            userInfoBean.setCredential(credential);
            userInfoBean.setRole(role);
            userInfoBean.setFirstName(firstName);
            userInfoBean.setLastName(lastName);
            userInfoBean.setEmail(email);
            userInfoBean.setProfileName(profileName);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            String jsonString = gson.<mark>toJson</mark>(userInfoBean, UserInfoBean.class);

            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_USER, jsonString);

            String result = getHttpResponseString(response);
            System.out.println(gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage());

        } catch (Exception e) {
            String message = "Could not add user: " + userName;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Update user
     *
     * @param userName    username
     * @param credential  password
     * @param role        user role
     * @param firstName   first name
     * @param lastName    last name
     * @param email       email
     * @param profileName profile name
     * @throws CommandException
     */
    public void updateUser(String userName, String credential, String role, String firstName, String lastName, String email, String profileName)
            throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            UserInfoBean userInfoBean = new UserInfoBean();
            userInfoBean.setUserName(userName);
            userInfoBean.setCredential(credential);
            userInfoBean.setRole(role);
            userInfoBean.setFirstName(firstName);
            userInfoBean.setLastName(lastName);
            userInfoBean.setEmail(email);
            userInfoBean.setProfileName(profileName);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            String jsonString = gson.<mark>toJson</mark>(userInfoBean, UserInfoBean.class);

            HttpResponse response = restClient.doPut(httpClient, restClient.getBaseURL()
                    + ENDPOINT_UPDATE_USER, jsonString);

            int responseCode = response.getStatusLine().getStatusCode();
            if (responseCode < 200 || responseCode >= 300) {
                CliUtils.printError(response);
            } else {
                System.out.println("User updated successfully: " + userName);
            }
        } catch (Exception e) {
            String message = "Could not update user: " + userName;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Delete tenant
     *
     * @param tenantDomain domain name of the tenant
     * @throws CommandException
     */
    public void deleteTenant(String tenantDomain) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doDelete(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_TENANT + "/" + tenantDomain);

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println("You have successfully deleted the tenant: " + tenantDomain);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                ExceptionMapper exception = gson.<mark>fromJson</mark>(resultString, ExceptionMapper.class);
                System.out.println(exception);
            }

        } catch (Exception e) {
            String message = "Could not delete tenant: " + tenantDomain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Delete user
     *
     * @param userName username
     * @throws CommandException
     */
    public void deleteUser(String userName) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doDelete(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ADD_USER + "/" + userName);

            String resultString = CliUtils.getHttpResponseString(response);
            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            System.out.println(gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage());
        } catch (Exception e) {
            String message = "Could not delete user: " + userName;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Deactivate tenant
     *
     * @param tenantDomain domain name of the tenant
     * @throws CommandException
     */
    public void deactivateTenant(String tenantDomain) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPut(httpClient, restClient.getBaseURL()
                    + ENDPOINT_DEACTIVATE_TENANT.replace("{tenantDomain}", tenantDomain), "");

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println("You have successfully deactivated the tenant: " + tenantDomain);
                return;
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);
            }

        } catch (Exception e) {
            String message = "Could not de-activate tenant: " + tenantDomain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Activate tenant
     *
     * @param tenantDomain domain name of the tenant
     * @throws CommandException
     */
    public void activateTenant(String tenantDomain) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPut(httpClient, restClient.getBaseURL()
                    + ENDPOINT_ACTIVATE_TENANT.replace("{tenantDomain}", tenantDomain), "");

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println("You have successfully activated the tenant: " + tenantDomain);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                String errorMsg = gson.<mark>fromJson</mark>(resultString, ResponseMessageBean.class).getMessage();
                System.out.println(errorMsg);
            }

        } catch (Exception e) {
            String message = "Could not activate tenant: " + tenantDomain;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * List tenants
     *
     * @throws CommandException
     */
    public void listTenants() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<TenantInfoBean>>() {
            }.getType();
            List<TenantInfoBean> tenantInfoList = (List<TenantInfoBean>) restClient.listEntity(ENDPOINT_LIST_TENANTS,
                    listType, "tenants");

            if ((tenantInfoList == null) || (tenantInfoList.size() == 0)) {
                System.out.println("No tenants found");
                return;
            }

            RowMapper<TenantInfoBean> rowMapper = new RowMapper<TenantInfoBean>() {
                public String[] getData(TenantInfoBean tenantInfo) {
                    String[] data = new String[5];
                    data[0] = tenantInfo.getTenantDomain();
                    data[1] = "" + tenantInfo.getTenantId();
                    data[2] = tenantInfo.getEmail();
                    data[3] = tenantInfo.isActive() ? "Active" : "De-active";
                    data[4] = new Date(tenantInfo.getCreatedDate()).toString();
                    return data;
                }
            };

            TenantInfoBean[] tenantArray = new TenantInfoBean[tenantInfoList.size()];
            tenantArray = tenantInfoList.toArray(tenantArray);

            System.out.println("Tenants:");
            CliUtils.printTable(tenantArray, rowMapper, "Domain", "Tenant ID", "Email", "State", "Created Date");
        } catch (Exception e) {
            String message = "Could not list tenants";
            printError(message, e);
        }
    }

    /**
     * List all users
     *
     * @throws CommandException
     */
    public void listAllUsers() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<UserInfoBean>>() {
            }.getType();
            List<UserInfoBean> userInfoList = (List<UserInfoBean>) restClient.listEntity(ENDPOINT_LIST_USERS,
                    listType, "users");

            if ((userInfoList == null) || (userInfoList.size() == 0)) {
                System.out.println("No users found");
                return;
            }

            RowMapper<UserInfoBean> rowMapper = new RowMapper<UserInfoBean>() {
                public String[] getData(UserInfoBean userInfo) {
                    String[] data = new String[2];
                    data[0] = userInfo.getUserName();
                    data[1] = userInfo.getRole();
                    return data;
                }
            };

            UserInfoBean[] usersArray = new UserInfoBean[userInfoList.size()];
            usersArray = userInfoList.toArray(usersArray);

            System.out.println("Users:");
            CliUtils.printTable(usersArray, rowMapper, "Username", "Role");
        } catch (Exception e) {
            String message = "Could not list users";
            printError(message, e);
        }
    }

    /**
     * Add cartridge
     *
     * @param cartridgeDefinition cartridge definition
     * @throws CommandException
     */
    public void addCartridge(String cartridgeDefinition) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_CARTRIDGE, cartridgeDefinition, "cartridge");
    }

    /**
     * Update cartridge
     *
     * @param cartridgeDefinition cartridge definition
     * @throws CommandException
     */
    public void updateCartridge(String cartridgeDefinition) throws CommandException {
        restClient.updateEntity(ENDPOINT_DEPLOY_CARTRIDGE, cartridgeDefinition, "cartridge");
    }

    /**
     * Undeploy cartridge
     *
     * @param cartridgeId cartridge Id
     * @throws CommandException
     */
    public void undeployCartrigdeDefinition(String cartridgeId) throws CommandException {
        restClient.undeployEntity(ENDPOINT_UNDEPLOY_CARTRIDGE, "cartridge", cartridgeId);
    }

    /**
     * Deploy autoscaling policy
     *
     * @param autoScalingPolicy autoscaling policy definition
     * @throws CommandException
     */
    public void addAutoscalingPolicy(String autoScalingPolicy) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_AUTOSCALING_POLICY, autoScalingPolicy, "autoscaling policy");
    }

    /**
     * Update autoscaling policy
     *
     * @param autoScalingPolicy autoscaling policy definition
     * @throws CommandException
     */
    public void updateAutoscalingPolicy(String autoScalingPolicy) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_AUTOSCALING_POLICY, autoScalingPolicy, "autoscaling policy");
    }

    /**
     * List applications
     *
     * @throws CommandException
     */
    public void listApplications() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<ApplicationBean>>() {
            }.getType();
            List<ApplicationBean> list = (List<ApplicationBean>) restClient.listEntity(ENDPOINT_LIST_APPLICATION,
                    listType, "applications");

            if ((list == null) || (list.size() == 0)) {
                System.out.println("No applications found");
                return;
            }

            RowMapper<ApplicationBean> rowMapper = new RowMapper<ApplicationBean>() {
                public String[] getData(ApplicationBean applicationDefinition) {
                    String[] data = new String[3];
                    data[0] = applicationDefinition.getApplicationId();
                    data[1] = applicationDefinition.getAlias();
                    data[2] = applicationDefinition.getStatus();
                    return data;
                }
            };

            ApplicationBean[] array = new ApplicationBean[list.size()];
            array = list.toArray(array);

            System.out.println("Applications found:");
            CliUtils.printTable(array, rowMapper, "Application ID", "Alias", "Status");
        } catch (Exception e) {
            String message = "Could not list applications";
            printError(message, e);
        }
    }

    /**
     * List autoscaling policies
     *
     * @throws CommandException
     */
    public void listAutoscalingPolicies() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<AutoscalePolicyBean>>() {
            }.getType();
            List<AutoscalePolicyBean> list = (List<AutoscalePolicyBean>) restClient.listEntity(ENDPOINT_LIST_AUTOSCALING_POLICIES,
                    listType, "autoscaling policies");

            if ((list == null) || (list.size() == 0)) {
                System.out.println("No autoscaling policies found");
                return;
            }

            RowMapper<AutoscalePolicyBean> rowMapper = new RowMapper<AutoscalePolicyBean>() {

                public String[] getData(AutoscalePolicyBean policy) {
                    String[] data = new String[4];
                    data[0] = policy.getId();
                    data[1] = String.valueOf(policy.getLoadThresholds().getRequestsInFlight().getThreshold());
                    data[2] = String.valueOf(policy.getLoadThresholds().getMemoryConsumption().getThreshold());
                    data[3] = String.valueOf(policy.getLoadThresholds().getLoadAverage().getThreshold());
                    return data;
                }
            };

            AutoscalePolicyBean[] array = new AutoscalePolicyBean[list.size()];
            array = list.toArray(array);

            System.out.println("Autoscaling policies found:");
            CliUtils.printTable(array, rowMapper, "ID", "Requests In Flight Threshold", "Memory Consumption Threshold",
                    "Load Average Threshold");
        } catch (Exception e) {
            String message = "Could not list autoscaling policies";
            printError(message, e);
        }
    }

    /**
     * Describe deployment policy
     *
     * @param deploymentPolicyId deployment policy id
     * @throws CommandException
     */
    public void describeDeploymentPolicy(String deploymentPolicyId) throws CommandException {
        try {
            DeploymentPolicyBean policy = (DeploymentPolicyBean) restClient.getEntity(ENDPOINT_GET_DEPLOYMENT_POLICY,
                    DeploymentPolicyBean.class, "{deploymentPolicyId}", deploymentPolicyId, "deployment policy");

            if (policy == null) {
                System.out.println("Deployment policy not found: " + deploymentPolicyId);
                return;
            }

            System.out.println("Deployment policy: " + deploymentPolicyId);
            System.out.println(getGson().<mark>toJson</mark>(policy));
        } catch (Exception e) {
            String message = "Error in describing deployment policy: " + deploymentPolicyId;
            printError(message, e);
        }
    }

    /**
     * Describe application policy
     *
     * @param applicationPolicyId application policy id
     * @throws CommandException
     */
    public void describeApplicationPolicy(String applicationPolicyId) throws CommandException {
        try {
            ApplicationPolicyBean policy = (ApplicationPolicyBean) restClient.getEntity(ENDPOINT_GET_APPLICATION_POLICY,
                    ApplicationPolicyBean.class, "{applicationPolicyId}", applicationPolicyId, "application policy");

            if (policy == null) {
                System.out.println("Application policy not found: " + applicationPolicyId);
                return;
            }

            System.out.println("Application policy: " + applicationPolicyId);
            System.out.println(getGson().<mark>toJson</mark>(policy));
        } catch (Exception e) {
            String message = "Error in describing application policy: " + applicationPolicyId;
            printError(message, e);
        }
    }

    /**
     * Describe autoscaling policy
     *
     * @param autoscalingPolicyId application policy id
     * @throws CommandException
     */
    public void describeAutoScalingPolicy(String autoscalingPolicyId) throws CommandException {
        try {
            AutoscalePolicyBean policy = (AutoscalePolicyBean) restClient.getEntity(ENDPOINT_GET_AUTOSCALING_POLICY,
                    AutoscalePolicyBean.class, "{id}", autoscalingPolicyId, "autoscaling policy");

            if (policy == null) {
                System.out.println("Autoscaling policy not found: " + autoscalingPolicyId);
                return;
            }

            System.out.println("Autoscaling policy: " + autoscalingPolicyId);
            System.out.println(getGson().<mark>toJson</mark>(policy));
        } catch (Exception e) {
            String message = "Could not describe autoscaling policy: " + autoscalingPolicyId;
            printError(message, e);
        }
    }

    /**
     * Add Kubernetes Cluster
     *
     * @param entityBody Kubernetes Cluster definition
     * @throws CommandException
     */
    public void addKubernetesCluster(String entityBody) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_KUBERNETES_CLUSTER, entityBody, "kubernetes cluster");
    }

    /**
     * List Kubernetes Clusters
     *
     * @throws CommandException
     */
    public void listKubernetesClusters() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<KubernetesClusterBean>>() {
            }.getType();
            List<KubernetesClusterBean> list = (List<KubernetesClusterBean>) restClient.
                    listEntity(ENDPOINT_LIST_KUBERNETES_CLUSTERS, listType, "kubernetes cluster");
            if ((list != null) && (list.size() > 0)) {
                RowMapper<KubernetesClusterBean> partitionMapper = new RowMapper<KubernetesClusterBean>() {
                    public String[] getData(KubernetesClusterBean kubernetesCluster) {
                        String[] data = new String[2];
                        data[0] = kubernetesCluster.getClusterId();
                        data[1] = kubernetesCluster.getDescription();
                        return data;
                    }
                };

                KubernetesClusterBean[] array = new KubernetesClusterBean[list.size()];
                array = list.toArray(array);
                System.out.println("Kubernetes clusters found:");
                CliUtils.printTable(array, partitionMapper, "Group ID", "Description");
            } else {
                System.out.println("No Kubernetes clusters found");
            }
        } catch (Exception e) {
            String message = "Could not list Kubernetes clusters";
            printError(message, e);
        }
    }

    /**
     * Undeploy Kubernetes Cluster
     *
     * @param clusterId cluster id
     * @throws CommandException
     */
    public void undeployKubernetesCluster(String clusterId) throws CommandException {
        restClient.undeployEntity(ENDPOINT_UNDEPLOY_KUBERNETES_CLUSTER, "kubernetes cluster", clusterId);
    }

    /**
     * Add Kubernetes Host
     *
     * @param entityBody kubernetes host definition
     * @param clusterId  cluster id
     * @throws CommandException
     */
    public void addKubernetesHost(String entityBody, String clusterId) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_DEPLOY_KUBERNETES_HOST.replace("{kubernetesClusterId}", clusterId), entityBody);

            String responseCode = "" + response.getStatusLine().getStatusCode();

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();

            if (responseCode.equals(CliConstants.RESPONSE_OK) || responseCode.equals(CliConstants.RESPONSE_CREATED)) {
                System.out.println("You have successfully deployed host to Kubernetes cluster: " + clusterId);
            } else {
                String resultString = CliUtils.getHttpResponseString(response);
                ExceptionMapper exception = gson.<mark>fromJson</mark>(resultString, ExceptionMapper.class);
                System.out.println(exception);
            }

        } catch (Exception e) {
            String message = "Could not add host to Kubernetes cluster: " + clusterId;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * List Kubernetes Hosts
     *
     * @param clusterId cluster id
     * @throws CommandException
     */
    public void listKubernetesHosts(String clusterId) throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<KubernetesHostBean>>() {
            }.getType();
            List<KubernetesHostBean> list = (List<KubernetesHostBean>) restClient.listEntity(ENDPOINT_LIST_KUBERNETES_HOSTS.replace("{kubernetesClusterId}", clusterId),
                    listType, "kubernetes host");
            if ((list != null) && (list.size() > 0)) {
                RowMapper<KubernetesHostBean> partitionMapper = new RowMapper<KubernetesHostBean>() {
                    public String[] getData(KubernetesHostBean kubernetesHost) {
                        String[] data = new String[4];
                        data[0] = kubernetesHost.getHostId();
                        data[1] = kubernetesHost.getHostname();
                        data[2] = emptyStringIfNullOrEmpty(kubernetesHost.getPrivateIPAddress());
                        data[3] = emptyStringIfNullOrEmpty(kubernetesHost.getPublicIPAddress());
                        return data;
                    }
                };

                KubernetesHostBean[] array = new KubernetesHostBean[list.size()];
                array = list.toArray(array);
                System.out.println("Kubernetes hosts found:");
                CliUtils.printTable(array, partitionMapper, "Host ID", "Hostname", "Private IP Address",
                        "Public IP Address");
            } else {
                System.out.println("No kubernetes hosts found");
            }
        } catch (Exception e) {
            String message = "Could not list kubernetes hosts";
            printError(message, e);
        }
    }

    private String emptyStringIfNullOrEmpty(String value) {
        return StringUtils.isBlank(value) ? "" : value;
    }

    /**
     * Get the master of a Kubernetes Cluster
     *
     * @param clusterId cluster id
     * @throws CommandException
     */
    public void getKubernetesMaster(String clusterId) throws CommandException {
        try {
            Type listType = new TypeToken<KubernetesMasterBean>() {
            }.getType();
            KubernetesMasterBean master = (KubernetesMasterBean) restClient
                    .getEntity(ENDPOINT_GET_KUBERNETES_MASTER, KubernetesMasterBean.class, "{kubernetesClusterId}", clusterId,
                            "network partition");

            if (master == null) {
                System.out.println("Kubernetes master not found in: " + clusterId);
                return;
            }

            System.out.println("Cluster: " + clusterId);
            System.out.println(getGson().<mark>toJson</mark>(master));
        } catch (Exception e) {
            String message = "Could not get the master of " + clusterId;
            printError(message, e);
        }
    }

    /**
     * Describe a Kubernetes cluster
     *
     * @param clusterId cluster id
     * @throws CommandException
     */
    public void describeKubernetesCluster(String clusterId) throws CommandException {
        try {
            Type listType = new TypeToken<KubernetesClusterBean>() {
            }.getType();
            KubernetesClusterBean cluster = (KubernetesClusterBean) restClient
                    .getEntity(ENDPOINT_GET_KUBERNETES_HOST_CLUSTER, KubernetesClusterBean.class, "{kubernetesClusterId}", clusterId,
                            "kubernetes cluster");

            if (cluster == null) {
                System.out.println("Kubernetes cluster not found: " + clusterId);
                return;
            }

            System.out.println("Kubernetes cluster: " + clusterId);
            System.out.println(getGson().<mark>toJson</mark>(cluster));
        } catch (Exception e) {
            String message = "Could not describe Kubernetes cluster: " + clusterId;
            printError(message, e);
        }
    }

    /**
     * Add Domain mappings
     *
     * @param applicationId       application id
     * @param resourceFileContent domain mapping definition
     * @throws CommandException
     */
    public void addDomainMappings(String applicationId, String resourceFileContent) throws CommandException {
        String endpoint = ENDPOINT_DOMAIN_MAPPINGS.replace("{applicationId}", applicationId);
        restClient.deployEntity(endpoint, resourceFileContent, "domain mappings");
    }

    /**
     * List domain mappings
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void listDomainMappings(String applicationId) throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<DomainMappingBean>>() {
            }.getType();
            List<DomainMappingBean> list = (List<DomainMappingBean>) restClient.listEntity(
                    ENDPOINT_DOMAIN_MAPPINGS.replace("{applicationId}", applicationId),
                    listType, "domain mappings");
            if (list == null) {
                System.out.println("No domain mappings found in application: " + applicationId);
                return;
            }

            RowMapper<DomainMappingBean> rowMapper = new RowMapper<DomainMappingBean>() {
                public String[] getData(DomainMappingBean domainMappingBean) {
                    String[] data = new String[2];
                    data[0] = domainMappingBean.getDomainName();
                    data[1] = domainMappingBean.getContextPath();
                    return data;
                }
            };

            DomainMappingBean[] array = new DomainMappingBean[list.size()];
            array = list.toArray(array);
            System.out.println("Domain mappings found in application: " + applicationId);
            CliUtils.printTable(array, rowMapper, "Domain Name", "Context Path");
        } catch (Exception e) {
            String message = "Could not list domain mappings in application: " + applicationId;
            printError(message, e);
        }
    }

    /**
     * Remove Domain Mappings
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void removeDomainMappings(String applicationId, String domainName) throws CommandException {
        String endpoint = (ENDPOINT_REMOVE_DOMAIN_MAPPINGS.replace("{applicationId}",
                applicationId)).replace("{domainName}", domainName);
        restClient.undeployEntity(endpoint, "domain mappings", applicationId);
    }

    /**
     * Undeploy Kubernetes Host
     *
     * @param clusterId cluster id
     * @param hostId    host id
     * @throws CommandException
     */
    public void undeployKubernetesHost(String clusterId, String hostId) throws CommandException {
        restClient.undeployEntity(ENDPOINT_UNDEPLOY_KUBERNETES_HOST.replace("{kubernetesClusterId}", clusterId), "kubernetes host", hostId);
    }

    /**
     * Update Kubernetes Master
     *
     * @param entityBody Kubernetes master definition
     * @param clusterId  cluster id
     * @throws CommandException
     */
    public void updateKubernetesMaster(String entityBody, String clusterId) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_KUBERNETES_MASTER.replace("{kubernetesClusterId}", clusterId), entityBody, "kubernetes master");
    }

    /**
     * Update Kubernetes Host
     *
     * @param entityBody Kubernetes host definition
     * @throws CommandException
     */
    public void updateKubernetesHost(String entityBody) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_KUBERNETES_HOST, entityBody, "kubernetes host");
    }

    /**
     * Synchronize artifacts
     *
     * @param cartridgeAlias alias of the cartridge
     * @throws CommandException
     */
    public void synchronizeArtifacts(String cartridgeAlias) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL() + ENDPOINT_SYNCHRONIZE_ARTIFACTS.replace("{subscriptionAlias}", cartridgeAlias), cartridgeAlias);

            String responseCode = "" + response.getStatusLine().getStatusCode();

            if (responseCode.equals(CliConstants.RESPONSE_OK)) {
                System.out.println(String.format("Synchronizing artifacts for cartridge subscription alias: %s", cartridgeAlias));
            } else {
                GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
                Gson gson = gsonBuilder.<mark>create</mark>();
                String resultString = CliUtils.getHttpResponseString(response);
                ExceptionMapper exception = gson.<mark>fromJson</mark>(resultString, ExceptionMapper.class);
                System.out.println(exception);
            }
        } catch (Exception e) {
            String message = "Could not synchronize artifacts for cartridge subscription alias: " + cartridgeAlias;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Add cartridge group
     *
     * @param entityBody cartridge group definition
     * @throws CommandException
     */
    public void addCartridgeGroup(String entityBody) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_SERVICE_GROUP, entityBody, "cartridge group");
    }

    /**
     * Undeploy Cartridge group
     *
     * @param groupDefinitionName cartridge group name
     * @throws CommandException
     */
    public void undeployServiceGroup(String groupDefinitionName) throws CommandException {
        restClient.undeployEntity(ENDPOINT_UNDEPLOY_SERVICE_GROUP, "cartridge group", groupDefinitionName);
    }

    /**
     * Describe service group
     *
     * @param groupDefinitionName cartridge group name
     * @throws CommandException
     */
    public void describeServiceGroup(String groupDefinitionName) throws CommandException {
        try {
            CartridgeGroupBean bean = (CartridgeGroupBean) restClient.listEntity(ENDPOINT_LIST_SERVICE_GROUP.replace("{groupDefinitionName}", groupDefinitionName),
                    CartridgeGroupBean.class, "serviceGroup");

            if (bean == null) {
                System.out.println("Cartridge group not found: " + groupDefinitionName);
                return;
            }

            System.out.println("Service Group : " + groupDefinitionName);
            System.out.println(getGson().<mark>toJson</mark>(bean));
        } catch (Exception e) {
            String message = "Could not describe cartridge group: " + groupDefinitionName;
            printError(message, e);
        }
    }

    /**
     * Add application
     *
     * @param entityBody application definition
     * @throws CommandException
     */
    public void addApplication(String entityBody) throws CommandException {
        restClient.deployEntity(ENDPOINT_ADD_APPLICATION, entityBody, "application");
    }

    /**
     * Deploy application
     *
     * @param applicationId       application id
     * @param applicationPolicyId application policy id
     * @throws CommandException
     */
    public void deployApplication(String applicationId, String applicationPolicyId) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            String url = (ENDPOINT_DEPLOY_APPLICATION.replace("{applicationId}", applicationId)).replace("{applicationPolicyId}", applicationPolicyId);
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + url, "");

            String result = getHttpResponseString(response);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            System.out.println(gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage());

        } catch (Exception e) {
            String message = "Could not deploy application: " + applicationId;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }

        //restClient.deployEntity((ENDPOINT_DEPLOY_APPLICATION.replace("{applicationId}", applicationId)).replace("{applicationPolicyId",applicationPolicyId),"application");
    }

    /**
     * Undeploy application
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void undeployApplication(String applicationId) throws CommandException {
        DefaultHttpClient httpClient = new DefaultHttpClient();
        try {
            HttpResponse response = restClient.doPost(httpClient, restClient.getBaseURL()
                    + ENDPOINT_UNDEPLOY_APPLICATION.replace("{id}", applicationId), "");
            String result = getHttpResponseString(response);

            GsonBuilder gsonBuilder = <mark>new GsonBuilder</mark>();
            Gson gson = gsonBuilder.<mark>create</mark>();
            System.out.println(gson.<mark>fromJson</mark>(result, ResponseMessageBean.class).getMessage());
        } catch (Exception e) {
            String message = "Could not undeploy application: " + applicationId;
            printError(message, e);
        } finally {
            httpClient.getConnectionManager().shutdown();
        }
    }

    /**
     * Remove application
     *
     * @param applicationId application id
     * @throws CommandException This method helps to remove applications
     */
    public void deleteApplication(String applicationId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_APPLICATION.replace("{appId}", applicationId), applicationId,
                "application");
    }

    /**
     * Update application
     *
     * @param entityBody application definition
     * @throws CommandException
     */
    public void updateApplication(String entityBody) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_APPLICATION, entityBody, "application");
    }

    /**
     * Delete autoscaling policy
     *
     * @param autoscalingPolicyId autoscaling policy id
     * @throws CommandException
     */
    public void deleteAutoSclaingPolicy(String autoscalingPolicyId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_AUTOSCALINGPOLICY.replace("{policyId}", autoscalingPolicyId), autoscalingPolicyId,
                "Auto-scaling policy");
    }

    /**
     * Describe application
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void describeApplication(String applicationId) throws CommandException {
        try {
            ApplicationBean application = (ApplicationBean) restClient
                    .getEntity(ENDPOINT_GET_APPLICATION, ApplicationBean.class, "{appId}", applicationId,
                            "application");

            if (application == null) {
                System.out.println("Application not found: " + applicationId);
                return;
            }

            System.out.println("Application: " + applicationId);
            System.out.println(getGson().<mark>toJson</mark>(application));
        } catch (Exception e) {
            String message = "Could not describe application: " + applicationId;
            printError(message, e);
        }
    }

    /**
     * Describe application runtime
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void describeApplicationRuntime(String applicationId) throws CommandException {
        try {
	        ApplicationInfoBean application = (ApplicationInfoBean) restClient
                    .getEntity(ENDPOINT_GET_APPLICATION_RUNTIME, ApplicationBean.class, "{applicationId}", applicationId,
                            "application");

            if (application == null) {
                System.out.println("Application Runtime not found: " + applicationId);
                return;
            }

            System.out.println("Application: " + applicationId);
            System.out.println(getGson().<mark>toJson</mark>(application));
        } catch (Exception e) {
            String message = "Could not describe application runtime: " + applicationId;
            printError(message, e);
        }
    }

    /**
     * Add application signup
     *
     * @param applicationId application id
     * @param entityBody    application signup definition
     * @throws CommandException
     */
    public void addApplicationSignup(String entityBody, String applicationId) throws CommandException {
        restClient.deployEntity(ENDPOINT_APPLICATION_SIGNUP.replace("{applicationId}", applicationId), entityBody, "application signup");
    }

    /**
     * Describe application signup
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void describeApplicationSignup(String applicationId) throws CommandException {
        try {
            ApplicationSignUpBean bean = (ApplicationSignUpBean) restClient.listEntity(ENDPOINT_APPLICATION_SIGNUP.replace("{applicationId}", applicationId),
                    ApplicationSignUpBean.class, "applicationSignup");

            if (bean == null) {
                System.out.println("Application sign up not found for application: " + applicationId);
                return;
            }

            System.out.println("Application signup for application : " + applicationId);
            System.out.println(getGson().<mark>toJson</mark>(bean));
        } catch (Exception e) {
            String message = "Could not describe application signup for application: " + applicationId;
            printError(message, e);
        }
    }

    /**
     * Delete application signup
     *
     * @param applicationId application id
     * @throws CommandException
     */
    public void deleteApplicationSignup(String applicationId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_APPLICATION_SIGNUP.replace("{applicationId}", applicationId), applicationId,
                "application signup");
    }

    /**
     * Handle exception
     *
     * @throws CommandException
     */
    private void handleException(String key, Exception e, Object... args) throws CommandException {
        if (log.isDebugEnabled()) {
            log.debug("Displaying message for {}. Exception thrown is {}", key, e.getClass());
        }

        String message = CliUtils.getMessage(key, args);
        log.error(message);
        System.out.println(message);
        throw new CommandException(message, e);
    }

    /**
     * Print error on console and log
     *
     * @param message message
     * @param e       exception
     */
    private void printError(String message, Throwable e) {
        // CLI console only get system output
        System.out.println(message);
        // Log error
        log.error(message, e);
    }

    /**
     * Add network partitions
     *
     * @param networkPartitionDefinition network partition definition
     * @throws CommandException
     */
    public void addNetworkPartition(String networkPartitionDefinition) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_NETWORK_PARTITION, networkPartitionDefinition, "network partition");
    }

    /**
     * Remove network partition
     *
     * @param networkPartitionId application id
     * @throws CommandException
     */
    public void removeNetworkPartition(String networkPartitionId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_NETWORK_PARTITION.replace("{id}", networkPartitionId), networkPartitionId,
                "network-partition");
    }

    /**
     * List network partitions
     *
     * @throws CommandException
     */
    public void listNetworkPartitions() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<NetworkPartitionBean>>() {
            }.getType();
            List<NetworkPartitionBean> networkPartitionsList = (List<NetworkPartitionBean>) restClient.listEntity(ENDPOINT_LIST_NETWORK_PARTITIONS,
                    listType, "network-partitions");

            if ((networkPartitionsList == null) || (networkPartitionsList.size() == 0)) {
                System.out.println("No network partitions found");
                return;
            }

            RowMapper<NetworkPartitionBean> networkPartitionMapper = new RowMapper<NetworkPartitionBean>() {
                public String[] getData(NetworkPartitionBean partition) {
                    String[] data = new String[2];
                    data[0] = partition.getId();
                    data[1] = String.valueOf(partition.getPartitions().size());
                    return data;
                }
            };

            NetworkPartitionBean[] partitions = new NetworkPartitionBean[networkPartitionsList.size()];
            partitions = networkPartitionsList.toArray(partitions);

            System.out.println("Network partitions found:");
            CliUtils.printTable(partitions, networkPartitionMapper, "Network Partition ID", "Number of Partitions");
        } catch (Exception e) {
            String message = "Error in listing network partitions";
            printError(message, e);
        }
    }

    /**
     * Update network partitions
     *
     * @param networkPartitionDefinition network partition definition
     * @throws CommandException
     */
    public void updateNetworkPartition(String networkPartitionDefinition) throws CommandException {
        restClient.updateEntity(ENDPOINT_DEPLOY_NETWORK_PARTITION, networkPartitionDefinition, "network-partition");
    }

    /**
     * Describe a network partition
     *
     * @param partitionId partition id
     * @throws CommandException
     */
    public void describeNetworkPartition(final String partitionId) throws CommandException {
        try {
            NetworkPartitionBean partition = (NetworkPartitionBean) restClient
                    .getEntity(ENDPOINT_GET_NETWORK_PARTITION, NetworkPartitionBean.class, "{networkPartitionId}", partitionId,
                            "network partition");

            if (partition == null) {
                System.out.println("Network partition not found: " + partitionId);
                return;
            }

            System.out.println("Partition: " + partitionId);
            System.out.println(getGson().<mark>toJson</mark>(partition));
        } catch (Exception e) {
            String message = "Could not describe partition: " + partitionId;
            printError(message, e);
        }
    }

    /**
     * Deploy deployment policy
     *
     * @param deploymentPolicy deployment policy definition
     * @throws CommandException
     */
    public void addDeploymentPolicy(String deploymentPolicy) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_DEPLOYMENT_POLICY, deploymentPolicy, "deployment policy");
    }

    /**
     * Deploy application policy
     *
     * @param applicationPolicy application policy definition
     * @throws CommandException
     */
    public void addApplicationPolicy(String applicationPolicy) throws CommandException {
        restClient.deployEntity(ENDPOINT_DEPLOY_APPLICATION_POLICY, applicationPolicy, "application policy");
    }

    /**
     * Update deployment policy
     *
     * @param deploymentPolicy deployment policy definition
     * @throws CommandException
     */
    public void updateDeploymentPolicy(String deploymentPolicy) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_DEPLOYMENT_POLICY, deploymentPolicy, "deployment policy");
    }

    /**
     * Delete deployment policy
     *
     * @param deploymentPolicyId deployment policy definition
     * @throws CommandException
     */
    public void deleteDeploymentPolicy(String deploymentPolicyId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_DEPLOYMENT_POLICY.replace("{policyId}", deploymentPolicyId), deploymentPolicyId,
                "deployment policy");
    }

    /**
     * List deployment policies
     *
     * @throws CommandException
     */
    public void listDeploymentPolicies() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<DeploymentPolicyBean>>() {
            }.getType();
            List<DeploymentPolicyBean> list = (List<DeploymentPolicyBean>) restClient.listEntity(ENDPOINT_LIST_DEPLOYMENT_POLICIES,
                    listType, "deployment policies");

            if ((list == null) || (list.size() == 0)) {
                System.out.println("No deployment policies found");
                return;
            }

            RowMapper<DeploymentPolicyBean> rowMapper = new RowMapper<DeploymentPolicyBean>() {

                public String[] getData(DeploymentPolicyBean policy) {
                    String[] data = new String[2];
                    data[0] = policy.getId();
                    data[1] = String.valueOf(policy.getNetworkPartitions().size());
                    return data;
                }
            };

            DeploymentPolicyBean[] array = new DeploymentPolicyBean[list.size()];
            array = list.toArray(array);

            System.out.println("Deployment policies found:");
            CliUtils.printTable(array, rowMapper, "ID", "Accessibility");
        } catch (Exception e) {
            String message = "Could not list deployment policies";
            printError(message, e);
        }
    }

    /**
     * List application policies
     *
     * @throws CommandException
     */
    public void listApplicationPolicies() throws CommandException {
        try {
            Type listType = new TypeToken<ArrayList<ApplicationPolicyBean>>() {
            }.getType();
            List<ApplicationPolicyBean> list = (List<ApplicationPolicyBean>) restClient.listEntity(ENDPOINT_LIST_APPLICATION_POLICIES,
                    listType, "application policies");

            if ((list == null) || (list.size() == 0)) {
                System.out.println("No application policies found");
                return;
            }

            RowMapper<ApplicationPolicyBean> rowMapper = new RowMapper<ApplicationPolicyBean>() {

                public String[] getData(ApplicationPolicyBean policy) {
                    String[] data = new String[3];
                    data[0] = policy.getId();
                    data[1] = String.valueOf(policy.getNetworkPartitions().length);
                    data[2] = policy.getAlgorithm();
                    return data;
                }
            };

            ApplicationPolicyBean[] array = new ApplicationPolicyBean[list.size()];
            array = list.toArray(array);

            System.out.println("Application policies found:");
            CliUtils.printTable(array, rowMapper, "ID", "No of network partitions", "algorithm");
        } catch (Exception e) {
            String message = "Could not list application policies";
            printError(message, e);
        }
    }

    /**
     * Delete application policy
     * param applicationPolicyId application policy id
     *
     * @throws CommandException
     */
    public void deleteApplicationPolicy(String applicationPolicyId) throws CommandException {
        restClient.deleteEntity(ENDPOINT_REMOVE_APPLICATION_POLICY.replace("{policyId}", applicationPolicyId), applicationPolicyId,
                "application policy");
    }

    /**
     * Update application policy
     *
     * @param applicationPolicy application policy definition
     * @throws CommandException
     */
    public void updateApplicationPolicy(String applicationPolicy) throws CommandException {
        restClient.updateEntity(ENDPOINT_UPDATE_APPLICATION_POLICY, applicationPolicy, "application policy");
    }


}
            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>jamorham_____xDrip-plus_____WatchUpdaterService_2.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/jamorham_____xDrip-plus_____WatchUpdaterService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncTransmitterData(DataMap dataMap, boolean bBenchmark) {//KS
        Log.d(TAG, "syncTransmitterData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastBG = 0;
        Log.d(TAG, "syncTransmitterData add BgReading Table" );
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            int idx = 0;
            int count = entries.size();
            Log.d(TAG, "syncTransmitterData add BgReading Table entries count=" + count);
            for (DataMap entry : entries) {
                if (entry != null) {
                    //Log.d(TAG, "syncTransmitterData add BgReading Table entry=" + entry);
                    idx++;
                    String bgrecord = entry.getString("bgs");
                    if (bgrecord != null) {//for (TransmitterData bgData : bgs) {
                        //Log.d(TAG, "syncTransmitterData add TransmitterData Table bgrecord=" + bgrecord);
                        TransmitterData bgData = gson.<mark>fromJson</mark>(bgrecord, TransmitterData.class);
                        //TransmitterData bgData = <mark>new GsonBuilder</mark>().<mark>excludeFieldsWithoutExposeAnnotation</mark>().create().<mark>fromJson</mark>(bgrecord, TransmitterData.class);
                        TransmitterData exists = TransmitterData.getForTimestamp(bgData.timestamp);
                        TransmitterData uuidexists = TransmitterData.findByUuid(bgData.uuid);
                        timeOfLastBG = bgData.timestamp + 1;
                        if (exists != null || uuidexists != null) {
                            Log.d(TAG, "syncTransmitterData BG already exists for uuid=" + bgData.uuid + " timestamp=" + bgData.timestamp + " timeString=" + JoH.dateTimeText(bgData.timestamp) + " raw_data=" + bgData.raw_data);
                        } else {
                            Log.d(TAG, "syncTransmitterData add BG; does NOT exist for uuid=" + bgData.uuid + " timestamp=" + bgData.timestamp + " timeString=" + JoH.dateTimeText(bgData.timestamp) + " raw_data=" + bgData.raw_data);
                            if (!bBenchmark) {
                                bgData.save();

                                //Check
                                if (TransmitterData.findByUuid(bgData.uuid) != null)
                                    Log.d(TAG, "syncTransmitterData: TransmitterData was saved for uuid:" + bgData.uuid);
                                else {
                                    Log.e(TAG, "syncTransmitterData: TransmitterData was NOT saved for uuid:" + bgData.uuid);
                                    return;
                                }

                                //KS the following is from G5CollectionService processNewTransmitterData()
                                Sensor sensor = Sensor.currentSensor();
                                if (sensor == null) {
                                    Log.e(TAG, "syncTransmitterData: No Active Sensor, Data only stored in Transmitter Data");
                                    return;
                                }
                                //TODO : LOG if unfiltered or filtered values are zero
                                Sensor.updateBatteryLevel(sensor, bgData.sensor_battery_level);
                                Log.i(TAG, "syncTransmitterData: BG timestamp create " + Long.toString(bgData.timestamp));//android.util.Log.i
                                BgReading bgExists;

                                //KS TODO wear implements limited alerts, therefore continue to process all alerts on phone for last entry
                                if (count > 1 && idx < count) {
                                    bgExists = BgReading.create(bgData.raw_data, bgData.filtered_data, this, bgData.timestamp, true);//Disable Notifications for bulk insert
                                }
                                else {
                                    bgExists = BgReading.create(bgData.raw_data, bgData.filtered_data, this, bgData.timestamp);
                                }
                                if (bgExists != null)
                                    Log.d(TAG, "syncTransmitterData BG GSON saved BG: " + bgExists.toS());
                                else
                                    Log.e(TAG, "syncTransmitterData BG GSON NOT saved");
                            }
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH,"DATA_RECEIVED_BGS count=" + entries.size(), timeOfLastBG, bBenchmark?"BM":"BG", -1);
        }
    }

    private synchronized void syncLogData(DataMap dataMap, boolean bBenchmark) {//KS
        Log.d(TAG, "syncLogData");
        long watch_syncLogsRequested = dataMap.getLong("syncLogsRequested", -1);
        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        int saved = 0;
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncLogData add Table entries count=" + entries.size() + " watch_syncLogsRequested=" + watch_syncLogsRequested);
            for (DataMap entry : entries) {
                if (entry != null) {
                    String record = entry.getString("entry");
                    if (record != null) {
                        UserError data = gson.<mark>fromJson</mark>(record, UserError.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            if (data.shortError != null && !data.shortError.isEmpty()) { //add wear prefix
                                if (!data.shortError.startsWith("wear")) {
                                    data.shortError = mPrefs.getString("wear_logs_prefix", "wear") + data.shortError;
                                }
                            }
                            UserError exists = UserError.getForTimestamp(data);
                            if (exists == null && !bBenchmark) {
                                data.save();
                                saved++;
                            }
                            else {
                                //Log.d(TAG, "syncLogData Log entry already exists with shortError=" + data.shortError + " timestamp=" + JoH.dateTimeText((long)data.timestamp));
                            }
                        }
                    }
                }
            }
            if (saved>0) {
                Log.d(TAG, "syncLogData Saved timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " saved=" + saved);
            }
            else {
                Log.d(TAG, "syncLogData No records saved due to being duplicates! timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " count=" + entries.size());
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "LOG", watch_syncLogsRequested);
        }
    }

    private synchronized void syncStepSensorData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncStepSensorData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        Log.d(TAG, "syncStepSensorData add to Table" );
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            StepCounter pm = StepCounter.last();
            Log.d(TAG, "syncStepSensorData add Table entries count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncStepSensorData add Table entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null) {
                        Log.d(TAG, "syncStepSensorData add Table record=" + record);
                        StepCounter data = gson.<mark>fromJson</mark>(record, StepCounter.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            Log.d(TAG, "syncStepSensorData add Entry Wear=" + data.toString());
                            Log.d(TAG, "syncStepSensorData WATCH data.metric=" + data.metric + " timestamp=" + JoH.dateTimeText((long) data.timestamp));
                            if (!bBenchmark)
                                data.saveit();
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH,"DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark?"BM":"STEP", -1);
        }
    }

    private synchronized void syncHeartSensorData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncHeartSensorData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        Log.d(TAG, "syncHeartSensorData add to Table" );
        if (entries != null) {

            final Gson gson = JoH.defaultGsonInstance();

            //final HeartRate pm = HeartRate.last();
            Log.d(TAG, "syncHeartSensorData add Table entries count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncHeartSensorData add Table entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null) {
                        Log.d(TAG, "syncHeartSensorData add Table record=" + record);
                        final HeartRate data = gson.<mark>fromJson</mark>(record, HeartRate.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            Log.d(TAG, "syncHeartSensorData add Entry Wear=" + data.toString() + " "+record);
                            Log.d(TAG, "syncHeartSensorData WATCH data.metric=" + data.bpm + " timestamp=" + JoH.dateTimeText((long) data.timestamp));
                            if (!bBenchmark)
                                data.saveit();
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH,"DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark?"BM":"HEART", -1);
        }
    }


    private synchronized void syncTreatmentsData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncTreatmentsData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        if (entries != null) {
            Log.d(TAG, "syncTreatmentsData count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncTreatmentsData entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null && record.length() > 1) {
                        Log.d(TAG, "Received wearable: voice payload: " + record);
                        long timestamp = entry.getLong("timestamp");
                        if (timestamp <= PersistentStore.getLong(LAST_RECORD_TIMESTAMP)) {
                            Log.e(TAG,"Ignoring repeated or older sync timestamp");
                            continue;
                        }
                        final long since = JoH.msSince(timestamp);
                        if ((since < 0) || (since > Constants.HOUR_IN_MS * 72)) {
                            JoH.static_toast_long("Rejecting wear treatment as time out of range!");
                            UserError.Log.e(TAG, "Rejecting wear treatment due to time: " + record + " since: " + since);
                        } else {
                            if (record.contains("uuid null")) {
                                Log.e(TAG,"Skipping xx uuid null record!");
                                continue;
                            }
                            receivedText(getApplicationContext(), record);
                            PersistentStore.setLong(LAST_RECORD_TIMESTAMP, timestamp);
                        }
                        Log.d(TAG, "syncTreatmentsData add Table record=" + record);
                        timeOfLastEntry = (long) timestamp + 1;
                        Log.d(TAG, "syncTreatmentsData WATCH treatments timestamp=" + JoH.dateTimeText(timestamp));
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH,"DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark?"BM":"TREATMENTS", -1);
        }
    }

    public static void sendWearToast(String msg, int length)
    {
        if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(WEARABLE_TOAST_NOTIFICATON);
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putInt("length", length);
            dataMapRequest.getDataMap().putString("msg", msg);
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "No connection to wearable available for toast! "+msg);
        }
    }

    public static void sendWearLocalToast(String msg, int length)
    {
        if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(WEARABLE_TOAST_LOCAL_NOTIFICATON);
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putInt("length", length);
            dataMapRequest.getDataMap().putString("msg", msg);
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "No connection to wearable available for toast! "+msg);
        }
    }

    public static void sendTreatment(double carbs, double insulin, double bloodtest, double timeoffset, String timestring) {
        if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(WEARABLE_TREATMENT_PAYLOAD);
            //unique content
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putDouble("carbs", carbs);
            dataMapRequest.getDataMap().putDouble("insulin", insulin);
            dataMapRequest.getDataMap().putDouble("bloodtest", bloodtest);
            dataMapRequest.getDataMap().putDouble("timeoffset", timeoffset);
            dataMapRequest.getDataMap().putString("timestring", timestring);
            dataMapRequest.getDataMap().putBoolean("ismgdl", doMgdl(PreferenceManager.getDefaultSharedPreferences(xdrip.getAppContext())));
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "No connection to wearable available for send treatment!");
        }
    }

    private static boolean doMgdl(SharedPreferences sPrefs) {
        String unit = sPrefs.getString("units", "mgdl");
        if (unit.compareTo("mgdl") == 0) {
            return true;
        } else {
            return false;
        }
    }

    @Override
    public void onCreate() {
        mPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
        wear_integration = mPrefs.getBoolean("wear_sync", false);
        //is_using_g5 = (getDexCollectionType() == DexCollectionType.DexcomG5);
        is_using_bt = DexCollectionType.hasBluetooth();
        if (wear_integration) {
            googleApiConnect();
        }
        setSettings();
        listenForChangeInSettings();
    }

    private void listenForChangeInSettings() {
        mPreferencesListener = new SharedPreferences.OnSharedPreferenceChangeListener() {
            public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {
                Log.d(TAG, "onSharedPreferenceChanged enter key=" + key);
                pebble_integration = mPrefs.getBoolean("pebble_sync", false);
                if (key.compareTo("bridge_battery") != 0 && key.compareTo("nfc_sensor_age") != 0 &&
                        key.compareTo("bg_notifications_watch") != 0 && key.compareTo("persistent_high_alert_enabled_watch") != 0) {

                    Inevitable.task("wear-update-settings", 2000, () -> {
                        sendPrefSettings();
                        processConnect();
                    });

                }
            }
        };
        mPrefs.registerOnSharedPreferenceChangeListener(mPreferencesListener);
    }

    private void setSettings() {
        Log.d(TAG, "setSettings enter");
        pebble_integration = mPrefs.getBoolean("pebble_sync", false);
        processConnect();
        if (wear_integration) {
            if (googleApiClient == null) googleApiConnect();
            Log.d(TAG, "setSettings wear_sync changed to True.");
            sendPrefSettings();
        }
    }

    private void googleApiConnect() {
        if (googleApiClient != null && (googleApiClient.isConnected() || googleApiClient.isConnecting())) {
            googleApiClient.disconnect();
        }
        googleApiClient = new GoogleApiClient.Builder(this)
                .addConnectionCallbacks(this)
                .addOnConnectionFailedListener(this)
                .addApi(Wearable.API)
                .build();
        Wearable.MessageApi.addListener(googleApiClient, this);
        if (googleApiClient.isConnected()) {
            Log.d("WatchUpdater", "API client is connected");
        } else {
            googleApiClient.connect();
        }
    }

    private void forceGoogleApiConnect() {
        if ((googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) || googleApiClient == null) {
            try {
                Log.d(TAG, "forceGoogleApiConnect: forcing google api reconnection");
                googleApiConnect();
                Thread.sleep(2000);
            } catch (InterruptedException e) {
                Log.d(TAG, "forceGoogleApiConnect: exception:" + e);
            }
        }
    }

    @Override
    public void onPeerConnected(com.google.android.gms.wearable.Node peer) {//KS onPeerConnected and onPeerDisconnected deprecated at the same time as BIND_LISTENER

        super.onPeerConnected(peer);
        String id = peer.getId();
        String name = peer.getDisplayName();
        Log.d(TAG, "onPeerConnected peer name & ID: " + name + "|" + id);
        sendPrefSettings();
        if (mPrefs.getBoolean("enable_wearG5", false)) {//watch_integration
            Log.d(TAG, "onPeerConnected call initWearData for node=" + peer.getDisplayName());
            initWearData();
            //Only stop service if Phone will rely on Wear Collection Service
            if (mPrefs.getBoolean("force_wearG5", false)) {
                Log.d(TAG, "onPeerConnected force_wearG5=true Phone stopBtService and continue to use Wear G5 BT Collector");
                stopBtService();
            } else {
                Log.d(TAG, "onPeerConnected onPeerConnected force_wearG5=false Phone startBtService");
                startBtService();
            }
        }
    }

    @Override
    public void onPeerDisconnected(com.google.android.gms.wearable.Node peer) {//KS onPeerConnected and onPeerDisconnected deprecated at the same time as BIND_LISTENER
        super.onPeerDisconnected(peer);
        String id = peer.getId();
        String name = peer.getDisplayName();
        Log.d(TAG, "onPeerDisconnected peer name & ID: " + name + "|" + id);
        SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
        if (sharedPrefs.getBoolean("watch_integration", false)) {
            Log.d(TAG, "onPeerDisconnected watch_integration=true Phone startBtService");
            startBtService();
        }
    }

    // Custom method to determine whether a service is running
    private boolean isServiceRunning(Class<?> serviceClass){//Class<?> serviceClass
        if (serviceClass != null) {
            ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
            // Loop through the running services
            for (ActivityManager.RunningServiceInfo service : activityManager.getRunningServices(Integer.MAX_VALUE)) {
                //Log.d(TAG, "isServiceRunning: getClassName=" + service.service.getClassName() + " getShortClassName=" + service.service.getShortClassName());
                if (serviceClass.getName().equals(service.service.getClassName())) return true;
            }
        }
        return false;
    }

    private boolean isCollectorRunning() {
        Class<?> serviceClass = DexCollectionType.getCollectorServiceClass();
        if (serviceClass != null) {
            Log.d(TAG, "DexCollectionType.getCollectorServiceClass(): " + serviceClass.getName());
            return isServiceRunning(serviceClass);
        }
        return false;
    }

    private void startBtService() {//KS
        Log.d(TAG, "startBtService");
        is_using_bt = DexCollectionType.hasBluetooth();//(getDexCollectionType() == DexCollectionType.DexcomG5)
        if (is_using_bt) {
            if (!isCollectorRunning()) {
                CollectionServiceStarter.startBtService(getApplicationContext());
                Log.d(TAG, "startBtService startService");
            }
            else {
                Log.d(TAG, "startBtService collector already running!");
            }
        } else {
            Log.d(TAG, "Not starting any BT Collector service as it is not our data source");
        }
    }

    private void stopBtService() {
        Log.d(TAG, "stopService call stopService");
        CollectionServiceStarter.stopBtService(getApplicationContext());
        Log.d(TAG, "stopBtService should have called onDestroy");
    }

    private void startBtG5Service() {//KS
        Log.d(TAG, "startBtG5Service");
        //is_using_g5 = (getDexCollectionType() == DexCollectionType.DexcomG5);
        is_using_bt = DexCollectionType.hasBluetooth();
        if (is_using_bt) {
            Context myContext = getApplicationContext();
            Log.d(TAG, "startBtG5Service start G5CollectionService");
            myContext.startService(new Intent(myContext, G5CollectionService.class));
            Log.d(TAG, "startBtG5Service AFTER startService G5CollectionService");
        } else {
            Log.d(TAG, "Not starting any G5 service as it is not our data source");
        }
    }

    private void stopBtG5Service() {//KS
        Log.d(TAG, "stopBtG5Service");
        Context myContext = getApplicationContext();
        myContext.stopService(new Intent(myContext, G5CollectionService.class));
    }

    public static void startSelf() {
        new Thread(new Runnable() {
            @Override
            public void run() {
                if (JoH.ratelimit("start-wear", 5)) {
                    xdrip.getAppContext().startService(new Intent(xdrip.getAppContext(), WatchUpdaterService.class).setAction(WatchUpdaterService.ACTION_RESEND));
                }
            }
        }).start();
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        final PowerManager.WakeLock wl = JoH.getWakeLock("watchupdate-onstart",60000);
        wear_integration = mPrefs.getBoolean("wear_sync", false);

        String action = null;
        if (intent != null) {
            action = intent.getAction();
        }

        if (wear_integration) {
            is_using_bt = DexCollectionType.hasBluetooth();//(getDexCollectionType() == DexCollectionType.DexcomG5)
            if (googleApiClient != null) {
                if (googleApiClient.isConnected()) {
                    if (ACTION_RESEND.equals(action)) {
                        resendData();
                    } else if (ACTION_OPEN_SETTINGS.equals(action)) {
                        Log.d(TAG, "onStartCommand Action=ACTION_OPEN_SETTINGS");
                        sendNotification(OPEN_SETTINGS, "openSettings");
                    } else if (ACTION_SEND_TOAST.equals(action)) {
                        Log.d(TAG, "onStartCommand Action=ACTION_SEND_TOAST msg=" + intent.getStringExtra("msg"));
                        sendWearLocalToast(intent.getStringExtra("msg"), Toast.LENGTH_LONG);
                    } else if (ACTION_SEND_STATUS.equals(action)) {//KS added for HAPP
                        //https://github.com/StephenBlackWasAlreadyTaken/xDrip-Experimental
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SEND_STATUS + " externalStatusString=" + intent.getStringExtra("externalStatusString"));
                        sendRequestExtra(NEW_STATUS_PATH, "externalStatusString", intent.getStringExtra("externalStatusString"));
                    } else if (ACTION_SNOOZE_ALERT.equals(action)) {
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SNOOZE_ALERT + " repeatTime=" + intent.getStringExtra("repeatTime"));
                        sendRequestExtra(WEARABLE_SNOOZE_ALERT, "repeatTime", intent.getStringExtra("repeatTime"));
                    } else if (ACTION_SYNC_DB.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_DB + " Path=" + SYNC_DB_PATH);
                        sendNotification(SYNC_DB_PATH, "syncDB");
                        initWearData();
                    } else if (ACTION_RESET_DB.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_RESET_DB + " Path=" + RESET_DB_PATH);
                        sendNotification(RESET_DB_PATH, "resetDB");
                        //TODO Rm!
                        //UserError.cleanup(JoH.tsl());//TODO Rm!
                        //Log.d(TAG, "onStartCommand RESET_DB_PATH cleanup timestamp=" + JoH.dateTimeText(JoH.tsl()));
                        //TODO Rm!
                        initWearData();
                    } else if (ACTION_DISABLE_FORCE_WEAR.equals(action)) {//KS
                        int bg_wear_missed_minutes = readPrefsInt(mPrefs, "disable_wearG5_on_missedreadings_level", 30);
                        Log.d(TAG, "onStartCommand Action=ACTION_DISABLE_FORCE_WEAR");
                        Pref.setBoolean("force_wearG5", false);
                        final String msgDisableWear = getResources().getString(R.string.notify_disable_wearG5_on_missedreadings, bg_wear_missed_minutes);
                        JoH.static_toast_long(msgDisableWear);
                        Log.e(TAG, "wearIsConnected disable force_wearG5:" + Pref.getBooleanDefaultFalse("force_wearG5") + " msg=" + msgDisableWear);
                        sendWearLocalToast(msgDisableWear, Toast.LENGTH_LONG);
                    } else if (ACTION_START_COLLECTOR.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_START_COLLECTOR + " Path=" + START_COLLECTOR_PATH);
                        sendNotification(START_COLLECTOR_PATH, "startCOLLECTOR");
                    } else if (ACTION_STATUS_COLLECTOR.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=ACTION_STATUS_COLLECTOR Path=STATUS_COLLECTOR_PATH getBatteryStatusNow=" + intent.getBooleanExtra("getBatteryStatusNow", false));
                        //sendNotification(STATUS_COLLECTOR_PATH, "statusCOLLECTOR");
                        sendRequestExtra(STATUS_COLLECTOR_PATH, "getBatteryStatusNow", intent.getBooleanExtra("getBatteryStatusNow", false));
                    } else if (ACTION_SYNC_LOGS.equals(action)) {
                        //sendNotification(SYNC_LOGS_PATH, "syncLOG");
                        long rate = (syncLogsRequested == 0 ? 2 : syncLogsRequested * 10);//in seconds
                        Log.d(TAG, "onStartCommand Action ACTION_SYNC_LOGS=ACTION_SYNC_LOGS SYNC_LOGS_PATH syncLogsRequested=" + syncLogsRequested);
                        if (JoH.ratelimit("sync-logs-requested", (int)rate)) {
                            syncLogsRequested++;
                            sendRequestExtra(SYNC_LOGS_PATH, "syncLogsRequested", String.valueOf(syncLogsRequested));
                        }
                        Log.d(TAG, "onStartCommand Action ACTION_SYNC_LOGS=ACTION_SYNC_LOGS SYNC_LOGS_PATH syncLogsRequested=" + syncLogsRequested + " ratelimit=" + rate);
                    } else if (ACTION_CLEAR_LOGS.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_CLEAR_LOGS + " Path=" + CLEAR_LOGS_PATH);
                        sendNotification(CLEAR_LOGS_PATH, "clearLOG");
                    } else if (ACTION_SYNC_SENSOR.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_SENSOR + " Path=" + WEARABLE_SENSOR_DATA_PATH);
                        sendSensorData();
                    } else if (ACTION_SYNC_ACTIVEBTDEVICE.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_ACTIVEBTDEVICE + " Path=" + WEARABLE_ACTIVEBTDEVICE_DATA_PATH);
                        sendActiveBtDeviceData();
                    } else if (ACTION_SYNC_ALERTTYPE.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_ALERTTYPE + " Path=" + WEARABLE_ALERTTYPE_DATA_PATH);
                        sendAlertTypeData();
                    } else if (ACTION_SYNC_CALIBRATION.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_CALIBRATION + " Path=" + WEARABLE_CALIBRATION_DATA_PATH);

                        sendWearCalibrationData(sendCalibrationCount);
                        final boolean adjustPast = mPrefs.getBoolean("rewrite_history", true);
                        Log.d(TAG, "onStartCommand adjustRecentBgReadings for rewrite_history=" + adjustPast);
                        sendWearBgData(adjustPast ? 30 : 2);//wear may not have all BGs if force_wearG5=false, so send BGs from phone
                        sendData();//ensure BgReading.Last is displayed on watch

                    } else {
                        // default
                        /*if (!mPrefs.getBoolean("force_wearG5", false)//handled by UploaderQueue
                                && mPrefs.getBoolean("enable_wearG5", false)
                                && (is_using_bt)) { //KS only send BGs if using Phone's G5 Collector Server
                            sendWearBgData(1);
                        }*/
                        Log.d(TAG, "onStartCommand Action=" + " Path=" + WEARABLE_DATA_PATH);
                        sendData();//ensure BgReading.Last is displayed on watch
                    }
                } else {
                    googleApiClient.connect();
                }
            } else {
                Log.wtf(TAG, "GoogleAPI client is null!");
            }
        }

        if (pebble_integration) {
            sendData();
        }

        //if ((!wear_integration)&&(!pebble_integration))
        if (!wear_integration)    // only wear sync starts this service, pebble features are not used?
        {
            Log.i(TAG,"Stopping service");
            startBtService();
            stopSelf();
            JoH.releaseWakeLock(wl);
            return START_NOT_STICKY;
        }

        JoH.releaseWakeLock(wl);
        return START_STICKY;
    }

    private void updateWearSyncBgsCapability(CapabilityInfo capabilityInfo) {
        Set<Node> connectedNodes = capabilityInfo.getNodes();
        mWearNodeId = pickBestNodeId(connectedNodes);
    }

    private String pickBestNodeId(Set<Node> nodes) {
        String bestNodeId = null;
        // Find a nearby node or pick one arbitrarily
        for (Node node : nodes) {
            if (node.isNearby()) {
                return node.getId();
            }
            bestNodeId = node.getId();
        }
        return bestNodeId;
    }

    private void setLocalNodeName () {
        forceGoogleApiConnect();
        NodeApi.GetLocalNodeResult localnodes = Wearable.NodeApi.getLocalNode(googleApiClient).await(60, TimeUnit.SECONDS);
        Node getnode = localnodes.getNode();
        localnode = getnode != null ? getnode.getDisplayName() + "|" + getnode.getId() : "";
        UserError.Log.d(TAG, "setLocalNodeName.  localnode=" + localnode);
    }

    @Override
    public void onConnected(Bundle connectionHint) {
        Log.d(TAG, "onConnected entered");//KS
        /*CapabilityApi.CapabilityListener capabilityListener =
                new CapabilityApi.CapabilityListener() {
                    @Override
                    public void onCapabilityChanged(CapabilityInfo capabilityInfo) {
                        updateWearSyncBgsCapability(capabilityInfo);
                        Log.d(TAG, "onConnected onCapabilityChanged mWearNodeID:" + mWearNodeId);
                        new CheckWearableConnected().execute();
                    }
                };

        Wearable.CapabilityApi.addCapabilityListener(
                googleApiClient,
                capabilityListener,
                CAPABILITY_WEAR_APP);*/
        sendData();
    }

    @Override
    public void onCapabilityChanged(CapabilityInfo capabilityInfo) {
        updateWearSyncBgsCapability(capabilityInfo);
        Log.d(TAG, "onConnected onCapabilityChanged mWearNodeID:" + mWearNodeId);
        new CheckWearableConnected().execute();
    }

    private class CheckWearableConnected extends AsyncTask<Void, Void, Void> {

        @Override
        protected Void doInBackground(Void... voids) {
            if (googleApiClient.isConnected()) {
                if (System.currentTimeMillis() - lastRequest > 20 * 1000) { // enforce 20-second debounce period
                    lastRequest = System.currentTimeMillis();
                    //NodeApi.GetConnectedNodesResult nodes =
                    //        Wearable.NodeApi.getConnectedNodes(googleApiClient).await();
                    if (localnode == null || (localnode != null && localnode.isEmpty())) setLocalNodeName();
                    CapabilityApi.GetCapabilityResult capabilityResult =
                            Wearable.CapabilityApi.getCapability(
                                    googleApiClient, CAPABILITY_WEAR_APP,
                                    CapabilityApi.FILTER_REACHABLE).await(GET_CAPABILITIES_TIMEOUT_MS, TimeUnit.MILLISECONDS);
                    CapabilityInfo nodes;
                    if (!capabilityResult.getStatus().isSuccess()) {
                        Log.e(TAG, "doInBackground Failed to get capabilities, status: " + capabilityResult.getStatus().getStatusMessage());
                        nodes = null;
                    }
                    else {
                        nodes = capabilityResult.getCapability();
                    }
                    SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
                    SharedPreferences.Editor prefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).edit();
                    boolean enable_wearG5 = sharedPrefs.getBoolean("enable_wearG5", false);
                    boolean force_wearG5 = sharedPrefs.getBoolean("force_wearG5", false);
                    String node_wearG5 = mPrefs.getString("node_wearG5", "");

                    if (nodes != null && nodes.getNodes().size() > 0) {
                        updateWearSyncBgsCapability(nodes);
                        int count = nodes.getNodes().size();
                        Log.d(TAG, "doInBackground connected.  CapabilityApi.GetCapabilityResult mWearNodeID=" + (mWearNodeId != null ? mWearNodeId : "") + " count=" + count);//KS
                        boolean isConnectedToWearable = false;
                        for (Node peer : nodes.getNodes()) {

                            //onPeerConnected
                            String wearNode = peer.getDisplayName() + "|" + peer.getId();
                            Log.d(TAG, "CheckWearableConnected onPeerConnected peer name & ID: " + wearNode);
                            if (wearNode.equals(node_wearG5)) {
                                isConnectedToWearable = true;
                                sendPrefSettings();
                                break;
                            }
                            else if (node_wearG5.equals("")) {
                                isConnectedToWearable = true;
                                prefs.putString("node_wearG5", wearNode);
                                prefs.commit();
                                break;
                            }

                        }
                        sendPrefSettings();
                        initWearData();
                        if (enable_wearG5) {
                            //Only stop service if Phone will rely on Wear Collection Service
                            if (force_wearG5 && isConnectedToWearable) {
                                Log.d(TAG, "CheckWearableConnected onPeerConnected force_wearG5=true Phone stopBtService and continue to use Wear BT Collector");
                                stopBtService();
                            } else {
                                Log.d(TAG, "CheckWearableConnected onPeerConnected force_wearG5=false Phone startBtService");
                                startBtService();
                            }
                        }
                    }
                    else {
                        //onPeerDisconnected
                        Log.d(TAG, "CheckWearableConnected onPeerDisconnected");
                        if (sharedPrefs.getBoolean("wear_sync", false)) {
                            Log.d(TAG, "CheckWearableConnected onPeerDisconnected wear_sync=true Phone startBtService");
                            startBtService();
                        }
                    }
                } else {
                    Log.d(TAG, "Debounce limit hit - not sending");
                }
            } else {
                Log.d(TAG, "Not connected for sending");
                googleApiClient.connect();
            }
            return null;
        }
    }

    @Override
    public void onDataChanged(DataEventBuffer dataEvents) {//KS does not seem to get triggered; therefore use OnMessageReceived instead

        DataMap dataMap;

        for (DataEvent event : dataEvents) {

            if (event.getType() == DataEvent.TYPE_CHANGED) {

                String path = event.getDataItem().getUri().getPath();

                switch (path) {
                    case WEARABLE_PREF_DATA_PATH:
                        dataMap = DataMapItem.fromDataItem(event.getDataItem()).getDataMap();
                        if (dataMap != null) {
                            Log.d(TAG, "onDataChanged WEARABLE_PREF_DATA_PATH dataMap=" + dataMap);
                            syncPrefData(dataMap);
                        }
                        break;
                    default:
                        Log.d(TAG, "Unknown wearable path: " + path);
                        break;
                }
            }
        }
    }

    // incoming messages from wear device
    @Override
    public void onMessageReceived(MessageEvent event) {
        DataMap dataMap;
        byte[] decomprBytes;
        Log.d(TAG, "onMessageReceived enter");
        if (wear_integration) {
            final PowerManager.WakeLock wl = JoH.getWakeLock("watchupdate-msgrec", 60000);//KS test with 120000
            if (event != null) {
                Log.d(TAG, "wearable event path: " + event.getPath());
                switch (event.getPath()) {
                    case WEARABLE_RESEND_PATH:
                        resendData();
                        break;
                    case WEARABLE_VOICE_PAYLOAD:
                        String eventData = "";
                        try {
                            eventData = new String(event.getData(), "UTF-8");
                        } catch (UnsupportedEncodingException e) {
                            eventData = "error";
                        }
                        Log.d(TAG, "Received wearable: voice payload: " + eventData);
                        if (eventData.length() > 1)
                            receivedText(getApplicationContext(), eventData);
                        break;
                    case WEARABLE_APPROVE_TREATMENT:
                        approveTreatment(getApplicationContext(), "");
                        break;
                    case WEARABLE_CANCEL_TREATMENT:
                        cancelTreatment(getApplicationContext(), "");
                        break;
                    case WEARABLE_SNOOZE_ALERT:
                        try {
                            eventData = new String(event.getData(), "UTF-8");
                        } catch (UnsupportedEncodingException e) {
                            eventData = "30";
                        }
                        int snooze;
                        try {
                            snooze = Integer.parseInt(eventData);
                        } catch (NumberFormatException e) {
                            snooze = 30;
                        }
                        Log.d(TAG, "Received wearable: snooze payload: " + snooze);
                        AlertPlayer.getPlayer().Snooze(xdrip.getAppContext(), snooze, true);
                        JoH.static_toast_long(getResources().getString(R.string.alert_snoozed_by_watch));
                        break;
                    case SYNC_BGS_PATH + "_BM"://TEST ignore only for benchmark
                    case SYNC_LOGS_PATH + "_BM":
                    case SYNC_BGS_PATH + "_BM_DUP":
                    case SYNC_LOGS_PATH + "_BM_DUP":
                    case SYNC_BGS_PATH + "_BM_RAND":
                    case SYNC_LOGS_PATH + "_BM_RAND":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = event.getData();
                        if (decomprBytes != null) {
                            //Log.d(TAG, "Benchmark: " + event.getPath() + "event.getData().length=" + decomprBytes.length);
                        }
                        break;
                    case SYNC_BGS_PATH + "_BM_COMPRESS"://TEST ignore only for benchmark
                    case SYNC_BGS_PATH + "_BM_DUP_COMPRESS":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = decompressBytes(event.getPath(), event.getData(), true);//bBenchmark
                        dataMap = DataMap.fromByteArray(decomprBytes);
                        if (dataMap != null) {
                            syncTransmitterData(dataMap, true);//bBenchmark=true
                        }
                        break;
                    case SYNC_LOGS_PATH + "_BM_COMPRESS":
                    case SYNC_LOGS_PATH + "_BM_DUP_COMPRESS":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = decompressBytes(event.getPath(), event.getData(), true);
                        dataMap = DataMap.fromByteArray(decomprBytes);
                        if (dataMap != null) {
                            syncLogData(dataMap, true);//bBenchmark=true
                        }
                        break;
                    case SYNC_BGS_PATH + "_BM_RAND_COMPRESS":
                    case SYNC_LOGS_PATH + "_BM_RAND_COMPRESS":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = decompressBytes(event.getPath(), event.getData(), true);
                        break;
                    case SYNC_BGS_PATH://KS
                        Log.d(TAG, "onMessageReceived SYNC_BGS_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_BGS_PATH dataMap=" + dataMap);
                                syncTransmitterData(dataMap, false);
                            }
                        }
                        break;
                    case SYNC_LOGS_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_LOGS_PATH");
                        if (event.getData() != null) {
                            decomprBytes = decompressBytes(event.getPath(), event.getData(), false);
                            dataMap = DataMap.fromByteArray(decomprBytes);//event.getData()
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_LOGS_PATH");
                                syncLogData(dataMap, false);
                            }
                        }
                        break;
                    case SYNC_LOGS_REQUESTED_PATH:
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            syncLogsRequested = dataMap.getLong("syncLogsRequested", -1);
                            Log.d(TAG, "onMessageReceived SYNC_LOGS_REQUESTED_PATH syncLogsRequested=" + syncLogsRequested);
                        }
                        break;
                    case SYNC_STEP_SENSOR_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_STEP_SENSOR_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_STEP_SENSOR_PATH dataMap=" + dataMap);
                                syncStepSensorData(dataMap, false);
                            }
                        }
                        break;
                    case SYNC_HEART_SENSOR_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_HEART_SENSOR_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_HEART_SENSOR_PATH dataMap=" + dataMap);
                                syncHeartSensorData(dataMap, false);
                            }
                        }
                        break;
                    case SYNC_TREATMENTS_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_TREATMENTS_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_TREATMENTS_PATH dataMap=" + dataMap);
                                syncTreatmentsData(dataMap, false);
                            }
                        }
                        break;
                    case WEARABLE_INITDB_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_INITDB_PATH");
                        initWearData();
                        break;
                    case WEARABLE_INITTREATMENTS_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_INITTREATMENTS_PATH");
                        initWearTreatments();
                        break;
                    case WEARABLE_REPLYMSG_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_REPLYMSG_PATH");
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            Log.d(TAG, "onMessageReceived WEARABLE_REPLYMSG_PATH dataMap=" + dataMap);
                            String action_path = dataMap.getString("action_path", "");
                            if (action_path != null && !action_path.isEmpty()) {
                                switch (action_path) {
                                    case START_COLLECTOR_PATH:
                                        String msg = dataMap.getString("msg", "");
                                        JoH.static_toast_short(msg);
                                        break;
                                    case STATUS_COLLECTOR_PATH:
                                        Log.d(TAG, "onMessageReceived WEARABLE_REPLYMSG_PATH send LocalBroadcastManager ACTION_BLUETOOTH_COLLECTION_SERVICE_UPDATE=" + ACTION_BLUETOOTH_COLLECTION_SERVICE_UPDATE);
                                        final Intent intent = new Intent(ACTION_BLUETOOTH_COLLECTION_SERVICE_UPDATE);
                                        intent.putExtra("data", dataMap.toBundle());//msg
                                        LocalBroadcastManager.getInstance(xdrip.getAppContext()).sendBroadcast(intent);
                                        break;
                                }
                            }
                        }
                        break;
                    case WEARABLE_G5BATTERY_PAYLOAD:
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            Log.d(TAG, "onMessageReceived WEARABLE_FIELD_SENDPATH dataMap=" + dataMap);
                            syncFieldData(dataMap);
                        }
                        break;
                    case WEARABLE_INITPREFS_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_INITPREFS_PATH");
                        sendPrefSettings();
                        break;
                    case WEARABLE_LOCALE_CHANGED_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_LOCALE_CHANGED_PATH");
                        sendLocale();
                        break;
                    case WEARABLE_PREF_DATA_PATH:
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            Log.d(TAG, "onMessageReceived WEARABLE_PREF_DATA_PATH dataMap=" + dataMap);
                            syncPrefData(dataMap);
                        }
                        break;
                    default:
                        Log.d(TAG, "Unknown wearable path: " + event.getPath());
                        super.onMessageReceived(event);
                }
            }
            JoH.releaseWakeLock(wl);
        } else {
            super.onMessageReceived(event);
        }
    }

    private byte[] decompressBytes(String pathdesc, byte[] bytes, boolean bBenchmark) {
        byte[] decomprBytes;
        if ((bytes.length > 8)
                && (bytes[0] == (byte) 0x1F)
                && (bytes[1] == (byte) 0x8B)
                && (bytes[2] == (byte) 0x08)
                && (bytes[3] == (byte) 0x00)) {
            if (bBenchmark) {
                double benchmark_time = ts();
                JoH.benchmark(null);
                decomprBytes = JoH.decompressBytesToBytes(bytes);
                String msg = pathdesc + " JoH.decompressBytesToBytes from length=" + bytes.length + " to length=" + decomprBytes.length;
                JoH.benchmark(msg);
                msg = msg + " " + (ts() - benchmark_time) + " ms";
                sendDataReceived(DATA_ITEM_RECEIVED_PATH, msg, 1, "BM", -1);//"DATA_RECEIVED"
                return decomprBytes;
            }
            else {
                decomprBytes = JoH.decompressBytesToBytes(bytes);
                Log.d(TAG, pathdesc + " JoH.decompressBytesToBytes from length=" + bytes.length + " to length=" + decomprBytes.length);
                return decomprBytes;
            }
        }
        else {
            Log.d(TAG, "Benchmark: decompressBytesToBytes DataMap is not compressed!  Process as normal. length=" + bytes.length);
            return bytes;
        }
    }

    private void sendData() {
        BgReading bg = BgReading.last();
        if (bg != null) {
            forceGoogleApiConnect();
            if (wear_integration) {
                final int battery = PowerStateReceiver.getBatteryLevel(getApplicationContext());
                new SendToDataLayerThread(WEARABLE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap(bg, mPrefs, new BgGraphBuilder(getApplicationContext()), battery));
            }
        }
    }

    private void resendData() {
        Log.d(TAG, "resendData ENTER");
        forceGoogleApiConnect();
        Log.d(TAG, "resendData googleApiClient connected ENTER");
        long startTime = new Date().getTime() - (60000 * 60 * 24);
        BgReading last_bg = BgReading.last();
        if (last_bg != null) {
            List<BgReading> graph_bgs = BgReading.latestForGraph(60, startTime);
            BgGraphBuilder bgGraphBuilder = new BgGraphBuilder(getApplicationContext());
            if (!graph_bgs.isEmpty()) {
                final int battery = PowerStateReceiver.getBatteryLevel(getApplicationContext());
                DataMap entries = dataMap(last_bg, mPrefs, bgGraphBuilder, battery);
                final ArrayList<DataMap> dataMaps = new ArrayList<>(graph_bgs.size());
                for (BgReading bg : graph_bgs) {
                    dataMaps.add(dataMap(bg, mPrefs, bgGraphBuilder, battery));
                }
                entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                entries.putDataMapArrayList("entries", dataMaps);
                if (mPrefs.getBoolean("extra_status_line", false)) {
                    entries.putString("extra_status_line", Home.extraStatusLine());
                }

                new SendToDataLayerThread(WEARABLE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
            }
        }
    }

    private void sendNotification(String path, String notification) {//KS add args
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            Log.d(TAG, "sendNotification Notification=" + notification + " Path=" + path);
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(path);
            //unique content
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putString(notification, notification);
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "sendNotification No connection to wearable available!");
        }
    }

    private void sendRequestExtra(String path, String key, String value) {
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(path);//NEW_STATUS_PATH
            //unique content
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putString(key, value);//"externalStatusString"
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e("sendRequestExtra", "No connection to wearable available!");
        }
    }

    private void sendRequestExtra(String path, String key, boolean value) {
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(path);//NEW_STATUS_PATH
            //unique content
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putBoolean(key, value);//"externalStatusString"
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e("sendRequestExtra", "No connection to wearable available!");
        }
    }


    // sending to watch - beware we munge the calculated value and replace with display glucose
    private DataMap dataMap(BgReading bg, SharedPreferences sPrefs, BgGraphBuilder bgGraphBuilder, int battery) {
        Double highMark = Double.parseDouble(sPrefs.getString("highValue", "170"));
        Double lowMark = Double.parseDouble(sPrefs.getString("lowValue", "70"));
        DataMap dataMap = new DataMap();

        //int battery = BgSendQueue.getBatteryLevel(getApplicationContext());

        // TODO this is inefficent when we are called in a loop instead should be passed in or already stored in bgreading
        final BestGlucose.DisplayGlucose dg = BestGlucose.getDisplayGlucose(); // current best


        dataMap.putString("sgvString", dg != null && bg.dg_mgdl > 0 ? dg.unitized : bgGraphBuilder.unitized_string(bg.calculated_value));

        dataMap.putString("slopeArrow", bg.slopeArrow());
        dataMap.putDouble("timestamp", bg.timestamp); //TODO: change that to long (was like that in NW)

        // This delta string only applies to the last reading even if we are processing historical data here
        if (dg != null) {
            dataMap.putString("delta", dg.unitized_delta);
        } else {
            dataMap.putString("delta", bgGraphBuilder.unitizedDeltaString(true, true, true));
        }
        dataMap.putString("battery", "" + battery);
        dataMap.putLong("sgvLevel", sgvLevel(bg.dg_mgdl > 0 ? bg.dg_mgdl : bg.calculated_value, sPrefs, bgGraphBuilder));
        dataMap.putInt("batteryLevel", (battery >= 30) ? 1 : 0);
        dataMap.putDouble("sgvDouble", bg.dg_mgdl > 0 ? bg.dg_mgdl : bg.calculated_value);
        dataMap.putDouble("high", inMgdl(highMark, sPrefs));
        dataMap.putDouble("low", inMgdl(lowMark, sPrefs));
        dataMap.putInt("bridge_battery", mPrefs.getInt("bridge_battery", -1));//Used in DexCollectionService
        //if (sPrefs.getBoolean("extra_status_line", false)) {
        //    dataMap.putString("extra_status_line", Home.extraStatusLine());
        //}

        //TODO: Add raw again
        //dataMap.putString("rawString", threeRaw((prefs.getString("units", "mgdl").equals("mgdl"))));
        return dataMap;
    }

    private void sendLocale() {
        final Locale locale = Locale.getDefault();
        Log.d(TAG, "ACTION_LOCALE_CHANGED Locale changed to " + locale);
        String country = locale.getCountry();
        sendRequestExtra(WEARABLE_LOCALE_CHANGED_PATH, "locale", locale.getLanguage()+(country!=null && !country.isEmpty() ? "_"+country : ""));
    }

    // These are the settings which get sent to Wear device
    private void sendPrefSettings() {//KS
        forceGoogleApiConnect();
        DataMap dataMap = new DataMap();
        String dexCollector = "None";
        boolean enable_wearG5 = false;
        boolean force_wearG5 = false;
        String node_wearG5 = "";

        // add booleans that default to false to this list
        final List<String> defaultFalseBooleansToSend = new ArrayList<>();
        defaultFalseBooleansToSend.add("use_wear_heartrate");
        defaultFalseBooleansToSend.add("engineering_mode");

        wear_integration = mPrefs.getBoolean("wear_sync", false);
        if (wear_integration) {
            Log.d(TAG, "sendPrefSettings wear_sync=true");
            dexCollector = mPrefs.getString(DexCollectionType.DEX_COLLECTION_METHOD, "DexcomG5");
            enable_wearG5 = mPrefs.getBoolean("enable_wearG5", false);
            force_wearG5 = mPrefs.getBoolean("force_wearG5", false);
            node_wearG5 = mPrefs.getString("node_wearG5", "");
            dataMap.putString("dex_collection_method", dexCollector);
            dataMap.putBoolean("rewrite_history", mPrefs.getBoolean("rewrite_history", true));
            dataMap.putBoolean("enable_wearG5", enable_wearG5);
            dataMap.putBoolean("force_wearG5", force_wearG5);
            dataMap.putString("node_wearG5", node_wearG5);
            dataMap.putString("share_key", mPrefs.getString("share_key", "SM00000000"));//Used by DexShareCollectionService
            //Advanced Bluetooth Settings used by G4+xBridge DexCollectionService - temporarily just use the Phone's settings
            dataMap.putBoolean("use_transmiter_pl_bluetooth", mPrefs.getBoolean("use_transmiter_pl_bluetooth", false));
            dataMap.putBoolean("use_rfduino_bluetooth", mPrefs.getBoolean("use_rfduino_bluetooth", false));
            dataMap.putBoolean("automatically_turn_bluetooth_on", mPrefs.getBoolean("automatically_turn_bluetooth_on", true));
            dataMap.putBoolean("bluetooth_excessive_wakelocks", mPrefs.getBoolean("bluetooth_excessive_wakelocks", true));
            dataMap.putBoolean("close_gatt_on_ble_disconnect", mPrefs.getBoolean("close_gatt_on_ble_disconnect", true));
            dataMap.putBoolean("bluetooth_frequent_reset", mPrefs.getBoolean("bluetooth_frequent_reset", false));
            dataMap.putBoolean("bluetooth_watchdog", mPrefs.getBoolean("bluetooth_watchdog", false));
            dataMap.putInt("bridge_battery", mPrefs.getInt("bridge_battery", -1));
            dataMap.putInt("nfc_sensor_age", mPrefs.getInt("nfc_sensor_age", -1));

            dataMap.putBoolean("sync_wear_logs", mPrefs.getBoolean("sync_wear_logs", false));
            //Alerts:
            dataMap.putString("persistent_high_repeat_mins", mPrefs.getString("persistent_high_repeat_mins", "20"));
            dataMap.putString("persistent_high_threshold_mins", mPrefs.getString("persistent_high_threshold_mins", "60"));
            dataMap.putBoolean("falling_alert", mPrefs.getBoolean("falling_alert", false));
            dataMap.putString("falling_bg_val", mPrefs.getString("falling_bg_val", "2"));
            dataMap.putBoolean("rising_alert", mPrefs.getBoolean("rising_alert", false));
            dataMap.putString("rising_bg_val", mPrefs.getString("rising_bg_val", "2"));
            dataMap.putBoolean("aggressive_service_restart", mPrefs.getBoolean("aggressive_service_restart", false));

            //Extra Status Line
            dataMap.putBoolean("extra_status_line", mPrefs.getBoolean("extra_status_line", false));
            dataMap.putBoolean("extra_status_stats_24h", Pref.getBooleanDefaultFalse("extra_status_stats_24h"));
            dataMap.putBoolean("status_line_calibration_long", mPrefs.getBoolean("status_line_calibration_long", false));
            dataMap.putBoolean("status_line_calibration_short", mPrefs.getBoolean("status_line_calibration_short", false));
            dataMap.putBoolean("status_line_avg", mPrefs.getBoolean("status_line_avg", false));
            dataMap.putBoolean("status_line_a1c_dcct", mPrefs.getBoolean("status_line_a1c_dcct", false));
            dataMap.putBoolean("status_line_a1c_ifcc", mPrefs.getBoolean("status_line_a1c_ifcc", false));
            dataMap.putBoolean("status_line_in", mPrefs.getBoolean("status_line_in", false));
            dataMap.putBoolean("status_line_high", mPrefs.getBoolean("status_line_high", false));
            dataMap.putBoolean("status_line_low", mPrefs.getBoolean("status_line_low", false));
            dataMap.putBoolean("status_line_carbs", mPrefs.getBoolean("status_line_carbs", false));
            dataMap.putBoolean("status_line_insulin", mPrefs.getBoolean("status_line_insulin", false));
            dataMap.putBoolean("status_line_stdev", mPrefs.getBoolean("status_line_stdev", false));
            dataMap.putBoolean("status_line_royce_ratio", mPrefs.getBoolean("status_line_royce_ratio", false));
            dataMap.putBoolean("status_line_capture_percentage", mPrefs.getBoolean("status_line_capture_percentage", false));

            //Calibration plugin
            dataMap.putBoolean("extra_status_calibration_plugin", mPrefs.getBoolean("extra_status_calibration_plugin", false));
            dataMap.putBoolean("display_glucose_from_plugin", Pref.getBooleanDefaultFalse("display_glucose_from_plugin"));
            dataMap.putBoolean("use_pluggable_alg_as_primary", Pref.getBooleanDefaultFalse("use_pluggable_alg_as_primary"));
            if (Pref.getBooleanDefaultFalse("engineering_mode")) {
                dataMap.putBoolean("old_school_calibration_mode", Pref.getBooleanDefaultFalse("old_school_calibration_mode"));
            }

            dataMap.putBoolean("show_wear_treatments", Pref.getBooleanDefaultFalse("show_wear_treatments"));
            dataMap.putBoolean("use_ob1_g5_collector_service", Pref.getBooleanDefaultFalse("use_ob1_g5_collector_service"));
            dataMap.putString(Blukon.BLUKON_PIN_PREF, Pref.getStringDefaultBlank(Blukon.BLUKON_PIN_PREF));
        }
        //Step Counter
        // note transmutes use_pebble_health -> use_wear_health
        dataMap.putBoolean("use_wear_health", mPrefs.getBoolean("use_pebble_health", true));
        is_using_bt = DexCollectionType.hasBluetooth();

        Double highMark = Double.parseDouble(mPrefs.getString("highValue", "170"));
        Double lowMark = Double.parseDouble(mPrefs.getString("lowValue", "70"));
        Log.d(TAG, "sendPrefSettings enable_wearG5: " + enable_wearG5 + " force_wearG5:" + force_wearG5 + " node_wearG5:" + node_wearG5 + " dex_collection_method:" + dexCollector);
        dataMap.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
        dataMap.putString("dex_txid", mPrefs.getString("dex_txid", "ABCDEF"));
        dataMap.putString("units", mPrefs.getString("units", "mgdl"));
        dataMap.putDouble("high", highMark);//inMgdl(highMark, mPrefs));//KS Fix for mmol on graph Y-axis in wear standalone mode
        dataMap.putDouble("low", lowMark);//inMgdl(lowMark, mPrefs));//KS Fix for mmol on graph Y-axis in wear standalone mode
        dataMap.putBoolean("g5_non_raw_method",  mPrefs.getBoolean("g5_non_raw_method", false));
        dataMap.putString("extra_tags_for_logging",  Pref.getStringDefaultBlank("extra_tags_for_logging"));
        //dataMap.putBoolean("engineering_mode",  Pref.getBooleanDefaultFalse("engineering_mode"));
        dataMap.putBoolean("bridge_battery_alerts",  Pref.getBooleanDefaultFalse("bridge_battery_alerts"));
        dataMap.putString("bridge_battery_alert_level",  Pref.getString("bridge_battery_alert_level", "30"));
        final Locale locale = Locale.getDefault();
        String country = locale.getCountry();
        dataMap.putString("locale",  locale.getLanguage()+(country!=null && !country.isEmpty() ? "_"+country : ""));

        for (String pref : defaultFalseBooleansToSend) {
            dataMap.putBoolean(pref, Pref.getBooleanDefaultFalse(pref));
        }

        new SendToDataLayerThread(WEARABLE_PREF_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap);
    }

    private boolean sendSensorData() {//KS
        try {

            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                Sensor sensor = Sensor.currentSensor();
                if (sensor != null) {
                    if (wear_integration) {
                        DataMap dataMap = new DataMap();
                        Log.d(TAG, "Sensor sendSensorData uuid=" + sensor.uuid + " started_at=" + sensor.started_at + " active=" + Sensor.isActive() + " battery=" + sensor.latest_battery_level + " location=" + sensor.sensor_location + " stopped_at=" + sensor.stopped_at);
                        String json = sensor.toS();
                        Log.d(TAG, "dataMap sendSensorData GSON: " + json);

                        dataMap.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP

                        dataMap.putString("dex_txid", mPrefs.getString("dex_txid", "ABCDEF"));//KS
                        dataMap.putLong("started_at", sensor.started_at);
                        dataMap.putString("uuid", sensor.uuid);
                        dataMap.putInt("latest_battery_level", sensor.latest_battery_level);
                        dataMap.putString("sensor_location", sensor.sensor_location);

                        new SendToDataLayerThread(WEARABLE_SENSOR_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap);
                        return true;
                    }
                } else
                    Log.e(TAG, "sendSensorData current sensor is null!");
            } else {
                Log.e(TAG, "sendSensorData No connection to wearable available for send Sensor!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearCalibrationData: " + e);
            return false;
        }
        return true;
    }

    private void sendActiveBtDeviceData() {//KS
        if (is_using_bt) {//only required for Collector running on watch
            forceGoogleApiConnect();
            ActiveBluetoothDevice btDevice = ActiveBluetoothDevice.first();
            if (btDevice != null) {
                if (wear_integration) {
                    DataMap dataMap = new DataMap();
                    Log.d(TAG, "sendActiveBtDeviceData name=" + btDevice.name + " address=" + btDevice.address + " connected=" + btDevice.connected);

                    dataMap.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP

                    dataMap.putString("name", btDevice.name);
                    dataMap.putString("address", btDevice.address);
                    dataMap.putBoolean("connected", btDevice.connected);

                    new SendToDataLayerThread(WEARABLE_ACTIVEBTDEVICE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap);
                }
            }
        } else {
            Log.d(TAG, "Not sending activebluetoothdevice data as we are not using bt");
        }
    }

    private void sendAlertTypeData() {//KS
        try {
            forceGoogleApiConnect();
            List <AlertType> alerts = AlertType.getAllActive();
            if (alerts != null) {
                if (wear_integration) {
                    Log.d(TAG, "sendAlertTypeData latest count = " + alerts.size());
                    final DataMap entries = new DataMap();
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(alerts.size());
                    for (AlertType alert : alerts) {
                        if (alert != null) {
                            dataMaps.add(dataMap(alert, "alert"));
                        }
                    }
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_ALERTTYPE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendAlertTypeData latest count = 0");
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendAlertTypeData: " + e);
        }
    }

    private DataMap dataMap(AlertType alert, String type) {//KS
        DataMap dataMap = new DataMap();
        String json = alert.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString(type, json);
        return dataMap;
    }

    public static boolean sendWearUpload(List<BgReading> bgs, List<Calibration> cals, List<BloodTest> bts, List<Treatments> treatsAdd, List<String> treatsDel) {
        boolean statusCals = sendWearCalibrationData(0, 0, cals);
        boolean statusBgs = sendWearBgData(0, 0, bgs);
        boolean statusBts = sendWearBloodTestData(0, 0, bts);
        boolean statusTreats = sendWearTreatmentsData(0, 0, treatsAdd);
        boolean statusTreatsDel = sendWearTreatmentsDataDelete(treatsDel);
        return (statusCals && statusBts && statusTreats && statusTreatsDel && statusBgs);
    }

    public static boolean sendWearTreatmentsDataDelete(List<String> list) {
        if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
            googleApiClient.connect();
        }
        if (googleApiClient != null) {
            if (!list.isEmpty()) {
                Log.d(TAG, "sendWearTreatmentsDataDelete graph size=" + list.size());
                DataMap entries = new DataMap();
                entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                entries.putString("action", "delete");
                entries.putStringArrayList("entries", (new ArrayList<String>(list)));
                new SendToDataLayerThread(WEARABLE_TREATMENTS_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
            }
            else
                Log.d(TAG, "sendWearTreatmentsDataDelete treatments count = 0");
        } else {
            Log.e(TAG, "sendWearTreatmentsData No connection to wearable available for send treatment!");
            return false;
        }
        return true;
    }

    public static boolean sendWearTreatmentsData(Integer count, long startTime) {
        return sendWearTreatmentsData(count, startTime, null);
    }

    public static boolean sendWearTreatmentsData(Integer count, long startTime, List<Treatments> list) {
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                Treatments last = list != null && list.size() > 0 ? list.get(0) : Treatments.last();
                if (last != null) {
                    Log.d(TAG, "sendWearTreatmentsData last.timestamp:" +  JoH.dateTimeText(last.timestamp));
                }
                else {
                    Log.d(TAG, "sendWearTreatmentsData no treatments exist");
                    return true;
                }
                List<Treatments> graph;
                if (list != null)
                    graph = list;
                else if (startTime == 0)
                    graph = Treatments.latest(count);
                else
                    graph = Treatments.latestForGraph(count, startTime);
                if (!graph.isEmpty()) {
                    Log.d(TAG, "sendWearTreatmentsData graph size=" + graph.size());
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(graph.size());
                    DataMap entries = dataMap(last);
                    for (Treatments data : graph) {
                        dataMaps.add(dataMap(data));
                    }
                    Log.d(TAG, "sendWearTreatmentsData entries=" + entries);
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putString("action", "insert");
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_TREATMENTS_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                }
                else
                    Log.d(TAG, "sendWearTreatmentsData treatments count = 0");
            } else {
                Log.e(TAG, "sendWearTreatmentsData No connection to wearable available for send treatment!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearTreatmentsData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(Treatments data) {
        DataMap dataMap = new DataMap();
        String json = data.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString("data", json);
        return dataMap;
    }

    public static boolean sendWearBloodTestData(Integer count, long startTime) {
        return sendWearBloodTestData(count, startTime, null);
    }

    public static boolean sendWearBloodTestData(Integer count, long startTime, List<BloodTest> list) {//DataMap
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                BloodTest last = list != null && list.size() > 0 ? list.get(0) : BloodTest.last();
                if (last != null) {
                    Log.d(TAG, "sendWearBloodTestData last.timestamp:" +  JoH.dateTimeText(last.timestamp));
                }
                else {
                    Log.d(TAG, "sendWearBloodTestData no BloodTest exist");
                    return true;
                }
                List<BloodTest> graph;
                if (list != null)
                    graph = list;
                else if (startTime == 0)
                    graph = BloodTest.last(count);
                else
                    graph = BloodTest.latestForGraph(count, startTime);
                if (!graph.isEmpty()) {
                    Log.d(TAG, "sendWearBloodTestData graph size=" + graph.size());
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(graph.size());
                    DataMap entries = dataMap(last);
                    for (BloodTest data : graph) {
                        dataMaps.add(dataMap(data));
                    }
                    Log.d(TAG, "sendWearBloodTestData entries=" + entries);
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_BLOODTEST_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                }
                else
                    Log.d(TAG, "sendWearBloodTestData BloodTest count = 0");
            } else {
                Log.e(TAG, "sendWearBloodTestData No connection to wearable available for send BloodTest!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearBloodTestData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(BloodTest data) {
        DataMap dataMap = new DataMap();
        String json = data.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString("data", json);
        return dataMap;
    }

    private boolean sendWearCalibrationData(Integer count) {
        return sendWearCalibrationData(count, 0);
    }

    private boolean sendWearCalibrationData(Integer count, long startTime) {
        return sendWearCalibrationData(count, startTime, null);
    }

    private static boolean sendWearCalibrationData(Integer count, long startTime, List<Calibration> list) {
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            //if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            if (googleApiClient != null) {
                Log.d(TAG, "sendWearCalibrationData");
                final Sensor sensor = Sensor.currentSensor();
                final Calibration last = list != null && list.size() > 0 ? list.get(0) : Calibration.last();

                List<Calibration> latest;
                BgReading lastBgReading = BgReading.last();
                //From BgReading: if (lastBgReading.calibration_flag == true && ((lastBgReading.timestamp + (60000 * 20)) > bgReading.timestamp) && ((lastBgReading.calibration.timestamp + (60000 * 20)) > bgReading.timestamp))
                //From BgReading:     lastBgReading.calibration.rawValueOverride()
                if (list != null)
                    latest = list;
                else if (startTime != 0)
                    latest = Calibration.latestForGraphSensor(count, startTime, Long.MAX_VALUE);
                else if (lastBgReading != null && lastBgReading.calibration != null && lastBgReading.calibration_flag == true) {
                    Log.d(TAG, "sendWearCalibrationData lastBgReading.calibration_flag=" + lastBgReading.calibration_flag + " lastBgReading.timestamp: " + lastBgReading.timestamp + " lastBgReading.calibration.timestamp: " + lastBgReading.calibration.timestamp);
                    latest = Calibration.allForSensor();
                }
                else {
                    latest = Calibration.latest(count);
                }

                if ((sensor != null) && (last != null) && (latest != null && !latest.isEmpty())) {
                    Log.d(TAG, "sendWearCalibrationData latest count = " + latest.size());
                    final DataMap entries = dataMap(last);
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(latest.size());
                    if (sensor.uuid != null) {
                        for (Calibration bg : latest) {
                            if ((bg != null) && (bg.sensor_uuid != null) && (bg.sensor_uuid.equals(sensor.uuid))) {
                                dataMaps.add(dataMap(bg));
                            }
                        }
                    }
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_CALIBRATION_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendWearCalibrationData latest count = 0");
            } else {
                Log.e(TAG, "sendWearCalibrationData No connection to wearable available for send treatment!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearCalibrationData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(Calibration bg) {//KS
        DataMap dataMap = new DataMap();
        String json = bg.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString("bgs", json);
        return dataMap;
    }

    private boolean sendWearBgData(Integer count) {
        return sendWearBgData(count, 0);
    }

    private boolean sendWearBgData(Integer count, long startTime) {
        return sendWearBgData(count, startTime, null);
    }

    private static boolean sendWearBgData(Integer count, long startTime, List<BgReading> list) {
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                //googleApiConnect();
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                Log.d(TAG, "sendWearBgData");
                final BgReading last = BgReading.last();
                List<BgReading> latest;
                if (list != null)
                    latest = list;
                else if (startTime != 0)
                    latest = BgReading.latestForGraphSensor(count, startTime, Long.MAX_VALUE);
                else
                    latest = BgReading.latest(count);
                if ((last != null) && (latest != null && !latest.isEmpty())) {
                    final int battery = PowerStateReceiver.getBatteryLevel(xdrip.getAppContext());
                    Log.d(TAG, "sendWearBgData latest count = " + latest.size() + " battery=" + battery);
                    final DataMap entries = dataMap(last);
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(latest.size());
                    final Sensor sensor = Sensor.currentSensor();
                    if ((sensor != null) && (sensor.uuid != null)) {
                        for (BgReading bg : latest) {
                            if ((bg != null) && (bg.sensor_uuid != null) && (bg.sensor_uuid.equals(sensor.uuid) && (bg.calibration_uuid != null))) {
                                dataMaps.add(dataMap(bg));
                            }
                        }
                    }
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putInt("battery", battery);
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_BG_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendWearBgData lastest count = 0");
            } else {
                Log.e(TAG, "sendWearBgData No connection to wearable available for send BG!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearBgData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(BgReading bg) {//KS
        DataMap dataMap = new DataMap();
        //KS Fix for calibration_uuid not being set in Calibration.create which updates bgReading to new calibration ln 497
        //if (bg.calibration_flag == true) {
        //    bg.calibration_uuid = bg.calibration.uuid;
        //}
        dataMap.putString("calibrationUuid", bg.calibration.uuid);

        String json = bg.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString("bgs", json);
        return dataMap;
    }

    private void initWearData() {
        if (JoH.ratelimit("watch_init_wear_data",120)) {
            wear_integration = mPrefs.getBoolean("wear_sync", false);
            if (wear_integration) {//is_using_bt
                Log.d(TAG, "***initWearData***");
                sendSensorData();
                sendActiveBtDeviceData();
                sendAlertTypeData();
                if (mPrefs.getBoolean("show_wear_treatments", false)) {
                    initWearTreatments();
                } else {
                    sendWearCalibrationData(sendCalibrationCount);
                    sendWearBgData(sendBgCount);
                }
                sendData();//ensure BgReading.Last is displayed on watch
            } else {
                Log.d(TAG, "Skip initWearData as wear integration is disabled");
            }
        }
        else
            Log.d(TAG, "Skip initWearData due to exceeding ratelimit");
    }

    private void initWearTreatments() {
        long startTime = new Date().getTime() - (60000 * 60 * 24 * 3);//3 days
        if (JoH.ratelimit("watch_init_wear_treatments_data",60)) {
            Log.d(TAG, "initWearTreatments clear treatments and re-init from startTime=" + JoH.dateTimeText(startTime));
            sendNotification(CLEAR_TREATMENTS_PATH, "clearTreatments");//this necessary to ensure deleted treatments are cleared
            sendWearTreatmentsData(sendTreatmentsCount, startTime);
            sendWearBloodTestData(sendTreatmentsCount, startTime);
            sendWearCalibrationData(sendTreatmentsCount, startTime);
            sendWearBgData(sendTreatmentsCount, startTime);
        }
        else
            Log.d(TAG, "Skip initWearTreatments due to exceeding ratelimit");
    }

    private long sgvLevel(double sgv_double, SharedPreferences prefs, BgGraphBuilder bgGB) {
        Double highMark = Double.parseDouble(prefs.getString("highValue", "170"));
        Double lowMark = Double.parseDouble(prefs.getString("lowValue", "70"));
        if (bgGB.unitized(sgv_double) >= highMark) {
            return 1;
        } else if (bgGB.unitized(sgv_double) >= lowMark) {
            return 0;
        } else {
            return -1;
        }
    }

    private double inMgdl(double value, SharedPreferences sPrefs) {
        if (!doMgdl(sPrefs)) {
            return value * Constants.MMOLL_TO_MGDL;
        } else {
            return value;
        }

    }

    static public int readPrefsInt(SharedPreferences prefs, String name, int defaultValue) {
        try {
            return Integer.parseInt(prefs.getString(name, "" + defaultValue));

        } catch (Exception e) {
            return defaultValue;
        }
    }

    @Override
    public void onDestroy() {
        if (googleApiClient != null && googleApiClient.isConnected()) {
            googleApiClient.disconnect();
        }
        if (mPrefs != null && mPreferencesListener != null) {
            mPrefs.unregisterOnSharedPreferenceChangeListener(mPreferencesListener);
        }
    }

    @Override
    public void onConnectionSuspended(int cause) {
    }

    @Override
    public void onConnectionFailed(ConnectionResult connectionResult) {
    }
}

            </pre>
          </div>
        </div>

        
        <hr class="col-lg-12 col-md-12 mb-12">
        <div class="row">
          <div class="col-lg-12 col-md-12 mb-12">
            <h6>NightscoutFoundation_____xDrip_____WatchUpdaterService_3.java</h6>
            <pre class="prettyprint">
/ssd1/dayen/analogy/data/qual_study/com_google_gson/NightscoutFoundation_____xDrip_____WatchUpdaterService.java

com.google.gson.GsonBuilder.&ltinit&gt
com.google.gson.GsonBuilder.excludeFieldsWithoutExposeAnnotation
com.google.gson.internal.bind.DateTypeAdapter.&ltinit&gt
com.google.gson.Gson.fromJson


    private synchronized void syncTransmitterData(DataMap dataMap, boolean bBenchmark) {//KS
        Log.d(TAG, "syncTransmitterData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastBG = 0;
        Log.d(TAG, "syncTransmitterData add BgReading Table");
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            int idx = 0;
            int count = entries.size();
            Log.d(TAG, "syncTransmitterData add BgReading Table entries count=" + count);
            for (DataMap entry : entries) {
                if (entry != null) {
                    //Log.d(TAG, "syncTransmitterData add BgReading Table entry=" + entry);
                    idx++;
                    String bgrecord = entry.getString("bgs");
                    if (bgrecord != null) {//for (TransmitterData bgData : bgs) {
                        //Log.d(TAG, "syncTransmitterData add TransmitterData Table bgrecord=" + bgrecord);
                        TransmitterData bgData = gson.<mark>fromJson</mark>(bgrecord, TransmitterData.class);
                        //TransmitterData bgData = <mark>new GsonBuilder</mark>().<mark>excludeFieldsWithoutExposeAnnotation</mark>().create().<mark>fromJson</mark>(bgrecord, TransmitterData.class);
                        TransmitterData exists = TransmitterData.getForTimestamp(bgData.timestamp);
                        TransmitterData uuidexists = TransmitterData.findByUuid(bgData.uuid);
                        timeOfLastBG = bgData.timestamp + 1;
                        if (exists != null || uuidexists != null) {
                            Log.d(TAG, "syncTransmitterData BG already exists for uuid=" + bgData.uuid + " timestamp=" + bgData.timestamp + " timeString=" + JoH.dateTimeText(bgData.timestamp) + " raw_data=" + bgData.raw_data);
                        } else {
                            Log.d(TAG, "syncTransmitterData add BG; does NOT exist for uuid=" + bgData.uuid + " timestamp=" + bgData.timestamp + " timeString=" + JoH.dateTimeText(bgData.timestamp) + " raw_data=" + bgData.raw_data);
                            if (!bBenchmark) {
                                bgData.save();

                                //Check
                                if (TransmitterData.findByUuid(bgData.uuid) != null)
                                    Log.d(TAG, "syncTransmitterData: TransmitterData was saved for uuid:" + bgData.uuid);
                                else {
                                    Log.e(TAG, "syncTransmitterData: TransmitterData was NOT saved for uuid:" + bgData.uuid);
                                    return;
                                }

                                //KS the following is from G5CollectionService processNewTransmitterData()
                                Sensor sensor = Sensor.currentSensor();
                                if (sensor == null) {
                                    Log.e(TAG, "syncTransmitterData: No Active Sensor, Data only stored in Transmitter Data");
                                    return;
                                }
                                //TODO : LOG if unfiltered or filtered values are zero
                                Sensor.updateBatteryLevel(sensor, bgData.sensor_battery_level);
                                Log.i(TAG, "syncTransmitterData: BG timestamp create " + Long.toString(bgData.timestamp));//android.util.Log.i
                                BgReading bgExists;

                                //KS TODO wear implements limited alerts, therefore continue to process all alerts on phone for last entry
                                if (count > 1 && idx < count) {
                                    bgExists = BgReading.create(bgData.raw_data, bgData.filtered_data, this, bgData.timestamp, true);//Disable Notifications for bulk insert
                                } else {
                                    bgExists = BgReading.create(bgData.raw_data, bgData.filtered_data, this, bgData.timestamp);
                                }
                                if (bgExists != null)
                                    Log.d(TAG, "syncTransmitterData BG GSON saved BG: " + bgExists.toS());
                                else
                                    Log.e(TAG, "syncTransmitterData BG GSON NOT saved");
                            }
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_BGS count=" + entries.size(), timeOfLastBG, bBenchmark ? "BM" : "BG", -1);
        }
    }

    private synchronized void syncLogData(DataMap dataMap, boolean bBenchmark) {//KS
        Log.d(TAG, "syncLogData");
        long watch_syncLogsRequested = dataMap.getLong("syncLogsRequested", -1);
        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        int saved = 0;
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            Log.d(TAG, "syncLogData add Table entries count=" + entries.size() + " watch_syncLogsRequested=" + watch_syncLogsRequested);
            for (DataMap entry : entries) {
                if (entry != null) {
                    String record = entry.getString("entry");
                    if (record != null) {
                        UserError data = gson.<mark>fromJson</mark>(record, UserError.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            if (data.shortError != null && !data.shortError.isEmpty()) { //add wear prefix
                                if (!data.shortError.startsWith("wear")) {
                                    data.shortError = mPrefs.getString("wear_logs_prefix", "wear") + data.shortError;
                                }
                            }
                            UserError exists = UserError.getForTimestamp(data);
                            if (exists == null && !bBenchmark) {
                                data.save();
                                saved++;
                            } else {
                                //Log.d(TAG, "syncLogData Log entry already exists with shortError=" + data.shortError + " timestamp=" + JoH.dateTimeText((long)data.timestamp));
                            }
                        }
                    }
                }
            }
            if (saved > 0) {
                Log.d(TAG, "syncLogData Saved timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " saved=" + saved);
            } else {
                Log.d(TAG, "syncLogData No records saved due to being duplicates! timeOfLastEntry=" + JoH.dateTimeText(timeOfLastEntry) + " count=" + entries.size());
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "LOG", watch_syncLogsRequested);
        }
    }

    private synchronized void syncStepSensorData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncStepSensorData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        Log.d(TAG, "syncStepSensorData add to Table");
        if (entries != null) {

            Gson gson = <mark>new GsonBuilder</mark>()
                    .<mark>excludeFieldsWithoutExposeAnnotation</mark>()
                    .registerTypeAdapter(Date.class, <mark>new DateTypeAdapter</mark>())
                    .serializeSpecialFloatingPointValues()
                    .create();

            StepCounter pm = StepCounter.last();
            Log.d(TAG, "syncStepSensorData add Table entries count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncStepSensorData add Table entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null) {
                        Log.d(TAG, "syncStepSensorData add Table record=" + record);
                        StepCounter data = gson.<mark>fromJson</mark>(record, StepCounter.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            Log.d(TAG, "syncStepSensorData add Entry Wear=" + data.toString());
                            Log.d(TAG, "syncStepSensorData WATCH data.metric=" + data.metric + " timestamp=" + JoH.dateTimeText((long) data.timestamp));
                            if (!bBenchmark)
                                data.saveit();
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "STEP", -1);
        }
    }

    private synchronized void syncHeartSensorData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncHeartSensorData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        Log.d(TAG, "syncHeartSensorData add to Table");
        if (entries != null) {

            final Gson gson = JoH.defaultGsonInstance();

            //final HeartRate pm = HeartRate.last();
            Log.d(TAG, "syncHeartSensorData add Table entries count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncHeartSensorData add Table entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null) {
                        Log.d(TAG, "syncHeartSensorData add Table record=" + record);
                        final HeartRate data = gson.<mark>fromJson</mark>(record, HeartRate.class);
                        if (data != null) {
                            timeOfLastEntry = (long) data.timestamp + 1;
                            Log.d(TAG, "syncHeartSensorData add Entry Wear=" + data.toString() + " " + record);
                            Log.d(TAG, "syncHeartSensorData WATCH data.metric=" + data.bpm + " timestamp=" + JoH.dateTimeText((long) data.timestamp));
                            if (!bBenchmark)
                                data.saveit();
                        }
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "HEART", -1);
        }
    }


    private synchronized void syncTreatmentsData(DataMap dataMap, boolean bBenchmark) {
        Log.d(TAG, "syncTreatmentsData");

        ArrayList<DataMap> entries = dataMap.getDataMapArrayList("entries");
        long timeOfLastEntry = 0;
        if (entries != null) {
            Log.d(TAG, "syncTreatmentsData count=" + entries.size());
            for (DataMap entry : entries) {
                if (entry != null) {
                    Log.d(TAG, "syncTreatmentsData entry=" + entry);
                    String record = entry.getString("entry");
                    if (record != null && record.length() > 1) {
                        Log.d(TAG, "Received wearable 2: voice payload: " + record);
                        long timestamp = entry.getLong("timestamp");
                        if (timestamp <= PersistentStore.getLong(LAST_RECORD_TIMESTAMP)) {
                            Log.e(TAG, "Ignoring repeated or older sync timestamp");
                            continue;
                        }
                        final long since = JoH.msSince(timestamp);
                        if ((since < -(Constants.SECOND_IN_MS * 5)) || (since > Constants.HOUR_IN_MS * 72)) {
                            JoH.static_toast_long("Rejecting wear treatment as time out of range!");
                            UserError.Log.e(TAG, "Rejecting wear treatment due to time: " + record + " since: " + since);
                        } else {
                            if (record.contains("uuid null")) {
                                Log.e(TAG, "Skipping xx uuid null record!");
                                continue;
                            }
                            receivedText(getApplicationContext(), record);
                            PersistentStore.setLong(LAST_RECORD_TIMESTAMP, timestamp);
                        }
                        Log.d(TAG, "syncTreatmentsData add Table record=" + record);
                        timeOfLastEntry = (long) timestamp + 1;
                        Log.d(TAG, "syncTreatmentsData WATCH treatments timestamp=" + JoH.dateTimeText(timestamp));
                    }
                }
            }
            sendDataReceived(DATA_ITEM_RECEIVED_PATH, "DATA_RECEIVED_LOGS count=" + entries.size(), timeOfLastEntry, bBenchmark ? "BM" : "TREATMENTS", -1);
        }
    }

    public static void sendWearToast(String msg, int length) {
        if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(WEARABLE_TOAST_NOTIFICATON);
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putInt("length", length);
            dataMapRequest.getDataMap().putString("msg", msg);
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "No connection to wearable available for toast! " + msg);
        }
    }

    public static void sendWearLocalToast(String msg, int length) {
        if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(WEARABLE_TOAST_LOCAL_NOTIFICATON);
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putInt("length", length);
            dataMapRequest.getDataMap().putString("msg", msg);
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "No connection to wearable available for toast! " + msg);
        }
    }

    public static void sendTreatment(double carbs, double insulin, double bloodtest, double timeoffset, String timestring) {
        if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(WEARABLE_TREATMENT_PAYLOAD);
            //unique content
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putDouble("carbs", carbs);
            dataMapRequest.getDataMap().putDouble("insulin", insulin);
            dataMapRequest.getDataMap().putDouble("bloodtest", bloodtest);
            dataMapRequest.getDataMap().putDouble("timeoffset", timeoffset);
            dataMapRequest.getDataMap().putString("timestring", timestring);
            dataMapRequest.getDataMap().putBoolean("ismgdl", doMgdl(PreferenceManager.getDefaultSharedPreferences(xdrip.getAppContext())));
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "No connection to wearable available for send treatment!");
        }
    }

    private static boolean doMgdl(SharedPreferences sPrefs) {
        String unit = sPrefs.getString("units", "mgdl");
        if (unit.compareTo("mgdl") == 0) {
            return true;
        } else {
            return false;
        }
    }

    @Override
    public void onCreate() {
        mPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
        wear_integration = mPrefs.getBoolean("wear_sync", false);
        //is_using_g5 = (getDexCollectionType() == DexCollectionType.DexcomG5);
        is_using_bt = DexCollectionType.hasBluetooth();
        if (wear_integration) {
            googleApiConnect();
        }
        setSettings();
        listenForChangeInSettings();
    }

    private void listenForChangeInSettings() {
        mPreferencesListener = new SharedPreferences.OnSharedPreferenceChangeListener() {
            public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {

                pebble_integration = mPrefs.getBoolean("pebble_sync", false);
                if (key.compareTo("bridge_battery") != 0 && key.compareTo("nfc_sensor_age") != 0 &&
                        key.compareTo("bg_notifications_watch") != 0 && key.compareTo("persistent_high_alert_enabled_watch") != 0) {

                    Log.d(TAG, "Triggering Wear Settings Update due to key=" + key);

                    Inevitable.task("wear-update-settings", 2000, () -> {
                        sendPrefSettings();
                        processConnect();
                    });

                }
            }
        };
        mPrefs.registerOnSharedPreferenceChangeListener(mPreferencesListener);
    }

    private void setSettings() {
        Log.d(TAG, "setSettings enter");
        pebble_integration = mPrefs.getBoolean("pebble_sync", false);
        processConnect();
        if (wear_integration) {
            if (googleApiClient == null) googleApiConnect();
            Log.d(TAG, "setSettings wear_sync changed to True.");
            sendPrefSettings();
        }
    }

    private void googleApiConnect() {
        if (googleApiClient != null && (googleApiClient.isConnected() || googleApiClient.isConnecting())) {
            googleApiClient.disconnect();
        }
        googleApiClient = new GoogleApiClient.Builder(this)
                .addConnectionCallbacks(this)
                .addOnConnectionFailedListener(this)
                .addApi(Wearable.API)
                .build();
        Wearable.MessageApi.addListener(googleApiClient, this);
        if (googleApiClient.isConnected()) {
            Log.d("WatchUpdater", "API client is connected");
        } else {
            googleApiClient.connect();
        }
    }

    private void forceGoogleApiConnect() {
        if ((googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) || googleApiClient == null) {
            try {
                Log.d(TAG, "forceGoogleApiConnect: forcing google api reconnection");
                googleApiConnect();
                Thread.sleep(2000);
            } catch (InterruptedException e) {
                Log.d(TAG, "forceGoogleApiConnect: exception:" + e);
            }
        }
    }

    @Override
    public void onPeerConnected(com.google.android.gms.wearable.Node peer) {//KS onPeerConnected and onPeerDisconnected deprecated at the same time as BIND_LISTENER

        super.onPeerConnected(peer);
        String id = peer.getId();
        String name = peer.getDisplayName();
        Log.d(TAG, "onPeerConnected peer name & ID: " + name + "|" + id);
        sendPrefSettings();
        if (mPrefs.getBoolean("enable_wearG5", false)) {//watch_integration
            Log.d(TAG, "onPeerConnected call initWearData for node=" + peer.getDisplayName());
            initWearData();
            //Only stop service if Phone will rely on Wear Collection Service
            if (mPrefs.getBoolean("force_wearG5", false)) {
                Log.d(TAG, "onPeerConnected force_wearG5=true Phone stopBtService and continue to use Wear G5 BT Collector");
                stopBtService();
            } else {
                Log.d(TAG, "onPeerConnected onPeerConnected force_wearG5=false Phone startBtService");
                startBtService();
            }
        }
    }

    @Override
    public void onPeerDisconnected(com.google.android.gms.wearable.Node peer) {//KS onPeerConnected and onPeerDisconnected deprecated at the same time as BIND_LISTENER
        super.onPeerDisconnected(peer);
        String id = peer.getId();
        String name = peer.getDisplayName();
        Log.d(TAG, "onPeerDisconnected peer name & ID: " + name + "|" + id);
        SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
        if (sharedPrefs.getBoolean("watch_integration", false)) {
            Log.d(TAG, "onPeerDisconnected watch_integration=true Phone startBtService");
            startBtService();
        }
    }

    // Custom method to determine whether a service is running
    private boolean isServiceRunning(Class<?> serviceClass) {//Class<?> serviceClass
        if (serviceClass != null) {
            ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
            // Loop through the running services
            for (ActivityManager.RunningServiceInfo service : activityManager.getRunningServices(Integer.MAX_VALUE)) {
                //Log.d(TAG, "isServiceRunning: getClassName=" + service.service.getClassName() + " getShortClassName=" + service.service.getShortClassName());
                if (serviceClass.getName().equals(service.service.getClassName())) return true;
            }
        }
        return false;
    }

    private boolean isCollectorRunning() {
        Class<?> serviceClass = DexCollectionType.getCollectorServiceClass();
        if (serviceClass != null) {
            Log.d(TAG, "DexCollectionType.getCollectorServiceClass(): " + serviceClass.getName());
            return isServiceRunning(serviceClass);
        }
        return false;
    }

    private void startBtService() {//KS
        Log.d(TAG, "startBtService");
        is_using_bt = DexCollectionType.hasBluetooth();//(getDexCollectionType() == DexCollectionType.DexcomG5)
        if (is_using_bt) {
            if (!isCollectorRunning()) {
                CollectionServiceStarter.startBtService(getApplicationContext());
                Log.d(TAG, "startBtService startService");
            } else {
                Log.d(TAG, "startBtService collector already running!");
            }
        } else {
            Log.d(TAG, "Not starting any BT Collector service as it is not our data source");
        }
    }

    private void stopBtService() {
        Log.d(TAG, "stopService call stopService");
        CollectionServiceStarter.stopBtService(getApplicationContext());
        Log.d(TAG, "stopBtService should have called onDestroy");
    }

    private void startBtG5Service() {//KS
        Log.d(TAG, "startBtG5Service");
        //is_using_g5 = (getDexCollectionType() == DexCollectionType.DexcomG5);
        is_using_bt = DexCollectionType.hasBluetooth();
        if (is_using_bt) {
            Context myContext = getApplicationContext();
            Log.d(TAG, "startBtG5Service start G5CollectionService");
            myContext.startService(new Intent(myContext, G5CollectionService.class));
            Log.d(TAG, "startBtG5Service AFTER startService G5CollectionService");
        } else {
            Log.d(TAG, "Not starting any G5 service as it is not our data source");
        }
    }

    private void stopBtG5Service() {//KS
        Log.d(TAG, "stopBtG5Service");
        Context myContext = getApplicationContext();
        myContext.stopService(new Intent(myContext, G5CollectionService.class));
    }

    public static void startSelf() {
        Inevitable.task("wear-startself", 2000, () -> {
            if (JoH.ratelimit("start-wear", 5)) {
                startServiceAndResendData(0);
            }
        });
    }

    public static void startServiceAndResendData(long since) {
        UserError.Log.d(TAG, "Requesting to resend data");
        xdrip.getAppContext().startService(new Intent(xdrip.getAppContext(), WatchUpdaterService.class).setAction(WatchUpdaterService.ACTION_RESEND).putExtra("resend-since", since));
    }

    public static void startServiceAndResendDataIfNeeded(final long since) {
        if (isEnabled()) {
            if (JoH.ratelimit("wear-resend-data", 60)) {
                startServiceAndResendData(since);
            }
        }
    }


    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        final PowerManager.WakeLock wl = JoH.getWakeLock("watchupdate-onstart", 60000);
        wear_integration = mPrefs.getBoolean("wear_sync", false);

        String action = null;
        if (intent != null) {
            action = intent.getAction();
        }

        if (wear_integration) {
            is_using_bt = DexCollectionType.hasBluetooth();//(getDexCollectionType() == DexCollectionType.DexcomG5)
            if (googleApiClient != null) {
                if (googleApiClient.isConnected()) {
                    if (ACTION_RESEND.equals(action)) {
                        resendData(intent.getLongExtra("resend-since", 0));
                    } else if (ACTION_OPEN_SETTINGS.equals(action)) {
                        Log.d(TAG, "onStartCommand Action=ACTION_OPEN_SETTINGS");
                        sendNotification(OPEN_SETTINGS, "openSettings");
                    } else if (ACTION_SEND_TOAST.equals(action)) {
                        Log.d(TAG, "onStartCommand Action=ACTION_SEND_TOAST msg=" + intent.getStringExtra("msg"));
                        sendWearLocalToast(intent.getStringExtra("msg"), Toast.LENGTH_LONG);
                    } else if (ACTION_SEND_STATUS.equals(action)) {//KS added for HAPP
                        //https://github.com/StephenBlackWasAlreadyTaken/xDrip-Experimental
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SEND_STATUS + " externalStatusString=" + intent.getStringExtra("externalStatusString"));
                        sendRequestExtra(NEW_STATUS_PATH, "externalStatusString", intent.getStringExtra("externalStatusString"));
                    } else if (ACTION_SNOOZE_ALERT.equals(action)) {
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SNOOZE_ALERT + " repeatTime=" + intent.getStringExtra("repeatTime"));
                        sendRequestExtra(WEARABLE_SNOOZE_ALERT, "repeatTime", intent.getStringExtra("repeatTime"));
                    } else if (ACTION_SYNC_DB.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_DB + " Path=" + SYNC_DB_PATH);
                        sendNotification(SYNC_DB_PATH, "syncDB");
                        initWearData();
                    } else if (ACTION_RESET_DB.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_RESET_DB + " Path=" + RESET_DB_PATH);
                        sendNotification(RESET_DB_PATH, "resetDB");
                        //TODO Rm!
                        //UserError.cleanup(JoH.tsl());//TODO Rm!
                        //Log.d(TAG, "onStartCommand RESET_DB_PATH cleanup timestamp=" + JoH.dateTimeText(JoH.tsl()));
                        //TODO Rm!
                        initWearData();
                    } else if (ACTION_DISABLE_FORCE_WEAR.equals(action)) {//KS
                        int bg_wear_missed_minutes = readPrefsInt(mPrefs, "disable_wearG5_on_missedreadings_level", 30);
                        Log.d(TAG, "onStartCommand Action=ACTION_DISABLE_FORCE_WEAR");
                        Pref.setBoolean("force_wearG5", false);
                        final String msgDisableWear = getResources().getString(R.string.notify_disable_wearG5_on_missedreadings, bg_wear_missed_minutes);
                        JoH.static_toast_long(msgDisableWear);
                        Log.e(TAG, "wearIsConnected disable force_wearG5:" + Pref.getBooleanDefaultFalse("force_wearG5") + " msg=" + msgDisableWear);
                        sendWearLocalToast(msgDisableWear, Toast.LENGTH_LONG);
                    } else if (ACTION_START_COLLECTOR.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_START_COLLECTOR + " Path=" + START_COLLECTOR_PATH);
                        sendNotification(START_COLLECTOR_PATH, "startCOLLECTOR");
                    } else if (ACTION_STATUS_COLLECTOR.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=ACTION_STATUS_COLLECTOR Path=STATUS_COLLECTOR_PATH getBatteryStatusNow=" + intent.getBooleanExtra("getBatteryStatusNow", false));
                        //sendNotification(STATUS_COLLECTOR_PATH, "statusCOLLECTOR");
                        sendRequestExtra(STATUS_COLLECTOR_PATH, "getBatteryStatusNow", intent.getBooleanExtra("getBatteryStatusNow", false));
                    } else if (ACTION_SYNC_LOGS.equals(action)) {
                        //sendNotification(SYNC_LOGS_PATH, "syncLOG");
                        long rate = (syncLogsRequested == 0 ? 2 : syncLogsRequested * 10);//in seconds
                        Log.d(TAG, "onStartCommand Action ACTION_SYNC_LOGS=ACTION_SYNC_LOGS SYNC_LOGS_PATH syncLogsRequested=" + syncLogsRequested);
                        if (JoH.ratelimit("sync-logs-requested", (int) rate)) {
                            syncLogsRequested++;
                            sendRequestExtra(SYNC_LOGS_PATH, "syncLogsRequested", String.valueOf(syncLogsRequested));
                        }
                        Log.d(TAG, "onStartCommand Action ACTION_SYNC_LOGS=ACTION_SYNC_LOGS SYNC_LOGS_PATH syncLogsRequested=" + syncLogsRequested + " ratelimit=" + rate);
                    } else if (ACTION_CLEAR_LOGS.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_CLEAR_LOGS + " Path=" + CLEAR_LOGS_PATH);
                        sendNotification(CLEAR_LOGS_PATH, "clearLOG");
                    } else if (ACTION_SYNC_SENSOR.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_SENSOR + " Path=" + WEARABLE_SENSOR_DATA_PATH);
                        sendSensorData();
                    } else if (ACTION_SYNC_ACTIVEBTDEVICE.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_ACTIVEBTDEVICE + " Path=" + WEARABLE_ACTIVEBTDEVICE_DATA_PATH);
                        sendActiveBtDeviceData();
                    } else if (ACTION_SYNC_ALERTTYPE.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_ALERTTYPE + " Path=" + WEARABLE_ALERTTYPE_DATA_PATH);
                        sendAlertTypeData();
                    } else if (ACTION_SYNC_CALIBRATION.equals(action)) {//KS
                        Log.d(TAG, "onStartCommand Action=" + ACTION_SYNC_CALIBRATION + " Path=" + WEARABLE_CALIBRATION_DATA_PATH);

                        sendWearCalibrationData(sendCalibrationCount);
                        final boolean adjustPast = mPrefs.getBoolean("rewrite_history", true);
                        Log.d(TAG, "onStartCommand adjustRecentBgReadings for rewrite_history=" + adjustPast);
                        sendWearBgData(adjustPast ? 30 : 2);//wear may not have all BGs if force_wearG5=false, so send BGs from phone
                        sendData();//ensure BgReading.Last is displayed on watch
                    } else if (ACTION_SEND_G5_QUEUE.equals(action)) {
                        Log.d(TAG, "onStartCommand Action = " + ACTION_SEND_G5_QUEUE + " PAth= " + WEARABLE_G5_QUEUE_PATH);
                        sendG5QueueData(intent.getStringExtra("queueData"));

                    } else {
                        // default
                        /*if (!mPrefs.getBoolean("force_wearG5", false)//handled by UploaderQueue
                                && mPrefs.getBoolean("enable_wearG5", false)
                                && (is_using_bt)) { //KS only send BGs if using Phone's G5 Collector Server
                            sendWearBgData(1);
                        }*/
                        Log.d(TAG, "onStartCommand Action=" + " Path=" + WEARABLE_DATA_PATH);
                        sendData();//ensure BgReading.Last is displayed on watch
                    }
                } else {
                    googleApiClient.connect();
                }
            } else {
                Log.wtf(TAG, "GoogleAPI client is null!");
            }
        }

        if (pebble_integration) {
            sendData();
        }

        //if ((!wear_integration)&&(!pebble_integration))
        if (!wear_integration)    // only wear sync starts this service, pebble features are not used?
        {
            Log.i(TAG, "Stopping service");
            startBtService();
            stopSelf();
            JoH.releaseWakeLock(wl);
            return START_NOT_STICKY;
        }

        JoH.releaseWakeLock(wl);
        return START_STICKY;
    }

    private void updateWearSyncBgsCapability() {
        CapabilityApi.GetCapabilityResult capabilityResult =
                Wearable.CapabilityApi.getCapability(
                        googleApiClient, CAPABILITY_WEAR_APP,
                        CapabilityApi.FILTER_REACHABLE).await(GET_CAPABILITIES_TIMEOUT_MS, TimeUnit.MILLISECONDS);
        CapabilityInfo nodes;
        if (!capabilityResult.getStatus().isSuccess()) {
            Log.e(TAG, "updateWearSyncBgsCapability Failed to get capabilities, status: " + capabilityResult.getStatus().getStatusMessage());
            nodes = null;
        } else {
            nodes = capabilityResult.getCapability();
        }

        if (nodes != null && nodes.getNodes().size() > 0) {
            Log.d(TAG, "Updating wear sync nodes");
            updateWearSyncBgsCapability(nodes);
        }
    }


    private void updateWearSyncBgsCapability(CapabilityInfo capabilityInfo) {
        Set<Node> connectedNodes = capabilityInfo.getNodes();
        mWearNodeId = pickBestNodeId(connectedNodes);
    }

    private String pickBestNodeId(Set<Node> nodes) {
        String bestNodeId = null;
        // Find a nearby node or pick one arbitrarily
        for (Node node : nodes) {
            if (node.isNearby()) {
                return node.getId();
            }
            bestNodeId = node.getId();
        }
        return bestNodeId;
    }

    private void setLocalNodeName() {
        forceGoogleApiConnect();
        NodeApi.GetLocalNodeResult localnodes = Wearable.NodeApi.getLocalNode(googleApiClient).await(60, TimeUnit.SECONDS);
        Node getnode = localnodes.getNode();
        localnode = getnode != null ? getnode.getDisplayName() + "|" + getnode.getId() : "";
        UserError.Log.d(TAG, "setLocalNodeName.  localnode=" + localnode);
    }

    @Override
    public void onConnected(Bundle connectionHint) {
        Log.d(TAG, "onConnected entered");//KS
        /*CapabilityApi.CapabilityListener capabilityListener =
                new CapabilityApi.CapabilityListener() {
                    @Override
                    public void onCapabilityChanged(CapabilityInfo capabilityInfo) {
                        updateWearSyncBgsCapability(capabilityInfo);
                        Log.d(TAG, "onConnected onCapabilityChanged mWearNodeID:" + mWearNodeId);
                        new CheckWearableConnected().execute();
                    }
                };

        Wearable.CapabilityApi.addCapabilityListener(
                googleApiClient,
                capabilityListener,
                CAPABILITY_WEAR_APP);*/
        sendData();
    }

    @Override
    public void onCapabilityChanged(CapabilityInfo capabilityInfo) {
        updateWearSyncBgsCapability(capabilityInfo);
        Log.d(TAG, "onConnected onCapabilityChanged mWearNodeID:" + mWearNodeId);
        new CheckWearableConnected().execute();
    }

    private class CheckWearableConnected extends AsyncTask<Void, Void, Void> {

        @Override
        protected Void doInBackground(Void... voids) {
            if (googleApiClient.isConnected()) {
                if (System.currentTimeMillis() - lastRequest > 20 * 1000) { // enforce 20-second debounce period
                    lastRequest = System.currentTimeMillis();
                    //NodeApi.GetConnectedNodesResult nodes =
                    //        Wearable.NodeApi.getConnectedNodes(googleApiClient).await();
                    if (localnode == null || (localnode != null && localnode.isEmpty()))
                        setLocalNodeName();
                    CapabilityApi.GetCapabilityResult capabilityResult =
                            Wearable.CapabilityApi.getCapability(
                                    googleApiClient, CAPABILITY_WEAR_APP,
                                    CapabilityApi.FILTER_REACHABLE).await(GET_CAPABILITIES_TIMEOUT_MS, TimeUnit.MILLISECONDS);
                    CapabilityInfo nodes;
                    if (!capabilityResult.getStatus().isSuccess()) {
                        Log.e(TAG, "doInBackground Failed to get capabilities, status: " + capabilityResult.getStatus().getStatusMessage());
                        nodes = null;
                    } else {
                        nodes = capabilityResult.getCapability();
                    }
                    SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
                    SharedPreferences.Editor prefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).edit();
                    boolean enable_wearG5 = sharedPrefs.getBoolean("enable_wearG5", false);
                    boolean force_wearG5 = sharedPrefs.getBoolean("force_wearG5", false);
                    String node_wearG5 = mPrefs.getString("node_wearG5", "");

                    if (nodes != null && nodes.getNodes().size() > 0) {
                        updateWearSyncBgsCapability(nodes);
                        int count = nodes.getNodes().size();
                        Log.d(TAG, "doInBackground connected.  CapabilityApi.GetCapabilityResult mWearNodeID=" + (mWearNodeId != null ? mWearNodeId : "") + " count=" + count);//KS
                        boolean isConnectedToWearable = false;
                        for (Node peer : nodes.getNodes()) {

                            //onPeerConnected
                            String wearNode = peer.getDisplayName() + "|" + peer.getId();
                            Log.d(TAG, "CheckWearableConnected onPeerConnected peer name & ID: " + wearNode);
                            if (wearNode.equals(node_wearG5)) {
                                isConnectedToWearable = true;
                                sendPrefSettings();
                                break;
                            } else if (node_wearG5.equals("")) {
                                isConnectedToWearable = true;
                                prefs.putString("node_wearG5", wearNode);
                                prefs.apply();
                                break;
                            }

                        }
                        sendPrefSettings();
                        initWearData();
                        if (enable_wearG5) {
                            //Only stop service if Phone will rely on Wear Collection Service
                            if (force_wearG5 && isConnectedToWearable) {
                                Log.d(TAG, "CheckWearableConnected onPeerConnected force_wearG5=true Phone stopBtService and continue to use Wear BT Collector");
                                stopBtService();
                            } else {
                                Log.d(TAG, "CheckWearableConnected onPeerConnected force_wearG5=false Phone startBtService");
                                startBtService();
                            }
                        }
                    } else {
                        //onPeerDisconnected
                        Log.d(TAG, "CheckWearableConnected onPeerDisconnected");
                        if (sharedPrefs.getBoolean("wear_sync", false)) {
                            Log.d(TAG, "CheckWearableConnected onPeerDisconnected wear_sync=true Phone startBtService");
                            startBtService();
                        }
                    }
                } else {
                    Log.d(TAG, "Debounce limit hit - not sending");
                }
            } else {
                Log.d(TAG, "Not connected for sending");
                googleApiClient.connect();
            }
            return null;
        }
    }

    @Override
    public void onDataChanged(DataEventBuffer dataEvents) {//KS does not seem to get triggered; therefore use OnMessageReceived instead

        DataMap dataMap;

        for (DataEvent event : dataEvents) {

            if (event.getType() == DataEvent.TYPE_CHANGED) {

                String path = event.getDataItem().getUri().getPath();

                switch (path) {
                    case WEARABLE_PREF_DATA_PATH:
                        dataMap = DataMapItem.fromDataItem(event.getDataItem()).getDataMap();
                        if (dataMap != null) {
                            Log.d(TAG, "onDataChanged WEARABLE_PREF_DATA_PATH dataMap=" + dataMap);
                            syncPrefData(dataMap);
                        }
                        break;
                    default:
                        Log.d(TAG, "Unknown wearable path: " + path);
                        break;
                }
            }
        }
    }

    // incoming messages from wear device
    @Override
    public void onMessageReceived(MessageEvent event) {
        DataMap dataMap;
        byte[] decomprBytes;
        Log.d(TAG, "onMessageReceived enter");
        if (wear_integration) {
            final PowerManager.WakeLock wl = JoH.getWakeLock("watchupdate-msgrec", 60000);//KS test with 120000
            if (event != null) {
                Log.d(TAG, "onMessageReceived wearable event path: " + event.getPath());
                switch (event.getPath()) {
                    case WEARABLE_RESEND_PATH:
                        resendData(0);
                        break;
                    case WEARABLE_VOICE_PAYLOAD:
                        String eventData = "";
                        try {
                            eventData = new String(event.getData(), "UTF-8");
                        } catch (UnsupportedEncodingException e) {
                            eventData = "error";
                        }
                        Log.d(TAG, "Received wearable: voice payload: " + eventData);
                        if (eventData.length() > 1)
                            receivedText(getApplicationContext(), eventData);
                        break;
                    case WEARABLE_APPROVE_TREATMENT:
                        approveTreatment(getApplicationContext(), "");
                        break;
                    case WEARABLE_CANCEL_TREATMENT:
                        cancelTreatment(getApplicationContext(), "");
                        break;
                    case WEARABLE_SNOOZE_ALERT:
                        try {
                            eventData = new String(event.getData(), "UTF-8");
                        } catch (UnsupportedEncodingException e) {
                            eventData = "30";
                        }
                        int snooze;
                        try {
                            snooze = Integer.parseInt(eventData);
                        } catch (NumberFormatException e) {
                            snooze = 30;
                        }
                        Log.d(TAG, "Received wearable: snooze payload: " + snooze);
                        AlertPlayer.getPlayer().Snooze(xdrip.getAppContext(), snooze, true);
                        JoH.static_toast_long(getResources().getString(R.string.alert_snoozed_by_watch));
                        break;
                    case SYNC_BGS_PATH + "_BM"://TEST ignore only for benchmark
                    case SYNC_LOGS_PATH + "_BM":
                    case SYNC_BGS_PATH + "_BM_DUP":
                    case SYNC_LOGS_PATH + "_BM_DUP":
                    case SYNC_BGS_PATH + "_BM_RAND":
                    case SYNC_LOGS_PATH + "_BM_RAND":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = event.getData();
                        if (decomprBytes != null) {
                            //Log.d(TAG, "Benchmark: " + event.getPath() + "event.getData().length=" + decomprBytes.length);
                        }
                        break;
                    case SYNC_BGS_PATH + "_BM_COMPRESS"://TEST ignore only for benchmark
                    case SYNC_BGS_PATH + "_BM_DUP_COMPRESS":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = decompressBytes(event.getPath(), event.getData(), true);//bBenchmark
                        dataMap = DataMap.fromByteArray(decomprBytes);
                        if (dataMap != null) {
                            syncTransmitterData(dataMap, true);//bBenchmark=true
                        }
                        break;
                    case SYNC_LOGS_PATH + "_BM_COMPRESS":
                    case SYNC_LOGS_PATH + "_BM_DUP_COMPRESS":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = decompressBytes(event.getPath(), event.getData(), true);
                        dataMap = DataMap.fromByteArray(decomprBytes);
                        if (dataMap != null) {
                            syncLogData(dataMap, true);//bBenchmark=true
                        }
                        break;
                    case SYNC_BGS_PATH + "_BM_RAND_COMPRESS":
                    case SYNC_LOGS_PATH + "_BM_RAND_COMPRESS":
                        Log.d(TAG, "onMessageReceived Ignore, just for test!");
                        decomprBytes = decompressBytes(event.getPath(), event.getData(), true);
                        break;
                    case SYNC_BGS_PATH://KS
                        Log.d(TAG, "onMessageReceived SYNC_BGS_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_BGS_PATH dataMap=" + dataMap);
                                syncTransmitterData(dataMap, false);
                            }
                        }
                        break;

                    case SYNC_BGS_PRECALCULATED_PATH:
                        Log.d(TAG, "onMessageReceived " + SYNC_BGS_PRECALCULATED_PATH);
                        decomprBytes = decompressBytes(event.getPath(), event.getData(), false);
                        dataMap = DataMap.fromByteArray(decomprBytes);
                        if (dataMap != null) {
                            final DataMap fdataMap = dataMap;
                            new LowPriorityThread(() -> {
                                syncBgReadingsData(fdataMap);
                                Home.staticRefreshBGCharts();
                            }, "inbound-precalculated-bg").start();
                        }
                        break;

                    case SYNC_LOGS_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_LOGS_PATH");
                        if (event.getData() != null) {
                            decomprBytes = decompressBytes(event.getPath(), event.getData(), false);
                            dataMap = DataMap.fromByteArray(decomprBytes);//event.getData()
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_LOGS_PATH");
                                syncLogData(dataMap, false);
                            }
                        }
                        break;
                    case SYNC_LOGS_REQUESTED_PATH:
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            syncLogsRequested = dataMap.getLong("syncLogsRequested", -1);
                            Log.d(TAG, "onMessageReceived SYNC_LOGS_REQUESTED_PATH syncLogsRequested=" + syncLogsRequested);
                        }
                        break;
                    case SYNC_STEP_SENSOR_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_STEP_SENSOR_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_STEP_SENSOR_PATH dataMap=" + dataMap);
                                syncStepSensorData(dataMap, false);
                            }
                        }
                        break;
                    case SYNC_HEART_SENSOR_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_HEART_SENSOR_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_HEART_SENSOR_PATH dataMap=" + dataMap);
                                syncHeartSensorData(dataMap, false);
                            }
                        }
                        break;
                    case SYNC_TREATMENTS_PATH:
                        Log.d(TAG, "onMessageReceived SYNC_TREATMENTS_PATH");
                        if (event.getData() != null) {
                            dataMap = DataMap.fromByteArray(event.getData());
                            if (dataMap != null) {
                                Log.d(TAG, "onMessageReceived SYNC_TREATMENTS_PATH dataMap=" + dataMap);
                                syncTreatmentsData(dataMap, false);
                            }
                        }
                        break;
                    case WEARABLE_INITDB_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_INITDB_PATH");
                        initWearData();
                        break;
                    case WEARABLE_INITTREATMENTS_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_INITTREATMENTS_PATH");
                        initWearTreatments();
                        break;
                    case WEARABLE_REPLYMSG_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_REPLYMSG_PATH");
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            Log.d(TAG, "onMessageReceived WEARABLE_REPLYMSG_PATH dataMap=" + dataMap);
                            String action_path = dataMap.getString("action_path", "");
                            if (action_path != null && !action_path.isEmpty()) {
                                switch (action_path) {
                                    case START_COLLECTOR_PATH:
                                        String msg = dataMap.getString("msg", "");
                                        JoH.static_toast_short(msg);
                                        break;
                                    case STATUS_COLLECTOR_PATH:
                                        Log.d(TAG, "onMessageReceived WEARABLE_REPLYMSG_PATH send LocalBroadcastManager ACTION_BLUETOOTH_COLLECTION_SERVICE_UPDATE=" + ACTION_BLUETOOTH_COLLECTION_SERVICE_UPDATE);
                                        final Intent intent = new Intent(ACTION_BLUETOOTH_COLLECTION_SERVICE_UPDATE);
                                        intent.putExtra("data", dataMap.toBundle());//msg
                                        LocalBroadcastManager.getInstance(xdrip.getAppContext()).sendBroadcast(intent);
                                        break;
                                }
                            }
                        }
                        break;
                    case WEARABLE_G5BATTERY_PAYLOAD:
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            Log.d(TAG, "onMessageReceived WEARABLE_FIELD_SENDPATH dataMap=" + dataMap);
                            syncFieldData(dataMap);
                        }
                        break;
                    case WEARABLE_INITPREFS_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_INITPREFS_PATH");
                        sendPrefSettings();
                        break;
                    case WEARABLE_LOCALE_CHANGED_PATH:
                        Log.d(TAG, "onMessageReceived WEARABLE_LOCALE_CHANGED_PATH");
                        sendLocale();
                        break;
                    case WEARABLE_PREF_DATA_PATH:
                        dataMap = DataMap.fromByteArray(event.getData());
                        if (dataMap != null) {
                            Log.d(TAG, "onMessageReceived WEARABLE_PREF_DATA_PATH dataMap=" + dataMap);
                            syncPrefData(dataMap);
                        }
                        break;


                    default:

                        if (event.getPath().startsWith(WEARABLE_REQUEST_APK)) {
                            // rate limit at this end just needs to de-bounce but allow retries
                            if (JoH.ratelimit(WEARABLE_REQUEST_APK, 15)) {
                                JoH.static_toast_short("Updating wear app");
                                int startAt = 0;
                                final String[] split = event.getPath().split("\\^");
                                if (split.length == 2) {
                                    startAt = Integer.parseInt(split[1]);
                                }
                                if (startAt == 0) {
                                    UserError.Log.uel(TAG, "VUP: Sending latest apk version to watch");
                                    JoH.static_toast_long("Sending latest version to watch");
                                }
                                final int finalStartAt = startAt;
                                new Thread(new Runnable() {
                                    @Override
                                    public void run() {
                                        if (mWearNodeId == null) {
                                            UserError.Log.d(TAG, "VUP: nodeid is null");
                                            updateWearSyncBgsCapability(); // try to populate
                                        }

                                        if (mWearNodeId != null) {
                                            // TODO limit to 120
                                            UserError.Log.d(TAG, "VUP: nodeid is now not null");
                                            if (apkBytes == null) {
                                                UserError.Log.d(TAG, "VUP: getting bytes");
                                                apkBytes = GetWearApk.getBytes();
                                            }
                                            if (apkBytes != null) {
                                                UserError.Log.d(TAG, "VUP: Trying to open channel to send apk");
                                                ChannelApi.OpenChannelResult result = Wearable.ChannelApi.openChannel(googleApiClient, mWearNodeId, "/updated-apk").await();

                                                final Channel channel = result.getChannel();
                                                if (channel != null) {

                                                    channel.getOutputStream(googleApiClient).setResultCallback(new ResultCallback<Channel.GetOutputStreamResult>() {
                                                        @Override
                                                        public void onResult(final Channel.GetOutputStreamResult getOutputStreamResult) {
                                                            Log.d(TAG, "VUP: channel get outputstream onResult:");


                                                            // TODO recurse/retry a few times if we haven't sent anything?
                                                            new Thread(new Runnable() {
                                                                @Override
                                                                public void run() {

                                                                    OutputStream output = null;
                                                                    try {
                                                                        output = getOutputStreamResult.getOutputStream();
                                                                        Log.d(TAG, "VUP: output stream opened");
                                                                        // this protocol can never be changed
                                                                        output.write((BuildConfig.VERSION_NAME + "\n").getBytes("UTF-8")); // version name
                                                                        output.write((apkBytes.length + "\n").getBytes("UTF-8")); // total length
                                                                        output.write((finalStartAt + "\n").getBytes("UTF-8")); // data starting from position
                                                                        // send data
                                                                        JoH.threadSleep(5000);
                                                                        Log.d(TAG, "VUP: sending data");
                                                                        // TODO stagger write?  await confirmation from far end to start xmit??
                                                                        output.write(apkBytes, finalStartAt, apkBytes.length - finalStartAt);
                                                                        output.flush();
                                                                        output.write(new byte[64000]); // seems to need some kind of padding
                                                                        JoH.threadSleep(5000);
                                                                        Log.d(TAG, "VUP: sent bytes: " + (apkBytes.length - finalStartAt));
                                                                    } catch (final IOException e) {
                                                                        Log.w(TAG, "VUP: could not send message: " + "Node: " + channel.getNodeId() + "Path: " + channel.getPath() + " Error message: " + e.getMessage() + " Error cause: " + e.getCause());
                                                                    } finally {
                                                                        try {
                                                                            Log.w(TAG, "VUP: Closing output stream");
                                                                            if (output != null) {
                                                                                output.close();
                                                                            }
                                                                        } catch (final IOException e) {
                                                                            Log.w(TAG, "VUP: could not close Output Stream: " + "Node ID: " + channel.getNodeId() + " Path: " + channel.getPath() + " Error message: " + e.getMessage() + " Error cause: " + e.getCause());
                                                                        } finally {
                                                                            channel.close(googleApiClient);
                                                                        }
                                                                    }

                                                                }
                                                            }).start();

                                                        }
                                                    });
                                                } else {
                                                    UserError.Log.d(TAG, "VUP: Could not send wearable apk as Channel result was null!");
                                                }
                                            }
                                        } else {
                                            Log.d(TAG, "VUP: Could not send wearable apk as nodeid is currently null");
                                        }
                                    }
                                }).start();
                            }
                        } else {
                            Log.d(TAG, "Unknown wearable path: " + event.getPath());
                            super.onMessageReceived(event);
                        }
                }
            }
            JoH.releaseWakeLock(wl);
        } else {
            super.onMessageReceived(event);
        }
    }

    private byte[] decompressBytes(String pathdesc, byte[] bytes, boolean bBenchmark) {
        byte[] decomprBytes;
        if ((bytes.length > 8)
                && (bytes[0] == (byte) 0x1F)
                && (bytes[1] == (byte) 0x8B)
                && (bytes[2] == (byte) 0x08)
                && (bytes[3] == (byte) 0x00)) {
            if (bBenchmark) {
                double benchmark_time = ts();
                JoH.benchmark(null);
                decomprBytes = JoH.decompressBytesToBytes(bytes);
                String msg = pathdesc + " JoH.decompressBytesToBytes from length=" + bytes.length + " to length=" + decomprBytes.length;
                JoH.benchmark(msg);
                msg = msg + " " + (ts() - benchmark_time) + " ms";
                sendDataReceived(DATA_ITEM_RECEIVED_PATH, msg, 1, "BM", -1);//"DATA_RECEIVED"
                return decomprBytes;
            } else {
                decomprBytes = JoH.decompressBytesToBytes(bytes);
                Log.d(TAG, pathdesc + " JoH.decompressBytesToBytes from length=" + bytes.length + " to length=" + decomprBytes.length);
                return decomprBytes;
            }
        } else {
            Log.d(TAG, "Benchmark: decompressBytesToBytes DataMap is not compressed!  Process as normal. length=" + bytes.length);
            return bytes;
        }
    }

    private void sendG5QueueData(String queueData) {
        if ((wear_integration) && (queueData != null)) {
            forceGoogleApiConnect();
            new SendToDataLayerThread(WEARABLE_G5_QUEUE_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap("queueData", queueData));
        }
    }

    private void sendData() {
        BgReading bg = BgReading.last();
        if (bg != null) {
            forceGoogleApiConnect();
            if (wear_integration) {
                final int battery = PowerStateReceiver.getBatteryLevel(getApplicationContext());
                new SendToDataLayerThread(WEARABLE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap(bg, mPrefs, new BgGraphBuilder(getApplicationContext()), battery));
            }
        }
    }

    private void resendData(long since) {
        Log.d(TAG, "resendData ENTER");
        forceGoogleApiConnect();
        final long startTime = since == 0 ? new Date().getTime() - (60000 * 60 * 24) : since;
        Log.d(TAG, "resendData googleApiClient connected ENTER, sending since: " + JoH.dateTimeText(startTime));
        final BgReading last_bg = BgReading.last();
        if (last_bg != null) {
            List<BgReading> graph_bgs = BgReading.latestForGraph(60, startTime);
            BgGraphBuilder bgGraphBuilder = new BgGraphBuilder(getApplicationContext());
            if (!graph_bgs.isEmpty()) {
                final int battery = PowerStateReceiver.getBatteryLevel(getApplicationContext());
                DataMap entries = dataMap(last_bg, mPrefs, bgGraphBuilder, battery);
                final ArrayList<DataMap> dataMaps = new ArrayList<>(graph_bgs.size());
                for (BgReading bg : graph_bgs) {
                    dataMaps.add(dataMap(bg, mPrefs, bgGraphBuilder, battery));
                }
                entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                entries.putDataMapArrayList("entries", dataMaps);
                if (mPrefs.getBoolean("extra_status_line", false)) {
                    entries.putString("extra_status_line", StatusLine.extraStatusLine());
                }

                new SendToDataLayerThread(WEARABLE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
            }
        }
    }

    private void sendNotification(String path, String notification) {//KS add args
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            Log.d(TAG, "sendNotification Notification=" + notification + " Path=" + path);
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(path);
            //unique content
            dataMapRequest.setUrgent();
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putString(notification, notification);
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e(TAG, "sendNotification No connection to wearable available!");
        }
    }

    private void sendRequestExtra(String path, String key, String value) {
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(path);//NEW_STATUS_PATH
            //unique content
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putString(key, value);//"externalStatusString"
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e("sendRequestExtra", "No connection to wearable available!");
        }
    }

    private void sendRequestExtra(String path, String key, boolean value) {
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(path);//NEW_STATUS_PATH
            //unique content
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putBoolean(key, value);//"externalStatusString"
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
        } else {
            Log.e("sendRequestExtra", "No connection to wearable available!");
        }
    }

    private void sendRequestExtra(String path, String key, byte[] value) {
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            PutDataMapRequest dataMapRequest = PutDataMapRequest.create(path);
            dataMapRequest.getDataMap().putDouble("timestamp", System.currentTimeMillis());
            dataMapRequest.getDataMap().putByteArray(key, value);
            PutDataRequest putDataRequest = dataMapRequest.asPutDataRequest();
            dataMapRequest.setUrgent();
            Wearable.DataApi.putDataItem(googleApiClient, putDataRequest);
            Log.d(TAG, "Sending bytes path: " + path + " " + value.length);

        } else {
            Log.e("sendRequestExtra", "No connection to wearable available!");
        }
    }

    private void sendBlob(String path, final byte[] blob) {
        forceGoogleApiConnect();
        if (googleApiClient.isConnected()) {
            final Asset asset = Asset.createFromBytes(blob);
            Log.d(TAG, "sendBlob asset size: " + asset.getData().length);
            final PutDataMapRequest request = PutDataMapRequest.create(path);
            request.getDataMap().putLong("time", new Date().getTime());
            request.getDataMap().putByteArray("asset", blob);
            request.setUrgent();

            final PendingResult result = Wearable.DataApi.putDataItem(googleApiClient, request.asPutDataRequest());

            result.setResultCallback(new ResultCallback<DataApi.DataItemResult>() {
                @Override
                public void onResult(DataApi.DataItemResult sendMessageResult) {
                    if (!sendMessageResult.getStatus().isSuccess()) {
                        UserError.Log.e(TAG, "ERROR: failed to sendblob Status=" + sendMessageResult.getStatus().getStatusMessage());
                    } else {
                        UserError.Log.i(TAG, "Sendblob  Status=: " + sendMessageResult.getStatus().getStatusMessage());
                    }
                }
            });

            Log.d(TAG, "sendBlob: Sending asset of size " + blob.length);

        } else {
            Log.e(TAG, "sendBlob: No connection to wearable available!");
        }
    }


    // sending to watch - beware we munge the calculated value and replace with display glucose
    private DataMap dataMap(BgReading bg, SharedPreferences sPrefs, BgGraphBuilder bgGraphBuilder, int battery) {
        Double highMark = Double.parseDouble(sPrefs.getString("highValue", "170"));
        Double lowMark = Double.parseDouble(sPrefs.getString("lowValue", "70"));
        DataMap dataMap = new DataMap();

        //int battery = BgSendQueue.getBatteryLevel(getApplicationContext());

        // TODO this is inefficent when we are called in a loop instead should be passed in or already stored in bgreading
        final BestGlucose.DisplayGlucose dg = BestGlucose.getDisplayGlucose(); // current best


        dataMap.putString("sgvString", dg != null && bg.dg_mgdl > 0 ? dg.unitized : bgGraphBuilder.unitized_string(bg.calculated_value));

        dataMap.putString("slopeArrow", bg.slopeArrow());
        dataMap.putDouble("timestamp", bg.timestamp); //TODO: change that to long (was like that in NW)

        // This delta string only applies to the last reading even if we are processing historical data here
        if (dg != null) {
            dataMap.putString("delta", dg.unitized_delta);
        } else {
            dataMap.putString("delta", bgGraphBuilder.unitizedDeltaString(true, true, true));
        }
        dataMap.putString("battery", "" + battery);
        dataMap.putLong("sgvLevel", sgvLevel(bg.dg_mgdl > 0 ? bg.dg_mgdl : bg.calculated_value, sPrefs, bgGraphBuilder));
        dataMap.putInt("batteryLevel", (battery >= 30) ? 1 : 0);
        dataMap.putDouble("sgvDouble", bg.dg_mgdl > 0 ? bg.dg_mgdl : bg.calculated_value);
        dataMap.putDouble("high", inMgdl(highMark, sPrefs));
        dataMap.putDouble("low", inMgdl(lowMark, sPrefs));
        dataMap.putInt("bridge_battery", mPrefs.getInt("bridge_battery", -1));//Used in DexCollectionService
        //if (sPrefs.getBoolean("extra_status_line", false)) {
        //    dataMap.putString("extra_status_line", Home.extraStatusLine());
        //}

        //TODO: Add raw again
        //dataMap.putString("rawString", threeRaw((prefs.getString("units", "mgdl").equals("mgdl"))));
        return dataMap;
    }

    private void sendLocale() {
        final Locale locale = Locale.getDefault();
        Log.d(TAG, "ACTION_LOCALE_CHANGED Locale changed to " + locale);
        String country = locale.getCountry();
        sendRequestExtra(WEARABLE_LOCALE_CHANGED_PATH, "locale", locale.getLanguage() + (country != null && !country.isEmpty() ? "_" + country : ""));
    }

    // These are the settings which get sent to Wear device
    private void sendPrefSettings() {//KS
        forceGoogleApiConnect();
        DataMap dataMap = new DataMap();
        String dexCollector = "None";
        boolean enable_wearG5 = false;
        boolean force_wearG5 = false;
        String node_wearG5 = "";

        // add booleans that default to false to this list
        final List<String> defaultFalseBooleansToSend = WearSyncBooleans.getBooleansToSync();
        // add persistent store strings that default to ""
        final List<String> defaultBlankPersistentStringsToSend = WearSyncPersistentStrings.getPersistentStrings();

        wear_integration = mPrefs.getBoolean("wear_sync", false);
        if (wear_integration) {
            Log.d(TAG, "sendPrefSettings wear_sync=true");
            dexCollector = mPrefs.getString(DexCollectionType.DEX_COLLECTION_METHOD, "DexcomG5");
            enable_wearG5 = mPrefs.getBoolean("enable_wearG5", false);
            force_wearG5 = mPrefs.getBoolean("force_wearG5", false);
            node_wearG5 = mPrefs.getString("node_wearG5", "");
            dataMap.putString("dex_collection_method", dexCollector);
            dataMap.putBoolean("rewrite_history", mPrefs.getBoolean("rewrite_history", true));
            dataMap.putBoolean("enable_wearG5", enable_wearG5);
            dataMap.putBoolean("force_wearG5", force_wearG5);
            dataMap.putString("node_wearG5", node_wearG5);
            dataMap.putString("share_key", mPrefs.getString("share_key", "SM00000000"));//Used by DexShareCollectionService
            //Advanced Bluetooth Settings used by G4+xBridge DexCollectionService - temporarily just use the Phone's settings
            dataMap.putBoolean("use_transmiter_pl_bluetooth", mPrefs.getBoolean("use_transmiter_pl_bluetooth", false));
            dataMap.putBoolean("use_rfduino_bluetooth", mPrefs.getBoolean("use_rfduino_bluetooth", false));
            dataMap.putBoolean("automatically_turn_bluetooth_on", mPrefs.getBoolean("automatically_turn_bluetooth_on", true));
            dataMap.putBoolean("bluetooth_excessive_wakelocks", mPrefs.getBoolean("bluetooth_excessive_wakelocks", true));
            dataMap.putBoolean("close_gatt_on_ble_disconnect", mPrefs.getBoolean("close_gatt_on_ble_disconnect", true));
            dataMap.putBoolean("bluetooth_frequent_reset", mPrefs.getBoolean("bluetooth_frequent_reset", false));
            dataMap.putBoolean("bluetooth_watchdog", mPrefs.getBoolean("bluetooth_watchdog", false));
            dataMap.putString("bluetooth_watchdog_timer", mPrefs.getString("bluetooth_watchdog_timer", "20"));
            dataMap.putInt("bridge_battery", mPrefs.getInt("bridge_battery", -1));
            dataMap.putInt("nfc_sensor_age", mPrefs.getInt("nfc_sensor_age", -1));

            dataMap.putBoolean("sync_wear_logs", mPrefs.getBoolean("sync_wear_logs", false));
            //Alerts:
            dataMap.putString("persistent_high_repeat_mins", mPrefs.getString("persistent_high_repeat_mins", "20"));
            dataMap.putString("persistent_high_threshold_mins", mPrefs.getString("persistent_high_threshold_mins", "60"));
            dataMap.putBoolean("falling_alert", mPrefs.getBoolean("falling_alert", false));
            dataMap.putString("falling_bg_val", mPrefs.getString("falling_bg_val", "2"));
            dataMap.putBoolean("rising_alert", mPrefs.getBoolean("rising_alert", false));
            dataMap.putString("rising_bg_val", mPrefs.getString("rising_bg_val", "2"));
            dataMap.putBoolean("aggressive_service_restart", mPrefs.getBoolean("aggressive_service_restart", false));

            //Extra Status Line
            dataMap.putBoolean("extra_status_line", mPrefs.getBoolean("extra_status_line", false));
            dataMap.putBoolean("extra_status_stats_24h", Pref.getBooleanDefaultFalse("extra_status_stats_24h"));
            dataMap.putBoolean("status_line_calibration_long", mPrefs.getBoolean("status_line_calibration_long", false));
            dataMap.putBoolean("status_line_calibration_short", mPrefs.getBoolean("status_line_calibration_short", false));
            dataMap.putBoolean("status_line_avg", mPrefs.getBoolean("status_line_avg", false));
            dataMap.putBoolean("status_line_a1c_dcct", mPrefs.getBoolean("status_line_a1c_dcct", false));
            dataMap.putBoolean("status_line_a1c_ifcc", mPrefs.getBoolean("status_line_a1c_ifcc", false));
            dataMap.putBoolean("status_line_in", mPrefs.getBoolean("status_line_in", false));
            dataMap.putBoolean("status_line_high", mPrefs.getBoolean("status_line_high", false));
            dataMap.putBoolean("status_line_low", mPrefs.getBoolean("status_line_low", false));
            dataMap.putBoolean("status_line_carbs", mPrefs.getBoolean("status_line_carbs", false));
            dataMap.putBoolean("status_line_insulin", mPrefs.getBoolean("status_line_insulin", false));
            dataMap.putBoolean("status_line_stdev", mPrefs.getBoolean("status_line_stdev", false));
            dataMap.putBoolean("status_line_royce_ratio", mPrefs.getBoolean("status_line_royce_ratio", false));
            dataMap.putBoolean("status_line_capture_percentage", mPrefs.getBoolean("status_line_capture_percentage", false));
            dataMap.putBoolean("status_line_realtime_capture_percentage", mPrefs.getBoolean("status_line_realtime_capture_percentage", false));

            //Calibration plugin
            dataMap.putBoolean("extra_status_calibration_plugin", mPrefs.getBoolean("extra_status_calibration_plugin", false));
            dataMap.putBoolean("display_glucose_from_plugin", Pref.getBooleanDefaultFalse("display_glucose_from_plugin"));
            dataMap.putBoolean("use_pluggable_alg_as_primary", Pref.getBooleanDefaultFalse("use_pluggable_alg_as_primary"));
            if (Pref.getBooleanDefaultFalse("engineering_mode")) {
                dataMap.putBoolean("old_school_calibration_mode", Pref.getBooleanDefaultFalse("old_school_calibration_mode"));
            }

            dataMap.putBoolean("show_wear_treatments", Pref.getBooleanDefaultFalse("show_wear_treatments"));
            dataMap.putBoolean("use_ob1_g5_collector_service", Pref.getBooleanDefaultFalse("use_ob1_g5_collector_service"));
            dataMap.putString(Blukon.BLUKON_PIN_PREF, Pref.getStringDefaultBlank(Blukon.BLUKON_PIN_PREF));

            final String dex_time_keeper = Ob1G5StateMachine.extractDexTime();
            if (dex_time_keeper != null) {
                dataMap.putString("dex-timekeeping", dex_time_keeper);
            }

        }
        //Step Counter
        // note transmutes use_pebble_health -> use_wear_health
        dataMap.putBoolean("use_wear_health", mPrefs.getBoolean("use_pebble_health", true));
        is_using_bt = DexCollectionType.hasBluetooth();

        Double highMark = Double.parseDouble(mPrefs.getString("highValue", "170"));
        Double lowMark = Double.parseDouble(mPrefs.getString("lowValue", "70"));
        Log.d(TAG, "sendPrefSettings enable_wearG5: " + enable_wearG5 + " force_wearG5:" + force_wearG5 + " node_wearG5:" + node_wearG5 + " dex_collection_method:" + dexCollector);
        dataMap.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
        dataMap.putString("dex_txid", mPrefs.getString("dex_txid", "ABCDEF"));
        dataMap.putString("units", mPrefs.getString("units", "mgdl"));
        dataMap.putDouble("high", highMark);//inMgdl(highMark, mPrefs));//KS Fix for mmol on graph Y-axis in wear standalone mode
        dataMap.putDouble("low", lowMark);//inMgdl(lowMark, mPrefs));//KS Fix for mmol on graph Y-axis in wear standalone mode
        dataMap.putBoolean("g5_non_raw_method", mPrefs.getBoolean("g5_non_raw_method", false));
        dataMap.putString("extra_tags_for_logging", Pref.getStringDefaultBlank("extra_tags_for_logging"));
        //dataMap.putBoolean("engineering_mode",  Pref.getBooleanDefaultFalse("engineering_mode"));
        dataMap.putBoolean("bridge_battery_alerts", Pref.getBooleanDefaultFalse("bridge_battery_alerts"));
        dataMap.putString("bridge_battery_alert_level", Pref.getString("bridge_battery_alert_level", "30"));
        final Locale locale = Locale.getDefault();
        String country = locale.getCountry();
        dataMap.putString("locale", locale.getLanguage() + (country != null && !country.isEmpty() ? "_" + country : ""));

        dataMap.putString("build-version-name", getVersionID());

        for (String pref : defaultFalseBooleansToSend) {
            dataMap.putBoolean(pref, Pref.getBooleanDefaultFalse(pref));
        }
        for (String str : defaultBlankPersistentStringsToSend) {
            dataMap.putString(str, PersistentStore.getString(str));
        }

        new SendToDataLayerThread(WEARABLE_PREF_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap);
    }

    private boolean sendSensorData() {//KS
        try {

            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                Sensor sensor = Sensor.currentSensor();
                if (sensor != null) {
                    if (wear_integration) {
                        DataMap dataMap = new DataMap();
                        Log.d(TAG, "Sensor sendSensorData uuid=" + sensor.uuid + " started_at=" + sensor.started_at + " active=" + Sensor.isActive() + " battery=" + sensor.latest_battery_level + " location=" + sensor.sensor_location + " stopped_at=" + sensor.stopped_at);
                        String json = sensor.toS();
                        Log.d(TAG, "dataMap sendSensorData GSON: " + json);

                        dataMap.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP

                        dataMap.putString("dex_txid", mPrefs.getString("dex_txid", "ABCDEF"));//KS
                        dataMap.putLong("started_at", sensor.started_at);
                        dataMap.putString("uuid", sensor.uuid);
                        dataMap.putInt("latest_battery_level", sensor.latest_battery_level);
                        dataMap.putString("sensor_location", sensor.sensor_location);

                        new SendToDataLayerThread(WEARABLE_SENSOR_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap);
                        return true;
                    }
                } else
                    Log.e(TAG, "sendSensorData current sensor is null!");
            } else {
                Log.e(TAG, "sendSensorData No connection to wearable available for send Sensor!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearCalibrationData: " + e);
            return false;
        }
        return true;
    }

    private void sendActiveBtDeviceData() {//KS
        if (is_using_bt) {//only required for Collector running on watch
            forceGoogleApiConnect();
            ActiveBluetoothDevice btDevice = ActiveBluetoothDevice.first();
            if (btDevice != null) {
                if (wear_integration) {
                    DataMap dataMap = new DataMap();
                    Log.d(TAG, "sendActiveBtDeviceData name=" + btDevice.name + " address=" + btDevice.address + " connected=" + btDevice.connected);

                    dataMap.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP

                    dataMap.putString("name", btDevice.name);
                    dataMap.putString("address", btDevice.address);
                    dataMap.putBoolean("connected", btDevice.connected);

                    new SendToDataLayerThread(WEARABLE_ACTIVEBTDEVICE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, dataMap);
                }
            }
        } else {
            Log.d(TAG, "Not sending activebluetoothdevice data as we are not using bt");
        }
    }

    private void sendAlertTypeData() {//KS
        try {
            forceGoogleApiConnect();
            List<AlertType> alerts = AlertType.getAllActive();
            if (alerts != null) {
                if (wear_integration) {
                    Log.d(TAG, "sendAlertTypeData latest count = " + alerts.size());
                    final DataMap entries = new DataMap();
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(alerts.size());
                    for (AlertType alert : alerts) {
                        if (alert != null) {
                            dataMaps.add(dataMap(alert, "alert"));
                        }
                    }
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_ALERTTYPE_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendAlertTypeData latest count = 0");
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendAlertTypeData: " + e);
        }
    }

    private DataMap dataMap(String key, String value) {
        final DataMap dataMap = new DataMap();
        dataMap.putString(key, value);
        return dataMap;
    }

    private DataMap dataMap(AlertType alert, String type) {//KS
        DataMap dataMap = new DataMap();
        String json = alert.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString(type, json);
        return dataMap;
    }

    public static boolean sendWearUpload(List<BgReading> bgs, List<Calibration> cals, List<BloodTest> bts, List<Treatments> treatsAdd, List<String> treatsDel) {
        boolean statusCals = sendWearCalibrationData(0, 0, cals);
        boolean statusBgs = sendWearBgData(0, 0, bgs);
        boolean statusBts = sendWearBloodTestData(0, 0, bts);
        boolean statusTreats = sendWearTreatmentsData(0, 0, treatsAdd);
        boolean statusTreatsDel = sendWearTreatmentsDataDelete(treatsDel);
        return (statusCals && statusBts && statusTreats && statusTreatsDel && statusBgs);
    }

    public static boolean sendWearTreatmentsDataDelete(List<String> list) {
        if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
            googleApiClient.connect();
        }
        if (googleApiClient != null) {
            if (!list.isEmpty()) {
                Log.d(TAG, "sendWearTreatmentsDataDelete graph size=" + list.size());
                DataMap entries = new DataMap();
                entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                entries.putString("action", "delete");
                entries.putStringArrayList("entries", (new ArrayList<String>(list)));
                new SendToDataLayerThread(WEARABLE_TREATMENTS_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
            } else
                Log.d(TAG, "sendWearTreatmentsDataDelete treatments count = 0");
        } else {
            Log.e(TAG, "sendWearTreatmentsData No connection to wearable available for send treatment!");
            return false;
        }
        return true;
    }

    public static boolean sendWearTreatmentsData(Integer count, long startTime) {
        return sendWearTreatmentsData(count, startTime, null);
    }

    public static boolean sendWearTreatmentsData(Integer count, long startTime, List<Treatments> list) {
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                Treatments last = list != null && list.size() > 0 ? list.get(0) : Treatments.last();
                if (last != null) {
                    Log.d(TAG, "sendWearTreatmentsData last.timestamp:" + JoH.dateTimeText(last.timestamp));
                } else {
                    Log.d(TAG, "sendWearTreatmentsData no treatments exist");
                    return true;
                }
                List<Treatments> graph;
                if (list != null)
                    graph = list;
                else if (startTime == 0)
                    graph = Treatments.latest(count);
                else
                    graph = Treatments.latestForGraph(count, startTime);
                if (!graph.isEmpty()) {
                    Log.d(TAG, "sendWearTreatmentsData graph size=" + graph.size());
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(graph.size());
                    DataMap entries = dataMap(last);
                    for (Treatments data : graph) {
                        dataMaps.add(dataMap(data));
                    }
                    Log.d(TAG, "sendWearTreatmentsData entries=" + entries);
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putString("action", "insert");
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_TREATMENTS_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendWearTreatmentsData treatments count = 0");
            } else {
                Log.e(TAG, "sendWearTreatmentsData No connection to wearable available for send treatment!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearTreatmentsData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(Treatments data) {
        DataMap dataMap = new DataMap();
        String json = data.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString("data", json);
        return dataMap;
    }

    public static boolean sendWearBloodTestData(Integer count, long startTime) {
        return sendWearBloodTestData(count, startTime, null);
    }

    public static boolean sendWearBloodTestData(Integer count, long startTime, List<BloodTest> list) {//DataMap
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                BloodTest last = list != null && list.size() > 0 ? list.get(0) : BloodTest.last();
                if (last != null) {
                    Log.d(TAG, "sendWearBloodTestData last.timestamp:" + JoH.dateTimeText(last.timestamp));
                } else {
                    Log.d(TAG, "sendWearBloodTestData no BloodTest exist");
                    return true;
                }
                List<BloodTest> graph;
                if (list != null)
                    graph = list;
                else if (startTime == 0)
                    graph = BloodTest.last(count);
                else
                    graph = BloodTest.latestForGraph(count, startTime);
                if (!graph.isEmpty()) {
                    Log.d(TAG, "sendWearBloodTestData graph size=" + graph.size());
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(graph.size());
                    DataMap entries = dataMap(last);
                    for (BloodTest data : graph) {
                        dataMaps.add(dataMap(data));
                    }
                    Log.d(TAG, "sendWearBloodTestData entries=" + entries);
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_BLOODTEST_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendWearBloodTestData BloodTest count = 0");
            } else {
                Log.e(TAG, "sendWearBloodTestData No connection to wearable available for send BloodTest!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearBloodTestData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(BloodTest data) {
        DataMap dataMap = new DataMap();
        String json = data.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString("data", json);
        return dataMap;
    }

    private boolean sendWearCalibrationData(Integer count) {
        return sendWearCalibrationData(count, 0);
    }

    private boolean sendWearCalibrationData(Integer count, long startTime) {
        return sendWearCalibrationData(count, startTime, null);
    }

    private static boolean sendWearCalibrationData(Integer count, long startTime, List<Calibration> list) {
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                googleApiClient.connect();
            }
            //if ((googleApiClient != null) && (googleApiClient.isConnected())) {
            if (googleApiClient != null) {
                Log.d(TAG, "sendWearCalibrationData");
                final Sensor sensor = Sensor.currentSensor();
                final Calibration last = list != null && list.size() > 0 ? list.get(0) : Calibration.last();

                List<Calibration> latest;
                BgReading lastBgReading = BgReading.last();
                //From BgReading: if (lastBgReading.calibration_flag == true && ((lastBgReading.timestamp + (60000 * 20)) > bgReading.timestamp) && ((lastBgReading.calibration.timestamp + (60000 * 20)) > bgReading.timestamp))
                //From BgReading:     lastBgReading.calibration.rawValueOverride()
                if (list != null)
                    latest = list;
                else if (startTime != 0)
                    latest = Calibration.latestForGraphSensor(count, startTime, Long.MAX_VALUE);
                else if (lastBgReading != null && lastBgReading.calibration != null && lastBgReading.calibration_flag == true) {
                    Log.d(TAG, "sendWearCalibrationData lastBgReading.calibration_flag=" + lastBgReading.calibration_flag + " lastBgReading.timestamp: " + lastBgReading.timestamp + " lastBgReading.calibration.timestamp: " + lastBgReading.calibration.timestamp);
                    latest = Calibration.allForSensor();
                } else {
                    latest = Calibration.latest(count);
                }

                if ((sensor != null) && (last != null) && (latest != null && !latest.isEmpty())) {
                    Log.d(TAG, "sendWearCalibrationData latest count = " + latest.size());
                    final DataMap entries = dataMap(last);
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(latest.size());
                    if (sensor.uuid != null) {
                        for (Calibration calibration : latest) {
                            if ((calibration != null) && (calibration.sensor_uuid != null) && (calibration.sensor_uuid.equals(sensor.uuid))) {
                                dataMaps.add(dataMap(calibration));
                            }
                        }
                    }
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_CALIBRATION_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendWearCalibrationData latest count = 0");
            } else {
                Log.e(TAG, "sendWearCalibrationData No connection to wearable available for send treatment!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearCalibrationData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(Calibration calibration) {//KS
        DataMap dataMap = new DataMap();
        String json = calibration.toS();
        Log.d(TAG, "dataMap Calibration GSON: " + json);
        dataMap.putString("bgs", json); // should be refactored to avoid confusion!
        return dataMap;
    }

    private boolean sendWearBgData(Integer count) {
        return sendWearBgData(count, 0);
    }

    private boolean sendWearBgData(Integer count, long startTime) {
        return sendWearBgData(count, startTime, null);
    }


    private static boolean sendWearBgData(Integer count, long startTime, List<BgReading> list) {
        try {
            if (googleApiClient != null && !googleApiClient.isConnected() && !googleApiClient.isConnecting()) {
                //googleApiConnect();
                googleApiClient.connect();
            }
            if (googleApiClient != null) {
                Log.d(TAG, "sendWearBgData");
                final BgReading last = BgReading.last();
                List<BgReading> latest;
                if (list != null)
                    latest = list;
                else if (startTime != 0)
                    latest = BgReading.latestForGraphSensor(count, startTime, Long.MAX_VALUE);
                else
                    latest = BgReading.latest(count);
                if ((last != null) && (latest != null && !latest.isEmpty())) {
                    final int battery = PowerStateReceiver.getBatteryLevel(xdrip.getAppContext());
                    Log.d(TAG, "sendWearBgData latest count = " + latest.size() + " battery=" + battery);
                    final DataMap entries = dataMap(last);
                    final ArrayList<DataMap> dataMaps = new ArrayList<>(latest.size());
                    final Sensor sensor = Sensor.currentSensor();
                    if ((sensor != null) && (sensor.uuid != null)) {
                        for (BgReading bg : latest) {
                            // if we have no sensor data, typically follower then add one in to pass tests.
                            if (bg != null && bg.sensor_uuid == null) {
                                bg.sensor_uuid = sensor.uuid;
                            }
                            if ((bg != null) && (bg.sensor_uuid != null) && (bg.sensor_uuid.equals(sensor.uuid) && (bg.calibration_uuid != null))) {
                                dataMaps.add(dataMap(bg));
                            } else {
                                if (bg.sensor_uuid == null) {
                                    Log.d(TAG, "sendWearBgData: sensor uuid is null on record to send");
                                }
                                if (bg.calibration_uuid == null) {
                                    Log.d(TAG, "sendWearBgData: calibration uuid is null on record to send");
                                }
                            }
                        }
                    } else {
                        Log.d(TAG, "sendWearBgData Not queueing data due to sensor: " + (sensor != null ? sensor.uuid : "null sensor object"));
                    }
                    entries.putLong("time", new Date().getTime()); // MOST IMPORTANT LINE FOR TIMESTAMP
                    entries.putInt("battery", battery);
                    entries.putDataMapArrayList("entries", dataMaps);
                    new SendToDataLayerThread(WEARABLE_BG_DATA_PATH, googleApiClient).executeOnExecutor(xdrip.executor, entries);
                } else
                    Log.d(TAG, "sendWearBgData lastest count = 0");
            } else {
                Log.e(TAG, "sendWearBgData No connection to wearable available for send BG!");
                return false;
            }
        } catch (NullPointerException e) {
            Log.e(TAG, "Nullpointer exception in sendWearBgData: " + e);
            return false;
        }
        return true;
    }

    private static DataMap dataMap(BgReading bg) {//KS
        DataMap dataMap = new DataMap();
        //KS Fix for calibration_uuid not being set in Calibration.create which updates bgReading to new calibration ln 497
        //if (bg.calibration_flag == true) {
        //    bg.calibration_uuid = bg.calibration.uuid;
        //}
        try {
            dataMap.putString("calibrationUuid", bg.calibration.uuid);
        } catch (NullPointerException e) {
            Log.d(TAG, "Calibration uuid is not set in dataMap(BgReading)");
        }
        String json = bg.toS();
        Log.d(TAG, "dataMap BG GSON: " + json);
        dataMap.putString("bgs", json);
        return dataMap;
    }

    private void initWearData() {
        if (JoH.ratelimit("watch_init_wear_data", 120)) {
            wear_integration = mPrefs.getBoolean("wear_sync", false);
            if (wear_integration) {//is_using_bt
                Log.d(TAG, "***initWearData***");
                sendSensorData();
                sendActiveBtDeviceData();
                sendAlertTypeData();
                if (mPrefs.getBoolean("show_wear_treatments", false)) {
                    initWearTreatments();
                } else {
                    sendWearCalibrationData(sendCalibrationCount);
                    sendWearBgData(sendBgCount);
                }
                sendData();//ensure BgReading.Last is displayed on watch
            } else {
                Log.d(TAG, "Skip initWearData as wear integration is disabled");
            }
        } else
            Log.d(TAG, "Skip initWearData due to exceeding ratelimit");
    }

    private void initWearTreatments() {
        long startTime = new Date().getTime() - (60000 * 60 * 24 * 3);//3 days
        if (JoH.ratelimit("watch_init_wear_treatments_data", 60)) {
            Log.d(TAG, "initWearTreatments clear treatments and re-init from startTime=" + JoH.dateTimeText(startTime));
            sendNotification(CLEAR_TREATMENTS_PATH, "clearTreatments");//this necessary to ensure deleted treatments are cleared
            sendWearTreatmentsData(sendTreatmentsCount, startTime);
            sendWearBloodTestData(sendTreatmentsCount, startTime);
            sendWearCalibrationData(sendTreatmentsCount, startTime);
            sendWearBgData(sendTreatmentsCount, startTime);
        } else
            Log.d(TAG, "Skip initWearTreatments due to exceeding ratelimit");
    }

    private long sgvLevel(double sgv_double, SharedPreferences prefs, BgGraphBuilder bgGB) {
        Double highMark = Double.parseDouble(prefs.getString("highValue", "170"));
        Double lowMark = Double.parseDouble(prefs.getString("lowValue", "70"));
        if (bgGB.unitized(sgv_double) >= highMark) {
            return 1;
        } else if (bgGB.unitized(sgv_double) >= lowMark) {
            return 0;
        } else {
            return -1;
        }
    }

    private double inMgdl(double value, SharedPreferences sPrefs) {
        if (!doMgdl(sPrefs)) {
            return value * Constants.MMOLL_TO_MGDL;
        } else {
            return value;
        }

    }

    static public int readPrefsInt(SharedPreferences prefs, String name, int defaultValue) {
        try {
            return Integer.parseInt(prefs.getString(name, "" + defaultValue));

        } catch (Exception e) {
            return defaultValue;
        }
    }

    @Override
    public void onDestroy() {
        if (googleApiClient != null && googleApiClient.isConnected()) {
            googleApiClient.disconnect();
        }
        if (mPrefs != null && mPreferencesListener != null) {
            mPrefs.unregisterOnSharedPreferenceChangeListener(mPreferencesListener);
        }
    }

    @Override
    public void onConnectionSuspended(int cause) {
    }

    @Override
    public void onConnectionFailed(ConnectionResult connectionResult) {
    }

    public static boolean isEnabled() {
        return Pref.getBooleanDefaultFalse("wear_sync");
    }

    // any change must be replicated on wear
    private static String getVersionID() {
        return BuildConfig.VERSION_NAME;
    }


}

            </pre>
          </div>
        </div>

        
  </div>
  <!-- /.container -->


</body>

</html>

        